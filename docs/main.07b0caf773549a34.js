(self.webpackChunkvetsched=self.webpackChunkvetsched||[]).push([[179],{9177:vt=>{window,vt.exports=function(Le){var g={};function i(_){if(g[_])return g[_].exports;var d=g[_]={i:_,l:!1,exports:{}};return Le[_].call(d.exports,d,d.exports,i),d.l=!0,d.exports}return i.m=Le,i.c=g,i.d=function(_,d,v){i.o(_,d)||Object.defineProperty(_,d,{enumerable:!0,get:v})},i.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},i.t=function(_,d){if(1&d&&(_=i(_)),8&d||4&d&&"object"==typeof _&&_&&_.__esModule)return _;var v=Object.create(null);if(i.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:_}),2&d&&"string"!=typeof _)for(var T in _)i.d(v,T,function(S){return _[S]}.bind(null,T));return v},i.n=function(_){var d=_&&_.__esModule?function(){return _.default}:function(){return _};return i.d(d,"a",d),d},i.o=function(_,d){return Object.prototype.hasOwnProperty.call(_,d)},i.p="",i(i.s=38)}([function(Le,g,i){"use strict";g.__esModule=!0,g.validateConversationType=g.validateUpdateUser=g.validateCreateUser=g.validateMessage=g.validateChatType=g.validateMsgId=g.validateArray=g.validateHideMessagesFromBlockedUsers=g.validateId=g.validateCreateGroup=g.validateJoinGroup=g.validateUpdateGroup=g.validateScope=g.isAudio=g.isVideo=g.isImage=g.getUpdatedSettings=g.getAppSettings=g.getCurrentTime=g.Logger=g.createUidFromJid=g.format=g.getOrdinalSuffix=g.isFalsy=g.isTruthy=g.isObject=g.getJidHost=g.getChatHost=void 0;var _=i(12),d=i(1),v=i(6),T=i(2),S=i(16),p=i(17),m=i(19),M=i(3),y=i(14);function F(L){return null!=L&&("string"==typeof L&&(L=L.trim()),"object"==typeof L&&0===Object.keys(L).length&&(L=void 0)),["",0,"0",!1,null,"null",void 0,"undefined"].includes(L)}function O(L){for(var l=[],Q=1;Q<arguments.length;Q++)l[Q-1]=arguments[Q];return L.split("%s").reduce(function(ne,Re,Z){return ne+Re+(l[Z]||"")},"")}g.getChatHost=function(L){return L[d.APP_SETTINGS.KEYS.CHAT_HOST_OVERRIDE]?L[d.APP_SETTINGS.KEYS.CHAT_HOST_OVERRIDE]:L[d.APP_SETTINGS.KEYS.CHAT_HOST_APP_SPECIFIC]?L[d.APP_SETTINGS.KEYS.CHAT_HOST_APP_SPECIFIC]:L[d.APP_SETTINGS.KEYS.CHAT_HOST]},g.getJidHost=function(L){return L[d.APP_SETTINGS.KEYS.JID_HOST_OVERRIDE]?L[d.APP_SETTINGS.KEYS.JID_HOST_OVERRIDE]:L[d.APP_SETTINGS.KEYS.CHAT_HOST]},g.isObject=function(L){return L instanceof Object&&L.constructor===Object},g.isTruthy=function(L){return[!0,1,"1","true","TRUE"].includes(L)},g.isFalsy=F,g.getOrdinalSuffix=function(L){var l=L%10,Q=L%100;return 1==l&&11!=Q?L+"st":2==l&&12!=Q?L+"nd":3==l&&13!=Q?L+"rd":L+"th"},g.format=O,g.createUidFromJid=function(L){return L.substring(L.lastIndexOf("]")+1,L.lastIndexOf("@"))};var x=function(){function L(){}return L.log=function(l,Q){},L.error=function(l,Q){},L.info=function(l,Q){},L}();function G(){return new Promise(function(L,l){v.makeApiCall("appSettings").then(function(Q){_.LocalStorage.getInstance().set(d.LOCAL_STORE.KEY_APP_SETTINGS,Q.data),Q.data.MODE&&M.CometChat.setMode(Q.data.MODE),L(Q.data)},function(Q){l(new T.CometChatException(Q.error))})})}g.Logger=x,g.getCurrentTime=function(){return(new Date).getTime()},g.getAppSettings=function(){return new Promise(function(L,l){_.LocalStorage.getInstance().get(d.LOCAL_STORE.KEY_APP_SETTINGS).then(function(Q){F(Q)?G().then(function(ne){L(ne)},function(ne){l(ne)}):L(Q)},function(Q){l(Q)})})},g.getUpdatedSettings=G,g.isImage=function(L){var l;return L.type&&L.type.toLowerCase().includes("image")&&(l=!0),l},g.isVideo=function(L){var l;return L.type&&L.type.toLowerCase().includes("video")&&(l=!0),l},g.isAudio=function(L){var l;return L.type&&L.type.toLowerCase().includes("audio")&&(l=!0),l},g.validateScope=function(L){return typeof L!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"SCOPE","SCOPE","Scope"))):F(L)?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID),"SCOPE","SCOPE","scope","scope"))):L!=M.CometChat.GROUP_MEMBER_SCOPE.ADMIN&&L!=M.CometChat.GROUP_MEMBER_SCOPE.MODERATOR&&L!=M.CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT?new T.CometChatException(d.GroupErrors.INVALID_SCOPE):void 0},g.validateUpdateGroup=function(L){return L.hasOwnProperty(d.GroupConstants.KEYS.GUID)?typeof L[d.GroupConstants.KEYS.GUID]!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID"))):F(L[d.GroupConstants.KEYS.GUID])?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID"))):L.hasOwnProperty(d.GroupConstants.KEYS.NAME)&&""===L[d.GroupConstants.KEYS.NAME]?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.EMPTY_STRING),"GROUP_NAME","GROUP_NAME","Group name"))):void 0:new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")))},g.validateJoinGroup=function(L,l,Q){if(typeof L==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.OBJECT){if(!L.hasOwnProperty(d.GroupConstants.KEYS.GUID))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")));if(typeof L[d.GroupConstants.KEYS.GUID]!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(F(L[d.GroupConstants.KEYS.GUID]))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")));if(!L.hasOwnProperty(d.GroupConstants.KEYS.TYPE))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_TYPE","GROUP_TYPE","Group type","Group type")));if(typeof L[d.GroupConstants.KEYS.TYPE]!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(F(L[d.GroupConstants.KEYS.TYPE]))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if(L[d.GroupConstants.KEYS.TYPE].toLowerCase()!=M.CometChat.GROUP_TYPE.PUBLIC&&L[d.GroupConstants.KEYS.TYPE].toLowerCase()!=M.CometChat.GROUP_TYPE.PASSWORD&&L[d.GroupConstants.KEYS.TYPE].toLowerCase()!=M.CometChat.GROUP_TYPE.PROTECTED&&L[d.GroupConstants.KEYS.TYPE].toLowerCase()!=M.CometChat.GROUP_TYPE.PRIVATE)return new T.CometChatException(d.GroupErrors.INVALID_GROUP_TYPE);if(L[d.GroupConstants.KEYS.TYPE].toLowerCase()==M.CometChat.GROUP_TYPE.PASSWORD){if(!L.hasOwnProperty(d.GroupConstants.KEYS.PASSWORD))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.PASSWORD_COMPULSORY),"PASSWORD","PASSWORD")));if(typeof L[d.GroupConstants.KEYS.PASSWORD]!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(F(L[d.GroupConstants.KEYS.PASSWORD]))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}}else{if(void 0!==L){if(typeof L!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(F(L))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")))}if(void 0!==l){if(typeof l!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(F(l))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if(l.toLowerCase()!=M.CometChat.GROUP_TYPE.PUBLIC&&l.toLowerCase()!=M.CometChat.GROUP_TYPE.PASSWORD&&l.toLowerCase()!=M.CometChat.GROUP_TYPE.PROTECTED&&l.toLowerCase()!=M.CometChat.GROUP_TYPE.PRIVATE)return new T.CometChatException(d.GroupErrors.INVALID_GROUP_TYPE);if(l.toLowerCase()==M.CometChat.GROUP_TYPE.PASSWORD){if(typeof Q!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(F(Q))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}}}},g.validateCreateGroup=function(L){if(!L.hasOwnProperty(d.GroupConstants.KEYS.GUID))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")));if(typeof L[d.GroupConstants.KEYS.GUID]!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(F(L[d.GroupConstants.KEYS.GUID]))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")));if(!L.hasOwnProperty(d.GroupConstants.KEYS.NAME))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_NAME","GROUP_NAME","Group name","Group name")));if(typeof L[d.GroupConstants.KEYS.NAME]!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_NAME","GROUP_NAME","Group name")));if(F(L[d.GroupConstants.KEYS.NAME]))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_NAME","GROUP_NAME","name","name")));if(!L.hasOwnProperty(d.GroupConstants.KEYS.TYPE))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_TYPE","GROUP_TYPE","Group type","Group type")));if(typeof L[d.GroupConstants.KEYS.TYPE]!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(F(L[d.GroupConstants.KEYS.TYPE]))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if(L[d.GroupConstants.KEYS.TYPE].toLowerCase()!=M.CometChat.GROUP_TYPE.PUBLIC&&L[d.GroupConstants.KEYS.TYPE].toLowerCase()!=M.CometChat.GROUP_TYPE.PASSWORD&&L[d.GroupConstants.KEYS.TYPE].toLowerCase()!=M.CometChat.GROUP_TYPE.PROTECTED&&L[d.GroupConstants.KEYS.TYPE].toLowerCase()!=M.CometChat.GROUP_TYPE.PRIVATE)return new T.CometChatException(d.GroupErrors.INVALID_GROUP_TYPE);if(L[d.GroupConstants.KEYS.TYPE].toLowerCase()==M.CometChat.GROUP_TYPE.PASSWORD){if(!L.hasOwnProperty(d.GroupConstants.KEYS.PASSWORD))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.PASSWORD_COMPULSORY),"PASSWORD","PASSWORD")));if(typeof L[d.GroupConstants.KEYS.PASSWORD]!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(F(L[d.GroupConstants.KEYS.PASSWORD]))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}if(L.hasOwnProperty(d.GroupConstants.KEYS.TAGS)){if(!Array.isArray(L[d.GroupConstants.KEYS.TAGS]))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_AN_ARRAY),"GROUP_TAGS","GROUP_TAGS","Group tags")));if(0===L[d.GroupConstants.KEYS.TAGS].length)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.EMPTY_ARRAY),"GROUP_TAGS","GROUP_TAGS","Group tags")))}},g.validateId=function(L,l){if("user"===l){if(typeof L!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID")));if(F(L))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID),"UID","UID","UID","UID")))}if("group"===l){if(typeof L!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(F(L))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}},g.validateHideMessagesFromBlockedUsers=function(L){if(typeof L!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_BOOLEAN),"HIDE_MESSAGES_FROM_BLOCKED_USERS","HIDE_MESSAGES_FROM_BLOCKED_USERS","hideMessagesFromBlockedUsers")))},g.validateArray=function(L,l){var Q;return Q="blockUsers"===l?"blockUsers() method accepts an array of users.":"unblockUsers"===l?"unblockUsers() method accepts an array of users.":"groupMembers"===l?"addMembersToGroup() method accepts members list as an array of users.":"addMembersToGroup() method accepts bannedMembers list as an array of users.",typeof L!=d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.OBJECT?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_ARRAY),"USER_LIST","USER_LIST",Q))):Array.isArray(L)?void 0:new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_ARRAY),"USER_LIST","USER_LIST",Q)))},g.validateMsgId=function(L){return isNaN(L)?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_NUMBER),"MESSAGE_ID","MESSAGE_ID","Message Id"))):F(L)?new T.CometChatException(y.ERRORS.PARAMETER_MISSING):void 0},g.validateChatType=function(L){return typeof L!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type"))):F(L)?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID),"RECEIVER_TYPE","RECEIVER_TYPE","receiver type","receiver type"))):L!=d.MessageConstatnts.RECEIVER_TYPE.GROUP&&L!=d.MessageConstatnts.RECEIVER_TYPE.USER?new T.CometChatException(d.MessageErrors.INVALID_RECEIVER_TYPE):void 0},g.validateMessage=function(L){var l=L;if(typeof l.getReceiverId()!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_ID","RECEIVER_ID","Receiver Id")));if(F(l.getReceiverId()))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID),"RECEIVER_ID","RECEIVER_ID","receiver id","receiver id")));if(typeof l.getReceiverType()!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver Type")));if(F(l.getReceiverType()))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID),"RECEIVER_TYPE","RECEIVER_TYPE","receiver type","receiver type")));if(l.getReceiverType()!=d.MessageConstatnts.RECEIVER_TYPE.GROUP&&l.getReceiverType()!=d.MessageConstatnts.RECEIVER_TYPE.USER)return new T.CometChatException(d.MessageErrors.INVALID_RECEIVER_TYPE);if(L instanceof S.TextMessage){var Q=L;if(typeof Q.getText()!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"MESSAGE_TEXT","MESSAGE_TEXT","Message text")));if(""===Q.getText().trim())return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.EMPTY_STRING),"MESSAGE_TEXT","MESSAGE_TEXT","Message text")))}if(L instanceof p.MediaMessage){var ne=L;if(ne.getData()&&ne.getData().hasOwnProperty("attachments"))for(var Re=ne.getAttachments(),Z=0;Z<Re.length;Z++){if(!Re[Z].getExtension())return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MISSING_KEY),"extension","Attachment")));if(!Re[Z].getMimeType())return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MISSING_KEY),"mimeType","Attachment")));if(!Re[Z].getName())return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MISSING_KEY),"name","Attachment")));if(!Re[Z].getUrl())return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MISSING_KEY),"url","Attachment")))}if(ne.hasOwnProperty("files"))for(Z=0;Z<ne.files.length;Z++)if(!(ne.files[Z]instanceof Blob))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_BLOB),"MEDIA_OBJECT","MEDIA_OBJECT","Media object")))}return L instanceof m.CustomMessage&&F(L.getCustomData())?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID),"CUSTOM_DATA","CUSTOM_DATA","custom data","custom data"))):void 0},g.validateCreateUser=function(L){if(!L.hasOwnProperty(d.UserConstants.UID))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.PARAMETER_COMPULSORY),"UID","UID","UID","UID")));if(typeof L[d.UserConstants.UID]!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID")));if(F(L[d.UserConstants.UID]))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_USER_PROPERTY),"UID","UID","UID","UID")));if(!L.hasOwnProperty(d.UserConstants.NAME))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.PARAMETER_COMPULSORY),"USER_NAME","USER_NAME","User name","User name")));if(typeof L[d.UserConstants.NAME]!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"USER_NAME","USER_NAME","User name")));if(F(L[d.UserConstants.NAME]))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_USER_PROPERTY),"USER_NAME","USER_NAME","name","name")));if(L.hasOwnProperty(d.UserConstants.AVATAR)&&""===L[d.UserConstants.AVATAR])return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.EMPTY_STRING),"USER_AVATAR","USER_AVATAR","User avatar")));if(L.hasOwnProperty(d.UserConstants.META_DATA)&&""===L[d.UserConstants.META_DATA])return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.EMPTY_STRING),"USER_METADATA","USER_METADATA","User metadata")));if(L.hasOwnProperty(d.UserConstants.LINK)&&""===L[d.UserConstants.LINK])return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.EMPTY_STRING),"USER_LINK","USER_LINK","User link")));if(L.hasOwnProperty(d.UserConstants.STATUS_MESSAGE)&&""===L[d.UserConstants.STATUS_MESSAGE])return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.EMPTY_STRING),"USER_STATUS_MESSAGE","USER_STATUS_MESSAGE","User status message")));if(L.hasOwnProperty(d.UserConstants.ROLE)&&""===L[d.UserConstants.ROLE])return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.EMPTY_STRING),"USER_ROLE","USER_ROLE","User role")));if(L.hasOwnProperty(d.UserConstants.TAGS)){if(!Array.isArray(L[d.UserConstants.TAGS]))return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_AN_ARRAY),"USER_TAGS","USER_TAGS","User tags")));if(0===L[d.UserConstants.TAGS].length)return new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.EMPTY_ARRAY),"USER_TAGS","USER_TAGS","User tags")))}},g.validateUpdateUser=function(L){return L.hasOwnProperty(d.UserConstants.UID)?typeof L[d.UserConstants.UID]!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID"))):F(L[d.UserConstants.UID])?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID_USER_PROPERTY),"UID","UID","UID","UID"))):L.hasOwnProperty(d.UserConstants.NAME)&&""===L[d.UserConstants.NAME]?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.EMPTY_STRING),"USER_NAME","USER_NAME","User name"))):void 0:new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.PARAMETER_COMPULSORY),"UID","UID","UID","UID")))},g.validateConversationType=function(L){return typeof L!==d.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.MUST_BE_A_STRING),"CONVERSATION_TYPE","CONVERSATION_TYPE","Conversation type"))):F(L)?new T.CometChatException(JSON.parse(O(JSON.stringify(d.GENERAL_ERROR.INVALID),"CONVERSATION_TYPE","CONVERSATION_TYPE","conversation type","conversation type"))):(L=L.toLowerCase())!=M.CometChat.RECEIVER_TYPE.USER&&L!=M.CometChat.RECEIVER_TYPE.GROUP?new T.CometChatException(d.ConversationErrors.INVALID_CONVERSATION_TYPE):void 0}},function(Le,g,i){"use strict";g.__esModule=!0,g.ONLINE_MEMBER_COUNT_API=g.JWT_API=g.ProsodyApiErrors=g.PROSODY_API=g.API_ERROR_CODES=g.SESSION_STORE=g.CONNECTION_STATUS=g.COMMON_UTILITY_CONSTANTS=g.APP_SETTINGS=g.PresenceConstatnts=g.FeatureRestrictionErrors=g.MessageErrors=g.ExtensionErrors=g.ConversationErrors=g.GroupErrors=g.UserErrors=g.ReceiptErrors=g.GENERAL_ERROR=g.PARAMETER_ERROR=g.CALL_ERROR=g.Errors=g.UserConstants=g.GroupMemersConstans=g.GroupConstants=g.CallConstants=g.BlockedUsersConstants=g.ActionConstatnts=g.TYPING_NOTIFICATION=g.MessageCategory=g.ATTACHMENTS_CONSTANTS=g.MessageConstatnts=g.READ_RECEIPTS=g.DELIVERY_RECEIPTS=g.ResponseConstants=g.LOCAL_STORE=g.ANALYTICS=g.WS=g.SDKHeader=g.APPINFO=g.GROUP_MEMBER_SCOPE=g.GroupMemberScope=g.GROUP_TYPE=g.GroupType=g.CALLING_COMPONENT_VERSION=g.DEFAULT_VALUES=g.constants=void 0;var _,d,v,T=i(2);g.constants={DEFAULT_STORE:"cometchat",MSG_VER_PRE:"store-ver-pre",MSG_VER_POST:"store-ver-post"},g.DEFAULT_VALUES={ZERO:0,MSGS_LIMIT:30,MSGS_MAX_LIMIT:100,USERS_LIMIT:30,USERS_MAX_LIMIT:100,GROUPS_LIMIT:30,GROUPS_MAX_LIMIT:100,CONVERSATION_MAX_LIMIT:50,CALL_TIMEOUT:45,DEFAULT_MSG_ID:0,DEFAULT_MAX_TYPING_INDICATOR_LIMIT:5,REGION_DEFAULT:"eu",REGION_DEFAULT_EU:"eu",REGION_DEFAULT_US:"us",REGION_DEFAULT_IN:"in",REGION_DEFAULT_PRIVATE:"private"},g.CALLING_COMPONENT_VERSION=4,(_=g.GroupType||(g.GroupType={})).Public="public",_.Private="private",_.Protected="protected",_.Password="password",g.GROUP_TYPE={PUBLIC:"public",PRIVATE:"private",PROTECTED:"password",PASSWORD:"password"},(d=g.GroupMemberScope||(g.GroupMemberScope={})).Admin="admin",d.Moderator="moderator",d.Member="member",g.GROUP_MEMBER_SCOPE={ADMIN:"admin",MODERATOR:"moderator",PARTICIPANT:"participant"},g.APPINFO={platform:"WEB",sdkVersion:"v3.0.10",apiVersion:"v3.0",sdkVersionWithUnderScore:"3_0_10"},g.SDKHeader={platform:"javascript",sdkVersion:"3.0.10",sdk:"%s@%s"},g.WS={CONVERSATION:{TYPE:{CHAT:"chat",GROUP_CHAT:"groupchat"}}},g.ANALYTICS={analyticsHost:"metrics-%s.cometchat.io",analyticsVersion:"v1"},g.LOCAL_STORE={COMMON_STORE:"common_store",MESSAGE_LISTENERS_LIST:"message_listeners_list",USERS_STORE:"users_store",MESSAGES_STORE:"messages_store",KEYS_STORE:"keys_store",STORE_STRING:"%s:%s",KEY_STRING:"%s/%s",KEY_USER:"user",KEY_APP_SETTINGS:"app_settings",KEY_APP_ID:"appId",KEY_DEVICE_ID:"deviceId",KEY_MESSAGE_LISTENER_LIST:"all"},g.ResponseConstants={RESPONSE_KEYS:{KEY_DATA:"data",KEY_META:"meta",KEY_CURSOR:"cursor",KEY_ACTION:"action",KEY_MESSAGE:"message",KEY_ERROR:"error",KEY_ERROR_DETAILS:"details",KEY_ERROR_CODE:"code",KEY_ERROR_MESSAGE:"message",KEY_AUTH_TOKEN:"authToken",KEY_WS_CHANNEL:"wsChannel",KEY_IDENTITY:"identity",KEY_SERVICE:"identity",KEY_ENTITIES:"entities",KEY_ENTITITY:"entity",KEY_ENTITYTYPE:"entityType",KEY_ATTACHMENTS:"attachments",CODE_REQUEST_OK:200,CODE_BAD_REQUEST:401,UNREAD_UNDELIVERED_KEYS:{ENTITY:"entity",ENTITY_TYPE:"entityType",ENTITY_Id:"entityId",COUNT:"count"},GROUP_MEMBERS_RESPONSE:{SUCCESS:"success",ERROR:"error",MESSAGE:"message"},KEY_ENTITY_TYPE:{USER:"user",GROUP:"group"}}},g.DELIVERY_RECEIPTS={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"type",RECIPIENT:"recipient",MESSAGE_ID:"messageId",RECEIVED:"delivered",DELIVERED_AT:"deliveredAt",ID:"id",TIME:"time",DELIVERED_TO_ME_AT:"deliveredToMeAt"},g.READ_RECEIPTS={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"type",RECIPIENT:"recipient",MESSAGE_ID:"messageId",READ:"read",READ_AT:"readAt",ID:"id",TIME:"time",READ_BY_ME_AT:"readByMeAt"},g.MessageConstatnts={TYPE:{TEXT:"text",MEDIA:"media",IMAGE:"image",VIDEO:"video",AUDIO:"audio",FILE:"file",CUSTOM:"custom"},CATEGORY:{MESSAGE:"message",ACTION:"action",CALL:"call",CUSTOM:"custom"},RECEIVER_TYPE:{USER:"user",GROUP:"group"},KEYS:{ATTATCHMENT:"attatchment",ATTATCHMENTS:"attachments",ACTION:"action",TYPE:"type",DATA:"data",ID:"id",MUID:"muid",SENDER:"sender",RECEIVER:"receiver",RECEIVER_ID:"receiverId",CATEGORY:"category",RECEIVER_TYPE:"receiverType",SENT_AT:"sentAt",STATUS:"status",TEXT:"text",URL:"url",METADATA:"metadata",RECEIPTS:"receipts",MY_RECEIPTS:"myReceipt",CUSTOM_DATA:"customData",CUSTOM_SUB_TYPE:"subType",RESOURCE:"resource"},KNOWN_MEDIA_TYPE:{IMAGE:[],VIDEO:[],AUDIO:[],FILE:[]},PAGINATION:{AFFIX:{APPEND:"append",PREPEND:"prepend"},CURSOR_FILEDS:{ID:"id",SENT_AT:"sentAt"},CURSOR_AFFIX_DEFAULT:"prepend",CURSOR_FIELD_DEFAULT:"sentAt",KEYS:{PER_PAGE:"per_page",CURSOR_AFFIX:"cursorAffix",AFFIX:"affix",CURSOR_FIELD:"cursorField",CURSOR_VALUE:"cursorValue",UID:"uid",SENT_AT:"sentAt",ID:"id",CURRENT_PAGE:"page",UNREAD:"unread",HIDE_MESSAGES_FROM_BLOCKED_USER:"hideMessagesFromBlockedUsers",SEARCH_KEY:"searchKey",ONLY_UPDATES:"onlyUpdates",UPDATED_AT:"updatedAt",CATEGORY:"category",CATEGORIES:"categories",TYPE:"type",TYPES:"types",HIDE_REPLIES:"hideReplies",HIDE_DELETED_MESSAGES:"hideDeleted",WITH_TAGS:"withTags",TAGS:"tags"}}},g.ATTACHMENTS_CONSTANTS={KEYS:{EXTENSION:"extension",MIME_TYPE:"mimeType",NAME:"name",SIZE:"size",URL:"url"}},(v=g.MessageCategory||(g.MessageCategory={})).ACTION="action",v.MESSAGE="message",v.CALL="call",v.CUSTOM="custom",g.TYPING_NOTIFICATION={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"receiverType",META:"metadata",KEYS:{TYPING_NOTIFICATION:"typingNotification",TIMESTAMP:"timestamp"},ACTIONS:{STARTED:"started",ENDED:"ended"}},g.ActionConstatnts={ACTION_SUBJECTS:{ACTION_ON:"on",ACTION_BY:"by",ACTION_FOR:"for"},ACTION_ENTITY_TYPE:{GROUP_USER:"groupuser",USER:"user",GROUP:"group",MESSAGE:"message"},ACTION_KEYS:{ACTION_CREATED:"created",ACTION_UPDATED:"updated",ACTION_DELETED:"deleted",ENTITIES:"entities",ENTITY:"entity",ENTITY_TYPE:"entityType",TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",TYPE_MEMBER_ADDED:"added",ACTION_SCOPE_CHANGED:"scopeChanged",ACTION_TYPE_USER:"user",ACTION_TYPE_GROUP:"group",ACTION_TYPE_GROUP_MEMBER:"groupMember",TYPE_MESSAGE_EDITED:"edited",TYPE_MESSAGE_DELETED:"deleted",ACTION_TYPE_CALL:"call",EXTRAS:"extras",SCOPE:"scope",NEW:"new",OLD:"old"},ActionMessages:{ACTION_GROUP_JOINED_MESSAGE:"%s joined",ACTION_GROUP_LEFT_MESSAGE:"%s left",ACTION_MEMBER_KICKED_MESSAGE:"%s kicked %s",ACTION_MEMBER_BANNED_MESSAGE:"%s banned %s",ACTION_MEMBER_UNBANNED_MESSAGE:"%s unbanned %s",ACTION_MEMBER_INVITED_MESSAGE:"%s banned %s",ACTION_MESSAGE_EDITED_MESSAGE:" Message Edited",ACTION_MESSAGE_DELETED_MESSAGE:"Message Deleted",ACTION_MEMBER_SCOPE_CHANGED:"%s made %s %s",ACTION_MEMBER_ADDED_TO_GROUP:"%s added %s"},ACTION_TYPE:{TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",TYPE_MEMBER_SCOPE_CHANGED:"scopeChanged",TYPE_MESSAGE:"message",TYPE_MESSAGE_EDITED:"edited",TYPE_MESSAGE_DELETED:"deleted",TYPE_MEMBER_ADDED:"added"},ACTIONS:{MEMBER_ADDED:"added",MEMBER_JOINED:"joined",MEMBER_LEFT:"left",MEMBER_KICKED:"kicked",MEMBER_BANNED:"banned",MEMBER_UNBANNED:"unbanned",MEMBER_INVITED:"invited",MEMBER_SCOPE_CHANGED:"scopeChanged",MESSAGE_EDITED:"edited",MESSSAGE_DELETED:"deleted",TYPE_USER:"user",TYPE_GROUP:"group",TYPE_GROUP_MEMBER:"groupMember"}},g.BlockedUsersConstants={REQUEST_KEYS:{DIRECTIONS:{BOTH:"both",HAS_BLOCKED_ME:"hasBlockedMe",BLOCKED_BY_ME:"blockedByMe"}}},g.CallConstants={CALL_MODE:{DEFAULT:"DEFAULT",SPOTLIGHT:"SPOTLIGHT",SINGLE:"SINGLE",TILE:"TILE",GRID:"GRID"},CALL_TYPE:{AUDIO:"audio",VIDEO:"video"},RECEIVER_TYPE_GROUP:"group",RECEIVER_TYPE_USER:"user",CALL_KEYS:{CALL_DATA:"data",CALL_ID:"id",CALL_SESSION_ID:"sessionid",CALL_RECEIVER:"receiver",CALL_SENDER:"sender",CALL_RECEIVER_TYPE:"receiverType",CALL_STATUS:"status",CALL_TYPE:"type",CALL_INITIATED_AT:"initiatedAt",CALL_JOINED_AT:"joinedAt",CALL_LEFT_AT:"leftAt",CALL_METADATA:"metadata",CALL_ENTITIES:"entities",CALL_ENTITY_TYPE:"entityType",CALL_ENTITY:"entity",CALL_ENTITY_USER:"user",CALL_ENTITY_GROUP:"group"},CALL_STATUS:{INITIATED:"initiated",ONGOING:"ongoing",UNANSWERED:"unanswered",REJECTED:"rejected",BUSY:"busy",CANCELLED:"cancelled",ENDED:"ended"},AUDIO_INPUT_DEVICES:"audioInputDevices",AUDIO_OUTPUT_DEVICES:"audioOutputDevices",VIDEO_INPUT_DEVICES:"videoInputDevices",POST_MESSAGES:{TYPES:{ACTION_MESSAGE:"cometchat_action_message",HANGUP:"hangup",COMETCHAT_RTC_SETTINGS:"cometchat_rtc_settings"},ACTIONS:{USER_JOINED:"onUserJoined",USER_LEFT:"onUserLeft",USER_LIST_CHANGED:"onUserListChanged",INITIAL_DEVICE_LIST:"initialDeviceList",DEVICE_CHANGE:"onDeviceChange",LOAD:"LOAD",CHANGE_AUDIO_INPUT:"changeAudioInput",CHANGE_AUDIO_OUTPUT:"changeAudioOutput",CHANGE_VIDEO_INPUT:"changeVideoInput",MUTE_AUDIO:"muteAudio",UNMUTE_AUDIO:"unMuteAudio",PAUSE_VIDEO:"pauseVideo",UNPAUSE_VIDEO:"unPauseVideo",SWITCH_MODE:"switchMode",START_SCREENSHARE:"startScreenShare",STOP_SCREENSHARE:"stopScreenShare",END_CALL:"endCall",START_RECORDING:"startRecording",STOP_RECORDING:"stopRecording",RECORDING_TOGGLED:"onRecordingToggled",USER_MUTED:"onUserMuted",SCREEN_SHARE_STARTED:"SCREEN_SHARE_STARTED",SCREEN_SHARE_STOPPED:"SCREEN_SHARE_ENDED",SWITCH_TO_VIDEO_CALL:"switchedToVideo",SWITCHED_TO_VIDEO_CALL:"onCallSwitchedToVideo",OPEN_VIRTUAL_BACKGROUND:"openVirtualBackgroundMenu",SET_BACKGROUND_BLUR:"setBackgroundBlur",SET_BACKGROUND_IMAGE:"setBackgroundImage"}},MEDIA_DEVICE:{ID:"id",NAME:"name",ACTIVE:"active"}},g.GroupConstants={KEYS:{NAME:"name",GUID:"guid",TYPE:"type",PASSWORD:"password",ICON:"icon",DESCRIPTION:"description",OWNER:"owner",METADATA:"metadata",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",HAS_JOINED:"hasJoined",WS_CHANNEL:"wsChannel",TAGS:"tags"}},g.GroupMemersConstans={KEYS:{SCOPE:"scope",UID:"uid",GUID:"guid",USER:"user",NAME:"name"}},g.UserConstants={UID:"uid",NAME:"name",AUTH_TOKEN:"authToken",AVATAR:"avatar",LAST_ACTIVE_AT:"lastActiveAt",LINK:"link",META_DATA:"metadata",ROLE:"role",STATUS:"status",STATUS_MESSAGE:"statusMessage",USER_NAME:"user_name",TAGS:"tags",SORT_BY:{NAME:"name",STATUS:"status"},SORT_ORDER:{ASCENDING:"asc",DESCENDING:"desc"}},g.Errors={ERROR_IO_EXCEPTION:"ERROR_IO_EXCEPTION",ERROR_JSON_EXCEPTION:"ERROR_JSON_EXCEPTION",ERROR_PASSWORD_MISSING:"ERROR_PASSWORD_MISSING",ERROR_LIMIT_EXCEEDED:"ERROR_LIMIT_EXCEEDED",ERROR_USER_NOT_LOGGED_IN:"ERROR_USER_NOT_LOGGED_IN",ERROR_INVALID_GUID:"ERROR_INVALID_GUID",ERROR_PASSWORD_MISSING_MESSAGE:"Password is mandatory for a password group",ERROR_LIMIT_EXCEEDED_MESSAGE:"Limit Exceeded Max limit of %s",ERROR_USER_NOT_LOGGED_IN_MESSAGE:"Please log in to CometChat before calling this method",ERROR_INVALID_GUID_MESSAGE:"Please provide a valid GUID",ERROR_DEFAULT_MESSAGE:"Something went wrong",ERR_SETTINGS_HASH_OUTDATED:"ERR_SETTINGS_HASH_OUTDATED",ERR_NO_AUTH:"ERR_NO_AUTH"},g.CALL_ERROR={CALL_ALREADY_INITIATED:{code:"CALL_ALREADY_INITIATED",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}},ERROR_IN_CALLING:{code:"CALL_IN_PROGRESS",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}},CANNOT_ACCEPT_CALL:{code:"CALL_IN_PROGRESS",name:"CALL_IN_PROGRESS",message:"There is already a call in progress",details:{}},NOT_INITIALIZED:{code:"NOT_INITIALIZED",name:"NOT_INITIALIZED",message:"Please call the CometChat.init() method before calling any other methods related to CometChat.",details:{}},NOT_LOGGED_IN:{code:"NOT_LOGGED_IN",name:"NOT_LOGGED_IN",message:"Please login before starting a call.",details:{}},SESSION_ID_REQUIRED:{code:"SESSION_ID_REQUIRED",name:"SESSION_ID_REQUIRED",message:"Please make sure you are passing correct session id.",details:{}},CALL_SETTINGS_REQUIRED:{code:"CALL_SETTINGS_REQUIRED",name:"CALL_SETTINGS_REQUIRED",message:"Please make sure you are passing the call settings object.",details:{}},JWT_NOT_FOUND:{code:"JWT_NOT_FOUND",name:"JWT_NOT_FOUND",message:"There was some issue while fetching JWT from API.",details:{}}},g.PARAMETER_ERROR={PARAMETER_REQUIRED:{code:"%s_NOT_PROVIDED",name:"%s_NOT_PROVIDED",message:"please provide the %s.",details:{}}},g.GENERAL_ERROR={MUST_BE_A_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a string.",details:{}},MUST_BE_A_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a number.",details:{}},MUST_BE_A_OBJECT:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a object.",details:{}},MUST_BE_AN_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be an array.",details:{}},MUST_BE_A_BOOLEAN:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a boolean.",details:{}},MUST_BE_A_BLOB:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a blob.",details:{}},INVALID:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s. Please provide a valid %s.",details:{}},METHOD_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"%s is required.",details:{}},LIMIT_EXCEEDED:{code:"ERROR_%s_EXCEEDED",name:"ERROR_%s_EXCEEDED",message:"Limit exceeded max limit of %s.",details:{}},MUST_BE_A_POSITIVE_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a postive integer greater than 0.",details:{}},INVALID_MEDIA_FILE:{code:"INVALID_%s",name:"INVALID_%s",message:"The message type does not match the file's mime type.",details:{}},EMPTY_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s cannot be empty.",details:{}},MISSING_KEY:{code:"MISSING_KEY",name:"MISSING_KEY",message:"The key %s is missing from the %s object.",details:{}},EMPTY_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"The parameter %s should be an array and it cannot be empty.",details:{}},INVALID_SEARCH_KEYWORD:{code:"INVALID_SEARCH_KEYWORD",name:"INVALID_SEARCH_KEYWORD",message:"Invalid search keyword. Please provide a valid search keyword.",details:{}},INVALID_GROUP_PROPERTY:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s provided for the group. Please provide a valid %s.",details:{}},INVALID_USER_PROPERTY:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s provided for a user. Please provide a valid %s.",details:{}},PARAMETER_MUST_BE_A_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a number.",details:{}},PARAMETER_MUST_BE_AN_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as an array.",details:{}},PARAMETER_MUST_BE_A_BOOLEAN:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a boolean.",details:{}},PARAMETER_MUST_BE_A_POSITIVE_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter to be a positive number greater than 0.",details:{}},PARAMETER_MUST_BE_A_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a string.",details:{}},PARAMETER_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"%s cannot be blank. Please provide a valid %s.",details:{}},PASSWORD_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"Password is mandatory for a password group.",details:{}},INVALID_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s",details:{}}},g.ReceiptErrors={MISSING_PARAMETERS:{code:"MISSING_PARAMETERS",name:"MISSING_PARAMETERS",message:"Expected 4 parameters received 3",details:{}},INVALID_PARAMETER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s",details:{}},NO_WEBSOCKET_CONNECTION:{code:"NO_WEBSOCKET_CONNECTION",name:"NO_WEBSOCKET_CONNECTION",message:"Connection to our Websockets server is broken. Please retry after some time.",details:{}},RECEIPTS_TEMPORARILY_BLOCKED:{code:"RECEIPTS_TEMPORARILY_BLOCKED",name:"RECEIPTS_TEMPORARILY_BLOCKED",message:"Due to high load. Receipts have been blocked for your app.",details:{}},UNKNOWN_ERROR_OCCURRED:{code:"UNKNOWN_ERROR_OCCURRED",name:"UNKNOWN_ERROR_OCCURRED",message:"Unknown error occurred while marking a message as read.",details:{}}},g.UserErrors={INVALID_STATUS:new T.CometChatException({code:"INVALID_STATUS_VALUE",name:"INVALID_STATUS_VALUE",message:"The `status` parameter accepts only `online` or `offline`.",details:""}),INVALID_DIRECTION:new T.CometChatException({code:"INVALID_DIRECTION_VALUE",name:"INVALID_DIRECTION_VALUE",message:"The `direction` parameter accepts only `both`, `blockeyByMe` or `hasBlockedMe`.",details:""}),USER_NOT_LOGGED_IN:new T.CometChatException({code:"USER_NOT_LOGGED_IN",name:"USER_NOT_LOGGED_IN",message:"Please log in to CometChat before calling this method.",details:""})},g.GroupErrors={NOT_A_GROUP:new T.CometChatException({code:"NOT_A_GROUP",message:"Please use group class to construct a new group."}),INVALID_SCOPE:new T.CometChatException({code:"INVALID_SCOPE_VALUE",name:"INVALID_SCOPE_VALUE",message:"Scope can be `admin`, `moderator` or `participant`.",details:""}),INVALID_GROUP_TYPE:new T.CometChatException({code:"INVALID_GROUP_TYPE",name:"INVALID_GROUP_TYPE",message:"Group type can be `public`, `private`, `protected` or `password`.",details:""})},g.ConversationErrors={INVALID_CONVERSATION_TYPE:{code:"INVALID_CONVERSATION_TYPE",name:"INVALID_CONVERSATION_TYPE",message:"Conversation type can be `user` or `group`.",details:"Please check the value of conversationType."},CONVERSATION_NOT_FOUND:{code:"CONVERSATION_NOT_FOUND",name:"CONVERSATION_NOT_FOUND",message:"Conversation for %s %s not found.",details:"Please check the value of conversationWith and conversationType."}},g.ExtensionErrors={INVALID_EXTENSION:{code:"ERROR_INVALID_EXTENSION",name:"ERROR_INVALID_EXTENSION",message:"The provided extension cannot be null or empty. Please provide a valid extension.",details:{}},EXTENSION_NOT_FOUND:{code:"ERROR_EXTENSION_NOT_FOUND",name:"ERROR_EXTENSION_NOT_FOUND",message:"The provided extension could not be found.",details:{}}},g.MessageErrors={INVALID_RECEIVER_TYPE:{code:"INVALID_RECEIVER_TYPE",name:"INVALID_RECEIVER_TYPE",message:"Receiver type can be `user` or `group`.",details:"Please check the value of receiverType."}},g.FeatureRestrictionErrors={INVALID_FEATURE:{code:"ERROR_INVALID_FEATURE",name:"ERROR_INVALID_FEATURE",message:"The provided feature cannot be null or empty. Please provide a valid feature.",details:{}},FEATURE_NOT_FOUND:{code:"ERROR_FEATURE_NOT_FOUND",name:"ERROR_FEATURE_NOT_FOUND",message:"The provided feature could not be found.",details:{}}},g.PresenceConstatnts={STATUS:{ONLINE:"online",AVAILABLE:"available",OFFLINE:"offline",JOINED:"JOINED",LEFT:"LEFT"}},g.APP_SETTINGS={APP_SETTINGS:"app_settings",KEYS:{CHAT_HOST:"CHAT_HOST",CHAT_USE_SSL:"CHAT_USE_SSL",GROUP_SERVICE:"GROUP_SERVICE",CALL_SERVICE:"CALL_SERVICE",CHAT_WS_PORT:"CHAT_WS_PORT",CHAT_WSS_PORT:"CHAT_WSS_PORT",CHAT_HTTP_BIND_PORT:"CHAT_HTTP_BIND_PORT",CHAT_HTTPS_BIND_PORT:"CHAT_HTTPS_BIND_PORT",ADMIN_API_HOST:"ADMIN_API_HOST",CLIENT_API_HOST:"CLIENT_API_HOST",WEBRTC_HOST:"WEBRTC_HOST",WEBRTC_USE_SSL:"WEBRTC_USE_SSL",WEBRTC_WS_PORT:"WEBRTC_WS_PORT",WEBRTC_WSS_PORT:"WEBRTC_WSS_PORT",WEBRTC_HTTP_BIND_PORT:"WEBRTC_HTTP_BIND_PORT",WEBRTC_HTTPS_BIND_PORT:"WEBRTC_HTTPS_BIND_PORT",EXTENSION_LIST:"extensions",EXTENSION_KEYS:{ID:"id",NAME:"name"},JID_HOST_OVERRIDE:"JID_HOST_OVERRIDE",CHAT_HOST_OVERRIDE:"CHAT_HOST_OVERRIDE",CHAT_HOST_APP_SPECIFIC:"CHAT_HOST_APP_SPECIFIC",MODE:"MODE",CONNECTION_TYPE:"connection_type",DEFAULT_MODE:"DEFAULT",LIMITED_TRANSIENT:"LIMITED_TRANSIENT",NO_TRANSIENT:"NO_TRANSIENT",POLLING_ENABLED:"POLLING_ENABLED",POLLING_INTERVAL:"POLLING_INTERVAL",ANALYTICS_PING_DISABLED:"ANALYTICS_PING_DISABLED",ANALYTICS_HOST:"ANALYTICS_HOST",ANALYTICS_VERSION:"ANALYTICS_VERSION",ANALYTICS_USE_SSL:"ANALYTICS_USE_SSL",SETTINGS_HASH:"settingsHash",SETTINGS_HASH_RECEIVED_AT:"settingsHashReceivedAt",DENY_FALLBACK_TO_POLLING:"DENY_FALLBACK_TO_POLLING",APP_VERSION:"APP_VERSION"}},g.COMMON_UTILITY_CONSTANTS={TYPE_CONSTANTS:{BOOLEAN:"boolean",STRING:"string",OBJECT:"object",NUMBER:"number"}},g.CONNECTION_STATUS={CONNECTED:"connected",CONNECTING:"connecting",DISCONNECTED:"disconnected",FEATURE_THROTTLED:"featureThrottled"},g.SESSION_STORE={SESSION_ID:"sessionId"},g.API_ERROR_CODES={AUTH_ERR_AUTH_TOKEN_NOT_FOUND:"AUTH_ERR_AUTH_TOKEN_NOT_FOUND"},g.PROSODY_API={DOMAIN_PREFIX:"xmpp",PATH:{ROOM:"room",ROOM_SIZE:"room-size",SESSIONS:"sessions"},RESPONSE:{PARTICIPANTS:"participants"},QUERY_PARAMETERS:{DOMAIN:"domain",ROOM:"room"}},g.ProsodyApiErrors={INVALID_SESSIONID:{code:"ERROR_INVALID_SESSIONID",name:"ERROR_INVALID_SESSIONID",message:"The provided sessionId cannot be null or empty. Please provide a valid sessionId.",details:""},INVALID_TYPE:{code:"ERROR_INVALID_TYPE",name:"ERROR_INVALID_TYPE",message:"The provided type cannot be null or empty. Please provide a valid type.",details:""}},g.JWT_API={KEYS:{PASSTHROUGH:"passthrough",EXPAND:"expand"}},g.ONLINE_MEMBER_COUNT_API={ENDPOINTS:{GET_ONLINE_MEMBER_COUNT:"api/v1/online-members"},RESPONSE:{ONLINE_USERS_COUNT:"onlineUsersCount",GROUPS:"groups"},ERRORS:{INVALID_GROUPLIST:{code:"ERROR_INVALID_GROUPLIST",name:"ERROR_INVALID_GROUPLIST",message:"Grouplist cannot be null or empty.",details:""}}}},function(Le,g,i){"use strict";g.__esModule=!0,g.CometChatException=void 0,g.CometChatException=function(d){null!=d.code&&""!==d.code&&(this.code=d.code),null!=d.name&&""!==d.name&&(this.name=d.name),null!=d.message&&""!==d.message&&(this.message=d.message),null!=d.details&&""!==d.details&&(this.details=d.details)}},function(Le,g,i){"use strict";var _=this&&this.__assign||function(){return(_=Object.assign||function(D){for(var P,ee=1,ue=arguments.length;ee<ue;ee++)for(var te in P=arguments[ee])Object.prototype.hasOwnProperty.call(P,te)&&(D[te]=P[te]);return D}).apply(this,arguments)},d=this&&this.__awaiter||function(D,P,ee,ue){return new(ee||(ee=Promise))(function(te,ce){function W(U){try{$(ue.next(U))}catch(Y){ce(Y)}}function H(U){try{$(ue.throw(U))}catch(Y){ce(Y)}}function $(U){var Y;U.done?te(U.value):(Y=U.value,Y instanceof ee?Y:new ee(function(z){z(Y)})).then(W,H)}$((ue=ue.apply(D,P||[])).next())})},v=this&&this.__generator||function(D,P){var ee,ue,te,ce,W={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return ce={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(ce[Symbol.iterator]=function(){return this}),ce;function H($){return function(U){return function(Y){if(ee)throw new TypeError("Generator is already executing.");for(;W;)try{if(ee=1,ue&&(te=2&Y[0]?ue.return:Y[0]?ue.throw||((te=ue.return)&&te.call(ue),0):ue.next)&&!(te=te.call(ue,Y[1])).done)return te;switch(ue=0,te&&(Y=[2&Y[0],te.value]),Y[0]){case 0:case 1:te=Y;break;case 4:return W.label++,{value:Y[1],done:!1};case 5:W.label++,ue=Y[1],Y=[0];continue;case 7:Y=W.ops.pop(),W.trys.pop();continue;default:if(!(te=0<(te=W.trys).length&&te[te.length-1])&&(6===Y[0]||2===Y[0])){W=0;continue}if(3===Y[0]&&(!te||Y[1]>te[0]&&Y[1]<te[3])){W.label=Y[1];break}if(6===Y[0]&&W.label<te[1]){W.label=te[1],te=Y;break}if(te&&W.label<te[2]){W.label=te[2],W.ops.push(Y);break}te[2]&&W.ops.pop(),W.trys.pop();continue}Y=P.call(D,W)}catch(z){Y=[6,z],ue=0}finally{ee=te=0}if(5&Y[0])throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}([$,U])}}};g.__esModule=!0,g.CometChat=void 0;var T=i(28),S=i(0),p=i(2),m=i(6),M=i(4),y=i(12),F=i(17),O=i(7),x=i(16),G=i(10),L=i(11),l=i(1),Q=i(8),ne=i(15),Re=i(30),Z=i(23),oe=i(21),ie=i(31),pe=i(14),De=i(20),ae=i(40),Se=i(41),Be=i(42),Ce=i(43),re=i(45),le=i(46),X=i(25),Me=i(26),Fe=i(36),qe=i(19),st=i(34),mt=i(48),Qe=i(49),ht=i(50),je=i(35),et=i(24),be=i(18),Ye=i(51),at=i(52),ft=i(53),Tt=i(37),En=i(5),Wn=i(62),bn=i(29),Jt=i(32),Nn=i(27),mn=i(63),Ft=ft.WSConnectionHelper.getInstance(),Wt=Tt.ListenerHandlers.getInstance(),_t=function(){function D(P){try{D.appId=P,D.localStorage=y.LocalStorage.getInstance(),D.keyStore=Re.KeyStore.getInstance()}catch(ee){S.Logger.error("CometChat: constructor",ee)}}return D.setAuthToken=function(P){try{D.authToken=P}catch(ee){S.Logger.error("CometChat: setAuthToken",ee)}},D.prototype.getAuthToken=function(){try{return D.authToken}catch(P){S.Logger.error("CometChat: getAuthToken",P)}},D.getAppId=function(){try{return D.appId}catch(P){S.Logger.error("CometChat: getAppId",P)}},D.prototype.getApiKey=function(){try{return D.apiKey}catch(P){S.Logger.error("CometChat: getApiKey",P)}},D.getMode=function(){try{return D.mode}catch(P){S.Logger.error("CometChat: getMode",P)}},D.setMode=function(P){try{D.mode=P}catch(ee){S.Logger.error("CometChat: getMode",ee)}},D.getSessionId=function(){try{return D.sessionId}catch(P){S.Logger.error("CometChat: getSessionId",P)}},D.onStorageEvent=function(P){if(document&&!document.hasFocus()){var ee=D.appId+":common_store/user";P.key===ee&&null===P.newValue&&(D.authToken=void 0,D.didAnalyticsPingStart()&&D.clearAnalyticsPingTimer(),Ft.WSLogout(),D.pushToLoginListener("","Logout_Success")),P.key===ee&&null===P.oldValue&&y.LocalStorage.getInstance().get("user").then(function(ue){ue&&(D.user=new M.Me(ue),D.setAuthToken(D.user.getAuthToken()),ue.jwt&&(D.jwt=ue.jwt),y.LocalStorage.getInstance().get("app_settings").then(function(te){if(te){if(te.hasOwnProperty(l.APP_SETTINGS.KEYS.APP_VERSION)){var ce=parseInt(l.APPINFO.sdkVersion.charAt(1));te[l.APP_SETTINGS.KEYS.APP_VERSION]<ce&&(D.appSettings.shouldAutoEstablishSocketConnection()||(D.shouldConnectToWS=!1),D.getInstance().internalRestart(D.user.getAuthToken()))}else D.appSettings.shouldAutoEstablishSocketConnection()||(D.shouldConnectToWS=!1),D.getInstance().internalRestart(D.user.getAuthToken());if(te[l.APP_SETTINGS.KEYS.MODE]&&(D.mode=te[l.APP_SETTINGS.KEYS.MODE]),te[l.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(D.settingsHash=te[l.APP_SETTINGS.KEYS.SETTINGS_HASH]),te[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(D.settingsHashReceivedAt=te[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),te[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]&&(D.analyticsHost=te[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]),te[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]&&(D.analyticsVersion=te[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]),D.isAnalyticsDisabled=!!te[l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED],D.didAnalyticsPingStart()||D.isAnalyticsDisabled||!D.appSettings.shouldAutoEstablishSocketConnection()||(D.pingAnalytics(),D.startAnalyticsPingTimer()),D.getConnectionStatus()!==l.CONNECTION_STATUS.CONNECTED){var W=new M.User(D.user);D.pushToLoginListener(W,"Login_Success"),D.appSettings.shouldAutoEstablishSocketConnection()&&D.WSLogin(D.user)}}}))})}},D.beforeUnload=function(P){var ee=D.getDataFromSessionStorage(l.SESSION_STORE.SESSION_ID);D.removeDataFromSessionStorage(l.SESSION_STORE.SESSION_ID),y.LocalStorage.getInstance().set(l.SESSION_STORE.SESSION_ID,ee)},D.didAnalyticsPingStart=function(){try{return D.isAnalyticsPingStarted}catch(P){S.Logger.error("CometChat: didAnalyticsPingStart",P)}},D.getDataFromSessionStorage=function(P){if(window.sessionStorage)return window.sessionStorage.getItem(P)},D.addDataToSessionStorage=function(P,ee){window.sessionStorage&&window.sessionStorage.setItem(P,ee)},D.removeDataFromSessionStorage=function(P){window.sessionStorage&&window.sessionStorage.removeItem(P)},D.init=function(P,ee){var ue=this;return void 0===P&&(P=""),new Promise(function(te,ce){try{"object"==typeof P&&(P.hasOwnProperty("appId")&&(P=P.appId),P.hasOwnProperty("appSettings")&&(ee=P.appSettings)),S.isFalsy(ee)?ee=(new Qe.AppSettingsBuilder).setRegion(Qe.AppSettings.REGION_EU).build():ee.getRegion()==Qe.AppSettings.REGION_PRIVATE&&(ee.region=P),ue.appSettings=ee,S.isFalsy(P)?ce(new p.CometChatException(pe.INIT_ERROR.NO_APP_ID)):(window.addEventListener&&(window.addEventListener("storage",D.onStorageEvent,!1),window.addEventListener("beforeunload",D.beforeUnload,!1)),ue.initialzed=!0,D.appId=P,D.getInstance(P),y.LocalStorage.getInstance().get(l.SESSION_STORE.SESSION_ID).then(function(W){null==W||null==W?(D.sessionId=l.APPINFO.platform+"-"+l.APPINFO.sdkVersionWithUnderScore+"-"+mn()+"-"+(new Date).getTime(),D.addDataToSessionStorage(l.SESSION_STORE.SESSION_ID,D.getSessionId()),y.LocalStorage.getInstance().remove(l.SESSION_STORE.SESSION_ID)):(D.sessionId=W.toLocaleString(),y.LocalStorage.getInstance().remove(l.SESSION_STORE.SESSION_ID),D.addDataToSessionStorage(l.SESSION_STORE.SESSION_ID,D.getSessionId())),y.LocalStorage.getInstance().get(l.LOCAL_STORE.KEY_APP_ID).then(function(H){if(null==H||null==H)D.appId=P,D.getInstance(P),y.LocalStorage.getInstance().set(l.LOCAL_STORE.KEY_APP_ID,P),te(!0);else{var $=H.toLocaleString();$===P?(D.appId=$,D.getInstance($),y.LocalStorage.getInstance().get(l.LOCAL_STORE.KEY_USER).then(function(U){U?(D.isLoggedOut=!1,D.user=new M.Me(U),D.setAuthToken(D.user.getAuthToken()),U.jwt&&(D.jwt=U.jwt),te(!0),y.LocalStorage.getInstance().get(l.LOCAL_STORE.KEY_APP_SETTINGS).then(function(Y){if(Y){if(Y.hasOwnProperty(l.APP_SETTINGS.KEYS.APP_VERSION)){var z=parseInt(l.APPINFO.sdkVersion.charAt(1));Y[l.APP_SETTINGS.KEYS.APP_VERSION]<z&&(ue.appSettings.shouldAutoEstablishSocketConnection()||(D.shouldConnectToWS=!1),D.getInstance().internalRestart(D.user.getAuthToken()))}else ue.appSettings.shouldAutoEstablishSocketConnection()||(D.shouldConnectToWS=!1),D.getInstance().internalRestart(D.user.getAuthToken());Y[l.APP_SETTINGS.KEYS.MODE]&&(D.mode=Y[l.APP_SETTINGS.KEYS.MODE]),Y[l.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(D.settingsHash=Y[l.APP_SETTINGS.KEYS.SETTINGS_HASH]),Y[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(D.settingsHashReceivedAt=Y[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),Y[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]&&(D.analyticsHost=Y[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]),Y[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]&&(D.analyticsVersion=Y[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]),D.isAnalyticsDisabled=!!Y[l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED],D.didAnalyticsPingStart()||D.isAnalyticsDisabled||!ue.appSettings.shouldAutoEstablishSocketConnection()||(D.pingAnalytics(),D.startAnalyticsPingTimer()),Ft&&!Ft.connection&&ue.appSettings.shouldAutoEstablishSocketConnection()&&(D.isConnectingFromInit=!0,D.WSLogin(D.user))}})):te(!0)})):ue.clearCache().then(function(){D.apiKey=void 0,D.user=void 0,D.authToken=void 0,D.cometChat=void 0,D.mode=void 0,Ft.WSLogout(),D.appId=P,y.LocalStorage.getInstance().set(l.LOCAL_STORE.KEY_APP_ID,P),D.getInstance(P),te(!0)})}Re.KeyStore.getInstance().get(l.LOCAL_STORE.KEY_DEVICE_ID).then(function(U){if(null==U){var Y=mn(),z=(new Date).getTime(),_e=P+"_"+Y+"_"+z;Re.KeyStore.getInstance().set(l.LOCAL_STORE.KEY_DEVICE_ID,_e)}})})}))}catch(W){ce(new p.CometChatException(W))}})},D.isInitialized=function(){try{return this.initialzed}catch(P){S.Logger.error("CometChat: isInitialized",P)}},D.getInstance=function(P){try{return this.cometChat||(this.cometChat=new D(P)),this.cometChat}catch(ee){S.Logger.error("CometChat: getInstance",ee)}},D.registerTokenForPushNotification=function(P,ee){var ue=this;return new Promise(function(te,ce){try{D.keyStore.get(l.LOCAL_STORE.KEY_DEVICE_ID).then(function(W){var H="",$=W,U=l.APPINFO.platform,Y=l.APPINFO.sdkVersion,z=l.APPINFO.apiVersion;if(navigator&&(H=navigator.userAgent),null==$){var _e=mn(),Ee=(new Date).getTime();D.keyStore.set(l.LOCAL_STORE.KEY_DEVICE_ID,$=ue.appId+"_"+_e+"_"+Ee)}m.makeApiCall("updateMyDetails",{},{platform:U,deviceId:$,appInfo:{version:Y,apiVersion:z,userAgent:H,pushNotification:{fcmDeviceToken:P,settings:ee}}},!1).then(function(Ae){te("Token Registration successful")},function(Ae){ce(new p.CometChatException(Ae.error))}).catch(function(Ae){ce(new p.CometChatException(Ae))})})}catch(W){ce(new p.CometChatException(W))}})},D.pushToLoginListener=function(P,ee){Wt.loginHandlers.map(function(ue){try{if(ue._eventListener)switch(ee){case"Login_Success":S.isFalsy(ue._eventListener.loginSuccess)||ue._eventListener.loginSuccess(P);break;case"Login_Failure":S.isFalsy(ue._eventListener.loginFailure)||ue._eventListener.loginFailure(P);break;case"Logout_Success":S.isFalsy(ue._eventListener.logoutSuccess)||ue._eventListener.logoutSuccess()}}catch(te){S.Logger.error("ConnectionHandlers: onConnected Status",te)}})},D.login=function(){for(var P=this,ee=[],ue=0;ue<arguments.length;ue++)ee[ue]=arguments[ue];return new Promise(function(te,ce){try{if(D.loginInProgress){D.isLoggedOut=!0;var W=new p.CometChatException(pe.LOGIN_ERROR.REQUEST_IN_PROGRESS);return ce(W)}D.loginInProgress=!0,D.isConnectingFromInit=!1,D.localStorage.get(l.LOCAL_STORE.KEY_APP_ID).then(function(H){if(null==H||null==H){var $=new p.CometChatException(pe.LOGIN_ERROR.NOT_INITIALIZED);return D.internalRestart||D.pushToLoginListener($,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce($)}var U=H.toLocaleString();if(P.getInstance(U),D.appId=U,y.LocalStorage.getInstance().set(l.LOCAL_STORE.KEY_APP_ID,U),"object"==typeof ee[0]){var Y=ee[0];ee[0].hasOwnProperty("authToken")?ee[0]=Y.authToken:ee[0].hasOwnProperty("username")&&ee[0].hasOwnProperty("apiKey")&&(ee[0]=Y.username,ee[1]=Y.apiKey)}if(2==ee.length){if(S.isFalsy(ee[0])||S.isFalsy(ee[1]))return $=new p.CometChatException(pe.ERRORS.PARAMETER_MISSING),D.internalRestart||D.pushToLoginListener($,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce($)}else{if(1!=ee.length)return $=new p.CometChatException(pe.ERRORS.PARAMETER_MISSING),D.internalRestart||D.pushToLoginListener($,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce($);if(S.isFalsy(ee[0]))return $=new p.CometChatException(pe.ERRORS.PARAMETER_MISSING),D.internalRestart||D.pushToLoginListener($,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce($)}return S.isFalsy(P.getAppId())?($=new p.CometChatException(pe.LOGIN_ERROR.NOT_INITIALIZED),D.internalRestart||D.pushToLoginListener($,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce($)):D.localStorage.get(l.LOCAL_STORE.KEY_USER).then(function(z){if(2==ee.length){D.apiKey=ee[1];var _e=ee[0];if(null!=z&&z.uid!==ee[0])D.localStorage.clearStore().then(function(){Ft.WSLogout(),D.generateAuthToken(_e).then(function(Ae){D.user=new M.Me(Ae),D.setAuthToken(D.user.getAuthToken()),D.getLoggedInUser().then(function(Ne){(D.user=new M.Me(Ne)).setAuthToken(D.authToken),D.setAuthToken(D.user.getAuthToken());var Ve=D.user;Ve.setStatus(l.PresenceConstatnts.STATUS.ONLINE),D.localStorage.set("user",Ve);var Pe=new M.User(Ve);te(Pe),D.isConnectingFromInit||D.internalRestart||D.pushToLoginListener(Pe,"Login_Success"),D.loginInProgress=!1,D.didAnalyticsPingStart()||D.isAnalyticsDisabled||!D.appSettings.shouldAutoEstablishSocketConnection()||(D.pingAnalytics(),D.startAnalyticsPingTimer()),D.isLoggedOut=!1,(D.appSettings.shouldAutoEstablishSocketConnection()||D.internalRestart)&&D.shouldConnectToWS&&D.WSLogin(D.user)},function(Ne){return D.internalRestart||D.pushToLoginListener(Ne,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce(Ne)})},function(Ae){return D.internalRestart||D.pushToLoginListener(Ae,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce(Ae)})});else{if(!S.isFalsy(D.authToken)){var Ee=new M.User(P.user);return D.internalRestart||D.pushToLoginListener(Ee,"Login_Success"),D.loginInProgress=!1,D.isLoggedOut=!1,te(Ee)}if(!S.isFalsy(_e)){if(S.isFalsy(D.apiKey)){var de=new p.CometChatException(pe.LOGIN_ERROR.UNAUTHORISED);return D.internalRestart||D.pushToLoginListener(de,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce(de)}P.generateAuthToken(_e).then(function(Ae){P.user=new M.Me(Ae),P.setAuthToken(D.user.getAuthToken()),P.getLoggedInUser().then(function(Ne){P.user=new M.Me(Ne),P.user.setAuthToken(D.authToken),P.setAuthToken(P.user.getAuthToken()),Ft.WSLogout();var Ve=P.user;Ve.setStatus(l.PresenceConstatnts.STATUS.ONLINE),P.localStorage.set("user",Ve);var Pe=new M.User(Ve);te(Pe),D.isConnectingFromInit||D.internalRestart||D.pushToLoginListener(Pe,"Login_Success"),D.loginInProgress=!1,D.didAnalyticsPingStart()||D.isAnalyticsDisabled||!D.appSettings.shouldAutoEstablishSocketConnection()||(D.pingAnalytics(),D.startAnalyticsPingTimer()),D.isLoggedOut=!1,(D.appSettings.shouldAutoEstablishSocketConnection()||D.internalRestart)&&D.shouldConnectToWS&&P.WSLogin(P.user)},function(Ne){return D.internalRestart||D.pushToLoginListener(Ne,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce(Ne)})},function(Ae){return D.internalRestart||D.pushToLoginListener(Ae,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce(Ae)})}}}else D.authToken=ee[0],P.getLoggedInUser().then(function(Ae){if(Ae.authToken!=ee[0]){var Ne=P;Ne.localStorage.clearStore().then(function(){Ft.WSLogout(),Ne.getLoggedInUser().then(function(tt){(D.user=new M.Me(tt)).setAuthToken(D.authToken),D.setAuthToken(D.user.getAuthToken());var ut=D.user;ut.setStatus(l.PresenceConstatnts.STATUS.ONLINE),Ne.localStorage.set("user",ut);var ot=new M.User(ut);te(ot),D.isConnectingFromInit||D.internalRestart||D.pushToLoginListener(ot,"Login_Success"),D.loginInProgress=!1,D.didAnalyticsPingStart()||D.isAnalyticsDisabled||!D.appSettings.shouldAutoEstablishSocketConnection()||(D.pingAnalytics(),D.startAnalyticsPingTimer()),D.isLoggedOut=!1,(D.appSettings.shouldAutoEstablishSocketConnection()||D.internalRestart)&&D.shouldConnectToWS&&D.WSLogin(new M.Me(tt))},function(tt){return D.internalRestart||D.pushToLoginListener(tt,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce(tt)})})}else{if(z){var Ve=new M.User(Ae);return D.internalRestart||D.pushToLoginListener(Ve,"Login_Success"),D.loginInProgress=!1,D.isLoggedOut=!1,te(Ve)}(D.user=new M.Me(Ae)).setAuthToken(D.authToken),D.setAuthToken(D.user.getAuthToken());var Pe=D.user;Pe.setStatus(l.PresenceConstatnts.STATUS.ONLINE),D.localStorage.set("user",Pe);var Ke=new M.User(Pe);te(Ke),D.isConnectingFromInit||D.internalRestart||D.pushToLoginListener(Ke,"Login_Success"),D.loginInProgress=!1,D.didAnalyticsPingStart()||D.isAnalyticsDisabled||!D.appSettings.shouldAutoEstablishSocketConnection()||(D.pingAnalytics(),D.startAnalyticsPingTimer()),D.isLoggedOut=!1,(D.appSettings.shouldAutoEstablishSocketConnection()||D.internalRestart)&&D.shouldConnectToWS&&D.WSLogin(new M.Me(Ae))}},function(Ae){return D.internalRestart||D.pushToLoginListener(Ae,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce(Ae)})})})}catch(H){return W=new p.CometChatException(H),D.internalRestart||D.pushToLoginListener(W,"Login_Failure"),D.loginInProgress=!1,D.isLoggedOut=!0,ce(W)}})},D.sendMessage=function(P){var ee=this;return new Promise(function(ue,te){return d(ee,void 0,void 0,function(){var ce,W,H,$=this;return v(this,function(U){try{return P instanceof x.TextMessage||P instanceof F.MediaMessage||P instanceof qe.CustomMessage||(P=P[l.MessageConstatnts.KEYS.ATTATCHMENT]?(ce=l.MessageConstatnts.TYPE.FILE,S.isImage(P[l.MessageConstatnts.KEYS.ATTATCHMENT])?ce=l.MessageConstatnts.TYPE.IMAGE:S.isAudio(P[l.MessageConstatnts.KEYS.ATTATCHMENT])?ce=l.MessageConstatnts.TYPE.AUDIO:S.isVideo(P[l.MessageConstatnts.KEYS.ATTATCHMENT])&&(ce=l.MessageConstatnts.TYPE.VIDEO),new F.MediaMessage(P[l.MessageConstatnts.KEYS.RECEIVER_ID],P[l.MessageConstatnts.KEYS.ATTATCHMENT],ce,P[l.MessageConstatnts.KEYS.RECEIVER_TYPE])):new x.TextMessage(P[l.MessageConstatnts.KEYS.RECEIVER_ID],P[l.MessageConstatnts.KEYS.TEXT],P[l.MessageConstatnts.KEYS.RECEIVER_TYPE])),(W=S.validateMessage(P))instanceof p.CometChatException?(te(W),[2]):(P.receiver=P.receiverId,delete P.receiverId,[2,m.makeApiCall((H=P.parentMessageId)?"sendMessageInThread":"sendMessage",H?{parentId:H}:{},P,P instanceof F.MediaMessage).then(function(Y){return d($,void 0,void 0,function(){var z;return v(this,function(_e){return z=G.MessageController.trasformJSONMessge(Y.data),X.MessageListnerMaping.getInstance().set("all",parseInt(z.id)),ue(z),[2]})})},function(Y){te(new p.CometChatException(Y.error))})])}catch(Y){te(new p.CometChatException(Y))}return[2]})})})},D.sendDirectMessage=function(P){try{return Object.assign(P,{receiverType:l.MessageConstatnts.RECEIVER_TYPE.USER}),this.sendMessage(P)}catch(ee){S.Logger.error("CometChat: sendDirectMessage",ee)}},D.sendGroupMessage=function(P){try{return Object.assign(P,{receiverType:l.MessageConstatnts.RECEIVER_TYPE.GROUP}),this.sendMessage(P)}catch(ee){S.Logger.error("CometChat: sendGroupMessage",ee)}},D.sendMediaMessage=function(P){try{return this.sendMessage(P)}catch(ee){S.Logger.error("CometChat: sendMediaMessage",ee)}},D.sendCustomMessage=function(P){try{return this.sendMessage(P)}catch(ee){S.Logger.error("CometChat: sendCustomMessage",ee)}},D.getLastDeliveredMessageId=function(){return d(this,void 0,void 0,function(){var P;return v(this,function(ee){switch(ee.label){case 0:return ee.trys.push([0,2,,3]),[4,X.MessageListnerMaping.getInstance().get(l.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST)];case 1:return[2,ee.sent()];case 2:return P=ee.sent(),S.Logger.error("CometChat: getLastDeliveredMessageId",P),[3,3];case 3:return[2]}})})},D.startTyping=function(P){try{if(S.isFalsy(P))return;var ee=void 0,ue=this.RECEIVER_TYPE.USER,te={};if(P instanceof Me.TypingIndicator)ee=P.getReceiverId(),ue=P.getReceiverType(),te=P.getMetadata();else{if(!P.hasOwnProperty(l.TYPING_NOTIFICATION.RECEIVER_ID))return;ee=P[l.TYPING_NOTIFICATION.RECEIVER_ID],P.hasOwnProperty(l.TYPING_NOTIFICATION.RECEIVER_TYPE)&&(ue=P[l.TYPING_NOTIFICATION.RECEIVER_TYPE]),P.hasOwnProperty(l.TYPING_NOTIFICATION.META)&&(te=P[l.TYPING_NOTIFICATION.META])}if(S.isFalsy(ee))return;if(null==Fe.TypingNotificationController.getTypingStartedMap(ee)){var ce=D.getMode();return S.isFalsy(ce)||ce&&ce!==l.APP_SETTINGS.KEYS.NO_TRANSIENT&&ce!==l.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?(Ft.startTypingIndicator(ee,ue,te),Fe.TypingNotificationController.addTypingStarted(ee),void Fe.TypingNotificationController.removeTypingEnded(ee)):void 0}}catch(W){S.Logger.error("CometChat: startTyping",W)}},D.endTyping=function(P){try{if(S.isFalsy(P))return;var ee=void 0,ue=this.RECEIVER_TYPE.USER,te={};if(P instanceof Me.TypingIndicator)ee=P.getReceiverId(),ue=P.getReceiverType(),te=P.getMetadata();else{if(!P.hasOwnProperty(l.TYPING_NOTIFICATION.RECEIVER_ID))return;ee=P[l.TYPING_NOTIFICATION.RECEIVER_ID],P.hasOwnProperty(l.TYPING_NOTIFICATION.RECEIVER_TYPE)&&(ue=P[l.TYPING_NOTIFICATION.RECEIVER_TYPE]),ue=ue==this.RECEIVER_TYPE.USER?l.WS.CONVERSATION.TYPE.CHAT:l.WS.CONVERSATION.TYPE.GROUP_CHAT,P.hasOwnProperty(l.TYPING_NOTIFICATION.META)&&(te=P[l.TYPING_NOTIFICATION.META])}if(S.isFalsy(ee))return;if(null==Fe.TypingNotificationController.getTypingEndedMap(ee)){var ce=D.getMode();return S.isFalsy(ce)||ce&&ce!==l.APP_SETTINGS.KEYS.NO_TRANSIENT&&ce!==l.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?(Ft.pauseTypingIndicator(ee,ue,te),Fe.TypingNotificationController.addTypingEnded(ee),void Fe.TypingNotificationController.removeTypingStarted(ee)):void 0}}catch(W){S.Logger.error("CometChat: endTyping",W)}},D.markAsRead=function(){for(var P=[],ee=0;ee<arguments.length;ee++)P[ee]=arguments[ee];return new Promise(function(ue,te){try{var ce=void 0,W=void 0,H=void 0,$=void 0;if(3===P.length)return te(new p.CometChatException(l.ReceiptErrors.MISSING_PARAMETERS));if(4===P.length){if(S.isFalsy(P[0])||"string"!=typeof P[0])return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"MESSAGE_ID","MESSAGE_ID","Message ID should be a string."))));if(ce=P[0],S.isFalsy(P[1])||"string"!=typeof P[1])return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_ID","RECEIVER_ID","Receiver ID should be a string."))));if(W=P[1],S.isFalsy(P[2])||"string"!=typeof P[2])return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type should be a string."))));if(H=P[2],S.isFalsy(P[3])||"string"!=typeof P[3])return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"SENDER_ID","SENDER_ID","Sender ID should be a string."))));$=P[3]}else{if(1!==P.length)return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"ARGUMENTS","ARGUMENTS","markAsRead() expects either 1 or 4 arguments."))));if(S.isFalsy(P[0])||!(P[0]instanceof O.BaseMessage))return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"MESSAGE","MESSAGE","Invalid message object received."))));var U=P[0];ce=U.getId().toString(),W=(H=U.getReceiverType())===l.MessageConstatnts.RECEIVER_TYPE.USER?U.getSender().getUid()===D.user.getUid()?U.getReceiverId():U.getSender().getUid():U.getReceiverId(),$=U.getSender().getUid()}var Y=D.getMode();return S.isFalsy(Y)||Y&&Y!==l.APP_SETTINGS.KEYS.NO_TRANSIENT&&Y!==l.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?D.getConnectionStatus()===l.CONNECTION_STATUS.CONNECTED?(Ft.markAsRead(W,H,ce,$),ue()):te(new p.CometChatException(l.ReceiptErrors.NO_WEBSOCKET_CONNECTION)):te(new p.CometChatException(l.ReceiptErrors.RECEIPTS_TEMPORARILY_BLOCKED))}catch(z){return S.Logger.error("CometChat: markAsRead",z),te(new p.CometChatException(l.ReceiptErrors.UNKNOWN_ERROR_OCCURRED))}})},D.markAsDelivered=function(){for(var P=[],ee=0;ee<arguments.length;ee++)P[ee]=arguments[ee];return new Promise(function(ue,te){try{var ce=void 0,W=void 0,H=void 0,$=void 0;if(3===P.length)return te(new p.CometChatException(l.ReceiptErrors.MISSING_PARAMETERS));if(4===P.length){if(S.isFalsy(P[0])||"string"!=typeof P[0])return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"MESSAGE_ID","MESSAGE_ID","Message ID should be a string."))));if(ce=P[0],S.isFalsy(P[1])||"string"!=typeof P[1])return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_ID","RECEIVER_ID","Receiver ID should be a string."))));if(W=P[1],S.isFalsy(P[2])||"string"!=typeof P[2])return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type should be a string."))));if(H=P[2],S.isFalsy(P[3])||"string"!=typeof P[3])return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"SENDER_ID","SENDER_ID","Sender ID should be a string."))));$=P[3]}else{if(1!==P.length)return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"ARGUMENTS","ARGUMENTS","markAsDelivered() expects either 1 or 4 arguments."))));if(S.isFalsy(P[0])||!(P[0]instanceof O.BaseMessage))return te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"MESSAGE","MESSAGE","Invalid message object received."))));var U=P[0];ce=U.getId().toString(),W=(H=U.getReceiverType())===l.MessageConstatnts.RECEIVER_TYPE.USER?U.getSender().getUid()===D.user.getUid()?U.getReceiverId():U.getSender().getUid():U.getReceiverId(),$=U.getSender().getUid()}var Y=D.getMode();return S.isFalsy(Y)||Y&&Y!==l.APP_SETTINGS.KEYS.NO_TRANSIENT&&Y!==l.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?D.getConnectionStatus()===l.CONNECTION_STATUS.CONNECTED?(Ft.markAsDelivered(W,H,ce,$),ue()):te(new p.CometChatException(l.ReceiptErrors.NO_WEBSOCKET_CONNECTION)):te(new p.CometChatException(l.ReceiptErrors.RECEIPTS_TEMPORARILY_BLOCKED))}catch(z){return S.Logger.error("CometChat: markAsDelivered",z),te(new p.CometChatException(l.ReceiptErrors.UNKNOWN_ERROR_OCCURRED))}})},D.sendTransientMessage=function(P){try{if(S.isFalsy(P))return;var ee=void 0,ue=void 0,te={};if(!(P instanceof Nn.TransientMessage)||(ee=P.getReceiverId(),ue=P.getReceiverType(),te=P.getData(),S.isFalsy(ee)||S.isFalsy(ue)))return;var ce=D.getMode();return S.isFalsy(ce)||ce&&ce!==l.APP_SETTINGS.KEYS.NO_TRANSIENT?void Ft.sendTransientMessage(ee,ue,te):void 0}catch(W){S.Logger.error("CometChat: sendTransientMessage",W)}},D.sendTestMessage=function(P){return d(this,void 0,void 0,function(){var ee,ue;return v(this,function(te){switch(te.label){case 0:return te.trys.push([0,3,,4]),(ee=P)instanceof O.BaseMessage?[3,2]:[4,ht.CometChatHelper.processMessage(P)];case 1:ee=te.sent(),te.label=2;case 2:return ee instanceof x.TextMessage&&ft.WSConnectionHelper.getInstance().publishMessage(ee),[3,4];case 3:return ue=te.sent(),S.Logger.error("CometChat: sendTestMessage",ue),[3,4];case 4:return[2]}})})},D.getMessageDetails=function(P){return new Promise(function(ee,ue){try{S.isFalsy(P)?ue(new p.CometChatException(pe.ERRORS.PARAMETER_MISSING)):m.makeApiCall("getMessageDetails",{messageId:P}).then(function(te){ee(G.MessageController.trasformJSONMessge(te.data))},function(te){S.Logger.error("CometChat:GetMessageDetails:",te),ue(new p.CometChatException(te.error))})}catch(te){ue(new p.CometChatException(te))}})},D.getMessageReceipts=function(P){return new Promise(function(ee,ue){try{var te=S.validateMsgId(P);if(te instanceof p.CometChatException)return void ue(te);S.isFalsy(P)?ue(new p.CometChatException(pe.ERRORS.PARAMETER_MISSING)):m.makeApiCall("getMessageDetails",{messageId:P}).then(function(ce){G.MessageController.getReceiptsFromJSON(ce.data).then(function(W){ee(W)},function(W){ue(new p.CometChatException(W))})},function(ce){S.Logger.error("CometChat:GetMessageDetails:",ce),ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.getUnreadMessageCount=function(P){void 0===P&&(P=!1);var ee=0;return new Promise(function(ue,te){try{var ce=S.validateHideMessagesFromBlockedUsers(P);if(ce instanceof p.CometChatException)return void te(ce);P&&(ee=1),m.makeApiCall("getMessages",{},{unread:1,count:1,hideMessagesFromBlockedUsers:ee}).then(function(W){var H={},$={};W.data.map(function(U){U[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==l.MessageConstatnts.RECEIVER_TYPE.GROUP?$[U[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=U[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]:H[U[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=U[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),ue({users:H,groups:$})},function(W){te(new p.CometChatException(W.error))})}catch(W){te(new p.CometChatException(W))}})},D.getUnreadMessageCountForAllUsers=function(P){void 0===P&&(P=!1);var ee=0;return new Promise(function(ue,te){try{var ce=S.validateHideMessagesFromBlockedUsers(P);if(ce instanceof p.CometChatException)return void te(ce);P&&(ee=1),m.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:ee,receiverType:l.MessageConstatnts.RECEIVER_TYPE.USER,unread:1,count:1}).then(function(W){var H={};W.data.map(function($){H[$[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=$[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),ue(_({},H))},function(W){te(new p.CometChatException(W.error))})}catch(W){te(new p.CometChatException(W))}})},D.getUnreadMessageCountForAllGroups=function(P){void 0===P&&(P=!1);var ee=0;return new Promise(function(ue,te){try{var ce=S.validateHideMessagesFromBlockedUsers(P);if(ce instanceof p.CometChatException)return void te(ce);P&&(ee=1),m.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:ee,receiverType:l.MessageConstatnts.RECEIVER_TYPE.GROUP,unread:1,count:1}).then(function(W){var H={};W.data.map(function($){$[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==l.MessageConstatnts.RECEIVER_TYPE.GROUP&&(H[$[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=$[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT])}),ue(_({},H))},function(W){te(new p.CometChatException(W.error))})}catch(W){te(new p.CometChatException(W))}})},D.getUnreadMessageCountForUser=function(P,ee){void 0===ee&&(ee=!1);var ue=0;return new Promise(function(te,ce){try{var W=S.validateId(P,"user");if(W instanceof p.CometChatException)return void ce(W);var H=S.validateHideMessagesFromBlockedUsers(ee);if(H instanceof p.CometChatException)return void ce(H);ee&&(ue=1),m.makeApiCall("getUserMessages",{listId:P},{hideMessagesFromBlockedUsers:ue,unread:1,count:1,uid:P}).then(function($){var U={};$.data.map(function(Y){U[Y[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=Y[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),te(_({},U))},function($){ce(new p.CometChatException($.error))})}catch($){ce(new p.CometChatException($))}})},D.getUnreadMessageCountForGroup=function(P,ee){void 0===ee&&(ee=!1);var ue=0;return new Promise(function(te,ce){try{var W=S.validateId(P,"group");if(W instanceof p.CometChatException)return void ce(W);var H=S.validateHideMessagesFromBlockedUsers(ee);if(H instanceof p.CometChatException)return void ce(H);ee&&(ue=1),m.makeApiCall("getGroupMessages",{listId:P},{hideMessagesFromBlockedUsers:ue,unread:1,count:1,guid:P}).then(function($){var U={};$.data.map(function(Y){Y[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==l.MessageConstatnts.RECEIVER_TYPE.GROUP&&(U[Y[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=Y[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT])}),te(_({},U))},function($){ce(new p.CometChatException($.error))})}catch($){ce(new p.CometChatException($))}})},D.editMessage=function(P){return new Promise(function(ee,ue){try{var te=S.validateMsgId(P.getId());if(te instanceof p.CometChatException)return void ue(te);m.makeApiCall("updateMessage",{messageId:P.getId()},P).then(function(ce){ee(G.MessageController.trasformJSONMessge(ce.data).getActionOn())},function(ce){ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.deleteMessage=function(P){return new Promise(function(ee,ue){try{var te=S.validateMsgId(P);if(te instanceof p.CometChatException)return void ue(te);m.makeApiCall("deleteMessage",{messageId:P},{id:P}).then(function(ce){ee(G.MessageController.trasformJSONMessge(ce.data).getActionOn())},function(ce){ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.getOnlineUserCount=function(){return new Promise(function(P,ee){try{S.getAppSettings().then(function(ue){var te=S.format((new T.EndpointFactory).wsApi,S.getChatHost(ue),l.ONLINE_MEMBER_COUNT_API.ENDPOINTS.GET_ONLINE_MEMBER_COUNT);m.postData(te,"POST",{},{appId:D.appId,Authorization:D.jwt,Accept:"application/json","Content-Type":"application/json"},!1).then(function(W){return W.json()}).then(function(W){return W.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?P(W[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA][l.ONLINE_MEMBER_COUNT_API.RESPONSE.ONLINE_USERS_COUNT]):ee(new p.CometChatException(W.error))}).catch(function(){return ee({error:pe.FETCH_ERROR.ERROR_IN_API_CALL})})},function(ue){return ee(new p.CometChatException(ue))})}catch(ue){return ee(new p.CometChatException(ue))}})},D.getOnlineGroupMemberCount=function(P){return new Promise(function(ee,ue){try{if(!P||0==P.length)return ue(new p.CometChatException(l.ONLINE_MEMBER_COUNT_API.ERRORS.INVALID_GROUPLIST));S.getAppSettings().then(function(te){var ce=S.format((new T.EndpointFactory).wsApi,S.getChatHost(te),l.ONLINE_MEMBER_COUNT_API.ENDPOINTS.GET_ONLINE_MEMBER_COUNT);m.postData(ce,"POST",{groups:P},{appId:D.appId,Authorization:D.jwt,Accept:"application/json","Content-Type":"application/json"},!1).then(function($){return $.json()}).then(function($){return $.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?ee($[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA][l.ONLINE_MEMBER_COUNT_API.RESPONSE.GROUPS]):ue(new p.CometChatException($.error))}).catch(function(){return ue({error:pe.FETCH_ERROR.ERROR_IN_API_CALL})})},function(te){return ue(new p.CometChatException(te))})}catch(te){return ue(new p.CometChatException(te))}})},D.createUser=function(P,ee){return new Promise(function(ue,te){try{if(S.isFalsy(ee))return void te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.GENERAL_ERROR.INVALID),"AUTH_KEY","AUTH_KEY","AUTH_KEY","AUTH_KEY"))));D.apiKey=ee;var ce=S.validateCreateUser(P);if(ce instanceof p.CometChatException)return void te(ce);if(!(P instanceof M.User)){var W=void 0;if(!P.hasOwnProperty(l.UserConstants.UID))return void te(new p.CometChatException(pe.ERRORS.PARAMETER_MISSING));if(!P.hasOwnProperty(l.UserConstants.NAME))return void te(new p.CometChatException(pe.ERRORS.PARAMETER_MISSING));W=new M.User(P[l.UserConstants.UID],P[l.UserConstants.NAME]),P.hasOwnProperty(l.UserConstants.AVATAR)&&W.setAvatar(P[l.UserConstants.AVATAR]),P.hasOwnProperty(l.UserConstants.ROLE)&&W.setRole(P[l.UserConstants.ROLE]),P.hasOwnProperty(l.UserConstants.META_DATA)&&W.setMetadata(P[l.UserConstants.META_DATA]),P.hasOwnProperty(l.UserConstants.LINK)&&W.setLink(P[l.UserConstants.LINK]),P.hasOwnProperty(l.UserConstants.STATUS_MESSAGE)&&W.setStatusMessage(P[l.UserConstants.STATUS_MESSAGE]),P.hasOwnProperty(l.UserConstants.TAGS)&&W.setTags(P[l.UserConstants.TAGS]),P=W}m.makeApiCall("createUser",{},P).then(function(H){var $=L.UsersController.trasformJSONUser(H.data);ue($)},function(H){te(new p.CometChatException(H.error))})}catch(H){te(new p.CometChatException(H))}})},D.updateUser=function(P,ee){var ue=this;return new Promise(function(te,ce){try{if(S.isFalsy(ee))return void ce(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.GENERAL_ERROR.INVALID),"AUTH_KEY","AUTH_KEY","AUTH_KEY","AUTH_KEY"))));D.apiKey=ee;var W=S.validateUpdateUser(P);if(W instanceof p.CometChatException)return void ce(W);if(!(P instanceof M.User)){var H=void 0;if(!P.hasOwnProperty(l.UserConstants.UID))return void ce(new p.CometChatException(pe.ERRORS.PARAMETER_MISSING));H=new M.User(P[l.UserConstants.UID]),P.hasOwnProperty(l.UserConstants.NAME)&&H.setName(P[l.UserConstants.NAME]),P.hasOwnProperty(l.UserConstants.AVATAR)&&H.setAvatar(P[l.UserConstants.AVATAR]),P.hasOwnProperty(l.UserConstants.ROLE)&&H.setRole(P[l.UserConstants.ROLE]),P.hasOwnProperty(l.UserConstants.META_DATA)&&H.setMetadata(P[l.UserConstants.META_DATA]),P.hasOwnProperty(l.UserConstants.LINK)&&H.setLink(P[l.UserConstants.LINK]),P.hasOwnProperty(l.UserConstants.STATUS_MESSAGE)&&H.setStatusMessage(P[l.UserConstants.STATUS_MESSAGE]),P.hasOwnProperty(l.UserConstants.TAGS)&&H.setTags(P[l.UserConstants.TAGS]),P=H}var $=P.uid;m.makeApiCall("updateUser",{uid:$},P).then(function(U){if(ue.user&&$.toLocaleLowerCase()===ue.user.getUid().toLocaleLowerCase())y.LocalStorage.getInstance().get("user").then(function(z){if(z){var _e=L.UsersController.trasformJSONUser(U.data),Ee=U.data;Ee.wsChannel=z.wsChannel,Ee.authToken=D.authToken,Ee.status=l.PresenceConstatnts.STATUS.ONLINE,z.jwt&&(Ee.jwt=z.jwt),D.user=new M.Me(Ee),ue.localStorage.set("user",D.user),te(_e)}});else{var Y=L.UsersController.trasformJSONUser(U.data);te(Y)}},function(U){ce(new p.CometChatException(U.error))})}catch(U){ce(new p.CometChatException(U))}})},D.updateCurrentUserDetails=function(P){var ee=this;return new Promise(function(ue,te){try{P.uid=ee.user.uid;var ce=S.validateUpdateUser(P);if(ce instanceof p.CometChatException)return void te(ce);if(!(P instanceof M.User)){var W=void 0;P.hasOwnProperty(l.UserConstants.UID)&&(W=new M.User(P[l.UserConstants.UID])),P.hasOwnProperty(l.UserConstants.NAME)&&W.setName(P[l.UserConstants.NAME]),P.hasOwnProperty(l.UserConstants.AVATAR)&&W.setAvatar(P[l.UserConstants.AVATAR]),P.hasOwnProperty(l.UserConstants.ROLE)&&W.setRole(P[l.UserConstants.ROLE]),P.hasOwnProperty(l.UserConstants.META_DATA)&&W.setMetadata(P[l.UserConstants.META_DATA]),P.hasOwnProperty(l.UserConstants.LINK)&&W.setLink(P[l.UserConstants.LINK]),P.hasOwnProperty(l.UserConstants.STATUS_MESSAGE)&&W.setStatusMessage(P[l.UserConstants.STATUS_MESSAGE]),P.hasOwnProperty(l.UserConstants.TAGS)&&W.setTags(P[l.UserConstants.TAGS]),P=W}m.makeApiCall("updateMyDetails",{},P).then(function(H){var $=L.UsersController.trasformJSONUser(H.data),U=D.user=new M.Me(H.data);U.setStatus(l.PresenceConstatnts.STATUS.ONLINE),D.localStorage.set("user",U),ue($)},function(H){te(new p.CometChatException(H.error))})}catch(H){te(new p.CometChatException(H))}})},D.getUser=function(P){return new Promise(function(ee,ue){try{"object"==typeof P&&P.hasOwnProperty("uid")&&(P=P.uid);var te=S.validateId(P,"user");if(te instanceof p.CometChatException)return void ue(te);m.makeApiCall("user",{uid:P}).then(function(ce){var W=L.UsersController.trasformJSONUser(ce.data);ee(W)}).catch(function(ce){ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.getLoggedInUser=function(){var P=this;return new Promise(function(ee,ue){try{D.localStorage.get(l.LOCAL_STORE.KEY_USER).then(function(te){if(te)ee(D.user=new M.Me(te));else{var ce="",W="",H=l.APPINFO.platform,$=l.APPINFO.sdkVersion,U=l.APPINFO.apiVersion;D.keyStore.get(l.LOCAL_STORE.KEY_DEVICE_ID).then(function(Y){if(W=Y,navigator&&(ce=navigator.userAgent),null==W){var z=mn(),_e=(new Date).getTime();D.keyStore.set(l.LOCAL_STORE.KEY_DEVICE_ID,W=P.appId+"_"+z+"_"+_e)}var Ee={version:$,apiVersion:U,userAgent:ce};S.isFalsy(P.platform)||(Ee.platform=P.platform),S.isFalsy(P.language)||(Ee.language=P.language),S.isFalsy(P.resource)||(Ee.resource=P.resource),m.makeApiCall("updateMyDetails",{},{platform:H,deviceId:W,appInfo:Ee},!1).then(function(Ae){Ae.data.jwt&&(D.jwt=Ae.data.jwt);var Ne=Ae.data.settings;Ne&&(y.LocalStorage.getInstance().set("app_settings",Ne),Ne[l.APP_SETTINGS.KEYS.MODE]&&D.setMode(Ne[l.APP_SETTINGS.KEYS.MODE]),Ne[l.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(D.settingsHash=Ne[l.APP_SETTINGS.KEYS.SETTINGS_HASH]),Ne[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(D.settingsHashReceivedAt=Ne[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),Ne[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]&&(D.analyticsHost=Ne[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]),Ne[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]&&(D.analyticsVersion=Ne[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]),D.isAnalyticsDisabled=!!Ne[l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED]),ee(new M.Me(Ae.data))},function(Ae){ue(new p.CometChatException(Ae.error))}).catch(function(Ae){ue(new p.CometChatException(Ae))})})}})}catch(te){ue(new p.CometChatException(te))}})},D.getLoggedinUser=function(){return new Promise(function(P,ee){try{D.localStorage.get(l.LOCAL_STORE.KEY_USER).then(function(ue){P(ue?new M.User(ue):null)},function(ue){P(null)})}catch(ue){ee(new p.CometChatException(ue))}})},D.blockUsers=function(P){return new Promise(function(ee,ue){try{var te=S.validateArray(P,"blockUsers");if(te instanceof p.CometChatException)return void ue(te);S.isFalsy(P)?ue(new p.CometChatException(pe.USERS_REQUEST_ERRORS.EMPTY_USERS_LIST)):m.makeApiCall("blockUsers",{},{blockedUids:P}).then(function(ce){ee(ce.data)},function(ce){ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.unblockUsers=function(P){return new Promise(function(ee,ue){try{var te=S.validateArray(P,"unblockUsers");if(te instanceof p.CometChatException)return void ue(te);S.isFalsy(P)?ue(new p.CometChatException(pe.USERS_REQUEST_ERRORS.EMPTY_USERS_LIST)):m.makeApiCall("unblockUsers",{},{blockedUids:P}).then(function(ce){ee(ce.data)},function(ce){ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.getConversation=function(P,ee){return new Promise(function(ue,te){try{var ce=S.validateConversationType(ee);if(ce instanceof p.CometChatException)return void te(ce);var W=S.validateId(P,ee);if(W instanceof p.CometChatException)return void te(W);ee=ee.toLowerCase(),P=P.toLowerCase();var H={},$="";ee===l.MessageConstatnts.RECEIVER_TYPE.GROUP?($="getGroupConversation",H.guid=P):($="getUserConversation",H.uid=P),m.makeApiCall($,H).then(function(U){if(U.data){var Y=U.data;ue(et.ConversationController.trasformJSONConversation(Y.conversationId,Y.conversationType,Y.lastMessage,Y.conversationWith,parseInt(Y.unreadMessageCount),Y.tags?Y.tags:[]))}else te(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ConversationErrors.CONVERSATION_NOT_FOUND),ee,P))))},function(U){te(new p.CometChatException(U.error))})}catch(U){te(new p.CometChatException(U))}})},D.tagConversation=function(P,ee,ue){return void 0===ue&&(ue=[]),new Promise(function(te,ce){try{var W=S.validateConversationType(ee);if(W instanceof p.CometChatException)return void ce(W);var H=S.validateId(P,ee);if(H instanceof p.CometChatException)return void ce(H);ee=ee.toLowerCase(),P=P.toLowerCase();var $={},U="";ee===l.MessageConstatnts.RECEIVER_TYPE.GROUP?(U="updateGroupConversation",$.guid=P):(U="updateUserConversation",$.uid=P),m.makeApiCall(U,$,{tags:ue}).then(function(Y){if(Y.data){var z=Y.data;te(et.ConversationController.trasformJSONConversation(z.conversationId,z.conversationType,z.lastMessage,z.conversationWith,parseInt(z.unreadMessageCount),z.tags?z.tags:[]))}else ce(new p.CometChatException(JSON.parse(S.format(JSON.stringify(l.ConversationErrors.CONVERSATION_NOT_FOUND),ee,P))))},function(Y){ce(new p.CometChatException(Y.error))})}catch(Y){ce(new p.CometChatException(Y))}})},D.deleteConversation=function(P,ee){return new Promise(function(ue,te){try{var ce=S.validateConversationType(ee);if(ce instanceof p.CometChatException)return void te(ce);var W=S.validateId(P,ee);if(W instanceof p.CometChatException)return void te(W);var H={},$="";ee=ee.toLowerCase(),P=P.toLowerCase(),ee===l.MessageConstatnts.RECEIVER_TYPE.GROUP?($="deleteGroupConversation",H.guid=P):($="deleteUserConversation",H.uid=P),m.makeApiCall($,H).then(function(U){ue("Conversation deleted successfully.")},function(U){te(new p.CometChatException(U.error))})}catch(U){te(new p.CometChatException(U))}})},D.createGroup=function(P){return new Promise(function(ee,ue){try{var te=S.validateCreateGroup(P);if(te instanceof p.CometChatException)return void ue(te);if(!(P instanceof Q.Group)){var ce=void 0;if(!P.hasOwnProperty(l.GroupConstants.KEYS.GUID))return void ue(new p.CometChatException(pe.ERRORS.PARAMETER_MISSING));if(!P.hasOwnProperty(l.GroupConstants.KEYS.NAME))return void ue(new p.CometChatException(pe.ERRORS.PARAMETER_MISSING));if(ce=new Q.Group(P[l.GroupConstants.KEYS.GUID],P[l.GroupConstants.KEYS.NAME],""),P.hasOwnProperty(l.GroupConstants.KEYS.TYPE))if(P[l.GroupConstants.KEYS.TYPE].toLocaleLowerCase()==l.GroupType.Password){if(!P.hasOwnProperty(l.GroupConstants.KEYS.PASSWORD))return void ue(new p.CometChatException(pe.GROUP_CREATION_ERRORS.EMPTY_PASSWORD));ce.setType(l.GROUP_TYPE.PASSWORD),ce.setPassword(P[l.GroupConstants.KEYS.PASSWORD])}else ce.setType(P[l.GroupConstants.KEYS.TYPE]);else ce.setType(l.GROUP_TYPE.PUBLIC);P.hasOwnProperty(l.GroupConstants.KEYS.ICON)&&ce.setIcon(P[l.GroupConstants.KEYS.ICON]),P.hasOwnProperty(l.GroupConstants.KEYS.DESCRIPTION)&&ce.setDescription(P[l.GroupConstants.KEYS.DESCRIPTION]),P.hasOwnProperty(l.GroupConstants.KEYS.TAGS)&&ce.setTags(P[l.GroupConstants.KEYS.TAGS]),P=ce}m.makeApiCall("createGroup",{},P).then(function(W){ne.GroupsController.trasformJSONGroup(W.data).setHasJoined(!0),ee(ne.GroupsController.trasformJSONGroup(W.data))},function(W){ue(new p.CometChatException(W.error))})}catch(W){ue(new p.CometChatException(W))}})},D.getGroup=function(P){return new Promise(function(ee,ue){try{"object"==typeof P&&P.hasOwnProperty("guid")&&(P=P.guid);var te=S.validateId(P,"group");if(te instanceof p.CometChatException)return void ue(te);m.makeApiCall("getGroup",{guid:P}).then(function(ce){ee(ne.GroupsController.trasformJSONGroup(ce.data))},function(ce){ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.joinGroup=function(P,ee,ue){return void 0===ee&&(ee=l.GroupType.Public),void 0===ue&&(ue=""),new Promise(function(te,ce){try{var W=S.validateJoinGroup(P,ee,ue);if(W instanceof p.CometChatException)return void ce(W);var H;"object"==typeof P&&(P.hasOwnProperty(l.GroupConstants.KEYS.GUID)?(P.hasOwnProperty(l.GroupConstants.KEYS.TYPE)&&(ee=P[l.GroupConstants.KEYS.TYPE],P[l.GroupConstants.KEYS.TYPE].toLocaleLowerCase()===l.GroupType.Password&&P.hasOwnProperty(l.GroupConstants.KEYS.PASSWORD)&&(ue=P[l.GroupConstants.KEYS.PASSWORD])),P=P[l.GroupConstants.KEYS.GUID]):ce(new p.CometChatException(pe.ERRORS.PARAMETER_MISSING))),H=S.isFalsy(ue)?new Q.Group(P,"name",ee):new Q.Group(P,"name",ee,ue),m.makeApiCall("joinGroup",H,H).then(function($){var U=ne.GroupsController.trasformJSONGroup($.data[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA][l.ActionConstatnts.ACTION_KEYS.ENTITIES][l.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][l.ActionConstatnts.ACTION_KEYS.ENTITY]);U.setHasJoined(!0),te(U)},function($){ce(new p.CometChatException($.error))})}catch($){ce(new p.CometChatException($))}})},D.updateGroup=function(P){return new Promise(function(ee,ue){try{var te=S.validateUpdateGroup(P);if(te instanceof p.CometChatException)return void ue(te);if(!(P instanceof Q.Group)){var ce=void 0;if(!P.hasOwnProperty(l.GroupConstants.KEYS.GUID))return void ue(new p.CometChatException(pe.ERRORS.PARAMETER_MISSING));ce=new Q.Group(l.GroupConstants.KEYS.GUID,"",""),P.hasOwnProperty(l.GroupConstants.KEYS.TYPE)?ce.setType(P[l.GroupConstants.KEYS.TYPE]):P[l.GroupConstants.KEYS.TYPE]=l.GROUP_TYPE.PUBLIC,P.hasOwnProperty(l.GroupConstants.KEYS.NAME)&&ce.setName(P[l.GroupConstants.KEYS.NAME]),P.hasOwnProperty(l.GroupConstants.KEYS.ICON)&&ce.setIcon(P[l.GroupConstants.KEYS.ICON]),P.hasOwnProperty(l.GroupConstants.KEYS.DESCRIPTION)&&ce.setDescription(P[l.GroupConstants.KEYS.DESCRIPTION]),P.hasOwnProperty(l.GroupConstants.KEYS.TAGS)&&ce.setTags(P[l.GroupConstants.KEYS.TAGS]),P=ce}m.makeApiCall("updateGroup",P,P).then(function(W){ee(ne.GroupsController.trasformJSONGroup(W.data))},function(W){ue(new p.CometChatException(W.error))})}catch(W){ue(new p.CometChatException(W))}})},D.deleteGroup=function(P){return new Promise(function(ee,ue){try{var te=S.validateId(P,"group");if(te instanceof p.CometChatException)return void ue(te);m.makeApiCall("deleteGroup",{guid:P}).then(function(ce){ee(!0)},function(ce){ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.leaveGroup=function(P){return new Promise(function(ee,ue){try{var te=S.validateId(P,"group");if(te instanceof p.CometChatException)return void ue(te);m.makeApiCall("leaveGroup",{guid:P}).then(function(ce){ee(!0)},function(ce){ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.kickGroupMember=function(P,ee){return new Promise(function(ue,te){try{var ce=S.validateId(P,"group");if(ce instanceof p.CometChatException)return void te(ce);var W=S.validateId(ee,"user");if(W instanceof p.CometChatException)return void te(W);m.makeApiCall("kickGroupMembers",{guid:P,uid:ee}).then(function(H){ue(!0)},function(H){te(new p.CometChatException(H.error))})}catch(H){te(new p.CometChatException(H))}})},D.updateGroupMemberScope=function(P,ee,ue){return new Promise(function(te,ce){try{var W=S.validateId(P,"group");if(W instanceof p.CometChatException)return void ce(W);var H=S.validateId(ee,"user");if(H instanceof p.CometChatException)return void ce(H);var $=S.validateScope(ue);if($ instanceof p.CometChatException)return void ce($);m.makeApiCall("changeScopeOfMember",{guid:P,uid:ee},{scope:ue}).then(function(U){te(!0)},function(U){ce(new p.CometChatException(U.error))})}catch(U){ce(new p.CometChatException(U))}})},D.banGroupMember=function(P,ee){return new Promise(function(ue,te){try{var ce=S.validateId(P,"group");if(ce instanceof p.CometChatException)return void te(ce);var W=S.validateId(ee,"user");if(W instanceof p.CometChatException)return void te(W);m.makeApiCall("banGroupMember",{guid:P,uid:ee}).then(function(H){ue(!0)},function(H){te(new p.CometChatException(H.error))})}catch(H){te(new p.CometChatException(H))}})},D.unbanGroupMember=function(P,ee){return new Promise(function(ue,te){try{var ce=S.validateId(P,"group");if(ce instanceof p.CometChatException)return void te(ce);var W=S.validateId(ee,"user");if(W instanceof p.CometChatException)return void te(W);m.makeApiCall("unbanGroupMember",{guid:P,uid:ee}).then(function(H){ue(!0)},function(H){te(new p.CometChatException(H.error))})}catch(H){te(new p.CometChatException(H))}})},D.addMembersToGroup=function(P,ee,ue){var te=[],ce=[],W=[],H=[];return new Promise(function($,U){try{var Y=S.validateId(P,"group");if(Y instanceof p.CometChatException)return void U(Y);var z=S.validateArray(ee,"groupMembers");if(z instanceof p.CometChatException)return void U(z);if(ue){var _e=S.validateArray(ue,"bannedMembers");if(_e instanceof p.CometChatException)return void U(_e)}S.isFalsy(ee)&&S.isFalsy(ue)?U(new p.CometChatException({})):S.isFalsy(ee)||S.isFalsy(ue)?S.isFalsy(ee)?ue.map(function(de){H.push(de)}):(ee.filter(function(de){if(de.getScope()==l.GROUP_MEMBER_SCOPE.ADMIN)return!0}).map(function(de){te.push(de.getUid())}),ee.filter(function(de){if(de.getScope()==l.GROUP_MEMBER_SCOPE.MODERATOR)return!0}).map(function(de){ce.push(de.getUid())}),ee.filter(function(de){if(de.getScope()==l.GROUP_MEMBER_SCOPE.PARTICIPANT)return!0}).map(function(de){W.push(de.getUid())})):(ee.filter(function(de){if(de.getScope()==l.GROUP_MEMBER_SCOPE.ADMIN)return!0}).map(function(de){te.push(de.getUid())}),ee.filter(function(de){if(de.getScope()==l.GROUP_MEMBER_SCOPE.MODERATOR)return!0}).map(function(de){ce.push(de.getUid())}),ee.filter(function(de){if(de.getScope()==l.GROUP_MEMBER_SCOPE.PARTICIPANT)return!0}).map(function(de){W.push(de.getUid())}),ue.map(function(de){H.push(de)}));var Ee={};S.isFalsy(te)||(Ee=_(_({},Ee),{admins:te})),S.isFalsy(W)||(Ee=_(_({},Ee),{participants:W})),S.isFalsy(ce)||(Ee=_(_({},Ee),{moderators:ce})),S.isFalsy(H)||(Ee=_(_({},Ee),{usersToBan:H})),m.makeApiCall("addMemebersToGroup",{guid:P},Ee).then(function(de){var Ae={};Object.keys(de.data.admins).map(function(Ne){Ae[Ne]=de.data.admins[Ne][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:de.data.admins[Ne][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(de.data.participants).map(function(Ne){Ae[Ne]=de.data.participants[Ne][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:de.data.participants[Ne][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(de.data.moderators).map(function(Ne){Ae[Ne]=de.data.moderators[Ne][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:de.data.moderators[Ne][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(de.data.usersToBan).map(function(Ne){Ae[Ne]=de.data.usersToBan[Ne][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:de.data.usersToBan[Ne][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),$(Ae)},function(de){U(new p.CometChatException(de.error))})}catch(de){U(new p.CometChatException(de))}})},D.transferGroupOwnership=function(P,ee){return new Promise(function(ue,te){try{var ce=S.validateId(P,"group");if(ce instanceof p.CometChatException)return void te(ce);var W=S.validateId(ee,"user");if(W instanceof p.CometChatException)return void te(W);m.makeApiCall("transferOwnership",{guid:P},{owner:ee}).then(function(H){ue(H&&H.data&&H.data.message?H.data.message:"Ownership transferred to user "+ee+" for the group with guid "+P+".")},function(H){te(new p.CometChatException(H.error))})}catch(H){te(new p.CometChatException(H))}})},D.createGroupWithMembers=function(P,ee,ue){var te=[],ce=[],W=[],H=[];return new Promise(function($,U){try{var Y=S.validateCreateGroup(P);if(Y instanceof p.CometChatException)return void U(Y);if(ee&&0<ee.length){var z=S.validateArray(ee,"groupMembers");if(z instanceof p.CometChatException)return void U(z);ee.map(function(de){de.getScope()===l.GROUP_MEMBER_SCOPE.ADMIN&&te.push(de.getUid()),de.getScope()===l.GROUP_MEMBER_SCOPE.MODERATOR&&ce.push(de.getUid()),de.getScope()===l.GROUP_MEMBER_SCOPE.PARTICIPANT&&W.push(de.getUid())})}if(ue&&0<ue.length){var _e=S.validateArray(ue,"bannedMembers");if(_e instanceof p.CometChatException)return void U(_e);ue.map(function(de){H.push(de)})}var Ee={};Ee=_({},P),S.isFalsy(te)||(Ee.members=_(_({},Ee.members),{admins:te})),S.isFalsy(W)||(Ee.members=_(_({},Ee.members),{participants:W})),S.isFalsy(ce)||(Ee.members=_(_({},Ee.members),{moderators:ce})),S.isFalsy(H)||(Ee.members=_(_({},Ee.members),{usersToBan:H})),m.makeApiCall("createGroup",{},Ee).then(function(de){var Ae={members:{}},Ne=de.data.members.data?de.data.members.data:{admins:{},moderators:{},participants:{},usersToBan:{}};Object.keys(Ne.admins).map(function(Ke){Ae.members[Ke]=Ne.admins[Ke][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:Ne.admins[Ke][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(Ne.participants).map(function(Ke){Ae.members[Ke]=Ne.participants[Ke][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:Ne.participants[Ke][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(Ne.moderators).map(function(Ke){Ae.members[Ke]=Ne.moderators[Ke][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:Ne.moderators[Ke][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(Ne.usersToBan).map(function(Ke){Ae.members[Ke]=Ne.usersToBan[Ke][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:Ne.usersToBan[Ke][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),delete de.data.members;var Pe=ne.GroupsController.trasformJSONGroup(de.data);Pe.setHasJoined(!0),Ae=_(_({},Ae),{group:Pe}),$(Ae)},function(de){U(new p.CometChatException(de.error))})}catch(de){U(new p.CometChatException(de))}})},D.initiateCall=function(P){var ee=this;return new Promise(function(ue,te){var ce=ee.getActiveCall();if(null===ce)try{S.isFalsy(JSON.parse(JSON.stringify(P)).sender)?S.isFalsy(ce)?(P.setStatus(l.CallConstants.CALL_STATUS.INITIATED),P.receiver=P.receiverId.toString(),delete P.receiverId,m.makeApiCall("createCallSession",{},P).then(function(W){var H=G.MessageController.trasformJSONMessge(W[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);ie.CallController.getInstance().initiateCall(H).then(function($){ue(H)}).catch(function($){te(new p.CometChatException($))})},function(W){te(new p.CometChatException(W.error))})):te(new p.CometChatException(l.CALL_ERROR.ERROR_IN_CALLING)):ie.CallController.getInstance().initiateCall(P).then(function(W){ue(Object.assign(P))}).catch(function(W){te(new p.CometChatException(W))})}catch(W){te(new p.CometChatException(W))}else te(new p.CometChatException(l.CALL_ERROR.CALL_ALREADY_INITIATED))})},D.acceptCall=function(P){var ee=this;return new Promise(function(ue,te){if(null===ee.getActiveCall())try{var ce={};ce[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.ONGOING,m.makeApiCall("updateCallSession",{sessionid:P},ce).then(function(W){var H=G.MessageController.trasformJSONMessge(W[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);ie.CallController.getInstance().onCallStarted(H),ue(H)},function(W){te(new p.CometChatException(W.error))})}catch(W){te(new p.CometChatException(W))}else te(new p.CometChatException(l.CALL_ERROR.CANNOT_ACCEPT_CALL))})},D.rejectCall=function(P,ee){try{switch(ee){case l.CallConstants.CALL_STATUS.REJECTED:return this.rejectIncomingCall(P);case l.CallConstants.CALL_STATUS.CANCELLED:return this.cancelCall(P);case l.CallConstants.CALL_STATUS.BUSY:return this.sendBusyResponse(P);default:return this.endCall(P,!0)}}catch(ue){S.Logger.error("CometChat: rejectCall",ue)}},D.endCall=function(P,ee){var ue=this;return new Promise(function(te,ce){S.isFalsy(ee)&&(ee=!1);var W=ue.getActiveCall();if(null!==W){if(W.getSessionId()===P)try{var H={};H[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.ENDED,W.getJoinedAt()&&(H[l.CallConstants.CALL_KEYS.CALL_JOINED_AT]=W.getJoinedAt()),m.makeApiCall("updateCallSession",{sessionid:P},H).then(function($){ee||ie.CallController.getInstance().endSession();var U=G.MessageController.trasformJSONMessge($[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);te(U),ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onCallEnded(U),ie.CallController.getInstance().endCall()},function($){S.Logger.log("calling Log",{error:$}),ee||ie.CallController.getInstance().endSession(),W.setStatus(l.CallConstants.CALL_STATUS.ENDED),te(W),ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onCallEnded(W),ie.CallController.getInstance().endCall()})}catch($){ce(new p.CometChatException($))}}else ee||ie.CallController.getInstance().endSession(),te(null),ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onCallEnded(null),ie.CallController.getInstance().endCall()})},D.getActiveCall=function(){try{return ie.CallController.getInstance().getActiveCall()}catch(P){S.Logger.error("CometChat: getActiveCall",P)}},D.startCall=function(P,ee,ue){var te=this;try{var ce,W,H,$,U,Y,z,_e,Ee,de=this.getActiveCall(),Ae=!1,Ne=!0,Ve=!0,Pe=!0,Ke=!0,tt=!0,ut=!0,ot=!1,Et=!1,dt=l.CallConstants.CALL_MODE.DEFAULT,qt=!1,dn=!1,nn=!1,xn=!0,pr=!0,cn={},zn=this.user;$=(new Ye.VirtualBackgroundBuilder).build(),S.getAppSettings().then(function(un){if(z=un[l.APP_SETTINGS.KEYS.WEBRTC_HOST],cn[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]=un.hasOwnProperty(l.APP_SETTINGS.KEYS.ANALYTICS_HOST)?un[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]:S.format(l.ANALYTICS.analyticsHost,D.appSettings.getRegion()),cn[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]=un.hasOwnProperty(l.APP_SETTINGS.KEYS.ANALYTICS_VERSION)?un[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]:l.ANALYTICS.analyticsVersion,cn[l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED]=!!un.hasOwnProperty(l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED)&&un[l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED],cn[l.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL]=!un.hasOwnProperty(l.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL)||un[l.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL],S.isFalsy(ue)||ie.CallController.getInstance().setCallListner(ue),S.isFalsy(te.appSettings))ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(l.CALL_ERROR.NOT_INITIALIZED));else if(U=te.appSettings.getRegion())if(zn)if((Ee=new at.RTCUser(zn.getUid())).setName(zn.getName()),Ee.setAvatar(zn.getAvatar()),Ee.setResource(D.getSessionId()),D.appId)if(Y=D.appId,"string"==typeof P){if(de){var Mn=de.getType();Ae=Mn===l.CallConstants.CALL_TYPE.AUDIO,W=de.getSessionId()}else{if(S.isFalsy(P))return void(ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(l.CALL_ERROR.SESSION_ID_REQUIRED)));W=("v1."+U+"."+D.getAppId()+"."+P).toLowerCase()}if(!W)return void(ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(l.CALL_ERROR.SESSION_ID_REQUIRED)));xn=!!Ae;var qn={uid:zn.getUid(),sessionId:W};D.getJWT(qn).then(function(yn){yn.hasOwnProperty("token")?(Ee.setJWT(yn.token),ce=(new Ye.CallSettingsBuilder).setSessionID(W).enableDefaultLayout(Ne).setIsAudioOnlyCall(Ae).setUser(Ee).setRegion(U).setAppId(Y).setDomain(z).showEndCallButton(Ke).showMuteAudioButton(Pe).showPauseVideoButton(Ve).showScreenShareButton(tt).showModeButton(ut).setMode(dt).setAnalyticsSettings(cn).startWithAudioMuted(ot).startWithVideoMuted(Et).showRecordingButton(qt).startRecordingOnCallStart(dn).forceLegacyUI(nn).showSwitchToVideoCallButton(xn).setVirtualBackground($).showVirtualBackgroundSetting(pr).build(),ie.CallController.getInstance().startCall(ce,ee)):ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(l.CALL_ERROR.JWT_NOT_FOUND))},function(yn){ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(yn))})}else{if(S.isFalsy(P))return void(ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(l.CALL_ERROR.CALL_SETTINGS_REQUIRED)));if(de)Mn=de.getType(),Ae=Mn===l.CallConstants.CALL_TYPE.AUDIO,W=de.getSessionId();else{if(Ae=P.isAudioOnlyCall(),S.isFalsy(P.getSessionId()))return void(ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(l.CALL_ERROR.SESSION_ID_REQUIRED)));W=("v1."+U+"."+D.getAppId()+"."+P.getSessionId()).toLowerCase()}if(!W)return void(ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(l.CALL_ERROR.SESSION_ID_REQUIRED)));Ne=P.isDefaultLayoutEnabled(),Ve=P.isPauseVideoButtonEnabled(),Pe=P.isMuteAudioButtonEnabled(),Ke=P.isEndCallButtonEnabled(),tt=P.isScreenShareButtonEnabled(),dt=P.getMode(),_e=P.getLocalizedStringObject(),H=P.getCustomCSS(),ut=P.isModeButtonEnabled(),ot=P.getStartWithAudioMuted(),Et=P.getStartWithVideoMuted(),qt=P.isRecordingButtonEnabled(),dn=P.shouldStartRecordingOnCallStart(),nn=P.shouldUseLegacyUI(),xn=!!Ae&&P.isAudioToVideoButtonEnabled(),$=P.getVirtualBackground(),pr=P.isVirtualBackgroundSettingEnabled(),qn={uid:zn.getUid(),sessionId:W},D.getJWT(qn).then(function(yn){yn.hasOwnProperty("token")?(Ee.setJWT(yn.token),ce=(new Ye.CallSettingsBuilder).setSessionID(W).enableDefaultLayout(Ne).setIsAudioOnlyCall(Ae).setUser(Ee).setRegion(U).setAppId(Y).setDomain(z).showEndCallButton(Ke).showMuteAudioButton(Pe).showPauseVideoButton(Ve).showScreenShareButton(tt).showModeButton(ut).setMode(dt).setLocalizedStringObject(_e).setCustomCSS(H).setAnalyticsSettings(cn).startWithAudioMuted(ot).startWithVideoMuted(Et).showRecordingButton(qt).startRecordingOnCallStart(dn).forceLegacyUI(nn).showSwitchToVideoCallButton(xn).setVirtualBackground($).showVirtualBackgroundSetting(pr).build(),ie.CallController.getInstance().startCall(ce,ee)):ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(l.CALL_ERROR.JWT_NOT_FOUND))},function(yn){ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(yn))})}else ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(l.CALL_ERROR.NOT_INITIALIZED));else ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(l.CALL_ERROR.NOT_LOGGED_IN));else ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new p.CometChatException(l.CALL_ERROR.NOT_INITIALIZED))},function(un){S.Logger.error("CometChat: startCall",un)})}catch(un){S.Logger.error("CometChat: startCall",un)}},D.getCallParticipantCount=function(P,ee){var ue=this;return new Promise(function(te,ce){try{S.getAppSettings().then(function(W){if(S.isFalsy(P))return ce(new p.CometChatException(l.ProsodyApiErrors.INVALID_SESSIONID));if(S.isFalsy(ee))return ce(new p.CometChatException(l.ProsodyApiErrors.INVALID_TYPE));var H=ue.appSettings.getRegion(),$={},U=W[l.APP_SETTINGS.KEYS.WEBRTC_HOST],Y=S.format((new T.EndpointFactory).prosodyApi,l.PROSODY_API.DOMAIN_PREFIX,U,l.PROSODY_API.PATH.ROOM_SIZE);"direct"===ee.toLowerCase()&&(P=("v1."+H+"."+D.getAppId()+"."+P).toLowerCase()),$[l.PROSODY_API.QUERY_PARAMETERS.DOMAIN]=U,$[l.PROSODY_API.QUERY_PARAMETERS.ROOM]=P,m.postData(Y,"GET",$,{},!1).then(function(z){return z.text()}).then(function(z){var _e=z?JSON.parse(z):{};return _e.hasOwnProperty(l.PROSODY_API.RESPONSE.PARTICIPANTS)?te(_e[l.PROSODY_API.RESPONSE.PARTICIPANTS]):te(0)}).catch(function(){return ce({error:pe.FETCH_ERROR.ERROR_IN_API_CALL})})},function(W){return ce(new p.CometChatException(W))})}catch(W){return ce(new p.CometChatException(W))}})},D.rejectIncomingCall=function(P){return new Promise(function(ee,ue){try{var te={};te[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.REJECTED,m.makeApiCall("updateCallSession",{sessionid:P},te).then(function(ce){var W=G.MessageController.trasformJSONMessge(ce[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);ee(W)},function(ce){ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.cancelCall=function(P){var ee=this;return new Promise(function(ue,te){try{var ce={};ce[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.CANCELLED,m.makeApiCall("updateCallSession",{sessionid:P},ce).then(function(W){var H=G.MessageController.trasformJSONMessge(W[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);ee.getActiveCall().getSessionId()===P&&ie.CallController.getInstance().endCallSession(),ue(H)},function(W){te(new p.CometChatException(W.error))})}catch(W){te(new p.CometChatException(W))}})},D.sendBusyResponse=function(P){return new Promise(function(ee,ue){try{var te={};te[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.BUSY,m.makeApiCall("updateCallSession",{sessionid:P},te).then(function(ce){var W=G.MessageController.trasformJSONMessge(ce[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);ee(W)},function(ce){ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.sendUnansweredResponse=function(P){return new Promise(function(ee,ue){try{var te={};te[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.UNANSWERED,m.makeApiCall("updateCallSession",{sessionid:P},te).then(function(ce){var W=G.MessageController.trasformJSONMessge(ce[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);Ft.publishCallMessage(W),ee(W)},function(ce){ue(new p.CometChatException(ce.error))})}catch(ce){ue(new p.CometChatException(ce))}})},D.addConnectionListener=function(P,ee){try{Wt.addConnectionEventListener(P,ee)}catch(ue){S.Logger.error("CometChat: addConnectionListener",ue)}},D.removeConnectionListener=function(P){try{Wt.removeConnectionEventListener(P)}catch(ee){S.Logger.error("CometChat: removeConnectionListener",ee)}},D.addMessageListener=function(P,ee){try{Wt.addMessageEventListener(P,ee)}catch(ue){S.Logger.error("CometChat: addMessageListener",ue)}},D.removeMessageListener=function(P){try{Wt.removeMessageEventListener(P)}catch(ee){S.Logger.error("CometChat: removeMessageListener",ee)}},D.addCallListener=function(P,ee){try{Wt.addCallEventListener(P,ee)}catch(ue){S.Logger.error("CometChat: addCallListener",ue)}},D.removeCallListener=function(P){try{Wt.removeCallEventListener(P)}catch(ee){S.Logger.error("CometChat: removeCallListener",ee)}},D.addUserListener=function(P,ee){try{Wt.addUserEventListener(P,ee)}catch(ue){S.Logger.error("CometChat: addUserListener",ue)}},D.removeUserListener=function(P){try{Wt.removeUserEventListener(P)}catch(ee){S.Logger.error("CometChat: removeUserListener",ee)}},D.addGroupListener=function(P,ee){try{Wt.addGroupEventListener(P,ee)}catch(ue){S.Logger.error("CometChat: addGroupListener",ue)}},D.removeGroupListener=function(P){try{Wt.removeGroupEventListener(P)}catch(ee){S.Logger.error("CometChat: removeGroupListener",ee)}},D.addLoginListener=function(P,ee){try{Wt.addLoginEventListener(P,ee)}catch(ue){S.Logger.error("CometChat: addLoginListener",ue)}},D.removeLoginListener=function(P){try{Wt.removeLoginEventListener(P)}catch(ee){S.Logger.error("CometChat: removeLoginListener",ee)}},D.generateAuthToken=function(P){var ee=this;return new Promise(function(ue,te){try{var W="",H="",$=l.APPINFO.platform,U=l.APPINFO.sdkVersion,Y=l.APPINFO.apiVersion;navigator&&(H=navigator.userAgent),D.keyStore.get(l.LOCAL_STORE.KEY_DEVICE_ID).then(function(z){if(null==(W=z)){var _e=mn(),Ee=(new Date).getTime();D.keyStore.set(l.LOCAL_STORE.KEY_DEVICE_ID,W=ee.appId+"_"+_e+"_"+Ee)}m.makeApiCall("authToken",{uid:P},{platform:$,deviceId:W,appInfo:{version:U,apiVersion:Y,userAgent:H}}).then(function(de){ue(de.data)}).catch(function(de){te(new p.CometChatException(de.error))})},function(z){S.Logger.error("Got error while fetching data from key store",z)})}catch(z){te(new p.CometChatException(z))}})},D.tryReconnectingToWS=function(){D.WSReconnectionInProgress||D.startWSReconnectionTimer()},D.prototype.makeWSConnection=function(){D.WSLogin(D.user)},D.prototype.accidentallyDisconnected=function(){D.currentConnectionStatus=l.CONNECTION_STATUS.CONNECTING,Wt.connectionHandlers.map(function(P){try{P._eventListener&&(S.isFalsy(P._eventListener.inConnecting)||P._eventListener.inConnecting())}catch(ee){S.Logger.error("ConnectionHandlers: inConnecting Status",ee)}}),D.tryReconnectingToWS()},D.WSLogin=function(P){var ee=this;Ft.connection?S.Logger.error("CometChat :: WSLogin",Ft.connection):Ft.WSLogin(P.getJWT(),function(ue){switch(ue){case En.READY_STATE.CONNECTING:(te=D.getConnectionStatus())==l.CONNECTION_STATUS.DISCONNECTED&&(ee.currentConnectionStatus=l.CONNECTION_STATUS.CONNECTING,Wt.connectionHandlers.map(function(ce){try{ce._eventListener&&(S.isFalsy(ce._eventListener.inConnecting)||ce._eventListener.inConnecting())}catch(W){S.Logger.error("connectionHandlers: Connecting Status",W)}}));break;case En.READY_STATE.OPEN:(te=D.getConnectionStatus())==l.CONNECTION_STATUS.CONNECTING&&(ee.currentConnectionStatus=l.CONNECTION_STATUS.CONNECTED,Wt.connectionHandlers.map(function(ce){try{ce._eventListener&&(S.isFalsy(ce._eventListener.onConnected)||ce._eventListener.onConnected())}catch(W){S.Logger.error("connectionHandlers: Connected Status",W)}})),D.WSReconnectionInProgress&&D.clearWSReconnectionTimer();break;case En.READY_STATE.CLOSING:break;case En.READY_STATE.CLOSED:var te;(te=D.getConnectionStatus())!==l.CONNECTION_STATUS.DISCONNECTED&&te!==l.CONNECTION_STATUS.CONNECTING&&(ee.currentConnectionStatus=l.CONNECTION_STATUS.DISCONNECTED,Wt.connectionHandlers.map(function(ce){try{ce._eventListener&&(S.isFalsy(ce._eventListener.onDisconnected)||ce._eventListener.onDisconnected())}catch(W){S.Logger.error("connectionHandlers: Disconnected Status",W)}})),Ft.connection&&(Ft.connection=null),D.isLoggedOut||D.disconnectedByUser||ee.tryReconnectingToWS()}})},D.pingAnalytics=function(){var P=this;try{D.keyStore.get("deviceId").then(function(ee){var ue=null;window&&window.location&&window.location.origin&&(ue=window.location.origin);var te="",ce=ee,W={version:l.SDKHeader.sdkVersion,apiVersion:l.APPINFO.apiVersion,origin:ue,uts:(new Date).getTime()};S.isFalsy(P.resource)||(W.resource=P.resource),S.isFalsy(P.platform)||(W.platform=P.platform),S.isFalsy(P.language)||(W.language=P.language),navigator&&(te=navigator.userAgent);var H={appInfo:W,uid:D.user.getUid(),userAgent:te,deviceId:ce,platform:l.SDKHeader.platform};S.isFalsy(D.getSessionId())||(H.wsId=D.getSessionId()),D.analyticsHost||(D.analyticsHost=S.format(l.ANALYTICS.analyticsHost,D.appSettings.getRegion())),D.analyticsVersion||(D.analyticsVersion=l.ANALYTICS.analyticsVersion);var $="https://"+D.analyticsHost+"/"+D.analyticsVersion+"/ping",U={appId:D.appId,sdk:S.format(l.SDKHeader.sdk,l.SDKHeader.platform,l.SDKHeader.sdkVersion),"Content-Type":"application/json"};D.settingsHash&&(U.settingsHash=D.settingsHash),D.settingsHashReceivedAt&&(U.settingsHashReceivedAt=D.settingsHashReceivedAt),D.jwt&&(U.Authorization="Bearer "+D.jwt),D.authToken&&(U.authToken=D.authToken),m.postData($,"POST",H,U,!1).then(function(Y){return Y.json()}).then(function(Y){if(Y.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_DATA))S.Logger.log("Analytics Ping Request Data",Y[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);else if(Y.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_ERROR)){var z=Y[l.ResponseConstants.RESPONSE_KEYS.KEY_ERROR];S.Logger.log("Analytics Ping Request Error",new p.CometChatException(z));var _e=z.code;if(_e===l.Errors.ERR_SETTINGS_HASH_OUTDATED){var Ee=D.authToken;D.getInstance().internalRestart(Ee)}_e===l.Errors.ERR_NO_AUTH&&P.updateJWT()}}).catch(function(Y){S.Logger.error("CometChat: pingAnalytics Fetch Error",Y)})})}catch(ee){S.Logger.error("CometChat: pingAnalytics",ee)}},D.updateJWT=function(){m.makeApiCall("getMyDetails",{},{},!1).then(function(P){var ee=P.data,ue=ee.settings,te=new M.Me(ee);if(ee.hasOwnProperty("jwt")&&ee.jwt&&(D.jwt=ee.jwt),y.LocalStorage.getInstance().set("user",te),ue&&ue[l.APP_SETTINGS.KEYS.SETTINGS_HASH]&&D.settingsHash!==ue[l.APP_SETTINGS.KEYS.SETTINGS_HASH]){var ce=D.getInstance().getAuthToken();D.getInstance().internalRestart(ce)}S.Logger.log("CometChat: updateJWT response",P)},function(P){S.Logger.error("CometChat: updateJWT Fetch Error",P)}).catch(function(P){S.Logger.error("CometChat: updateJWT",P)})},D.startAnalyticsPingTimer=function(){var P=this;D.isAnalyticsPingStarted=!0,D.analyticsPingTimer=setInterval(function(){try{P.pingAnalytics()}catch(ee){S.Logger.error("CometChat: startAnalyticsPingTimer",ee)}},D.settingsInterval)},D.clearAnalyticsPingTimer=function(){try{D.isAnalyticsPingStarted=!1,clearInterval(D.analyticsPingTimer)}catch(P){S.Logger.error("CometChat: clearAnalyticsPingTimer",P)}},D.startWSReconnectionTimer=function(){D.WSReconnectionInProgress=!0,D.WSReconnectionTimer=setInterval(function(){try{D.WSLogin(D.user)}catch(P){S.Logger.error("CometChat: startWSReconnectionTimer",P)}},D.WSReconnectionTimerInterval)},D.clearWSReconnectionTimer=function(){D.WSReconnectionInProgress=!1,clearInterval(D.WSReconnectionTimer)},D.getJWT=function(P){return new Promise(function(ee,ue){try{bn.getEndPoint("getJWT").then(function(te){var ce={appId:D.appId,Accept:"application/json",authToken:D.authToken,resource:D.getSessionId(),sdk:S.format(l.SDKHeader.sdk,l.SDKHeader.platform,l.SDKHeader.sdkVersion),"Content-Type":"application/json"},W={};W[l.JWT_API.KEYS.PASSTHROUGH]=P,m.postData(te.endpoint,te.method,W,ce,!1).then(function(H){return H.json()}).then(function(H){H.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?ee(H[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]):ue(new p.CometChatException(H.error))}).catch(function(H){ue(new p.CometChatException({error:pe.FETCH_ERROR.ERROR_IN_API_CALL}))})},function(te){ue(new p.CometChatException(te))})}catch(te){ue(new p.CometChatException(te))}})},D.getConnectionStatus=function(){return this.currentConnectionStatus},D.prototype.setConnectionStatus=function(P){D.currentConnectionStatus=P},D.isExtensionEnabled=function(P){return new Promise(function(ee,ue){try{if(S.isFalsy(P))return ue(new p.CometChatException(l.ExtensionErrors.INVALID_EXTENSION));S.getAppSettings().then(function(te){if(te.extensions){var ce=te.extensions;if(0<ce.length){var W=ce.some(function(H){return H.id===P});return ee(W)}return ee(!1)}return ue(new p.CometChatException(l.ExtensionErrors.EXTENSION_NOT_FOUND))},function(te){return ue(new p.CometChatException(te))})}catch(te){return ue(new p.CometChatException(te))}})},D.getExtensionDetails=function(P){return new Promise(function(ee,ue){try{if(S.isFalsy(P))return ue(new p.CometChatException(l.ExtensionErrors.INVALID_EXTENSION));S.getAppSettings().then(function(te){if(te.extensions){var ce=te.extensions;if(0<ce.length){var W=ce.filter(function($){return $.id===P});if(0<W.length){var H=new Wn.CCExtension(W[0]);return ee(H)}return ue(new p.CometChatException(l.ExtensionErrors.EXTENSION_NOT_FOUND))}return ue(new p.CometChatException(l.ExtensionErrors.EXTENSION_NOT_FOUND))}return ue(new p.CometChatException(l.ExtensionErrors.EXTENSION_NOT_FOUND))},function(te){return ue(new p.CometChatException(te))})}catch(te){return ue(new p.CometChatException(te))}})},D.getAppSettings=function(){return new Promise(function(P,ee){try{m.makeApiCall("appSettings").then(function(ue){y.LocalStorage.getInstance().set(l.LOCAL_STORE.KEY_APP_SETTINGS,ue.data),P(ue.data)},function(ue){ee(new p.CometChatException(ue.error))})}catch(ue){ee(new p.CometChatException(ue))}})},D.isFeatureEnabled=function(P){return new Promise(function(ee,ue){try{if(S.isFalsy(P))return ue(new p.CometChatException(l.FeatureRestrictionErrors.INVALID_FEATURE));S.getAppSettings().then(function(te){if(te.parameters){var ce=te.parameters;return ce.hasOwnProperty(P)?ee(ce[P]):ee(!1)}return ue(new p.CometChatException(l.FeatureRestrictionErrors.FEATURE_NOT_FOUND))},function(te){return ue(new p.CometChatException(te))})}catch(te){return ue(new p.CometChatException(te))}})},D.logout=function(){var P=this;return new Promise(function(ee,ue){try{D.didAnalyticsPingStart()&&D.clearAnalyticsPingTimer(),D.WSReconnectionInProgress&&D.clearWSReconnectionTimer(),D.isLoggedOut=!0,D.WSReconnectionInProgress=!1,D.isAnalyticsDisabled=!1,m.makeApiCall("userLogout").then(function(te){P.clearCache().then(function(){D.apiKey=void 0,D.user=void 0,D.authToken=void 0,D.cometChat=void 0,D.mode=void 0,Ft.WSLogout(),D.pushToLoginListener("","Logout_Success"),ee(te.data)})},function(te){P.clearCache().then(function(){D.apiKey=void 0,D.user=void 0,D.authToken=void 0,D.cometChat=void 0,D.mode=void 0,Ft.WSLogout(),D.pushToLoginListener("","Logout_Success"),new p.CometChatException(te.error).code==pe.SERVER_ERRORS.AUTH_ERR.code?ee({}):ue(new p.CometChatException(te.error))})})}catch(te){ue(new p.CometChatException(te))}})},D.callExtension=function(P,ee,ue,te){return void 0===te&&(te={}),new Promise(function(ce,W){var H=S.format((new T.EndpointFactory).extensionApi,P,D.appSettings.getRegion(),ue),$={appId:D.appId,Accept:"application/json",authToken:D.authToken,resource:D.getSessionId(),sdk:S.format(l.SDKHeader.sdk,l.SDKHeader.platform,l.SDKHeader.sdkVersion),chatApiVersion:l.APPINFO.apiVersion,"Content-Type":"application/json"};m.postData(H,ee,te,$,!1).then(function(U){return U.json()}).then(function(U){U.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?ce(U[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]):W(new p.CometChatException(U.error))}).catch(function(U){W({error:pe.FETCH_ERROR.ERROR_IN_API_CALL})})})},D.setSource=function(P,ee,ue){S.isFalsy(P)||(this.resource=P),S.isFalsy(ee)||(this.platform=ee),S.isFalsy(ue)||(this.language=ue)},D.clearCache=function(){return new Promise(function(P,ee){try{y.LocalStorage.getInstance().clearStore().then(function(){D.removeDataFromSessionStorage(l.SESSION_STORE.SESSION_ID),S.Logger.info("CometChat: clearCache => All store cleared successfully","true"),P(!0)})}catch(ue){S.Logger.error("CometChat: clearCache",ue),ee(ue)}})},D.connect=function(){D.user&&(Ft.connection||(D.disconnectedByUser=!1,D.WSLogin(D.user)),D.didAnalyticsPingStart()||D.isAnalyticsDisabled||(D.pingAnalytics(),D.startAnalyticsPingTimer()))},D.disconnect=function(){D.user&&(D.disconnectedByUser=!0,Ft.connection&&Ft.WSLogout(),D.didAnalyticsPingStart()&&D.clearAnalyticsPingTimer())},D.prototype.internalRestart=function(P){D.internalRestart||D.getInstance().internalLogout(!1).then(function(){D.internalRestart=!0,D.login(P).then(function(ee){D.shouldConnectToWS=!0,D.internalRestart=!1},function(ee){S.Logger.error("CometChat: internalRestart :: login",ee),D.internalRestart=!1})},function(ee){S.Logger.error("CometChat: internalRestart :: internalLogout",ee)})},D.prototype.internalLogout=function(P){return void 0===P&&(P=!0),new Promise(function(ee,ue){try{D.didAnalyticsPingStart()&&D.clearAnalyticsPingTimer(),D.WSReconnectionInProgress&&D.clearWSReconnectionTimer(),D.isLoggedOut=!0,D.WSReconnectionInProgress=!1,D.isAnalyticsDisabled=!1,D.clearCache().then(function(){D.apiKey=void 0,D.user=void 0,D.authToken=void 0,D.cometChat=void 0,D.mode=void 0,Ft.WSLogout(),P&&D.pushToLoginListener("","Logout_Success"),ee(!0)})}catch(te){S.Logger.error("CometChat: internalLogout",te),ue(te)}})},D.initialzed=!1,D.CometChatException=p.CometChatException,D.TextMessage=x.TextMessage,D.MediaMessage=F.MediaMessage,D.CustomMessage=qe.CustomMessage,D.Action=De.Action,D.Call=oe.Call,D.TypingIndicator=Me.TypingIndicator,D.TransientMessage=Nn.TransientMessage,D.Group=Q.Group,D.User=M.User,D.GroupMember=st.GroupMember,D.Conversation=je.Conversation,D.USER_STATUS={ONLINE:l.PresenceConstatnts.STATUS.ONLINE,OFFLINE:l.PresenceConstatnts.STATUS.OFFLINE},D.MessagesRequest=le.MessagesRequest,D.MessagesRequestBuilder=le.MessagesRequestBuilder,D.UsersRequest=Ce.UsersRequest,D.UsersRequestBuilder=Ce.UsersRequestBuilder,D.ConversationsRequest=re.ConversationsRequest,D.ConversationsRequestBuilder=re.ConversationsRequestBuilder,D.BlockedUsersRequest=mt.BlockedUsersRequest,D.BlockedUsersRequestBuilder=mt.BlockedUsersRequestBuilder,D.GroupsRequest=ae.GroupsRequest,D.GroupsRequestBuilder=ae.GroupsRequestBuilder,D.GroupMembersRequest=Se.GroupMembersRequest,D.GroupMembersRequestBuilder=Se.GroupMembersRequestBuilder,D.BannedMembersRequest=Be.BannedMembersRequest,D.BannedMembersRequestBuilder=Be.BannedMembersRequestBuilder,D.CallSettings=Ye.CallSettings,D.CallSettingsBuilder=Ye.CallSettingsBuilder,D.VirtualBackground=Ye.VirtualBackground,D.VirtualBackgroundBuilder=Ye.VirtualBackgroundBuilder,D.AppSettings=Qe.AppSettings,D.AppSettingsBuilder=Qe.AppSettingsBuilder,D.MessageListener=Z.MessageListener,D.UserListener=Z.UserListener,D.GroupListener=Z.GroupListener,D.OngoingCallListener=Z.OngoingCallListener,D.CallListener=Z.CallListener,D.ConnectionListener=Z.ConnectionListener,D.LoginListener=Z.LoginListener,D.CallController=ie.CallController,D.CometChatHelper=ht.CometChatHelper,D.Attachment=be.Attachment,D.MediaDevice=Jt.MediaDevice,D.MESSAGE_TYPE=l.MessageConstatnts.TYPE,D.CATEGORY_MESSAGE=l.MessageConstatnts.CATEGORY.MESSAGE,D.CATEGORY_ACTION=l.MessageConstatnts.CATEGORY.ACTION,D.CATEGORY_CALL=l.MessageConstatnts.CATEGORY.CALL,D.CATEGORY_CUSTOM=l.MessageConstatnts.CATEGORY.CUSTOM,D.ACTION_TYPE=l.ActionConstatnts.ACTIONS,D.CALL_TYPE=l.CallConstants.CALL_TYPE,D.RECEIVER_TYPE=l.MessageConstatnts.RECEIVER_TYPE,D.CALL_STATUS=l.CallConstants.CALL_STATUS,D.GROUP_MEMBER_SCOPE=l.GROUP_MEMBER_SCOPE,D.GROUP_TYPE=l.GROUP_TYPE,D.MESSAGE_REQUEST=l.MessageConstatnts.PAGINATION.CURSOR_FILEDS,D.CONNECTION_STATUS=l.CONNECTION_STATUS,D.CALL_MODE=l.CallConstants.CALL_MODE,D.SORT_BY=l.UserConstants.SORT_BY,D.SORT_ORDER=l.UserConstants.SORT_ORDER,D.WSReconnectionInProgress=!1,D.WSReconnectionTimerInterval=5e3,D.currentConnectionStatus=l.CONNECTION_STATUS.DISCONNECTED,D.isConnectingFromInit=!1,D.loginInProgress=!1,D.internalRestart=!1,D.settingsInterval=6e4,D.isAnalyticsPingStarted=!1,D.isLoggedOut=!0,D.isAnalyticsDisabled=!1,D.disconnectedByUser=!1,D.shouldConnectToWS=!0,D}();g.CometChat=_t},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(M,y){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,O){F.__proto__=O}||function(F,O){for(var x in O)O.hasOwnProperty(x)&&(F[x]=O[x])})(M,y)},function(M,y){function F(){this.constructor=M}_(M,y),M.prototype=null===y?Object.create(y):(F.prototype=y.prototype,new F)});g.__esModule=!0,g.Me=g.User=void 0;var v=i(2),T=i(14),S=i(1),p=function(){function M(){for(var y=[],F=0;F<arguments.length;F++)y[F]=arguments[F];if(this.hasBlockedMe=!1,this.blockedByMe=!1,this.deactivatedAt=0,1===y.length)typeof y[0]===S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?this.uid=y[0]:(this.uid=y[0].uid,this.name=y[0].name,y[0].authToken&&(this.authToken=y[0].authToken),y[0].avatar&&(this.avatar=y[0].avatar),y[0].lastActiveAt&&(this.lastActiveAt=y[0].lastActiveAt),y[0].link&&(this.link=y[0].link),y[0].metadata&&(this.metadata=y[0].metadata),y[0].role&&(this.role=y[0].role),y[0].statusMessage&&(this.statusMessage=y[0].statusMessage),this.status=y[0].status&&"offline"!==y[0].status?"online":"offline",y[0].tags&&(this.tags=y[0].tags),y[0].deactivatedAt&&(this.deactivatedAt=y[0].deactivatedAt));else{if(2!==y.length)throw new v.CometChatException(T.ERRORS.PARAMETER_MISSING);this.uid=y[0],this.name=y[1]}}return M.prototype.getUid=function(){return this.uid.toString()},M.prototype.setUid=function(y){this.uid=y},M.prototype.getName=function(){return this.name.toString()},M.prototype.setName=function(y){y&&(this.name=y)},M.prototype.getAuthToken=function(){return this.authToken},M.prototype.setAuthToken=function(y){this.authToken=y},M.prototype.getAvatar=function(){return this.avatar},M.prototype.setAvatar=function(y){this.avatar=y},M.prototype.getLastActiveAt=function(){return this.lastActiveAt},M.prototype.setLastActiveAt=function(y){this.lastActiveAt=y},M.prototype.getLink=function(){return this.link},M.prototype.setLink=function(y){return this.link=y},M.prototype.getMetadata=function(){return this.metadata},M.prototype.setMetadata=function(y){this.metadata=y},M.prototype.getRole=function(){return this.role},M.prototype.setRole=function(y){this.role=y},M.prototype.getStatus=function(){return this.status},M.prototype.setStatus=function(y){this.status=y},M.prototype.getStatusMessage=function(){return this.statusMessage},M.prototype.setStatusMessage=function(y){this.statusMessage=y},M.prototype.setBlockedByMe=function(y){this.blockedByMe=y},M.prototype.getBlockedByMe=function(){return this.blockedByMe},M.prototype.setHasBlockedMe=function(y){this.hasBlockedMe=y},M.prototype.getHasBlockedMe=function(){return this.hasBlockedMe},M.prototype.setTags=function(y){this.tags=y},M.prototype.getTags=function(){return this.tags},M.prototype.setDeactivatedAt=function(y){this.deactivatedAt=y},M.prototype.getDeactivatedAt=function(){return this.deactivatedAt},M}(),m=function(M){function y(F){var O=M.call(this,F)||this;return O.wsChannel=F.wsChannel,F.jwt&&(O.jwt=F.jwt),O}return d(y,M),y.prototype.getWsChannel=function(){return this.wsChannel},y.prototype.getJWT=function(){return this.jwt},y}(g.User=p);g.Me=m},function(Le,g,i){"use strict";g.__esModule=!0,g.KEYS=g.AUTH=g.MESSAGE=g.PRESENCE=g.RECEIPTS=g.TRANSIENT_MESSAGE=g.TYPING_INDICATOR=g.LOGOUT_REASON=g.LOGOUT_CODE=g.READY_STATE=g.WS=void 0,g.WS={protocol:"wss://"},g.READY_STATE={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3,INVALID_JWT:4},g.LOGOUT_CODE=1e3,g.LOGOUT_REASON="User logged out",g.TYPING_INDICATOR={TYPE:"typing_indicator",ACTION:{STARTED:"started",ENDED:"ended"}},g.TRANSIENT_MESSAGE={TYPE:"transient_message"},g.RECEIPTS={TYPE:"receipts",ACTION:{READ:"read",DELIVERED:"delivered"},RECEIPT_TYPE:{READ_RECEIPT:"read",DELIVERY_RECEIPT:"delivery"}},g.PRESENCE={TYPE:"presence",ACTION:{ONLINE:"online",AVAILABLE:"available",OFFLINE:"offline"}},g.MESSAGE={TYPE:"message"},g.AUTH={TYPE:"auth"},g.KEYS={TYPE:"type",ACTION:"action",APP_ID:"appId",RECEIVER:"receiver",RECEIVER_TYPE:"receiverType",DEVICE_ID:"deviceId",BODY:"body",USER:"user",METADATA:"metadata",MESSAGE_ID:"messageId",TIMESTAMP:"timestamp",STATUS:"status",CODE:"code",SENDER:"sender",MESSAGE_SENDER:"messageSender",PRESENCE_SUBSCRIPTION:"presenceSubscription",AUTH:"auth",PING:"ping",DATA:"data",PARAMS:"params",ACK:"ack",PONG:"pong"}},function(Le,g,i){"use strict";g.__esModule=!0,g.postData=g.makeAdminApiCall=g.makeApiCall=void 0;var _=i(29),d=i(3),v=i(0),T=i(2),S=i(14),p=i(1);function m(M,y,F,O,x){var G;return void 0===M&&(M=""),void 0===y&&(y="GET"),void 0===F&&(F={}),void 0===O&&(O={}),F=v.isFalsy(F)?void 0:("GET"==y&&(M+="?",Object.keys(F).map(function(L,l){M=l===Object.keys(F).length-1?M+L+"="+F[L]:M+L+"="+F[L]+"&"}),F=void 0),x&&(G=new FormData,Object.keys(F).map(function(L){if("data"!=L){if("tags"==L)G.append(L+"[]",F[L]);else if("metadata"!=L)if("files"===L)for(var l=0;l<F[L].length;l++)G.append(L+"[]",F[L][l]);else G.append(L,F[L])}else G.append(L,JSON.stringify(F[L]))})),JSON.stringify(F)),fetch(M,{method:y,mode:"cors",cache:"no-cache",headers:O,redirect:"follow",referrer:"no-referrer",body:x?G:F})}g.makeApiCall=function(M,y,F,O){void 0===M&&(M=""),void 0===y&&(y={}),void 0===F&&(F={});var x=d.CometChat.getInstance(d.CometChat.getAppId());return new Promise(function(G,L){try{_.getEndPoint(M,y).then(function(l){var Q={resource:d.CometChat.getSessionId(),appId:d.CometChat.getAppId(),Accept:"application/json",sdk:v.format(p.SDKHeader.sdk,p.SDKHeader.platform,p.SDKHeader.sdkVersion)};O||(Q["Content-Type"]="application/json"),l.hasOwnProperty("isAdminApi")&&l.isAdminApi?x.getApiKey()?Q.apiKey=x.getApiKey():L({error:{code:"API_KEY_NOT_SET",message:"An apiKey is needed to use the "+M+" api.",name:"API_KEY_NOT_SET"}}):x.getAuthToken()?Q.authToken=x.getAuthToken():L({error:{code:"USER_NOT_LOGED_IN",message:"An authToken is need to use the "+M+" end-point. PS- We are aware of the spelling mistake, but in order to maintain backward compatibility we cannot change it :(",name:"User not logged-in"}}),m(l.endpoint,l.method,F,Q,O).then(function(ne){return ne.json()}).then(function(ne){if(ne.hasOwnProperty("data"))ne.data.hasOwnProperty("authToken")&&d.CometChat.setAuthToken(ne.data.authToken),G(ne);else{if(ne.hasOwnProperty("error")){var Re=ne.error;Re.hasOwnProperty("code")&&Re.code===p.API_ERROR_CODES.AUTH_ERR_AUTH_TOKEN_NOT_FOUND&&d.CometChat.getInstance().internalLogout().then(function(){v.Logger.log("CometChat: makeApiCall","User logged out")})}L(ne)}}).catch(function(ne){L({error:S.FETCH_ERROR.ERROR_IN_API_CALL})})}).catch(function(l){return L})}catch(l){L(new T.CometChatException(l))}})},g.makeAdminApiCall=function(M,y,F,O){void 0===M&&(M=""),void 0===y&&(y={}),void 0===F&&(F={});var x=d.CometChat.getInstance(d.CometChat.getAppId());return new Promise(function(G,L){_.getEndPoint(M,y).then(function(l){var Q={appId:d.CometChat.getAppId(),Accept:"application/json",sdk:v.format(p.SDKHeader.sdk,p.SDKHeader.platform,p.SDKHeader.sdkVersion)};O||(Q["Content-Type"]="application/json"),l.hasOwnProperty("isAdminApi")&&l.isAdminApi?x.getApiKey()?Q.apiKey=x.getApiKey():L({error:"An apiKey is need to use the "+M+" api."}):x.getAuthToken()?Q.authToken=x.getAuthToken():L({error:"An authToken is need to use the "+M+" api."}),m(l.endpoint,l.method,F,Q,O).then(function(ne){return ne.json()}).then(function(ne){ne.hasOwnProperty("data")?(ne.data.hasOwnProperty("authToken")&&d.CometChat.setAuthToken(ne.data.authToken),G(ne)):L(ne)}).catch(function(ne){L({error:S.FETCH_ERROR.ERROR_IN_API_CALL})})}).catch(function(l){return L})})},g.postData=m},function(Le,g,i){"use strict";g.__esModule=!0,g.BaseMessage=void 0;var _=function(){function d(v,T,S,p){this.receiverId=v,this.type=T,this.receiverType=S,this.category=p}return d.prototype.getId=function(){return this.id},d.prototype.setId=function(v){this.id=v},d.prototype.getConversationId=function(){return this.conversationId},d.prototype.setConversationId=function(v){this.conversationId=v},d.prototype.getParentMessageId=function(){return this.parentMessageId},d.prototype.setParentMessageId=function(v){this.parentMessageId=v},d.prototype.getMuid=function(){return this.muid},d.prototype.setMuid=function(v){this.muid=v},d.prototype.getSender=function(){return this.sender},d.prototype.setSender=function(v){this.sender=v},d.prototype.getReceiver=function(){return this.receiver},d.prototype.setReceiver=function(v){this.receiver=v},d.prototype.getReceiverId=function(){return this.receiverId},d.prototype.setReceiverId=function(v){this.receiverId=v},d.prototype.getType=function(){return this.type},d.prototype.setType=function(v){this.type=v},d.prototype.getReceiverType=function(){return this.receiverType},d.prototype.setReceiverType=function(v){this.receiverType=v},d.prototype.getSentAt=function(){return this.sentAt},d.prototype.setSentAt=function(v){this.sentAt=v},d.prototype.getStatus=function(){return this.status},d.prototype.setStatus=function(v){this.status=v},d.prototype.getDeliveredAt=function(){return this.deliveredAt},d.prototype.setDeliveredAt=function(v){this.deliveredAt=v},d.prototype.getDeliveredToMeAt=function(){return this.deliveredToMeAt},d.prototype.setDeliveredToMeAt=function(v){this.deliveredToMeAt=v},d.prototype.getReadAt=function(){return this.readAt},d.prototype.setReadAt=function(v){this.readAt=v},d.prototype.getReadByMeAt=function(){return this.readByMeAt},d.prototype.setReadByMeAt=function(v){this.readByMeAt=v},d.prototype.getCategory=function(){return this.category},d.prototype.setCategory=function(v){this.category=v},d.prototype.getEditedAt=function(){return this.editedAt},d.prototype.setEditedAt=function(v){this.editedAt=v},d.prototype.getEditedBy=function(){return this.editedBy},d.prototype.setEditedBy=function(v){this.editedBy=v},d.prototype.getDeletedAt=function(){return this.deletedAt},d.prototype.setDeletedAt=function(v){this.deletedAt=v},d.prototype.getDeletedBy=function(){return this.deletedBy},d.prototype.setDeletedBy=function(v){this.deletedBy=v},d.prototype.getReplyCount=function(){return this.replyCount},d.prototype.setReplyCount=function(v){this.replyCount=v},d.prototype.getRawMessage=function(){return this.rawMessage},d.prototype.setRawMessage=function(v){this.rawMessage=v},d}();g.BaseMessage=_},function(Le,g,i){"use strict";g.__esModule=!0,g.Group=void 0;var _=i(1),d=function(){function v(T,S,p,m,M,y,F){this.hasJoined=!1,this.membersCount=0,this.guid=T,S&&(this.name=S),p&&(this.type=p),!m&&""!==m||"password"!=p||(this.password=m),(M||""===M)&&(this.icon=M),(y||""===y)&&(this.description=y),F&&(this.hasJoined=F)}return v.prototype.getGuid=function(){return this.guid},v.prototype.setGuid=function(T){this.guid=T},v.prototype.getName=function(){return this.name},v.prototype.setName=function(T){T&&(this.name=T)},v.prototype.getType=function(){return this.type},v.prototype.setType=function(T){this.type=T},v.prototype.getPassword=function(){return this.password},v.prototype.setPassword=function(T){this.password=T},v.prototype.getIcon=function(){return this.icon},v.prototype.setIcon=function(T){this.icon=T},v.prototype.getDescription=function(){return this.description},v.prototype.setDescription=function(T){this.description=T},v.prototype.getOwner=function(){return this.owner},v.prototype.setOwner=function(T){this.owner=T},v.prototype.getMetadata=function(){return this.metadata},v.prototype.setMetadata=function(T){this.metadata=T},v.prototype.getCreatedAt=function(){return this.createdAt},v.prototype.setCreatedAt=function(T){this.createdAt=T},v.prototype.getUpdatedAt=function(){return this.updatedAt},v.prototype.setUpdatedAt=function(T){this.updatedAt=T},v.prototype.getHasJoined=function(){return this.hasJoined},v.prototype.setHasJoined=function(T){this.hasJoined=T},v.prototype.getWsChannel=function(){return this.wsChannel},v.prototype.setWsChannel=function(T){this.wsChannel=T},v.prototype.setScope=function(T){this.scope=T},v.prototype.getScope=function(){return this.scope},v.prototype.getJoinedAt=function(){return this.joinedAt},v.prototype.setJoinedAt=function(T){this.joinedAt=T},v.prototype.getMembersCount=function(){return this.membersCount},v.prototype.setMembersCount=function(T){this.membersCount=T},v.prototype.setTags=function(T){this.tags=T},v.prototype.getTags=function(){return this.tags},v.Type=v.TYPE=_.GroupType,v}();g.Group=d},function(Le,g,i){"use strict";g.__esModule=!0,g.CometChatEvent=void 0;var _=i(0),d=i(5),v=function(){function T(S,p,m,M,y,F){_.isFalsy(S)||(this.appId=S),_.isFalsy(p)||(this.receiver=p),_.isFalsy(m)||(this.receiverType=m),_.isFalsy(y)||(this.deviceId=y),_.isFalsy(M)||(this.sender=M),_.isFalsy(F)||(this.messageSender=F)}return T.prototype.getAppId=function(){return this.appId},T.prototype.setAppId=function(S){this.appId=S},T.prototype.getReceiver=function(){return this.receiver},T.prototype.setReceiver=function(S){this.receiver=S},T.prototype.getSender=function(){return this.sender},T.prototype.setSender=function(S){this.sender=S},T.prototype.getReceiverType=function(){return this.receiverType},T.prototype.setReceiverType=function(S){this.receiverType=S},T.prototype.getType=function(){return this.type},T.prototype.setType=function(S){this.type=S},T.prototype.getDeviceId=function(){return this.deviceId},T.prototype.setDeviceId=function(S){this.deviceId=S},T.prototype.getMessageSender=function(){return this.messageSender},T.prototype.setMessageSender=function(S){this.messageSender=S},T.prototype.getCometChatEventJSON=function(){var S={};return S[d.KEYS.APP_ID]=this.getAppId(),S[d.KEYS.RECEIVER]=this.getReceiver(),S[d.KEYS.RECEIVER_TYPE]=this.getReceiverType(),S[d.KEYS.DEVICE_ID]=this.getDeviceId(),S[d.KEYS.TYPE]=this.getType(),S[d.KEYS.SENDER]=this.getSender(),_.isFalsy(this.getMessageSender())||(S[d.KEYS.MESSAGE_SENDER]=this.getMessageSender()),S},T}();g.CometChatEvent=v},function(Le,g,i){"use strict";g.__esModule=!0,g.MessageController=void 0;var _=i(7),d=i(16),v=i(17),T=i(0),S=i(1),p=i(20),m=i(21),M=i(22),y=i(2),F=i(18),O=i(19),x=i(3),G=i(11),L=function(){function l(){}return l.trasformJSONMessge=function(Q){try{var ne=null;Q.hasOwnProperty("rawMessage")||(ne=JSON.parse(JSON.stringify(Q)));var Re=void 0;switch(Q[S.MessageConstatnts.KEYS.CATEGORY]){case S.MessageConstatnts.CATEGORY.ACTION:Re=p.Action.actionFromJSON(Q);break;case S.MessageConstatnts.CATEGORY.CALL:Re=m.Call.callFromJSON(Q);break;case S.MessageConstatnts.CATEGORY.MESSAGE:switch(Q[S.MessageConstatnts.KEYS.TYPE]){case S.MessageConstatnts.TYPE.TEXT:Re=new d.TextMessage(Q[S.MessageConstatnts.KEYS.RECEIVER],Q[S.MessageConstatnts.KEYS.DATA][S.MessageConstatnts.KEYS.TEXT],Q[S.MessageConstatnts.KEYS.RECEIVER_TYPE]);break;case S.MessageConstatnts.TYPE.CUSTOM:Re=new O.CustomMessage(Q[S.MessageConstatnts.KEYS.RECEIVER],Q[S.MessageConstatnts.KEYS.DATA][S.MessageConstatnts.KEYS.CUSTOM_DATA],Q[S.MessageConstatnts.KEYS.RECEIVER_TYPE]);break;default:if(Re=new v.MediaMessage(Q[S.MessageConstatnts.KEYS.RECEIVER],Q[S.MessageConstatnts.KEYS.DATA][S.MessageConstatnts.KEYS.URL],Q[S.MessageConstatnts.KEYS.TYPE],Q[S.MessageConstatnts.KEYS.RECEIVER_TYPE]),Q.hasOwnProperty(S.MessageConstatnts.KEYS.DATA)){var Z=Q[S.MessageConstatnts.KEYS.DATA];if(Z.hasOwnProperty(S.MessageConstatnts.KEYS.ATTATCHMENTS)){var oe,ie=Z[S.MessageConstatnts.KEYS.ATTATCHMENTS];new Array,ie.map(function(pe){oe=new F.Attachment(pe)}),Re.setAttachment(oe)}Z.hasOwnProperty(S.MessageConstatnts.KEYS.TEXT)&&Re.setCaption(Z[S.MessageConstatnts.KEYS.TEXT])}Re.hasOwnProperty("file")&&delete Re.file}break;case S.MessageConstatnts.CATEGORY.CUSTOM:Re=new O.CustomMessage(Q[S.MessageConstatnts.KEYS.RECEIVER],Q[S.MessageConstatnts.KEYS.DATA][S.MessageConstatnts.KEYS.CUSTOM_DATA],Q[S.MessageConstatnts.KEYS.RECEIVER_TYPE],Q.type)}Q[S.MessageConstatnts.KEYS.MY_RECEIPTS]&&(Q[S.MessageConstatnts.KEYS.MY_RECEIPTS]=Q[S.MessageConstatnts.KEYS.MY_RECEIPTS],Object.keys(Q[S.MessageConstatnts.KEYS.MY_RECEIPTS]).map(function(pe){var De=new M.MessageReceipt;pe==S.DELIVERY_RECEIPTS.DELIVERED_AT&&(De.setReceiptType(De.RECEIPT_TYPE.DELIVERY_RECEIPT),De.setDeliveredAt(Q[S.MessageConstatnts.KEYS.MY_RECEIPTS][S.DELIVERY_RECEIPTS.DELIVERED_AT]),T.isFalsy(Q[S.MessageConstatnts.KEYS.MY_RECEIPTS][S.DELIVERY_RECEIPTS.RECIPIENT])?Q[S.DELIVERY_RECEIPTS.DELIVERED_TO_ME_AT]=Q[S.MessageConstatnts.KEYS.MY_RECEIPTS][S.DELIVERY_RECEIPTS.DELIVERED_AT]:De.setSender(Q[S.MessageConstatnts.KEYS.MY_RECEIPTS][S.DELIVERY_RECEIPTS.RECIPIENT]),De.setReceiverType(Q[S.MessageConstatnts.KEYS.RECEIVER_TYPE]),De.setReceiver(Q[S.MessageConstatnts.KEYS.RECEIVER])),Q[S.MessageConstatnts.KEYS.MY_RECEIPTS][S.READ_RECEIPTS.READ_AT]&&(De.setReceiptType(De.RECEIPT_TYPE.READ_RECEIPT),De.setReadAt(Q[S.MessageConstatnts.KEYS.MY_RECEIPTS][S.READ_RECEIPTS.READ_AT]),T.isFalsy(Q[S.MessageConstatnts.KEYS.MY_RECEIPTS][S.READ_RECEIPTS.RECIPIENT])?Q[S.READ_RECEIPTS.READ_BY_ME_AT]=Q[S.MessageConstatnts.KEYS.MY_RECEIPTS][S.READ_RECEIPTS.READ_AT]:De.setSender(Q[S.MessageConstatnts.KEYS.MY_RECEIPTS][S.READ_RECEIPTS.RECIPIENT]),De.setReceiverType(Q[S.MessageConstatnts.KEYS.RECEIVER_TYPE]),De.setReceiver(Q[S.MessageConstatnts.KEYS.RECEIVER]))}));try{if(Object.assign(Re,Q),(Q=Re).parentId&&(Q.parentMessageId=Q.parentId,delete Q.parentId),Q instanceof _.BaseMessage&&(T.isFalsy(ne)||Q.setRawMessage(ne)),Q instanceof d.TextMessage)Q.setSender(Q.getSender()),Q.setReceiver(Q.getReceiver()),Q.getData()[S.MessageConstatnts.KEYS.METADATA]&&Q.setMetadata(Q.getData()[S.MessageConstatnts.KEYS.METADATA]);else if(Q instanceof v.MediaMessage)Q.getData()[S.MessageConstatnts.KEYS.METADATA]&&Q.setMetadata(Q.getData()[S.MessageConstatnts.KEYS.METADATA]),Q.setSender(Q.getSender()),Q.setReceiver(Q.getReceiver());else if(Q instanceof p.Action)Q.setSender(Q.getSender()),Q.setReceiver(Q.getActionFor()),Q.setActionBy(Q.getActionBy()),Q.setActionOn(Q.getActionOn()),Q.setActionFor(Q.getActionFor()),Q.setMessage(Q.getMessage());else if(Q instanceof m.Call){try{Q.setSender(Q.getSender())}catch(pe){T.Logger.error("MessageController: trasformJSONMessge: setSender",pe)}try{Q.setCallInitiator(Q.getCallInitiator())}catch(pe){T.Logger.error("MessageController: trasformJSONMessge: setCallInitiator",pe)}try{Q.setReceiver(Q.getCallReceiver()),Q.setCallReceiver(Q.getCallReceiver())}catch(pe){T.Logger.error("MessageController: trasformJSONMessge: setCallreceiver",pe)}}else Q instanceof O.CustomMessage&&(Q.getData()[S.MessageConstatnts.KEYS.METADATA]&&Q.setMetadata(Q.getData()[S.MessageConstatnts.KEYS.METADATA]),Q.setCustomData(Q.getData()[S.MessageConstatnts.KEYS.CUSTOM_DATA]),Q.setSubType(Q.getData()[S.MessageConstatnts.KEYS.CUSTOM_SUB_TYPE]),Q.setSender(Q.getSender()),Q.setReceiver(Q.getReceiver()))}catch(pe){T.Logger.error("MessageController: trasformJSONMessge: Main",pe),Q=null}return Q}catch(pe){T.Logger.error("MessageController: trasformJSONMessge",pe)}},l.getReceiptsFromJSON=function(Q){return new Promise(function(ne,Re){try{var Z=[];x.CometChat.getLoggedInUser().then(function(oe){T.isFalsy(Q.receipts)?ne([]):(Q.receipts.data.map(function(ie){var pe=new M.MessageReceipt;ie[S.DELIVERY_RECEIPTS.DELIVERED_AT]&&(pe.setReceiptType(pe.RECEIPT_TYPE.DELIVERY_RECEIPT),pe.setDeliveredAt(ie[S.DELIVERY_RECEIPTS.DELIVERED_AT]),pe.setTimestamp(ie[S.DELIVERY_RECEIPTS.DELIVERED_AT]),T.isFalsy(ie[S.DELIVERY_RECEIPTS.RECIPIENT])?pe.setSender(oe):pe.setSender(G.UsersController.trasformJSONUser(ie[S.DELIVERY_RECEIPTS.RECIPIENT])),pe.setReceiverType(Q[S.MessageConstatnts.KEYS.RECEIVER_TYPE]),pe.setReceiver(Q[S.MessageConstatnts.KEYS.RECEIVER])),ie[S.READ_RECEIPTS.READ_AT]&&(pe.setReceiptType(pe.RECEIPT_TYPE.READ_RECEIPT),pe.setReadAt(ie[S.READ_RECEIPTS.READ_AT]),pe.setTimestamp(ie[ie[S.READ_RECEIPTS.READ_AT]]),T.isFalsy(ie[S.READ_RECEIPTS.RECIPIENT])?pe.setSender(oe):pe.setSender(G.UsersController.trasformJSONUser(ie[S.READ_RECEIPTS.RECIPIENT])),pe.setReceiverType(Q[S.MessageConstatnts.KEYS.RECEIVER_TYPE]),pe.setReceiver(Q[S.MessageConstatnts.KEYS.RECEIVER])),Z.push(pe)}),ne(Z))})}catch(oe){Re(new y.CometChatException(oe))}})},l}();g.MessageController=L},function(Le,g,i){"use strict";g.__esModule=!0,g.UsersController=void 0;var _=i(4),d=i(0),v=function(){function T(){}return T.trasformJSONUser=function(S){var p;try{S.uid=S.uid.toString(),S.name=S.name.toString(),S.status=S.status&&"offline"!==S.status?"online":"offline",p=new _.User(S),Object.assign(p,S),S=p}catch(m){d.Logger.error("UsersController:transformJSONUser",m)}return S},T}();g.UsersController=v},function(Le,g,i){"use strict";g.__esModule=!0,g.LocalStorage=void 0;var _=i(0),d=i(1),v=i(13),T=i(3),S=i(2),p=function(){function m(M){this.store=d.constants.DEFAULT_STORE,_.isFalsy(M)||(this.store=M),this.localStore=v.createInstance({name:_.format(d.LOCAL_STORE.STORE_STRING,T.CometChat.getAppId(),d.LOCAL_STORE.COMMON_STORE)}),this.localStore.setDriver([v.LOCALSTORAGE,v.INDEXEDDB,v.WEBSQL])}return m.getInstance=function(){return null==m.localStorage&&(m.localStorage=new m),m.localStorage},m.prototype.set=function(M,y){return this.localStore.setItem(M,JSON.stringify(y))},m.prototype.remove=function(M){this.localStore.removeItem(M)},m.prototype.update=function(M,y){this.remove(M),this.set(M,y)},m.prototype.get=function(M){var y=this;return new Promise(function(F,O){try{y.localStore.getItem(M).then(function(x){try{F(JSON.parse(x))}catch{F(x)}},function(x){O(x)})}catch(x){O(new S.CometChatException(x))}})},m.prototype.clearStore=function(){var M=this;return new Promise(function(y,F){try{M.localStore.keys().then(function(O){if(0<O.length)for(var x=0;x<O.length;x++)"appId"!==O[x]&&M.localStore.removeItem(O[x]),x===O.length-1&&y(!0)})}catch(O){F(O)}})},m.prototype.clear=function(M){},m.prototype.selectStore=function(M){this.store=M},m.localStorage=null,m}();g.LocalStorage=p},function(Le,g,i){(function(_){Le.exports=function d(v,T,S){function p(y,F){if(!T[y]){if(!v[y]){if(m)return m(y,!0);var O=new Error("Cannot find module '"+y+"'");throw O.code="MODULE_NOT_FOUND",O}var x=T[y]={exports:{}};v[y][0].call(x.exports,function(G){return p(v[y][1][G]||G)},x,x.exports,d,v,T,S)}return T[y].exports}for(var m=!1,M=0;M<S.length;M++)p(S[M]);return p}({1:[function(d,v,T){(function(S){"use strict";var p,m,M=S.MutationObserver||S.WebKitMutationObserver;if(M){var y=0,F=new M(L),O=S.document.createTextNode("");F.observe(O,{characterData:!0}),p=function(){O.data=y=++y%2}}else if(S.setImmediate||void 0===S.MessageChannel)p="document"in S&&"onreadystatechange"in S.document.createElement("script")?function(){var l=S.document.createElement("script");l.onreadystatechange=function(){L(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},S.document.documentElement.appendChild(l)}:function(){setTimeout(L,0)};else{var x=new S.MessageChannel;x.port1.onmessage=L,p=function(){x.port2.postMessage(0)}}var G=[];function L(){var l,Q;m=!0;for(var ne=G.length;ne;){for(Q=G,G=[],l=-1;++l<ne;)Q[l]();ne=G.length}m=!1}v.exports=function(l){1!==G.push(l)||m||p()}}).call(this,void 0!==_?_:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(d,v,T){"use strict";var S=d(1);function p(){}var m={},M=["REJECTED"],y=["FULFILLED"],F=["PENDING"];function O(ne){if("function"!=typeof ne)throw new TypeError("resolver must be a function");this.state=F,this.queue=[],this.outcome=void 0,ne!==p&&l(this,ne)}function x(ne,Re,Z){this.promise=ne,"function"==typeof Re&&(this.onFulfilled=Re,this.callFulfilled=this.otherCallFulfilled),"function"==typeof Z&&(this.onRejected=Z,this.callRejected=this.otherCallRejected)}function G(ne,Re,Z){S(function(){var oe;try{oe=Re(Z)}catch(ie){return m.reject(ne,ie)}oe===ne?m.reject(ne,new TypeError("Cannot resolve promise with itself")):m.resolve(ne,oe)})}function L(ne){var Re=ne&&ne.then;if(ne&&("object"==typeof ne||"function"==typeof ne)&&"function"==typeof Re)return function(){Re.apply(ne,arguments)}}function l(ne,Re){var Z=!1;function oe(De){Z||(Z=!0,m.reject(ne,De))}function ie(De){Z||(Z=!0,m.resolve(ne,De))}var pe=Q(function(){Re(ie,oe)});"error"===pe.status&&oe(pe.value)}function Q(ne,Re){var Z={};try{Z.value=ne(Re),Z.status="success"}catch(oe){Z.status="error",Z.value=oe}return Z}(v.exports=O).prototype.catch=function(ne){return this.then(null,ne)},O.prototype.then=function(ne,Re){if("function"!=typeof ne&&this.state===y||"function"!=typeof Re&&this.state===M)return this;var Z=new this.constructor(p);return this.state!==F?G(Z,this.state===y?ne:Re,this.outcome):this.queue.push(new x(Z,ne,Re)),Z},x.prototype.callFulfilled=function(ne){m.resolve(this.promise,ne)},x.prototype.otherCallFulfilled=function(ne){G(this.promise,this.onFulfilled,ne)},x.prototype.callRejected=function(ne){m.reject(this.promise,ne)},x.prototype.otherCallRejected=function(ne){G(this.promise,this.onRejected,ne)},m.resolve=function(ne,Re){var Z=Q(L,Re);if("error"===Z.status)return m.reject(ne,Z.value);var oe=Z.value;if(oe)l(ne,oe);else{ne.state=y,ne.outcome=Re;for(var ie=-1,pe=ne.queue.length;++ie<pe;)ne.queue[ie].callFulfilled(Re)}return ne},m.reject=function(ne,Re){ne.state=M,ne.outcome=Re;for(var Z=-1,oe=ne.queue.length;++Z<oe;)ne.queue[Z].callRejected(Re);return ne},O.resolve=function(ne){return ne instanceof this?ne:m.resolve(new this(p),ne)},O.reject=function(ne){var Re=new this(p);return m.reject(Re,ne)},O.all=function(ne){var Re=this;if("[object Array]"!==Object.prototype.toString.call(ne))return this.reject(new TypeError("must be an array"));var Z=ne.length,oe=!1;if(!Z)return this.resolve([]);for(var ie=new Array(Z),pe=0,De=-1,ae=new this(p);++De<Z;)Se(ne[De],De);return ae;function Se(Be,Ce){Re.resolve(Be).then(function(re){ie[Ce]=re,++pe!==Z||oe||(oe=!0,m.resolve(ae,ie))},function(re){oe||(oe=!0,m.reject(ae,re))})}},O.race=function(ne){if("[object Array]"!==Object.prototype.toString.call(ne))return this.reject(new TypeError("must be an array"));var Z=ne.length,oe=!1;if(!Z)return this.resolve([]);for(var pe=-1,De=new this(p);++pe<Z;)this.resolve(ne[pe]).then(function(ae){oe||(oe=!0,m.resolve(De,ae))},function(ae){oe||(oe=!0,m.reject(De,ae))});return De}},{1:1}],3:[function(d,v,T){(function(S){"use strict";"function"!=typeof S.Promise&&(S.Promise=d(2))}).call(this,void 0!==_?_:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(d,v,T){"use strict";var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},p=function(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function m(U,Y){U=U||[],Y=Y||{};try{return new Blob(U,Y)}catch(de){if("TypeError"!==de.name)throw de;for(var _e=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),Ee=0;Ee<U.length;Ee+=1)_e.append(U[Ee]);return _e.getBlob(Y.type)}}typeof Promise>"u"&&d(3);var M=Promise;function y(U,Y){Y&&U.then(function(z){Y(null,z)},function(z){Y(z)})}function F(U,Y,z){"function"==typeof Y&&U.then(Y),"function"==typeof z&&U.catch(z)}function O(U){return"string"!=typeof U&&(U=String(U)),U}function x(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var G="local-forage-detect-blob-support",L=void 0,l={},Q=Object.prototype.toString,ne="readonly",Re="readwrite";function oe(U){var Y=l[U.name],z={};z.promise=new M(function(_e,Ee){z.resolve=_e,z.reject=Ee}),Y.deferredOperations.push(z),Y.dbReady=Y.dbReady?Y.dbReady.then(function(){return z.promise}):z.promise}function ie(U){var z=l[U.name].deferredOperations.pop();if(z)return z.resolve(),z.promise}function pe(U,Y){var _e=l[U.name].deferredOperations.pop();if(_e)return _e.reject(Y),_e.promise}function De(U,Y){return new M(function(z,_e){if(l[U.name]=l[U.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},U.db){if(!Y)return z(U.db);oe(U),U.db.close()}var Ee=[U.name];Y&&Ee.push(U.version);var de=p.open.apply(p,Ee);Y&&(de.onupgradeneeded=function(Ae){var Ne=de.result;try{Ne.createObjectStore(U.storeName),Ae.oldVersion<=1&&Ne.createObjectStore(G)}catch(Ve){if("ConstraintError"!==Ve.name)throw Ve}}),de.onerror=function(Ae){Ae.preventDefault(),_e(de.error)},de.onsuccess=function(){z(de.result),ie(U)}})}function ae(U){return De(U,!1)}function Se(U){return De(U,!0)}function Be(U,Y){if(!U.db)return!0;var z=!U.db.objectStoreNames.contains(U.storeName),Ee=U.version>U.db.version;if(U.version<U.db.version&&(U.version=U.db.version),Ee||z){if(z){var de=U.db.version+1;de>U.version&&(U.version=de)}return!0}return!1}function Ce(U){return m([function(z){for(var _e=z.length,Ee=new ArrayBuffer(_e),de=new Uint8Array(Ee),Ae=0;Ae<_e;Ae++)de[Ae]=z.charCodeAt(Ae);return Ee}(atob(U.data))],{type:U.type})}function re(U){return U&&U.__local_forage_encoded_blob}function le(U){var Y=this,z=Y._initReady().then(function(){var _e=l[Y._dbInfo.name];if(_e&&_e.dbReady)return _e.dbReady});return F(z,U,U),z}function X(U,Y,z,_e){void 0===_e&&(_e=1);try{var Ee=U.db.transaction(U.storeName,Y);z(null,Ee)}catch(de){if(0<_e&&(!U.db||"InvalidStateError"===de.name||"NotFoundError"===de.name))return M.resolve().then(function(){if(!U.db||"NotFoundError"===de.name&&!U.db.objectStoreNames.contains(U.storeName)&&U.version<=U.db.version)return U.db&&(U.version=U.db.version+1),Se(U)}).then(function(){return function(Ae){oe(Ae);for(var Ne=l[Ae.name],Ve=Ne.forages,Pe=0;Pe<Ve.length;Pe++){var Ke=Ve[Pe];Ke._dbInfo.db&&(Ke._dbInfo.db.close(),Ke._dbInfo.db=null)}return Ae.db=null,ae(Ae).then(function(tt){return Ae.db=tt,Be(Ae)?Se(Ae):tt}).then(function(tt){Ae.db=Ne.db=tt;for(var ut=0;ut<Ve.length;ut++)Ve[ut]._dbInfo.db=tt}).catch(function(tt){throw pe(Ae,tt),tt})}(U).then(function(){X(U,Y,z,_e-1)})}).catch(z);z(de)}}var Me={_driver:"asyncStorage",_initStorage:function(U){var Y=this,z={db:null};if(U)for(var _e in U)z[_e]=U[_e];var Ee=l[z.name];Ee||(l[z.name]=Ee={forages:[],db:null,dbReady:null,deferredOperations:[]}),Ee.forages.push(Y),Y._initReady||(Y._initReady=Y.ready,Y.ready=le);var de=[];function Ae(){return M.resolve()}for(var Ne=0;Ne<Ee.forages.length;Ne++){var Ve=Ee.forages[Ne];Ve!==Y&&de.push(Ve._initReady().catch(Ae))}var Pe=Ee.forages.slice(0);return M.all(de).then(function(){return z.db=Ee.db,ae(z)}).then(function(Ke){return z.db=Ke,Be(z)?Se(z):Ke}).then(function(Ke){z.db=Ee.db=Ke,Y._dbInfo=z;for(var tt=0;tt<Pe.length;tt++){var ut=Pe[tt];ut!==Y&&(ut._dbInfo.db=z.db,ut._dbInfo.version=z.version)}})},_support:function(){try{if(!p)return!1;var U=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Y="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!U||Y)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function(U,Y){var z=this,_e=new M(function(Ee,de){z.ready().then(function(){X(z._dbInfo,ne,function(Ae,Ne){if(Ae)return de(Ae);try{var Pe=Ne.objectStore(z._dbInfo.storeName).openCursor(),Ke=1;Pe.onsuccess=function(){var tt=Pe.result;if(tt){var ut=tt.value;re(ut)&&(ut=Ce(ut));var ot=U(ut,tt.key,Ke++);void 0!==ot?Ee(ot):tt.continue()}else Ee()},Pe.onerror=function(){de(Pe.error)}}catch(tt){de(tt)}})}).catch(de)});return y(_e,Y),_e},getItem:function(U,Y){var z=this;U=O(U);var _e=new M(function(Ee,de){z.ready().then(function(){X(z._dbInfo,ne,function(Ae,Ne){if(Ae)return de(Ae);try{var Pe=Ne.objectStore(z._dbInfo.storeName).get(U);Pe.onsuccess=function(){var Ke=Pe.result;void 0===Ke&&(Ke=null),re(Ke)&&(Ke=Ce(Ke)),Ee(Ke)},Pe.onerror=function(){de(Pe.error)}}catch(Ke){de(Ke)}})}).catch(de)});return y(_e,Y),_e},setItem:function(U,Y,z){var _e=this;U=O(U);var Ee=new M(function(de,Ae){var Ne;_e.ready().then(function(){return Ne=_e._dbInfo,"[object Blob]"===Q.call(Y)?function Z(U){return"boolean"==typeof L?M.resolve(L):(Y=U,new M(function(z){var _e=Y.transaction(G,Re),Ee=m([""]);_e.objectStore(G).put(Ee,"key"),_e.onabort=function(de){de.preventDefault(),de.stopPropagation(),z(!1)},_e.oncomplete=function(){var de=navigator.userAgent.match(/Chrome\/(\d+)/),Ae=navigator.userAgent.match(/Edge\//);z(Ae||!de||43<=parseInt(de[1],10))}}).catch(function(){return!1})).then(function(z){return L=z});var Y}(Ne.db).then(function(Ve){return Ve?Y:(Pe=Y,new M(function(Ke,tt){var ut=new FileReader;ut.onerror=tt,ut.onloadend=function(ot){var Et=btoa(ot.target.result||"");Ke({__local_forage_encoded_blob:!0,data:Et,type:Pe.type})},ut.readAsBinaryString(Pe)}));var Pe}):Y}).then(function(Ve){X(_e._dbInfo,Re,function(Pe,Ke){if(Pe)return Ae(Pe);try{var tt=Ke.objectStore(_e._dbInfo.storeName);null===Ve&&(Ve=void 0);var ut=tt.put(Ve,U);Ke.oncomplete=function(){void 0===Ve&&(Ve=null),de(Ve)},Ke.onabort=Ke.onerror=function(){Ae(ut.error?ut.error:ut.transaction.error)}}catch(ot){Ae(ot)}})}).catch(Ae)});return y(Ee,z),Ee},removeItem:function(U,Y){var z=this;U=O(U);var _e=new M(function(Ee,de){z.ready().then(function(){X(z._dbInfo,Re,function(Ae,Ne){if(Ae)return de(Ae);try{var Pe=Ne.objectStore(z._dbInfo.storeName).delete(U);Ne.oncomplete=function(){Ee()},Ne.onerror=function(){de(Pe.error)},Ne.onabort=function(){de(Pe.error?Pe.error:Pe.transaction.error)}}catch(Ke){de(Ke)}})}).catch(de)});return y(_e,Y),_e},clear:function(U){var Y=this,z=new M(function(_e,Ee){Y.ready().then(function(){X(Y._dbInfo,Re,function(de,Ae){if(de)return Ee(de);try{var Ve=Ae.objectStore(Y._dbInfo.storeName).clear();Ae.oncomplete=function(){_e()},Ae.onabort=Ae.onerror=function(){Ee(Ve.error?Ve.error:Ve.transaction.error)}}catch(Pe){Ee(Pe)}})}).catch(Ee)});return y(z,U),z},length:function(U){var Y=this,z=new M(function(_e,Ee){Y.ready().then(function(){X(Y._dbInfo,ne,function(de,Ae){if(de)return Ee(de);try{var Ve=Ae.objectStore(Y._dbInfo.storeName).count();Ve.onsuccess=function(){_e(Ve.result)},Ve.onerror=function(){Ee(Ve.error)}}catch(Pe){Ee(Pe)}})}).catch(Ee)});return y(z,U),z},key:function(U,Y){var z=this,_e=new M(function(Ee,de){U<0?Ee(null):z.ready().then(function(){X(z._dbInfo,ne,function(Ae,Ne){if(Ae)return de(Ae);try{var Ve=Ne.objectStore(z._dbInfo.storeName),Pe=!1,Ke=Ve.openCursor();Ke.onsuccess=function(){var tt=Ke.result;tt?0===U||Pe?Ee(tt.key):(Pe=!0,tt.advance(U)):Ee(null)},Ke.onerror=function(){de(Ke.error)}}catch(tt){de(tt)}})}).catch(de)});return y(_e,Y),_e},keys:function(U){var Y=this,z=new M(function(_e,Ee){Y.ready().then(function(){X(Y._dbInfo,ne,function(de,Ae){if(de)return Ee(de);try{var Ve=Ae.objectStore(Y._dbInfo.storeName).openCursor(),Pe=[];Ve.onsuccess=function(){var Ke=Ve.result;Ke?(Pe.push(Ke.key),Ke.continue()):_e(Pe)},Ve.onerror=function(){Ee(Ve.error)}}catch(Ke){Ee(Ke)}})}).catch(Ee)});return y(z,U),z},dropInstance:function(U,Y){Y=x.apply(this,arguments);var z,_e=this.config();if((U="function"!=typeof U&&U||{}).name||(U.name=U.name||_e.name,U.storeName=U.storeName||_e.storeName),U.name){var de=U.name===_e.name&&this._dbInfo.db?M.resolve(this._dbInfo.db):ae(U).then(function(Ae){var Ne=l[U.name],Ve=Ne.forages;Ne.db=Ae;for(var Pe=0;Pe<Ve.length;Pe++)Ve[Pe]._dbInfo.db=Ae;return Ae});z=de.then(U.storeName?function(Ae){if(Ae.objectStoreNames.contains(U.storeName)){var Ne=Ae.version+1;oe(U);var Ve=l[U.name],Pe=Ve.forages;Ae.close();for(var Ke=0;Ke<Pe.length;Ke++){var tt=Pe[Ke];tt._dbInfo.db=null,tt._dbInfo.version=Ne}return new M(function(ot,Et){var dt=p.open(U.name,Ne);dt.onerror=function(qt){dt.result.close(),Et(qt)},dt.onupgradeneeded=function(){dt.result.deleteObjectStore(U.storeName)},dt.onsuccess=function(){var qt=dt.result;qt.close(),ot(qt)}}).then(function(ot){Ve.db=ot;for(var Et=0;Et<Pe.length;Et++){var dt=Pe[Et];dt._dbInfo.db=ot,ie(dt._dbInfo)}}).catch(function(ot){throw(pe(U,ot)||M.resolve()).catch(function(){}),ot})}}:function(Ae){oe(U);var Ne=l[U.name],Ve=Ne.forages;Ae.close();for(var Pe=0;Pe<Ve.length;Pe++)Ve[Pe]._dbInfo.db=null;return new M(function(ut,ot){var Et=p.deleteDatabase(U.name);Et.onerror=Et.onblocked=function(dt){var qt=Et.result;qt&&qt.close(),ot(dt)},Et.onsuccess=function(){var dt=Et.result;dt&&dt.close(),ut(dt)}}).then(function(ut){Ne.db=ut;for(var ot=0;ot<Ve.length;ot++)ie(Ve[ot]._dbInfo)}).catch(function(ut){throw(pe(U,ut)||M.resolve()).catch(function(){}),ut})})}else z=M.reject("Invalid arguments");return y(z,Y),z}},Fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qe=/^~~local_forage_type~([^~]+)~/,st="__lfsc__:",mt=st.length,Qe="arbf",ht="blob",je=mt+Qe.length,et=Object.prototype.toString;function be(U){var Y,z,_e,Ee,de,Ae=.75*U.length,Ne=U.length,Ve=0;"="===U[U.length-1]&&(Ae--,"="===U[U.length-2]&&Ae--);var Pe=new ArrayBuffer(Ae),Ke=new Uint8Array(Pe);for(Y=0;Y<Ne;Y+=4)z=Fe.indexOf(U[Y]),_e=Fe.indexOf(U[Y+1]),Ee=Fe.indexOf(U[Y+2]),de=Fe.indexOf(U[Y+3]),Ke[Ve++]=z<<2|_e>>4,Ke[Ve++]=(15&_e)<<4|Ee>>2,Ke[Ve++]=(3&Ee)<<6|63&de;return Pe}function Ye(U){var Y,z=new Uint8Array(U),_e="";for(Y=0;Y<z.length;Y+=3)_e+=Fe[z[Y]>>2],_e+=Fe[(3&z[Y])<<4|z[Y+1]>>4],_e+=Fe[(15&z[Y+1])<<2|z[Y+2]>>6],_e+=Fe[63&z[Y+2]];return z.length%3==2?_e=_e.substring(0,_e.length-1)+"=":z.length%3==1&&(_e=_e.substring(0,_e.length-2)+"=="),_e}var at={serialize:function(U,Y){var z="";if(U&&(z=et.call(U)),U&&("[object ArrayBuffer]"===z||U.buffer&&"[object ArrayBuffer]"===et.call(U.buffer))){var _e,Ee=st;U instanceof ArrayBuffer?(_e=U,Ee+=Qe):(_e=U.buffer,"[object Int8Array]"===z?Ee+="si08":"[object Uint8Array]"===z?Ee+="ui08":"[object Uint8ClampedArray]"===z?Ee+="uic8":"[object Int16Array]"===z?Ee+="si16":"[object Uint16Array]"===z?Ee+="ur16":"[object Int32Array]"===z?Ee+="si32":"[object Uint32Array]"===z?Ee+="ui32":"[object Float32Array]"===z?Ee+="fl32":"[object Float64Array]"===z?Ee+="fl64":Y(new Error("Failed to get type for BinaryArray"))),Y(Ee+Ye(_e))}else if("[object Blob]"===z){var de=new FileReader;de.onload=function(){var Ae="~~local_forage_type~"+U.type+"~"+Ye(this.result);Y(st+ht+Ae)},de.readAsArrayBuffer(U)}else try{Y(JSON.stringify(U))}catch(Ae){Y(null,Ae)}},deserialize:function(U){if(U.substring(0,mt)!==st)return JSON.parse(U);var Y,z=U.substring(je),_e=U.substring(mt,je);if(_e===ht&&qe.test(z)){var Ee=z.match(qe);Y=Ee[1],z=z.substring(Ee[0].length)}var de=be(z);switch(_e){case Qe:return de;case ht:return m([de],{type:Y});case"si08":return new Int8Array(de);case"ui08":return new Uint8Array(de);case"uic8":return new Uint8ClampedArray(de);case"si16":return new Int16Array(de);case"ur16":return new Uint16Array(de);case"si32":return new Int32Array(de);case"ui32":return new Uint32Array(de);case"fl32":return new Float32Array(de);case"fl64":return new Float64Array(de);default:throw new Error("Unkown type: "+_e)}},stringToBuffer:be,bufferToString:Ye};function ft(U,Y,z,_e){U.executeSql("CREATE TABLE IF NOT EXISTS "+Y.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],z,_e)}function Tt(U,Y,z,_e,Ee,de){U.executeSql(z,_e,Ee,function(Ae,Ne){Ne.code===Ne.SYNTAX_ERR?Ae.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Y.storeName],function(Ve,Pe){Pe.rows.length?de(Ve,Ne):ft(Ve,Y,function(){Ve.executeSql(z,_e,Ee,de)},de)},de):de(Ae,Ne)},de)}function En(U,Y,z,_e){var Ee=this;U=O(U);var de=new M(function(Ae,Ne){Ee.ready().then(function(){void 0===Y&&(Y=null);var Ve=Y,Pe=Ee._dbInfo;Pe.serializer.serialize(Y,function(Ke,tt){tt?Ne(tt):Pe.db.transaction(function(ut){Tt(ut,Pe,"INSERT OR REPLACE INTO "+Pe.storeName+" (key, value) VALUES (?, ?)",[U,Ke],function(){Ae(Ve)},function(ot,Et){Ne(Et)})},function(ut){if(ut.code===ut.QUOTA_ERR){if(0<_e)return void Ae(En.apply(Ee,[U,Ve,z,_e-1]));Ne(ut)}})})}).catch(Ne)});return y(de,z),de}var Wn={_driver:"webSQLStorage",_initStorage:function(U){var Y=this,z={db:null};if(U)for(var _e in U)z[_e]="string"!=typeof U[_e]?U[_e].toString():U[_e];var Ee=new M(function(de,Ae){try{z.db=openDatabase(z.name,String(z.version),z.description,z.size)}catch(Ne){return Ae(Ne)}z.db.transaction(function(Ne){ft(Ne,z,function(){Y._dbInfo=z,de()},function(Ve,Pe){Ae(Pe)})},Ae)});return z.serializer=at,Ee},_support:"function"==typeof openDatabase,iterate:function(U,Y){var z=this,_e=new M(function(Ee,de){z.ready().then(function(){var Ae=z._dbInfo;Ae.db.transaction(function(Ne){Tt(Ne,Ae,"SELECT * FROM "+Ae.storeName,[],function(Ve,Pe){for(var Ke=Pe.rows,tt=Ke.length,ut=0;ut<tt;ut++){var ot=Ke.item(ut),Et=ot.value;if(Et&&(Et=Ae.serializer.deserialize(Et)),void 0!==(Et=U(Et,ot.key,ut+1)))return void Ee(Et)}Ee()},function(Ve,Pe){de(Pe)})})}).catch(de)});return y(_e,Y),_e},getItem:function(U,Y){var z=this;U=O(U);var _e=new M(function(Ee,de){z.ready().then(function(){var Ae=z._dbInfo;Ae.db.transaction(function(Ne){Tt(Ne,Ae,"SELECT * FROM "+Ae.storeName+" WHERE key = ? LIMIT 1",[U],function(Ve,Pe){var Ke=Pe.rows.length?Pe.rows.item(0).value:null;Ke&&(Ke=Ae.serializer.deserialize(Ke)),Ee(Ke)},function(Ve,Pe){de(Pe)})})}).catch(de)});return y(_e,Y),_e},setItem:function(U,Y,z){return En.apply(this,[U,Y,z,1])},removeItem:function(U,Y){var z=this;U=O(U);var _e=new M(function(Ee,de){z.ready().then(function(){var Ae=z._dbInfo;Ae.db.transaction(function(Ne){Tt(Ne,Ae,"DELETE FROM "+Ae.storeName+" WHERE key = ?",[U],function(){Ee()},function(Ve,Pe){de(Pe)})})}).catch(de)});return y(_e,Y),_e},clear:function(U){var Y=this,z=new M(function(_e,Ee){Y.ready().then(function(){var de=Y._dbInfo;de.db.transaction(function(Ae){Tt(Ae,de,"DELETE FROM "+de.storeName,[],function(){_e()},function(Ne,Ve){Ee(Ve)})})}).catch(Ee)});return y(z,U),z},length:function(U){var Y=this,z=new M(function(_e,Ee){Y.ready().then(function(){var de=Y._dbInfo;de.db.transaction(function(Ae){Tt(Ae,de,"SELECT COUNT(key) as c FROM "+de.storeName,[],function(Ne,Ve){var Pe=Ve.rows.item(0).c;_e(Pe)},function(Ne,Ve){Ee(Ve)})})}).catch(Ee)});return y(z,U),z},key:function(U,Y){var z=this,_e=new M(function(Ee,de){z.ready().then(function(){var Ae=z._dbInfo;Ae.db.transaction(function(Ne){Tt(Ne,Ae,"SELECT key FROM "+Ae.storeName+" WHERE id = ? LIMIT 1",[U+1],function(Ve,Pe){var Ke=Pe.rows.length?Pe.rows.item(0).key:null;Ee(Ke)},function(Ve,Pe){de(Pe)})})}).catch(de)});return y(_e,Y),_e},keys:function(U){var Y=this,z=new M(function(_e,Ee){Y.ready().then(function(){var de=Y._dbInfo;de.db.transaction(function(Ae){Tt(Ae,de,"SELECT key FROM "+de.storeName,[],function(Ne,Ve){for(var Pe=[],Ke=0;Ke<Ve.rows.length;Ke++)Pe.push(Ve.rows.item(Ke).key);_e(Pe)},function(Ne,Ve){Ee(Ve)})})}).catch(Ee)});return y(z,U),z},dropInstance:function(U,Y){Y=x.apply(this,arguments);var z=this.config();(U="function"!=typeof U&&U||{}).name||(U.name=U.name||z.name,U.storeName=U.storeName||z.storeName);var _e,Ee=this;return y(_e=U.name?new M(function(de){var Ae,Ne;Ae=U.name===z.name?Ee._dbInfo.db:openDatabase(U.name,"","",0),de(U.storeName?{db:Ae,storeNames:[U.storeName]}:(Ne=Ae,new M(function(Ve,Pe){Ne.transaction(function(Ke){Ke.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(tt,ut){for(var ot=[],Et=0;Et<ut.rows.length;Et++)ot.push(ut.rows.item(Et).name);Ve({db:Ne,storeNames:ot})},function(tt,ut){Pe(ut)})},function(Ke){Pe(Ke)})})))}).then(function(de){return new M(function(Ae,Ne){de.db.transaction(function(Ve){function Pe(ot){return new M(function(Et,dt){Ve.executeSql("DROP TABLE IF EXISTS "+ot,[],function(){Et()},function(qt,dn){dt(dn)})})}for(var Ke=[],tt=0,ut=de.storeNames.length;tt<ut;tt++)Ke.push(Pe(de.storeNames[tt]));M.all(Ke).then(function(){Ae()}).catch(function(ot){Ne(ot)})},function(Ve){Ne(Ve)})})}):M.reject("Invalid arguments"),Y),_e}};function bn(U,Y){var z=U.name+"/";return U.storeName!==Y.storeName&&(z+=U.storeName+"/"),z}var Nn={_driver:"localStorageWrapper",_initStorage:function(U){var Y={};if(U)for(var z in U)Y[z]=U[z];return Y.keyPrefix=bn(U,this._defaultConfig),function Jt(){return!function(){var U="_localforage_support_test";try{return localStorage.setItem(U,!0),localStorage.removeItem(U),!1}catch{return!0}}()||0<localStorage.length}()?((this._dbInfo=Y).serializer=at,M.resolve()):M.reject()},_support:function(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function(U,Y){var z=this,_e=z.ready().then(function(){for(var Ee=z._dbInfo,de=Ee.keyPrefix,Ae=de.length,Ne=localStorage.length,Ve=1,Pe=0;Pe<Ne;Pe++){var Ke=localStorage.key(Pe);if(0===Ke.indexOf(de)){var tt=localStorage.getItem(Ke);if(tt&&(tt=Ee.serializer.deserialize(tt)),void 0!==(tt=U(tt,Ke.substring(Ae),Ve++)))return tt}}});return y(_e,Y),_e},getItem:function(U,Y){var z=this;U=O(U);var _e=z.ready().then(function(){var Ee=z._dbInfo,de=localStorage.getItem(Ee.keyPrefix+U);return de&&(de=Ee.serializer.deserialize(de)),de});return y(_e,Y),_e},setItem:function(U,Y,z){var _e=this;U=O(U);var Ee=_e.ready().then(function(){void 0===Y&&(Y=null);var de=Y;return new M(function(Ae,Ne){var Ve=_e._dbInfo;Ve.serializer.serialize(Y,function(Pe,Ke){if(Ke)Ne(Ke);else try{localStorage.setItem(Ve.keyPrefix+U,Pe),Ae(de)}catch(tt){"QuotaExceededError"!==tt.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==tt.name||Ne(tt),Ne(tt)}})})});return y(Ee,z),Ee},removeItem:function(U,Y){var z=this;U=O(U);var _e=z.ready().then(function(){localStorage.removeItem(z._dbInfo.keyPrefix+U)});return y(_e,Y),_e},clear:function(U){var Y=this,z=Y.ready().then(function(){for(var _e=Y._dbInfo.keyPrefix,Ee=localStorage.length-1;0<=Ee;Ee--){var de=localStorage.key(Ee);0===de.indexOf(_e)&&localStorage.removeItem(de)}});return y(z,U),z},length:function(U){var Y=this.keys().then(function(z){return z.length});return y(Y,U),Y},key:function(U,Y){var z=this,_e=z.ready().then(function(){var Ee,de=z._dbInfo;try{Ee=localStorage.key(U)}catch{Ee=null}return Ee&&(Ee=Ee.substring(de.keyPrefix.length)),Ee});return y(_e,Y),_e},keys:function(U){var Y=this,z=Y.ready().then(function(){for(var _e=Y._dbInfo,Ee=localStorage.length,de=[],Ae=0;Ae<Ee;Ae++){var Ne=localStorage.key(Ae);0===Ne.indexOf(_e.keyPrefix)&&de.push(Ne.substring(_e.keyPrefix.length))}return de});return y(z,U),z},dropInstance:function(U,Y){if(Y=x.apply(this,arguments),!(U="function"!=typeof U&&U||{}).name){var z=this.config();U.name=U.name||z.name,U.storeName=U.storeName||z.storeName}var _e,Ee=this;return y(_e=U.name?new M(function(de){de(U.storeName?bn(U,Ee._defaultConfig):U.name+"/")}).then(function(de){for(var Ae=localStorage.length-1;0<=Ae;Ae--){var Ne=localStorage.key(Ae);0===Ne.indexOf(de)&&localStorage.removeItem(Ne)}}):M.reject("Invalid arguments"),Y),_e}},mn=function(U,Y){for(var z=U.length,_e=0;_e<z;){if((Ee=U[_e])===(de=Y)||"number"==typeof Ee&&"number"==typeof de&&isNaN(Ee)&&isNaN(de))return!0;_e++}var Ee,de;return!1},Ft=Array.isArray||function(U){return"[object Array]"===Object.prototype.toString.call(U)},Wt={},_t={},D={INDEXEDDB:Me,WEBSQL:Wn,LOCALSTORAGE:Nn},P=[D.INDEXEDDB._driver,D.WEBSQL._driver,D.LOCALSTORAGE._driver],ee=["dropInstance"],ue=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ee),te={description:"",driver:P.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ce(U,Y){U[Y]=function(){var z=arguments;return U.ready().then(function(){return U[Y].apply(U,z)})}}function W(){for(var U=1;U<arguments.length;U++){var Y=arguments[U];if(Y)for(var z in Y)Y.hasOwnProperty(z)&&(arguments[0][z]=Ft(Y[z])?Y[z].slice():Y[z])}return arguments[0]}var H=function(){function U(Y){for(var z in function(de,Ae){if(!(de instanceof Ae))throw new TypeError("Cannot call a class as a function")}(this,U),D)if(D.hasOwnProperty(z)){var _e=D[z],Ee=_e._driver;this[z]=Ee,Wt[Ee]||this.defineDriver(_e)}this._defaultConfig=W({},te),this._config=W({},this._defaultConfig,Y),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return U.prototype.config=function(Y){if("object"!==(void 0===Y?"undefined":S(Y)))return"string"==typeof Y?this._config[Y]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var z in Y){if("storeName"===z&&(Y[z]=Y[z].replace(/\W/g,"_")),"version"===z&&"number"!=typeof Y[z])return new Error("Database version must be a number.");this._config[z]=Y[z]}return!("driver"in Y&&Y.driver)||this.setDriver(this._config.driver)},U.prototype.defineDriver=function(Y,z,_e){var Ee=new M(function(de,Ae){try{var Ne=Y._driver,Ve=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Y._driver)return void Ae(Ve);for(var Pe=ue.concat("_initStorage"),Ke=0,tt=Pe.length;Ke<tt;Ke++){var ut=Pe[Ke];if((!mn(ee,ut)||Y[ut])&&"function"!=typeof Y[ut])return void Ae(Ve)}!function(){for(var dt=function(xn){return function(){var pr=new Error("Method "+xn+" is not implemented by the current driver"),cn=M.reject(pr);return y(cn,arguments[arguments.length-1]),cn}},qt=0,dn=ee.length;qt<dn;qt++){var nn=ee[qt];Y[nn]||(Y[nn]=dt(nn))}}();var Et=function(dt){Wt[Ne]=Y,_t[Ne]=dt,de()};"_support"in Y?Y._support&&"function"==typeof Y._support?Y._support().then(Et,Ae):Et(!!Y._support):Et(!0)}catch(dt){Ae(dt)}});return F(Ee,z,_e),Ee},U.prototype.driver=function(){return this._driver||null},U.prototype.getDriver=function(Y,z,_e){var Ee=Wt[Y]?M.resolve(Wt[Y]):M.reject(new Error("Driver not found."));return F(Ee,z,_e),Ee},U.prototype.getSerializer=function(Y){var z=M.resolve(at);return F(z,Y),z},U.prototype.ready=function(Y){var z=this,_e=z._driverSet.then(function(){return null===z._ready&&(z._ready=z._initDriver()),z._ready});return F(_e,Y,Y),_e},U.prototype.setDriver=function(Y,z,_e){var Ee=this;Ft(Y)||(Y=[Y]);var de=this._getSupportedDrivers(Y);function Ae(){Ee._config.driver=Ee.driver()}function Ne(Pe){return Ee._extend(Pe),Ae(),Ee._ready=Ee._initStorage(Ee._config),Ee._ready}var Ve=null!==this._driverSet?this._driverSet.catch(function(){return M.resolve()}):M.resolve();return this._driverSet=Ve.then(function(){var Pe=de[0];return Ee._dbInfo=null,Ee._ready=null,Ee.getDriver(Pe).then(function(Ke){var tt;Ee._driver=Ke._driver,Ae(),Ee._wrapLibraryMethodsWithReady(),Ee._initDriver=(tt=de,function(){var ut=0;return function ot(){for(;ut<tt.length;){var Et=tt[ut];return ut++,Ee._dbInfo=null,Ee._ready=null,Ee.getDriver(Et).then(Ne).catch(ot)}Ae();var dt=new Error("No available storage method found.");return Ee._driverSet=M.reject(dt),Ee._driverSet}()})})}).catch(function(){Ae();var Pe=new Error("No available storage method found.");return Ee._driverSet=M.reject(Pe),Ee._driverSet}),F(this._driverSet,z,_e),this._driverSet},U.prototype.supports=function(Y){return!!_t[Y]},U.prototype._extend=function(Y){W(this,Y)},U.prototype._getSupportedDrivers=function(Y){for(var z=[],_e=0,Ee=Y.length;_e<Ee;_e++){var de=Y[_e];this.supports(de)&&z.push(de)}return z},U.prototype._wrapLibraryMethodsWithReady=function(){for(var Y=0,z=ue.length;Y<z;Y++)ce(this,ue[Y])},U.prototype.createInstance=function(Y){return new U(Y)},U}(),$=new H;v.exports=$},{3:3}]},{},[4])(4)}).call(this,i(39))},function(Le,g,i){"use strict";g.__esModule=!0,g.FETCH_ERROR=g.TYPINGNOTIFICATION_CONSTANTS=g.LOGIN_ERROR=g.MESSAGE_ERRORS=g.MESSAGES_REQUEST_ERRORS=g.USERS_REQUEST_ERRORS=g.GROUP_CREATION_ERRORS=g.INIT_ERROR=g.ERRORS=g.SERVER_ERRORS=void 0,g.SERVER_ERRORS={AUTH_ERR:{code:"AUTH_ERR_AUTH_TOKEN_NOT_FOUND",message:"The auth token %s% does not exist. Please make sure you are logged in and have a valid auth token or try login again."}},g.ERRORS={PARAMETER_MISSING:{code:"MISSING_PARAMETERS",name:"Invalid or no parameter passed to the method."}},g.INIT_ERROR={NO_APP_ID:{code:g.ERRORS.PARAMETER_MISSING.code,name:g.ERRORS.PARAMETER_MISSING.name,message:"AppID cannot be empty. Please specify a valid appID.",details:{}}},g.GROUP_CREATION_ERRORS={EMPTY_PASSWORD:{code:"ERR_EMPTY_GROUP_PASS",details:void 0,message:"Password is mandatory to join a group.",name:void 0}},g.USERS_REQUEST_ERRORS={EMPTY_USERS_LIST:{code:"EMPTY_USERS_LIST",name:"EMPTY_USERS_LIST",message:"The users list needs to have atleast one UID.",details:{}}},g.MESSAGES_REQUEST_ERRORS={REQUEST_IN_PROGRESS_ERROR:{code:"REQUEST_IN_PROGRESS",name:"REQUEST_IN_PROGRESS",message:"Request in progress.",details:{}},NOT_ENOUGH_PARAMS:{code:"NOT_ENOUGH_PARAMETERS",name:"NOT_ENOUGH_PARAMETERS",message:"`Timestamp`, `MessageId` or `updatedAfter` is required to use the 'fetchNext()' method.",details:{}}},g.MESSAGE_ERRORS={INVALID_CUSTOM_DATA:{code:"-1",name:"%s_CUSTOM_DATA",message:"",details:{}}},g.LOGIN_ERROR={NOT_INITIALIZED:{code:"-1",name:"COMETCHAT_INITIALIZATION_NOT_DONE",message:"please initialize the cometchat before using login method.",details:{}},UNAUTHORISED:{code:401,name:"USER_NOT_AUTHORISED",message:"The `authToken` of the user is not authorised. Please verify again.",details:{}},WS_CONNECTION_FAIL:{code:-1,name:"WS_CONNECTION_FAIL",message:"WS Connection failed. %s",details:{}},WS_CONNECTION_FAIL_PORT_ERROR:{code:-1,name:"WS_CONNECTION_FAIL",message:"WS Connection failed. Trying to connect with port: %s",details:{}},WS_CONNECTION_FALLBACK_FAIL_PORT_ERROR:{code:-1,name:"WS_CONNECTION_FALLBACK_FAIL",message:"WS Connection fallback failed. Trying to connect with port: %s",details:{}},WS_AUTH_FAIL:{code:-1,name:"WS_AUTH_FAIL",message:"WS username/password not correct.",details:{}},NO_INTERNET:{code:-1,name:"NO_INTERNET_CONNECTION",message:"You do not have internet connection.",details:{}},REQUEST_IN_PROGRESS:{code:-1,name:"LOGIN_IN_PROGRESS",message:"Please wait until the previous login request ends.",details:{}}},g.TYPINGNOTIFICATION_CONSTANTS={TOO_MANY_REQUEST:{code:"TOO_MANY_REQUEST",name:"TOO MANY REQUEST",message:"too many request, wait for `%s` seconds before sending next request.",details:{}}},g.FETCH_ERROR={ERROR_IN_API_CALL:{code:"FAILED_TO_FETCH",name:"FAILED_TO_FETCH",message:"There is an unknown issue with the API request. Please check your internet connection and verify the api call.",details:{}}}},function(Le,g,i){"use strict";g.__esModule=!0,g.GroupsController=void 0;var _=i(8),d=i(1),v=i(0),T=function(){function S(){}return S.trasformJSONGroup=function(p){var m;try{m=new _.Group(p[d.GroupConstants.KEYS.GUID],p[d.GroupConstants.KEYS.NAME],p[d.GroupConstants.KEYS.TYPE]),p.wsChannel&&delete p.wsChannel,Object.assign(m,p),p=m}catch(M){v.Logger.error("GroupsController:transformJSONGroup",M)}return p},S}();g.GroupsController=T},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(F,O){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,G){x.__proto__=G}||function(x,G){for(var L in G)G.hasOwnProperty(L)&&(x[L]=G[L])})(F,O)},function(F,O){function x(){this.constructor=F}_(F,O),F.prototype=null===O?Object.create(O):(x.prototype=O.prototype,new x)}),v=this&&this.__assign||function(){return(v=Object.assign||function(F){for(var O,x=1,G=arguments.length;x<G;x++)for(var L in O=arguments[x])Object.prototype.hasOwnProperty.call(O,L)&&(F[L]=O[L]);return F}).apply(this,arguments)};g.__esModule=!0,g.TextMessage=void 0;var T=i(7),S=i(1),p=i(4),m=i(8),M=i(0),y=function(F){function O(x,G,L){var l=F.call(this,x,"text",L,S.MessageCategory.MESSAGE)||this;return l.type="text",l.data={text:G},l.text=G,l}return d(O,F),O.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},O.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch{return this.receiver}},O.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},O.prototype.setMetadata=function(x){this.metadata=x,this.data=v(v({},this.data),{metadata:x})},O.prototype.getData=function(){return this.data},O.prototype.setData=function(x){this.data=x},O.prototype.getText=function(){return this.text},O.prototype.setText=function(x){this.text=x,this.data.text=x},O.prototype.setProcessedText=function(x){this.processedText=x},O.prototype.getProcessedText=function(){return this.processedText},O.prototype.getTags=function(){return this.tags},O.prototype.setTags=function(x){this.tags=x},O.prototype.getSenderFromData=function(){try{var x=this.getData();if(x[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.SENDER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new p.User(x[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.SENDER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch(G){M.Logger.error("TextMessageModel: getSenderFromData",G)}},O.prototype.getReceiverFromData=function(){try{var x=this.getData(),G=x[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.RECEIVER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(x[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.RECEIVER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new p.User(G);var L=new m.Group(G[S.GroupConstants.KEYS.GUID],G[S.GroupConstants.KEYS.NAME],G[S.MessageConstatnts.KEYS.TYPE]);return Object.assign(L,G)}catch(l){M.Logger.error("TextMessageModel: getReceiverFromData",l)}},O.TYPE=S.MessageConstatnts.TYPE.TEXT,O.RECEIVER_TYPE=S.MessageConstatnts.RECEIVER_TYPE,O.CATEGORY=S.MessageConstatnts.CATEGORY.MESSAGE,O}(T.BaseMessage);g.TextMessage=y},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(O,x){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,L){G.__proto__=L}||function(G,L){for(var l in L)L.hasOwnProperty(l)&&(G[l]=L[l])})(O,x)},function(O,x){function G(){this.constructor=O}_(O,x),O.prototype=null===x?Object.create(x):(G.prototype=x.prototype,new G)}),v=this&&this.__assign||function(){return(v=Object.assign||function(O){for(var x,G=1,L=arguments.length;G<L;G++)for(var l in x=arguments[G])Object.prototype.hasOwnProperty.call(x,l)&&(O[l]=x[l]);return O}).apply(this,arguments)};g.__esModule=!0,g.MediaMessage=void 0;var T=i(7),S=i(1),p=i(4),m=i(18),M=i(8),y=i(0),F=function(O){function x(G,L,l,Q){var ne=O.call(this,G,l,Q,S.MessageCategory.MESSAGE)||this;return ne.data={},"object"!=typeof L?ne.data={url:L}:L&&(ne.files=0<L.length?L:[L]),ne}return d(x,O),x.prototype.setCaption=function(G){this.caption=G,this.data[S.MessageConstatnts.KEYS.TEXT]=G},x.prototype.getCaption=function(){return this.data[S.MessageConstatnts.KEYS.TEXT]},x.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},x.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch{return this.receiver}},x.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},x.prototype.setMetadata=function(G){this.metadata=G,this.data=v(v({},this.data),{metadata:G})},x.prototype.getData=function(){return this.data},x.prototype.setData=function(G){this.data=G},x.prototype.getAttachment=function(){return new m.Attachment(this.data.attachments[0])},x.prototype.setAttachment=function(G){this.data.attachments=[m.Attachment.toJSON(G)]},x.prototype.getAttachments=function(){var G=[];if(this.data.attachments&&0<this.data.attachments.length)for(var L=0;L<this.data.attachments.length;L++)G.push(new m.Attachment(this.data.attachments[L]));return G},x.prototype.setAttachments=function(G){var L=[];if(G&&0<G.length)for(var l=0;l<G.length;l++)L.push(m.Attachment.toJSON(G[l]));this.data.attachments=L},x.prototype.getURL=function(){try{var G=this.getData();if(G[S.MessageConstatnts.KEYS.URL])return G[S.MessageConstatnts.KEYS.URL]}catch(L){y.Logger.error("MediaMessageModel: getURL",L)}},x.prototype.getTags=function(){return this.tags},x.prototype.setTags=function(G){this.tags=G},x.prototype.getSenderFromData=function(){try{var G=this.getData();if(G[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.SENDER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new p.User(G[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.SENDER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch(L){y.Logger.error("MediaMessageModel: getSenderFromData",L)}},x.prototype.getReceiverFromData=function(){try{var G=this.getData(),L=G[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.RECEIVER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(G[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.RECEIVER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new p.User(L);var l=new M.Group(L[S.GroupConstants.KEYS.GUID],L[S.GroupConstants.KEYS.NAME],L[S.MessageConstatnts.KEYS.TYPE]);return Object.assign(l,L)}catch(Q){y.Logger.error("MediaMessageModel: getReceiverFromData",Q)}},x.TYPE=S.MessageConstatnts.TYPE,x.RECEIVER_TYPE=S.MessageConstatnts.RECEIVER_TYPE,x.CATEGORY=S.MessageConstatnts.CATEGORY,x}(T.BaseMessage);g.MediaMessage=F},function(Le,g,i){"use strict";g.__esModule=!0,g.Attachment=void 0;var _=i(1),d=function(){function v(T){T.hasOwnProperty(_.ATTACHMENTS_CONSTANTS.KEYS.EXTENSION)&&(this.extension=T[_.ATTACHMENTS_CONSTANTS.KEYS.EXTENSION]),T.hasOwnProperty(_.ATTACHMENTS_CONSTANTS.KEYS.MIME_TYPE)&&(this.mimeType=T[_.ATTACHMENTS_CONSTANTS.KEYS.MIME_TYPE]),T.hasOwnProperty(_.ATTACHMENTS_CONSTANTS.KEYS.NAME)&&(this.name=T[_.ATTACHMENTS_CONSTANTS.KEYS.NAME]),T.hasOwnProperty(_.ATTACHMENTS_CONSTANTS.KEYS.SIZE)&&(this.size=T[_.ATTACHMENTS_CONSTANTS.KEYS.SIZE]),T.hasOwnProperty(_.ATTACHMENTS_CONSTANTS.KEYS.URL)&&(this.url=T[_.ATTACHMENTS_CONSTANTS.KEYS.URL])}return v.prototype.createFileFromJSON=function(T){return new v(T)},v.toJSON=function(T){return{extension:T.getExtension(),mimeType:T.getMimeType(),name:T.getName(),url:T.getUrl(),size:T.getSize()}},v.prototype.getExtension=function(){return this.extension},v.prototype.setExtension=function(T){this.extension=T},v.prototype.getMimeType=function(){return this.mimeType},v.prototype.setMimeType=function(T){this.mimeType=T},v.prototype.getName=function(){return this.name},v.prototype.setName=function(T){this.name=T},v.prototype.getSize=function(){return this.size},v.prototype.setSize=function(T){this.size=T},v.prototype.getUrl=function(){return this.url},v.prototype.setUrl=function(T){this.url=T},v}();g.Attachment=d},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(F,O){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,G){x.__proto__=G}||function(x,G){for(var L in G)G.hasOwnProperty(L)&&(x[L]=G[L])})(F,O)},function(F,O){function x(){this.constructor=F}_(F,O),F.prototype=null===O?Object.create(O):(x.prototype=O.prototype,new x)}),v=this&&this.__assign||function(){return(v=Object.assign||function(F){for(var O,x=1,G=arguments.length;x<G;x++)for(var L in O=arguments[x])Object.prototype.hasOwnProperty.call(O,L)&&(F[L]=O[L]);return F}).apply(this,arguments)};g.__esModule=!0,g.CustomMessage=void 0;var T=i(7),S=i(1),p=i(4),m=i(0),M=i(8),y=function(F){function O(){for(var x=[],G=0;G<arguments.length;G++)x[G]=arguments[G];var L=this;if(3==x.length){var l=x[0],Q=x[1],ne=x[2];L=F.call(this,l,S.MessageConstatnts.TYPE.CUSTOM,Q,S.MessageCategory.MESSAGE)||this,("object"!=typeof ne||Array.isArray(ne))&&(ne={}),L.customData=ne,m.isFalsy(L.data)&&(L.data={}),L.data[S.MessageConstatnts.KEYS.CUSTOM_DATA]=ne}return 4==x.length&&(ne=x[3],L=F.call(this,l=x[0],x[2],Q=x[1],S.MessageCategory.CUSTOM)||this,("object"!=typeof ne||Array.isArray(ne))&&(ne={}),L.customData=ne,m.isFalsy(L.data)&&(L.data={}),L.data[S.MessageConstatnts.KEYS.CUSTOM_DATA]=ne),L}return d(O,F),O.prototype.getCustomData=function(){return this.customData},O.prototype.setCustomData=function(x){this.customData=x,this.data[S.MessageConstatnts.KEYS.CUSTOM_DATA]=x},O.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},O.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch{return this.receiver}},O.prototype.getSubType=function(){return this.subType},O.prototype.setSubType=function(x){this.subType=x,this.data=v(v({},this.data),{subType:x})},O.prototype.getMetadata=function(){return this.metadata},O.prototype.setMetadata=function(x){this.metadata=x,this.data=v(v({},this.data),{metadata:x})},O.prototype.getData=function(){return this.data},O.prototype.getTags=function(){return this.tags},O.prototype.setTags=function(x){this.tags=x},O.prototype.getSenderFromData=function(){try{var x=this.getData();if(x[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.SENDER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new p.User(x[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.SENDER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch(G){m.Logger.error("CustomMessageModel: getSenderFromData",G)}},O.prototype.getReceiverFromData=function(){try{var x=this.getData(),G=x[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.RECEIVER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(x[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][S.MessageConstatnts.KEYS.RECEIVER][S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[S.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new p.User(G);var L=new M.Group(G[S.GroupConstants.KEYS.GUID],G[S.GroupConstants.KEYS.NAME],G[S.MessageConstatnts.KEYS.TYPE]);return Object.assign(L,G)}catch(l){m.Logger.error("CustomMessageModel: getReceiverFromData",l)}},O}(T.BaseMessage);g.CustomMessage=y},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(O,x){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,L){G.__proto__=L}||function(G,L){for(var l in L)L.hasOwnProperty(l)&&(G[l]=L[l])})(O,x)},function(O,x){function G(){this.constructor=O}_(O,x),O.prototype=null===x?Object.create(x):(G.prototype=x.prototype,new G)}),v=this&&this.__assign||function(){return(v=Object.assign||function(O){for(var x,G=1,L=arguments.length;G<L;G++)for(var l in x=arguments[G])Object.prototype.hasOwnProperty.call(x,l)&&(O[l]=x[l]);return O}).apply(this,arguments)};g.__esModule=!0,g.Action=void 0;var T=i(7),S=i(8),p=i(4),m=i(1),M=i(0),y=i(10),F=function(O){function x(){return null!==O&&O.apply(this,arguments)||this}return d(x,O),x.actionFromJSON=function(G){var L=new this(G[m.MessageConstatnts.KEYS.RECEIVER],G[m.MessageConstatnts.KEYS.TYPE],G[m.MessageConstatnts.KEYS.RECEIVER_TYPE],m.MessageCategory.ACTION),l=G[m.MessageConstatnts.KEYS.DATA];if(L.data=l,L.setAction(l[m.MessageConstatnts.KEYS.ACTION]),l[m.ActionConstatnts.ACTION_KEYS.EXTRAS]){var Q=l[m.ActionConstatnts.ACTION_KEYS.EXTRAS];if(Q[m.ActionConstatnts.ACTION_KEYS.SCOPE]){var ne=Q[m.ActionConstatnts.ACTION_KEYS.SCOPE];ne[m.ActionConstatnts.ACTION_KEYS.NEW]&&ne[m.ActionConstatnts.ACTION_KEYS.OLD]&&(L.setOldScope(ne[m.ActionConstatnts.ACTION_KEYS.OLD]),L.setNewScope(ne[m.ActionConstatnts.ACTION_KEYS.NEW]))}}l[m.MessageConstatnts.KEYS.METADATA]&&L.setMetadata(l[m.MessageConstatnts.KEYS.METADATA]);var Re=l[m.ActionConstatnts.ACTION_KEYS.ENTITIES];if(Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY])if(Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][m.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==m.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var Z=new p.User(Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][m.ActionConstatnts.ACTION_KEYS.ENTITY]);Object.assign(Z,Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][m.ActionConstatnts.ACTION_KEYS.ENTITY]),L.actionBy=Z,L.setSender(Z)}else{var oe=new S.Group("","","");Object.assign(oe,Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][m.ActionConstatnts.ACTION_KEYS.ENTITY]),L.actionBy=oe}if(Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR]&&(Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][m.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==m.ActionConstatnts.ACTION_ENTITY_TYPE.USER?(Z=new p.User(Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][m.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(Z,Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][m.ActionConstatnts.ACTION_KEYS.ENTITY]),L.actionFor=Z):(oe=new S.Group("","",""),Object.assign(oe,Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][m.ActionConstatnts.ACTION_KEYS.ENTITY]),L.actionFor=oe)),Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON])if(Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][m.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==m.ActionConstatnts.ACTION_ENTITY_TYPE.USER)Z=new p.User(Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][m.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(Z,Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][m.ActionConstatnts.ACTION_KEYS.ENTITY]),L.actionOn=Z;else if(Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][m.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==m.ActionConstatnts.ACTION_ENTITY_TYPE.GROUP)oe=new S.Group("","",""),Object.assign(oe,Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][m.ActionConstatnts.ACTION_KEYS.ENTITY]),L.actionOn=oe;else if(Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][m.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==m.ActionConstatnts.ACTION_ENTITY_TYPE.MESSAGE){var ie=y.MessageController.trasformJSONMessge(Re[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][m.ActionConstatnts.ACTION_KEYS.ENTITY]);L.actionOn=ie}return L.setMessage(L.getActionMessage(L)),L},x.prototype.getOldScope=function(){return this.oldScope},x.prototype.setOldScope=function(G){this.oldScope=G},x.prototype.getNewScope=function(){return this.newScope},x.prototype.setNewScope=function(G){this.newScope=G},x.prototype.getRawData=function(){return this.rawData},x.prototype.setRawData=function(G){this.rawData=G},x.prototype.getMessage=function(){return this.message},x.prototype.setMessage=function(G){this.message=G},x.prototype.getAction=function(){return this.action},x.prototype.setAction=function(G){this.action=G},x.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},x.prototype.getActionBy=function(){return this.actionBy},x.prototype.setActionBy=function(G){this.actionBy=G},x.prototype.getActionOn=function(){return this.actionOn},x.prototype.setActionOn=function(G){this.actionOn=G},x.prototype.getActionFor=function(){return this.actionFor},x.prototype.setActionFor=function(G){this.actionFor=G},x.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},x.prototype.setMetadata=function(G){this.metadata=G,this.data=v(v({},this.data),{metadata:G})},x.prototype.getActionMessage=function(G){var L="";switch(G.getType()){case m.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_USER:case m.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP:G.getAction();break;case m.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP_MEMBER:switch(G.getAction()){case m.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_JOINED:var l=G.getActionBy();L=M.format(m.ActionConstatnts.ActionMessages.ACTION_GROUP_JOINED_MESSAGE,l.getName());break;case m.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_LEFT:l=G.getActionBy(),L=M.format(m.ActionConstatnts.ActionMessages.ACTION_GROUP_LEFT_MESSAGE,l.getName());break;case m.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_KICKED:l=G.getActionBy();var Q=G.getActionOn();L=M.format(m.ActionConstatnts.ActionMessages.ACTION_MEMBER_KICKED_MESSAGE,l.getName(),Q.getName());break;case m.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_BANNED:l=G.getActionBy(),Q=G.getActionOn(),L=M.format(m.ActionConstatnts.ActionMessages.ACTION_MEMBER_BANNED_MESSAGE,l.getName(),Q.getName());break;case m.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_UNBANNED:l=G.getActionBy(),Q=G.getActionOn(),L=M.format(m.ActionConstatnts.ActionMessages.ACTION_MEMBER_UNBANNED_MESSAGE,l.getName(),Q.getName());break;case m.ActionConstatnts.ACTION_KEYS.ACTION_SCOPE_CHANGED:l=G.getActionBy(),Q=G.getActionOn();var ne=G.getNewScope();L=M.format(m.ActionConstatnts.ActionMessages.ACTION_MEMBER_SCOPE_CHANGED,l.getName(),Q.getName(),ne);break;case m.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_ADDED:l=G.getActionBy(),Q=G.getActionOn(),L=M.format(m.ActionConstatnts.ActionMessages.ACTION_MEMBER_ADDED_TO_GROUP,l.getName(),Q.getName());break;case m.ActionConstatnts.ACTION_KEYS.TYPE_MESSAGE_EDITED:L=M.format(m.ActionConstatnts.ActionMessages.ACTION_MESSAGE_EDITED_MESSAGE,"");break;case m.ActionConstatnts.ACTION_KEYS.TYPE_MESSAGE_DELETED:L=M.format(m.ActionConstatnts.ActionMessages.ACTION_MESSAGE_DELETED_MESSAGE,"")}}return L},x.prototype.getSenderFromData=function(){var G=this.data[m.ActionConstatnts.ACTION_KEYS.ENTITIES];if(G[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY]&&G[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][m.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==m.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var L=new p.User(G[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][m.ActionConstatnts.ACTION_KEYS.ENTITY]);return Object.assign(L,G[m.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][m.ActionConstatnts.ACTION_KEYS.ENTITY]),L}},x.TYPE=m.MessageConstatnts.TYPE,x.RECEIVER_TYPE=m.MessageConstatnts.RECEIVER_TYPE,x.CATEGORY=m.MessageConstatnts.CATEGORY,x.ACTION_TYPE=m.ActionConstatnts.ACTION_TYPE,x}(T.BaseMessage);g.Action=F},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(F,O){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,G){x.__proto__=G}||function(x,G){for(var L in G)G.hasOwnProperty(L)&&(x[L]=G[L])})(F,O)},function(F,O){function x(){this.constructor=F}_(F,O),F.prototype=null===O?Object.create(O):(x.prototype=O.prototype,new x)}),v=this&&this.__assign||function(){return(v=Object.assign||function(F){for(var O,x=1,G=arguments.length;x<G;x++)for(var L in O=arguments[x])Object.prototype.hasOwnProperty.call(O,L)&&(F[L]=O[L]);return F}).apply(this,arguments)};g.__esModule=!0,g.Call=void 0;var T=i(7),S=i(8),p=i(1),m=i(0),M=i(4),y=function(F){function O(x,G,L,l){return m.isFalsy(l)?F.call(this,x,G,L,p.MessageCategory.CALL)||this:F.call(this,x,G,L,l)||this}return d(O,F),O.prototype.getCallInitiator=function(){return this.getCallInitiatedByFromData()},O.prototype.setCallInitiator=function(x){this.callInitiator=x},O.prototype.getCallReceiver=function(){return this.getCallReceivedByFromData()},O.prototype.setCallReceiver=function(x){this.callReceiver=x},O.prototype.getData=function(){return this.data},O.prototype.setData=function(x){this.data=x},O.prototype.getSessionId=function(){return this.sessionId},O.prototype.setSessionId=function(x){this.sessionId=x},O.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},O.prototype.setMetadata=function(x){this.metadata=x,this.data=v(v({},this.data),{metadata:x})},O.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},O.prototype.getAction=function(){return this.action},O.prototype.setAction=function(x){this.action=x},O.prototype.getInitiatedAt=function(){return this.initiatedAt},O.prototype.setInitiatedAt=function(x){this.initiatedAt=x},O.prototype.getJoinedAt=function(){return this.joinedAt},O.prototype.setJoinedAt=function(x){this.joinedAt=x},O.prototype.getRawData=function(){return this.rawData},O.prototype.setRawData=function(x){this.rawData=x},O.callFromJSON=function(x){try{var G=new this(x[p.MessageConstatnts.KEYS.RECEIVER],x[p.MessageConstatnts.KEYS.TYPE],x[p.MessageConstatnts.KEYS.RECEIVER_TYPE],p.MessageCategory.CALL),L=x[p.MessageConstatnts.KEYS.DATA];G.setAction(L[p.MessageConstatnts.KEYS.ACTION]),L[p.MessageConstatnts.KEYS.METADATA]&&G.setMetadata(L[p.MessageConstatnts.KEYS.METADATA]);var l=L[p.ActionConstatnts.ACTION_KEYS.ENTITIES];if(l[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON]){var Q=l[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON];if(Q[p.CallConstants.CALL_KEYS.CALL_ENTITY]){var ne=Q[p.CallConstants.CALL_KEYS.CALL_ENTITY];if(ne[p.CallConstants.CALL_KEYS.CALL_SESSION_ID]&&(G.sessionId=ne[p.CallConstants.CALL_KEYS.CALL_SESSION_ID]),ne[p.CallConstants.CALL_KEYS.CALL_STATUS]&&(G.status=ne[p.CallConstants.CALL_KEYS.CALL_STATUS]),ne[p.CallConstants.CALL_KEYS.CALL_DATA]){var Re=ne[p.CallConstants.CALL_KEYS.CALL_DATA];Re[p.CallConstants.CALL_KEYS.CALL_METADATA]&&(G.metadata=Re[p.CallConstants.CALL_KEYS.CALL_METADATA])}ne[p.CallConstants.CALL_KEYS.CALL_INITIATED_AT]&&(G.initiatedAt=ne[p.CallConstants.CALL_KEYS.CALL_INITIATED_AT]),ne[p.CallConstants.CALL_KEYS.CALL_JOINED_AT]&&(G.joinedAt=ne[p.CallConstants.CALL_KEYS.CALL_JOINED_AT]),ne[p.CallConstants.CALL_KEYS.CALL_LEFT_AT]&&(G.joinedAt=ne[p.CallConstants.CALL_KEYS.CALL_LEFT_AT])}}return G}catch(Z){m.Logger.error("CallModel: callFromJSON",Z)}},O.prototype.getSenderFromData=function(){try{var x=this.getData();if((x=x[p.ActionConstatnts.ACTION_KEYS.ENTITIES])[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][p.CallConstants.CALL_KEYS.CALL_ENTITY])return new M.User(x[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][p.CallConstants.CALL_KEYS.CALL_ENTITY])}catch(G){m.Logger.error("CallModel:getSenderFromData",G)}},O.prototype.getCallInitiatedByFromData=function(){try{var x=this.getData();if((x=x[p.ActionConstatnts.ACTION_KEYS.ENTITIES])[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][p.CallConstants.CALL_KEYS.CALL_ENTITY][p.CallConstants.CALL_KEYS.CALL_DATA][p.ActionConstatnts.ACTION_KEYS.ENTITIES][p.CallConstants.CALL_KEYS.CALL_SENDER])return new M.User(x[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][p.CallConstants.CALL_KEYS.CALL_ENTITY][p.CallConstants.CALL_KEYS.CALL_DATA][p.ActionConstatnts.ACTION_KEYS.ENTITIES][p.CallConstants.CALL_KEYS.CALL_SENDER][p.CallConstants.CALL_KEYS.CALL_ENTITY])}catch(G){m.Logger.error("CallModel:getCallInitiatedByFromData",G)}},O.prototype.getCallReceivedByFromData=function(){try{var x=this.getData();if((x=x[p.ActionConstatnts.ACTION_KEYS.ENTITIES])[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][p.CallConstants.CALL_KEYS.CALL_ENTITY]){if(x[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][p.CallConstants.CALL_KEYS.CALL_ENTITY_TYPE]==p.CallConstants.CALL_KEYS.CALL_ENTITY_USER)return new M.User(x[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][p.CallConstants.CALL_KEYS.CALL_ENTITY]);var G=new S.Group(x[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][p.CallConstants.CALL_KEYS.CALL_ENTITY][p.GroupConstants.KEYS.GUID],x[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][p.CallConstants.CALL_KEYS.CALL_ENTITY][p.GroupConstants.KEYS.NAME],x[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][p.CallConstants.CALL_KEYS.CALL_ENTITY][p.GroupConstants.KEYS.TYPE]);return Object.assign(G,x[p.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][p.CallConstants.CALL_KEYS.CALL_ENTITY])}}catch(L){m.Logger.error("CallModel:getCallReceivedByFromData",L)}},O.TYPE=p.MessageConstatnts.TYPE,O.RECEIVER_TYPE=p.MessageConstatnts.RECEIVER_TYPE,O.CATEGORY=p.MessageConstatnts.CATEGORY,O.ACTION_TYPE=p.ActionConstatnts.ACTION_TYPE,O}(T.BaseMessage);g.Call=y},function(Le,g,i){"use strict";g.__esModule=!0,g.MessageReceipt=void 0;var _=function(){function d(){this.RECEIPT_TYPE={READ_RECEIPT:"read",DELIVERY_RECEIPT:"delivery"},this.receiptType=this.RECEIPT_TYPE.DELIVERY_RECEIPT}return d.prototype.getReceiverType=function(){return this.receiverType},d.prototype.setReceiverType=function(v){this.receiverType=v},d.prototype.getSender=function(){return this.sender},d.prototype.setSender=function(v){this.sender=v},d.prototype.getReceiver=function(){return this.receiver},d.prototype.setReceiver=function(v){this.receiver=v},d.prototype.getTimestamp=function(){return this.timestamp},d.prototype.setTimestamp=function(v){this.timestamp=v},d.prototype.setReadAt=function(v){this.readAt=v},d.prototype.getReadAt=function(){return this.readAt},d.prototype.setDeliveredAt=function(v){this.deliveredAt=v},d.prototype.getDeliveredAt=function(){return this.deliveredAt},d.prototype.getMessageId=function(){return this.messageId},d.prototype.setMessageId=function(v){this.messageId=v},d.prototype.getReceiptType=function(){return this.receiptType},d.prototype.setReceiptType=function(v){void 0===v&&(v=this.RECEIPT_TYPE.DELIVERY_RECEIPT),this.receiptType=v},d}();g.MessageReceipt=_},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(Z,oe){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,pe){ie.__proto__=pe}||function(ie,pe){for(var De in pe)pe.hasOwnProperty(De)&&(ie[De]=pe[De])})(Z,oe)},function(Z,oe){function ie(){this.constructor=Z}_(Z,oe),Z.prototype=null===oe?Object.create(oe):(ie.prototype=oe.prototype,new ie)});g.__esModule=!0,g.WSConnectionListener=g.UserLoginListener=g.CallsListener=g.UserCallListener=g.GroupsListener=g.UsersListener=g.MessagesListener=g.Listener=g.ConnectionListener=g.LoginListener=g.OngoingCallListener=g.GroupListener=g.UserListener=g.CallListener=g.MessageListener=void 0;var v=i(0);g.MessageListener=function(){for(var Z=[],oe=0;oe<arguments.length;oe++)Z[oe]=arguments[oe];this.onTextMessageReceived=void 0,this.onMediaMessageReceived=void 0,this.onCustomMessageReceived=void 0,this.onTypingStarted=void 0,this.onTypingEnded=void 0,this.onMessagesDelivered=void 0,this.onMessagesRead=void 0,this.onMessageEdited=void 0,this.onMessageDeleted=void 0,this.onTransientMessageReceived=void 0,v.isFalsy(Z[0].onTextMessageReceived)||(this.onTextMessageReceived=Z[0].onTextMessageReceived),v.isFalsy(Z[0].onMediaMessageReceived)||(this.onMediaMessageReceived=Z[0].onMediaMessageReceived),v.isFalsy(Z[0].onTypingStarted)||(this.onTypingStarted=Z[0].onTypingStarted),v.isFalsy(Z[0].onTypingEnded)||(this.onTypingEnded=Z[0].onTypingEnded),v.isFalsy(Z[0].onMessagesDelivered)||(this.onMessagesDelivered=Z[0].onMessagesDelivered),v.isFalsy(Z[0].onMessagesRead)||(this.onMessagesRead=Z[0].onMessagesRead),v.isFalsy(Z[0].onCustomMessageReceived)||(this.onCustomMessageReceived=Z[0].onCustomMessageReceived),v.isFalsy(Z[0].onMessageEdited)||(this.onMessageEdited=Z[0].onMessageEdited),v.isFalsy(Z[0].onMessageDeleted)||(this.onMessageDeleted=Z[0].onMessageDeleted),v.isFalsy(Z[0].onTransientMessageReceived)||(this.onTransientMessageReceived=Z[0].onTransientMessageReceived)};g.CallListener=function(){for(var Z=[],oe=0;oe<arguments.length;oe++)Z[oe]=arguments[oe];this.onIncomingCallReceived=void 0,this.onOutgoingCallAccepted=void 0,this.onOutgoingCallRejected=void 0,this.onIncomingCallCancelled=void 0,v.isFalsy(Z[0].onIncomingCallReceived)||(this.onIncomingCallReceived=Z[0].onIncomingCallReceived),v.isFalsy(Z[0].onOutgoingCallAccepted)||(this.onOutgoingCallAccepted=Z[0].onOutgoingCallAccepted),v.isFalsy(Z[0].onOutgoingCallRejected)||(this.onOutgoingCallRejected=Z[0].onOutgoingCallRejected),v.isFalsy(Z[0].onIncomingCallCancelled)||(this.onIncomingCallCancelled=Z[0].onIncomingCallCancelled)};g.UserListener=function(){for(var Z=[],oe=0;oe<arguments.length;oe++)Z[oe]=arguments[oe];v.isFalsy(Z[0].onUserOnline)||(this.onUserOnline=Z[0].onUserOnline),v.isFalsy(Z[0].onUserOffline)||(this.onUserOffline=Z[0].onUserOffline)};g.GroupListener=function(){for(var Z=[],oe=0;oe<arguments.length;oe++)Z[oe]=arguments[oe];v.isFalsy(Z[0].onGroupMemberJoined)||(this.onGroupMemberJoined=Z[0].onGroupMemberJoined),v.isFalsy(Z[0].onGroupMemberLeft)||(this.onGroupMemberLeft=Z[0].onGroupMemberLeft),v.isFalsy(Z[0].onGroupMemberKicked)||(this.onGroupMemberKicked=Z[0].onGroupMemberKicked),v.isFalsy(Z[0].onGroupMemberBanned)||(this.onGroupMemberBanned=Z[0].onGroupMemberBanned),v.isFalsy(Z[0].onGroupMemberUnbanned)||(this.onGroupMemberUnbanned=Z[0].onGroupMemberUnbanned),v.isFalsy(Z[0].onGroupMemberScopeChanged)||(this.onGroupMemberScopeChanged=Z[0].onGroupMemberScopeChanged),v.isFalsy(Z[0].onMemberAddedToGroup)||(this.onGroupMemberAddedToGroup=Z[0].onMemberAddedToGroup)};g.OngoingCallListener=function(){for(var Z=[],oe=0;oe<arguments.length;oe++)Z[oe]=arguments[oe];v.isFalsy(Z[0].onYouLeft)||(this.onYouLeft=Z[0].onYouLeft),v.isFalsy(Z[0].onYouJoined)||(this.onYouJoined=Z[0].onYouJoined),v.isFalsy(Z[0].onUserJoined)||(this.onUserJoined=Z[0].onUserJoined),v.isFalsy(Z[0].onUserLeft)||(this.onUserLeft=Z[0].onUserLeft),v.isFalsy(Z[0].onUserListUpdated)||(this.onUserListUpdated=Z[0].onUserListUpdated),v.isFalsy(Z[0].onMediaDeviceListUpdated)||(this.onMediaDeviceListUpdated=Z[0].onMediaDeviceListUpdated),v.isFalsy(Z[0].onRecordingStarted)||(this.onRecordingStarted=Z[0].onRecordingStarted),v.isFalsy(Z[0].onRecordingStopped)||(this.onRecordingStopped=Z[0].onRecordingStopped),v.isFalsy(Z[0].onScreenShareStarted)||(this.onScreenShareStarted=Z[0].onScreenShareStarted),v.isFalsy(Z[0].onScreenShareStopped)||(this.onScreenShareStopped=Z[0].onScreenShareStopped),v.isFalsy(Z[0].onUserMuted)||(this.onUserMuted=Z[0].onUserMuted),v.isFalsy(Z[0].onCallSwitchedToVideo)||(this.onCallSwitchedToVideo=Z[0].onCallSwitchedToVideo),v.isFalsy(Z[0].onCallEnded)||(this.onCallEnded=Z[0].onCallEnded),v.isFalsy(Z[0].onError)||(this.onError=Z[0].onError)};g.LoginListener=function(){for(var Z=[],oe=0;oe<arguments.length;oe++)Z[oe]=arguments[oe];v.isFalsy(Z[0].loginSuccess)||(this.loginSuccess=Z[0].loginSuccess),v.isFalsy(Z[0].loginFailure)||(this.loginFailure=Z[0].loginFailure),v.isFalsy(Z[0].logoutSuccess)||(this.logoutSuccess=Z[0].logoutSuccess),v.isFalsy(Z[0].logoutFailure)||(this.logoutFailure=Z[0].logoutFailure)};g.ConnectionListener=function(){for(var Z=[],oe=0;oe<arguments.length;oe++)Z[oe]=arguments[oe];this.onConnected=void 0,this.inConnecting=void 0,this.onDisconnected=void 0,this.onFeatureThrottled=void 0,v.isFalsy(Z[0].onConnected)||(this.onConnected=Z[0].onConnected),v.isFalsy(Z[0].inConnecting)||(this.inConnecting=Z[0].inConnecting),v.isFalsy(Z[0].onDisconnected)||(this.onDisconnected=Z[0].onDisconnected),v.isFalsy(Z[0].onFeatureThrottled)||(this.onFeatureThrottled=Z[0].onFeatureThrottled)};var O=function(Z,oe){this._name=Z,this._callback=oe},x=function(Z){function oe(ie,pe,De,ae){var Se=Z.call(this,ie,ae)||this;return Se._eventListener=pe,De&&(Se._cursor=De),Se}return d(oe,Z),oe}(g.Listener=O);g.MessagesListener=x;var G=function(Z){function oe(ie,pe,De,ae){var Se=Z.call(this,ie,ae)||this;return Se._eventListener=pe,De&&(Se._cursor=De),Se}return d(oe,Z),oe}(O);g.UsersListener=G;var L=function(Z){function oe(ie,pe,De,ae){var Se=Z.call(this,ie,ae)||this;return Se._eventListener=pe,De&&(Se._cursor=De),Se}return d(oe,Z),oe}(O);g.GroupsListener=L;var l=function(Z){function oe(ie,pe,De){var ae=Z.call(this,"callListner",De)||this;return ae._eventListener=ie,ae}return d(oe,Z),oe}(O);g.UserCallListener=l;var Q=function(Z){function oe(ie,pe,De,ae){var Se=Z.call(this,ie,ae)||this;return Se._eventListener=pe,Se}return d(oe,Z),oe}(O);g.CallsListener=Q;var ne=function(Z){function oe(ie,pe,De,ae){var Se=Z.call(this,ie,ae)||this;return Se._eventListener=pe,De&&(Se._cursor=De),Se}return d(oe,Z),oe}(O);g.UserLoginListener=ne;var Re=function(Z){function oe(ie,pe,De,ae){var Se=Z.call(this,ie,ae)||this;return Se._eventListener=pe,De&&(Se._cursor=De),Se}return d(oe,Z),oe}(O);g.WSConnectionListener=Re},function(Le,g,i){"use strict";g.__esModule=!0,g.ConversationController=void 0;var _=i(35),d=i(0),v=function(){function T(){}return T.trasformJSONConversation=function(S,p,m,M,y,F){var O;try{O=new _.Conversation(S,p,m,M,y,F)}catch(x){d.Logger.error("ConversationController:transformJSONConversation",x)}return O},T}();g.ConversationController=v},function(Le,g,i){"use strict";g.__esModule=!0,g.MessageListnerMaping=void 0;var _=i(0),d=i(1),v=i(13),T=i(3),S=function(){function p(m){this.store=d.constants.DEFAULT_STORE,_.isFalsy(m)||(this.store=m),this.settingsStore=v.createInstance({name:_.format(d.LOCAL_STORE.STORE_STRING,T.CometChat.getAppId(),d.LOCAL_STORE.MESSAGE_LISTENERS_LIST)}),this.settingsStore.setDriver([v.LOCALSTORAGE,v.INDEXEDDB,v.WEBSQL])}return p.getInstance=function(){return null==p.settingsStore&&(p.settingsStore=new p),p.settingsStore},p.prototype.set=function(m,M){return this.settingsStore.setItem(m,M)},p.prototype.remove=function(m){this.settingsStore.removeItem(m)},p.prototype.get=function(m){return this.settingsStore.getItem(m)},p.prototype.clearStore=function(){return this.settingsStore.clear()},p.prototype.clear=function(m){},p.prototype.selectStore=function(m){this.store=m},p.settingsStore=null,p}();g.MessageListnerMaping=S},function(Le,g,i){"use strict";g.__esModule=!0,g.TypingIndicator=void 0;var _=function(){function d(v,T,S){this.receiverId=v,this.receiverType=T,this.metadata=S}return d.prototype.getReceiverType=function(){return this.receiverType},d.prototype.setReceiverType=function(v){this.receiverType=v},d.prototype.getReceiverId=function(){return this.receiverId},d.prototype.setReceiverId=function(v){this.receiverId=v},d.prototype.getMetadata=function(){return this.metadata},d.prototype.setMetadata=function(v){this.metadata=v},d.prototype.getSender=function(){return this.sender},d.prototype.setSender=function(v){this.sender=v},d}();g.TypingIndicator=_},function(Le,g,i){"use strict";g.__esModule=!0,g.TransientMessage=void 0;var _=function(){function d(v,T,S){this.receiverId=v,this.receiverType=T,this.data=S||{}}return d.prototype.getReceiverId=function(){return this.receiverId},d.prototype.setReceiverId=function(v){this.receiverId=v},d.prototype.getReceiverType=function(){return this.receiverType},d.prototype.setReceiverType=function(v){this.receiverType=v},d.prototype.getData=function(){return this.data},d.prototype.setData=function(v){this.data=v},d.prototype.getSender=function(){return this.sender},d.prototype.setSender=function(v){this.sender=v},d}();g.TransientMessage=_},function(Le,g,i){"use strict";g.__esModule=!0,g.EndpointFactory=void 0;var _=i(0),d=i(1),v=i(12),T=i(3),S=i(2),p=function(){function m(){this.baseUrl="https://%s.apiclient-%s.cometchat.io/",this.apiVersion=d.APPINFO.apiVersion,this.adminApiUrl="https://%s.api-%s.cometchat.io/",this.adminApiVersion=d.APPINFO.apiVersion,this.extensionApi="https://%s-%s.cometchat.io/%s",this.prosodyApi="https://%s.%s/%s",this.wsApi="https://%s/%s",this.uriEndpoints={authToken:{endpoint:"users/{{uid}}/auth_tokens",method:"POST",data:{uid:"string|max:100"},isAdminApi:!0},appSettings:{endpoint:"settings",method:"GET"},login:{endpoint:"admin/users/auth",method:"POST",data:{uid:"string|max:100"}},logout:{endpoint:"admin/users/auth/{{authToken}}",method:"DELETE"},getMyDetails:{endpoint:"me",method:"GET"},updateMyDetails:{endpoint:"me",method:"PUT"},getJWT:{endpoint:"me/jwt",method:"POST"},users:{endpoint:"users",method:"GET"},user:{endpoint:"users/{{uid}}",method:"GET"},blockUsers:{endpoint:"blockedusers",method:"POST"},blockedUsersList:{endpoint:"blockedusers",method:"GET"},unblockUsers:{endpoint:"blockedusers",method:"DELETE"},userLogout:{endpoint:"me",method:"DELETE"},createUser:{endpoint:"users",method:"POST",isAdminApi:!0},updateUser:{endpoint:"users/{{uid}}",method:"PUT",isAdminApi:!0},sendFriendRequests:{endpoint:"user/friends",method:"POST",data:{uids:"array<string|max:100>"}},getFriends:{endpoint:"user/friends",method:"GET"},unfriend:{endpoint:"user/friends/{{uid}}/{{gid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},acceptFriendRequest:{endpoint:"user/friends/{{uid}}/accept",method:"PUT",data:{uids:"array<string|max:100>"}},rejectFriendRequest:{endpoint:"user/friends/{{uid}}/reject",method:"DELETE",data:{uids:"array<string|max:100>"}},createGroup:{endpoint:"groups",method:"POST",data:{guid:"required|string|max:100",name:"required|string|max:100",type:"enum|public,protected,password",password:"filled|string|max:100"}},getGroups:{endpoint:"groups",method:"GET"},getGroup:{endpoint:"groups/{{guid}}",method:"GET"},updateGroup:{endpoint:"groups/{{guid}}",method:"PUT"},deleteGroup:{endpoint:"groups/{{guid}}",method:"DELETE"},addGroupMembers:{endpoint:"groups/{{guid}}/members",method:"POST",data:{uids:"array<string|max:100>"}},getGroupMembers:{endpoint:"groups/{{guid}}/members",method:"GET"},joinGroup:{endpoint:"groups/{{guid}}/members",method:"POST"},leaveGroup:{endpoint:"groups/{{guid}}/members",method:"DELETE"},kickGroupMembers:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},changeScopeOfMember:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"PUT",data:{uids:"array<string|max:100>"}},banGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"POST",data:{uids:"array<string|max:100>"}},unbanGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},addMemebersToGroup:{endpoint:"groups/{{guid}}/members",method:"PUT"},getBannedGroupMembers:{endpoint:"groups/{{guid}}/bannedusers",method:"GET"},promotemoteGroupMember:{endpoint:"groups/{{guid}}/promote",method:"PUT",data:{uids:"array<string|max:100>"}},demoteGroupMember:{endpoint:"groups/{{guid}}/demote",method:"DELETE",data:{uids:"array<string|max:100>"}},transferOwnership:{endpoint:"groups/{{guid}}/owner",method:"PATCH"},sendMessage:{endpoint:"messages",method:"POST",data:{sender:"array:string:max:100>",isGroupMember:"filled|boolean|bail",data:"required|json"}},sendMessageInThread:{endpoint:"messages/{{parentId}}/thread",method:"POST",data:{sender:"array:string:max:100>",isGroupMember:"filled|boolean|bail",data:"required|json"}},getMessages:{endpoint:"messages",method:"GET"},getMessageDetails:{endpoint:"messages/{{messageId}}",method:"GET"},getUserMessages:{endpoint:"users/{{listId}}/messages",method:"GET"},getGroupMessages:{endpoint:"groups/{{listId}}/messages",method:"GET"},getThreadMessages:{endpoint:"messages/{{listId}}/thread",method:"GET"},getMessage:{endpoint:"user/messages/{{muid}}",method:"GET"},updateMessage:{endpoint:"messages/{{messageId}}",method:"PUT"},deleteMessage:{endpoint:"messages/{{messageId}}",method:"DELETE"},createCallSession:{endpoint:"calls",method:"POST",data:{}},updateCallSession:{endpoint:"calls/{{sessionid}}",method:"put",data:{}},getConversations:{endpoint:"conversations",method:"GET"},getUserConversation:{endpoint:"users/{{uid}}/conversation",method:"GET"},getGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"GET"},deleteUserConversation:{endpoint:"users/{{uid}}/conversation",method:"DELETE"},deleteGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"DELETE"},updateUserConversation:{endpoint:"users/{{uid}}/conversation",method:"PUT"},updateGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"PUT"},updateCallType:{endpoint:"calls/{{sessionid}}/type",method:"PATCH"}}}return m.prototype.getEndpointData=function(M){return new Promise(function(y,F){try{v.LocalStorage.getInstance().get(d.LOCAL_STORE.KEY_APP_SETTINGS).then(function(O){if(_.isFalsy(O)){var x={};if((new m).uriEndpoints.hasOwnProperty(M))if((x=(new m).uriEndpoints[M]).hasOwnProperty("isAdminApi")){var G=_.format((new m).adminApiUrl,T.CometChat.getAppId(),T.CometChat.appSettings.getRegion())+(new m).adminApiVersion+"/"+x.endpoint;x.endpoint=G}else G=_.format((new m).baseUrl,T.CometChat.getAppId(),T.CometChat.appSettings.getRegion())+(new m).apiVersion+"/"+x.endpoint,x.endpoint=G;y(x)}else x={},(new m).uriEndpoints.hasOwnProperty(M)&&((x=(new m).uriEndpoints[M]).hasOwnProperty("isAdminApi")?x.endpoint="https://"+O[d.APP_SETTINGS.KEYS.ADMIN_API_HOST]+"/"+(new m).adminApiVersion+"/"+x.endpoint:(G="https://"+O[d.APP_SETTINGS.KEYS.CLIENT_API_HOST]+"/"+(new m).apiVersion+"/"+x.endpoint,x.endpoint=G)),y(x)},function(O){var x;(new m).uriEndpoints.hasOwnProperty(M)&&(x.endpoint=(x=(new m).uriEndpoints[M]).hasOwnProperty(["isAdminApi"])?_.format((new m).adminApiUrl,T.CometChat.getAppId(),T.CometChat.appSettings.getRegion())+(new m).adminApiVersion+"/"+x.endpoint:_.format((new m).baseUrl,T.CometChat.getAppId(),T.CometChat.appSettings.getRegion())+(new m).apiVersion+"/"+x.endpoint),y(x)})}catch(O){F(new S.CometChatException(O))}})},m}();g.EndpointFactory=p},function(Le,g,i){"use strict";g.__esModule=!0,g.getEndPoint=void 0;var _=i(28),d=i(2);g.getEndPoint=function(v,T){void 0===v&&(v=""),void 0===T&&(T={});var S=new _.EndpointFactory;return new Promise(function(p,m){try{S.getEndpointData(v).then(function(M){var y=M;if(y){for(var F in T)y.endpoint=y.endpoint.replace("{{"+F+"}}",T[F]);p(y)}else m({error:"Unknown endPoint name."})})}catch(M){m(new d.CometChatException(M))}})}},function(Le,g,i){"use strict";g.__esModule=!0,g.KeyStore=void 0;var _=i(3),d=i(0),v=i(1),T=i(13),S=i(2),p=function(){function m(M){this.store=v.constants.DEFAULT_STORE,d.isFalsy(M)||(this.store=M),this.keyStore=T.createInstance({name:d.format(v.LOCAL_STORE.STORE_STRING,_.CometChat.getAppId(),v.LOCAL_STORE.KEYS_STORE)}),this.keyStore.setDriver([T.LOCALSTORAGE,T.INDEXEDDB,T.WEBSQL])}return m.getInstance=function(){return null==m.KeyStore&&(m.KeyStore=new m),m.KeyStore},m.prototype.set=function(M,y){return this.keyStore.setItem(M,y)},m.prototype.remove=function(M){this.keyStore.removeItem(M)},m.prototype.get=function(M){var y=this;return new Promise(function(F,O){try{y.keyStore.getItem(M).then(function(x){try{F(JSON.parse(x))}catch{F(x)}},function(x){O(x)})}catch(x){O(new S.CometChatException(x))}})},m.prototype.clearStore=function(){return this.keyStore.clear()},m}();g.KeyStore=p},function(Le,g,i){"use strict";g.__esModule=!0,g.CallController=void 0;var _=i(1),d=i(0),v=i(3),T=i(2),S=i(23),p=i(12),m=i(32),M=i(4),y=i(6),F=function(){function O(){this.TAG="calling Log",this.CALL_NO_ANSWER_INTERVAL=45e3,this.view=void 0,this.isDev=!1}return O.prototype.getCallListner=function(){return O.callListner},O.prototype.setCallListner=function(x){O.callListner=new S.UserCallListener(x)},O.getInstance=function(){try{return null!=this.callController&&null!=this.callController||(this.callController=new O),this.callController}catch(x){d.Logger.error("CallController: getInstance",x)}},O.prototype.getActiveCall=function(){try{return d.isFalsy(this.call)?null:this.call}catch(x){d.Logger.error("CallController: getActiveCall",x)}},O.prototype.initiateCall=function(x){var G=this;return new Promise(function(L,l){try{d.isFalsy(G.call)?null!=x&&null!=x?(G.call=x,G.startCallTimer(),L(x)):l(new T.CometChatException(_.CALL_ERROR.ERROR_IN_CALLING)):l(new T.CometChatException(_.CALL_ERROR.CALL_ALREADY_INITIATED))}catch(Q){l(new T.CometChatException(Q))}})},O.prototype.endCall=function(x){var G=this;try{document.getElementsByName("frame").forEach(function(L){G.view&&(G.view.removeChild(L),G.view=void 0)}),this.endCallSession()}catch(L){d.Logger.error("CallController: endCall",L)}},O.prototype.onCallStarted=function(x){var G=this;return new Promise(function(L,l){try{d.isFalsy(G.call)?null!=x&&null!=x?L(G.call=x):l(new T.CometChatException(_.CALL_ERROR.ERROR_IN_CALLING)):l(new T.CometChatException(_.CALL_ERROR.CALL_ALREADY_INITIATED))}catch(Q){l(new T.CometChatException(Q))}})},O.prototype.endCallSession=function(){try{this.call=void 0,O.callController=void 0,this.timer&&this.stopCallTimer(),this.view=void 0,this.removeListener(),O.callScreen=null,O.callSettings=null}catch(x){d.Logger.error("CallController:EndCallSession",{e:x})}},O.prototype.startCallTimer=function(){var x=this;try{this.timer=setTimeout(function(){x.call?v.CometChat.sendUnansweredResponse(x.call.getSessionId()).then(function(G){x.endCallSession()},function(G){x.endCallSession()}):x.endCallSession()},this.CALL_NO_ANSWER_INTERVAL)}catch(G){d.Logger.error("CallController: startCallTimer",G)}},O.prototype.stopCallTimer=function(){try{clearTimeout(this.timer)}catch(x){d.Logger.error("CallController: stopCallTimer",x)}},O.prototype.startCall=function(x,G){var L=this;try{this.timer&&this.stopCallTimer();var l=document.createElement("iframe");this.getCallUrl().then(function(Q){l.src=Q+"",l.name="frame",l.setAttribute("allow","camera; microphone; display-capture;"),l.setAttribute("width","100%"),l.setAttribute("height","100%"),O.callScreen=l,O.callSettings=x,G&&(L.view=G),G.appendChild(l),L.addListener()})}catch(Q){d.Logger.error("CallController: startCall",Q)}},O.prototype.addListener=function(){window.addEventListener("message",this.handler,!0)},O.prototype.removeListener=function(){window.removeEventListener("message",this.handler,!0)},O.prototype.handler=function(x){var G,L=this,l=O.callSettings,Q=O.callScreen,ne=O.getInstance().getActiveCall();try{if(void 0!==(G=JSON.parse(x.data))&&G.type==_.CallConstants.POST_MESSAGES.TYPES.HANGUP)O.deviceList=null,ne?(d.Logger.info(this.TAG,O.callListner),window.setTimeout(function(){v.CometChat.endCall(ne.getSessionId(),!0).then(function(X){d.Logger.info(L.TAG,{call:X})}).catch(function(X){d.Logger.info(L.TAG,"The Call Was Already Ended")})},1e3)):v.CometChat.endCall(l.getSessionId(),!0).then(function(X){d.Logger.info(L.TAG,{call:X})}).catch(function(X){d.Logger.info(L.TAG,"The Call Was Already Ended")});else if(void 0!==G&&G.type==_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&G.action==_.CallConstants.POST_MESSAGES.ACTIONS.USER_JOINED){if(G.value){var Re=void 0,Z=G.value;d.isFalsy(Z.uid)||d.isFalsy(Z.name)||((Re=new M.User(Z)).setStatus("online"),v.CometChat.user.getUid().toLowerCase()!=Re.getUid().toLowerCase()&&O.callListner&&(d.isFalsy(O.callListner._eventListener.onUserJoined)||O.callListner._eventListener.onUserJoined(Re)))}}else if(void 0!==G&&G.type==_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&G.action==_.CallConstants.POST_MESSAGES.ACTIONS.USER_LEFT)G.value&&(Re=void 0,d.isFalsy((Z=G.value).uid)||d.isFalsy(Z.name)||((Re=new M.User(Z)).setStatus("online"),v.CometChat.user.getUid().toLowerCase()!=Re.getUid().toLowerCase()&&O.callListner&&(d.isFalsy(O.callListner._eventListener.onUserLeft)||O.callListner._eventListener.onUserLeft(Re))));else if(void 0!==G&&G.type==_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&G.action==_.CallConstants.POST_MESSAGES.ACTIONS.USER_LIST_CHANGED){var oe=[];G.value&&0<G.value.length&&(G.value.map(function(X){if(!d.isFalsy(X.uid)&&!d.isFalsy(X.name)){var Me=new M.User(X);Me.setStatus("online"),oe.push(Me)}}),O.callListner&&(d.isFalsy(O.callListner._eventListener.onUserListUpdated)||O.callListner._eventListener.onUserListUpdated(oe)))}else if(void 0!==G&&G.type==_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&G.action==_.CallConstants.POST_MESSAGES.ACTIONS.INITIAL_DEVICE_LIST)d.Logger.info("initialDeviceList received in SDK = ",G),G.value&&(O.deviceList=G.value);else if(void 0!==G&&G.type==_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&G.action==_.CallConstants.POST_MESSAGES.ACTIONS.DEVICE_CHANGE){if(d.Logger.info("onDeviceChange received in SDK = ",G),G.value){var ie=O.getAvailableDeviceObject(O.deviceList=G.value);O.callListner&&(d.isFalsy(O.callListner._eventListener.onMediaDeviceListUpdated)||O.callListner._eventListener.onMediaDeviceListUpdated(ie))}}else if(void 0!==G&&G.type==_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&G.action==_.CallConstants.POST_MESSAGES.ACTIONS.RECORDING_TOGGLED){if(d.Logger.info("onRecordingToggled received in SDK = ",G),G.value&&(Be=G.value).hasOwnProperty("user")&&Be.hasOwnProperty("recordingStarted")&&!d.isFalsy(Be.user.uid)&&!d.isFalsy(Be.user.name)){var pe=new M.User(Be.user);pe.setStatus("online"),O.callListner&&(Be.recordingStarted?d.isFalsy(O.callListner._eventListener.onRecordingStarted)||O.callListner._eventListener.onRecordingStarted(pe):d.isFalsy(O.callListner._eventListener.onRecordingStopped)||O.callListner._eventListener.onRecordingStopped(pe))}}else if(void 0!==G&&G.type==_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&G.action==_.CallConstants.POST_MESSAGES.ACTIONS.USER_MUTED){if(d.Logger.info("onUserMuted received in SDK = ",G),G.value&&(Be=G.value).hasOwnProperty("muted")&&Be.hasOwnProperty("mutedBy")&&!d.isFalsy(Be.muted.uid)&&!d.isFalsy(Be.muted.name)&&!d.isFalsy(Be.mutedBy.uid)&&!d.isFalsy(Be.mutedBy.name)){var ae=new M.User(Be.muted);ae.setStatus("online");var Se=new M.User(Be.mutedBy);Se.setStatus("online"),O.callListner&&(d.isFalsy(O.callListner._eventListener.onUserMuted)||O.callListner._eventListener.onUserMuted(ae,Se))}}else if(void 0!==G&&G.type==_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&G.action==_.CallConstants.POST_MESSAGES.ACTIONS.SCREEN_SHARE_STARTED)O.callListner&&(d.isFalsy(O.callListner._eventListener.onScreenShareStarted)||O.callListner._eventListener.onScreenShareStarted(null));else if(void 0!==G&&G.type==_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&G.action==_.CallConstants.POST_MESSAGES.ACTIONS.SCREEN_SHARE_STOPPED)O.callListner&&(d.isFalsy(O.callListner._eventListener.onScreenShareStopped)||O.callListner._eventListener.onScreenShareStopped(null));else if(void 0!==G&&G.type==_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&G.action==_.CallConstants.POST_MESSAGES.ACTIONS.SWITCHED_TO_VIDEO_CALL){if(G.value){var Be=G.value;if(d.Logger.info("onCallSwitchedToVideo received in SDK = ",Be),Be.hasOwnProperty("initiator")&&Be.hasOwnProperty("sessionId")&&!d.isFalsy(Be.initiator.uid)&&!d.isFalsy(Be.sessionId)&&Be.hasOwnProperty("accepted")&&!d.isFalsy(Be.accepted.uid)){var Ce=Be.sessionId,re=new M.User(Be.initiator);re.setStatus("online");var le=new M.User(Be.accepted);if(le.setStatus("online"),O.getInstance().getCallListner()&&(d.isFalsy(O.getInstance().getCallListner()._eventListener.onCallSwitchedToVideo)||O.getInstance().getCallListner()._eventListener.onCallSwitchedToVideo(Ce,re,le)),Be.initiator.uid.toLowerCase()===v.CometChat.user.getUid().toLowerCase()&&!Be.sessionId.includes("v1."))try{y.makeApiCall("updateCallType",{sessionid:Ce},{type:"video"}).then(function(X){},function(X){d.Logger.error("CallController :: onSwitchedToVideo",X)})}catch(X){d.Logger.error("CallController :: onSwitchedToVideo",X)}}}}else void 0!==G&&G.type&&G.action&&G.type==_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&G.action==_.CallConstants.POST_MESSAGES.ACTIONS.LOAD&&null!=Q.contentWindow&&Q.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.COMETCHAT_RTC_SETTINGS,callsettings:JSON.stringify(l)},"*")}catch(X){G=void 0,d.Logger.error("CallController: startCall",X)}},O.prototype.getCallUrl=function(){var x=this;return new Promise(function(L,l){try{x.isDev?L("https://rtc-test.cometchat.io/?v="+_.CALLING_COMPONENT_VERSION):p.LocalStorage.getInstance().get(_.LOCAL_STORE.KEY_APP_SETTINGS).then(function(Q){if(d.isFalsy(Q))d.getAppSettings().then(function(Re){var Z="rtc-web"+Re[_.APP_SETTINGS.KEYS.WEBRTC_HOST].slice(3);L("https://"+Z+"/?v="+_.CALLING_COMPONENT_VERSION)});else{var ne="rtc-web"+Q[_.APP_SETTINGS.KEYS.WEBRTC_HOST].slice(3);L("https://"+ne+"/?v="+_.CALLING_COMPONENT_VERSION)}})}catch(Q){l(new T.CometChatException(Q))}})},O.getAvailableDeviceArray=function(x){var G=[];try{return x&&0<x.length&&x.map(function(L){G.push(new m.MediaDevice(L.deviceId,L.label,L.active))}),G}catch(L){return d.Logger.error("CallController: getAvailableDeviceArray",L),G}},O.getAvailableDeviceObject=function(x){var G=[],L=[],l=[];try{return d.isFalsy(x)||d.isFalsy(x[_.CallConstants.AUDIO_INPUT_DEVICES])||(G=O.getAvailableDeviceArray(x[_.CallConstants.AUDIO_INPUT_DEVICES])),d.isFalsy(x)||d.isFalsy(x[_.CallConstants.AUDIO_OUTPUT_DEVICES])||(L=O.getAvailableDeviceArray(x[_.CallConstants.AUDIO_OUTPUT_DEVICES])),d.isFalsy(x)||d.isFalsy(x[_.CallConstants.VIDEO_INPUT_DEVICES])||(l=O.getAvailableDeviceArray(x[_.CallConstants.VIDEO_INPUT_DEVICES])),{audioInputDevices:G,audioOutputDevices:L,videoInputDevices:l}}catch(Q){return d.Logger.error("CallController: getAvailableDeviceObject",Q),{audioInputDevices:G,audioOutputDevices:L,videoInputDevices:l}}},O.prototype.getAudioInputDevices=function(){var x=[];try{return d.isFalsy(O.deviceList)||d.isFalsy(O.deviceList[_.CallConstants.AUDIO_INPUT_DEVICES])||(x=O.getAvailableDeviceArray(O.deviceList[_.CallConstants.AUDIO_INPUT_DEVICES])),x}catch(G){return d.Logger.error("CallController: getAudioInputDevices",G),x}},O.prototype.getAudioOutputDevices=function(){var x=[];try{return d.isFalsy(O.deviceList)||d.isFalsy(O.deviceList[_.CallConstants.AUDIO_OUTPUT_DEVICES])||(x=O.getAvailableDeviceArray(O.deviceList[_.CallConstants.AUDIO_OUTPUT_DEVICES])),x}catch(G){return d.Logger.error("CallController: getAudioOutputDevices",G),x}},O.prototype.getVideoInputDevices=function(){var x=[];try{return d.isFalsy(O.deviceList)||d.isFalsy(O.deviceList[_.CallConstants.VIDEO_INPUT_DEVICES])||(x=O.getAvailableDeviceArray(O.deviceList[_.CallConstants.VIDEO_INPUT_DEVICES])),x}catch(G){return d.Logger.error("CallController: getVideoInputDevices",G),x}},O.prototype.setAudioInputDevice=function(x){try{if(O.callScreen&&!d.isFalsy(x)){var G=O.getAvailableDeviceArray(O.deviceList[_.CallConstants.AUDIO_INPUT_DEVICES]).filter(function(L){return L[_.CallConstants.MEDIA_DEVICE.ID]===x&&!L[_.CallConstants.MEDIA_DEVICE.ACTIVE]});G&&0<G.length&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_AUDIO_INPUT,value:x},"*")}}catch(L){d.Logger.error("CallController: setAudioInputDevice",L)}},O.prototype.setAudioOutputDevice=function(x){try{if(O.callScreen&&!d.isFalsy(x)){var G=O.getAvailableDeviceArray(O.deviceList[_.CallConstants.AUDIO_OUTPUT_DEVICES]).filter(function(L){return L[_.CallConstants.MEDIA_DEVICE.ID]===x&&!L[_.CallConstants.MEDIA_DEVICE.ACTIVE]});G&&0<G.length&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_AUDIO_OUTPUT,value:x},"*")}}catch(L){d.Logger.error("CallController: setAudioOutputDevice",L)}},O.prototype.setVideoInputDevice=function(x){try{if(O.callScreen&&!d.isFalsy(x)){var G=O.getAvailableDeviceArray(O.deviceList[_.CallConstants.VIDEO_INPUT_DEVICES]).filter(function(L){return L[_.CallConstants.MEDIA_DEVICE.ID]===x&&!L[_.CallConstants.MEDIA_DEVICE.ACTIVE]});G&&0<G.length&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_VIDEO_INPUT,value:x},"*")}}catch(L){d.Logger.error("CallController: setVideoInputDevice",L)}},O.prototype.muteAudio=function(x){try{O.callScreen&&O.callScreen.contentWindow.postMessage(x?{type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.MUTE_AUDIO}:{type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.UNMUTE_AUDIO},"*")}catch(G){d.Logger.error("CallController: muteAudio",G)}},O.prototype.pauseVideo=function(x){try{O.callScreen&&O.callScreen.contentWindow.postMessage(x?{type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.PAUSE_VIDEO}:{type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.UNPAUSE_VIDEO},"*")}catch(G){d.Logger.error("CallController: pauseVideo",G)}},O.prototype.setMode=function(x){try{O.callScreen&&!d.isFalsy(x)&&(x=x.toUpperCase(),-1<Object.values(_.CallConstants.CALL_MODE).indexOf(x)&&x!=_.CallConstants.CALL_MODE.SINGLE&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.SWITCH_MODE,value:x},"*"))}catch(G){d.Logger.error("CallController: setMode",G)}},O.prototype.startScreenShare=function(){try{O.callScreen&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.START_SCREENSHARE},"*")}catch(x){d.Logger.error("CallController: startScreenShare",x)}},O.prototype.stopScreenShare=function(){try{O.callScreen&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.STOP_SCREENSHARE},"*")}catch(x){d.Logger.error("CallController: stopScreenShare",x)}},O.prototype.startRecording=function(){try{O.callScreen&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.START_RECORDING},"*")}catch(x){d.Logger.error("CallController: startRecording",x)}},O.prototype.stopRecording=function(){try{O.callScreen&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.STOP_RECORDING},"*")}catch(x){d.Logger.error("CallController: stopRecording",x)}},O.prototype.switchToVideoCall=function(){try{O.callScreen&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.SWITCH_TO_VIDEO_CALL},"*")}catch(x){d.Logger.error("CallController: switchToVideoCall",x)}},O.prototype.openVirtualBackground=function(){try{O.callScreen&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.OPEN_VIRTUAL_BACKGROUND},"*")}catch(x){d.Logger.error("CallController: openVirtualBackground",x)}},O.prototype.setBackgroundBlur=function(x){try{O.callScreen&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.SET_BACKGROUND_BLUR,value:x},"*")}catch(G){d.Logger.error("CallController: openVirtualBackground",G)}},O.prototype.setBackgroundImage=function(x){try{O.callScreen&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.SET_BACKGROUND_IMAGE,value:x},"*")}catch(G){d.Logger.error("CallController: openVirtualBackground",G)}},O.prototype.endSession=function(){try{O.callScreen&&O.callScreen.contentWindow.postMessage({type:_.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:_.CallConstants.POST_MESSAGES.ACTIONS.END_CALL},"*")}catch(x){d.Logger.error("CallController: endSession",x)}},O.callController=void 0,O.callListner=void 0,O}();g.CallController=F},function(Le,g,i){"use strict";g.__esModule=!0,g.MediaDevice=void 0;var _=i(0),d=function(){function v(T,S,p){this.id="",this.name="",this.active=!1,_.isFalsy(T)||(this.id=T),_.isFalsy(S)||(this.name=S),this.active=!!p}return v.prototype.getId=function(){return this.id},v.prototype.setId=function(T){this.id=T||""},v.prototype.getName=function(){return this.name},v.prototype.setName=function(T){this.name=T||""},v.prototype.getIsActive=function(){return this.active},v.prototype.setIsActive=function(T){this.active=!!T},v}();g.MediaDevice=d},function(Le,g,i){"use strict";g.__esModule=!0,g.GroupMembersController=void 0;var _=i(34),d=i(1),v=i(0),T=function(){function S(){}return S.trasformJSONGroupMember=function(p){var m;try{return p.status=p.status&&"offline"!==p.status?"online":"offline",m=new _.GroupMember(p[d.GroupMemersConstans.KEYS.UID]),Object.assign(m,p),m}catch(M){return v.Logger.error("GroupMembersController:trasformJSONGroupMember",{e:M,groupMember:p}),p}},S}();g.GroupMembersController=T},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(p,m){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,y){M.__proto__=y}||function(M,y){for(var F in y)y.hasOwnProperty(F)&&(M[F]=y[F])})(p,m)},function(p,m){function M(){this.constructor=p}_(p,m),p.prototype=null===m?Object.create(m):(M.prototype=m.prototype,new M)});g.__esModule=!0,g.GroupMember=void 0;var v=i(4),T=i(1),S=function(p){function m(M,y){var F=p.call(this,M)||this;return F.joinedAt=0,y&&(F.scope=y),F}return d(m,p),m.prototype.setScope=function(M){this.scope=M},m.prototype.setJoinedAt=function(M){this.joinedAt=M},m.prototype.setGuid=function(M){this.guid=M},m.prototype.getScope=function(){return this.scope},m.prototype.getJoinedAt=function(){return this.joinedAt},m.prototype.getGuid=function(){return this.guid},m.GroupMemberScope=T.GroupMemberScope,m}(v.User);g.GroupMember=S},function(Le,g,i){"use strict";g.__esModule=!0,g.Conversation=void 0;var _=i(10),d=i(1),v=i(11),T=i(15),S=function(){function p(m,M,y,F,O,x){this.conversationId=m,this.conversationType=M,x&&0<x.length&&(this.tags=x),void 0!==y&&void 0!==(this.lastMessage=y).id&&(this.lastMessage=_.MessageController.trasformJSONMessge(y)),this.conversationWith=this.conversationType==d.MessageConstatnts.RECEIVER_TYPE.USER?v.UsersController.trasformJSONUser(F):T.GroupsController.trasformJSONGroup(F),this.unreadMessageCount=void 0!==O?O:0}return p.prototype.setConversationId=function(m){this.conversationId=m},p.prototype.setConversationType=function(m){this.conversationType=m},p.prototype.setLastMessage=function(m){this.lastMessage=m},p.prototype.setConversationWith=function(m){this.conversationWith=m},p.prototype.setUnreadMessageCount=function(m){this.unreadMessageCount=m},p.prototype.getConversationId=function(){return this.conversationId},p.prototype.getConversationType=function(){return this.conversationType},p.prototype.getLastMessage=function(){return this.lastMessage},p.prototype.getConversationWith=function(){return this.conversationWith},p.prototype.getUnreadMessageCount=function(){return this.unreadMessageCount},p.prototype.getTags=function(){return this.tags},p}();g.Conversation=S},function(Le,g,i){"use strict";g.__esModule=!0,g.TypingNotificationController=void 0;var _=i(0),d=function(){function v(){}return v.addTypingStarted=function(T){this.TYPING_STARTED_MAP[T]=_.getCurrentTime()},v.removeTypingStarted=function(T){delete this.TYPING_STARTED_MAP[T]},v.getTypingStartedMap=function(T){if(T)return this.TYPING_STARTED_MAP[T]},v.addTypingEnded=function(T){this.TYPING_ENDED_MAP[T]=_.getCurrentTime()},v.removeTypingEnded=function(T){delete this.TYPING_ENDED_MAP[T]},v.getTypingEndedMap=function(T){if(T)return this.TYPING_ENDED_MAP[T]},v.addIncomingTypingStarted=function(T){this.INCOMING_TYPING_STARTED_MAP[T.getReceiverId()]={typingNotification:T,timestamp:_.getCurrentTime()}},v.removeIncomingTypingStarted=function(T){delete this.INCOMING_TYPING_STARTED_MAP[T.getReceiverId()]},v.TYPING_STARTED_MAP={},v.TYPING_ENDED_MAP={},v.INCOMING_TYPING_STARTED_MAP={},v}();g.TypingNotificationController=d},function(Le,g,i){"use strict";var _=this&&this.__spreadArrays||function(){for(var S=0,p=0,m=arguments.length;p<m;p++)S+=arguments[p].length;var M=Array(S),y=0;for(p=0;p<m;p++)for(var F=arguments[p],O=0,x=F.length;O<x;O++,y++)M[y]=F[O];return M};g.__esModule=!0,g.ListenerHandlers=void 0;var d=i(0),v=i(23),T=function(){function S(){this.connectionHandlers=[],this.loginHandlers=[],this.messageHandlers=[],this.userHandlers=[],this.groupHandlers=[],this.callHandlers=[]}return S.getInstance=function(){return null!=this.listenerHandlers&&null!=this.listenerHandlers||(this.listenerHandlers=new S),this.listenerHandlers},S.prototype.addConnectionEventListener=function(p,m){try{this.connectionHandlers=this.connectionHandlers.filter(function(M){return M._name!=p}),this.connectionHandlers=_(this.connectionHandlers,[new v.WSConnectionListener(p,m)])}catch(M){d.Logger.error("ListenerHandlers: addWSConnectionEventListener",M)}},S.prototype.removeConnectionEventListener=function(p){try{this.connectionHandlers=this.connectionHandlers.filter(function(m){return m._name!==p})}catch(m){d.Logger.error("ListenerHandlers: removeWSConnectionEventListener",m)}},S.prototype.addLoginEventListener=function(p,m){try{this.loginHandlers=this.loginHandlers.filter(function(M){return M._name!=p}),this.loginHandlers=_(this.loginHandlers,[new v.UserLoginListener(p,m)])}catch(M){d.Logger.error("ListenerHandlers: addLoginEventListener",M)}},S.prototype.removeLoginEventListener=function(p){try{this.loginHandlers=this.loginHandlers.filter(function(m){return m._name!==p})}catch(m){d.Logger.error("ListenerHandlers: removeLoginEventListener",m)}},S.prototype.addMessageEventListener=function(p,m){try{this.messageHandlers=this.messageHandlers.filter(function(M){return M._name!=p}),this.messageHandlers=_(this.messageHandlers,[new v.MessagesListener(p,m)])}catch(M){d.Logger.error("ListenerHandlers: addMessageEventListener",M)}},S.prototype.removeMessageEventListener=function(p){try{this.messageHandlers=this.messageHandlers.filter(function(m){return m._name!==p})}catch(m){d.Logger.error("ListenerHandlers: removeMessageEventListener",m)}},S.prototype.addUserEventListener=function(p,m){try{this.userHandlers=this.userHandlers.filter(function(M){return M._name!=p}),this.userHandlers=_(this.userHandlers,[new v.UsersListener(p,m)])}catch(M){d.Logger.error("ListenerHandlers: addUserEventListener",M)}},S.prototype.removeUserEventListener=function(p){try{this.userHandlers=this.userHandlers.filter(function(m){return m._name!==p})}catch(m){d.Logger.error("ListenerHandlers: removeUserEventListener",m)}},S.prototype.addGroupEventListener=function(p,m){try{this.groupHandlers=this.groupHandlers.filter(function(M){return M._name!=p}),this.groupHandlers=_(this.groupHandlers,[new v.GroupsListener(p,m)])}catch(M){d.Logger.error("ListenerHandlers: addGroupEventListener",M)}},S.prototype.removeGroupEventListener=function(p){try{this.groupHandlers=this.groupHandlers.filter(function(m){return m._name!==p})}catch(m){d.Logger.error("ListenerHandlers: removeGroupEventListener",m)}},S.prototype.addCallEventListener=function(p,m){try{this.callHandlers=this.callHandlers.filter(function(M){return M._name!=p}),this.callHandlers=_(this.callHandlers,[new v.CallsListener(p,m)])}catch(M){d.Logger.error("ListenerHandlers: addCallEventListener",M)}},S.prototype.removeCallEventListener=function(p){try{this.callHandlers=this.callHandlers.filter(function(m){return m._name!==p})}catch(m){d.Logger.error("ListenerHandlers: removeCallEventListener",m)}},S.listenerHandlers=new S,S}();g.ListenerHandlers=T},function(Le,g,i){"use strict";g.__esModule=!0,g.CometChat=g.init=void 0;var _=i(3);g.init=function(d){return _.CometChat.getInstance(d)},g.CometChat=_.CometChat},function(Le,g){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{"object"==typeof window&&(i=window)}Le.exports=i},function(Le,g,i){"use strict";g.__esModule=!0,g.GroupsRequestBuilder=g.GroupsRequest=void 0;var _=i(6),d=i(0),v=i(2),T=i(15),S=i(1),p=function(){function M(y){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.hasJoined=0,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},d.isFalsy(y)||(d.isFalsy(y.limit)||(this.limit=y.limit),d.isFalsy(y.searchKeyword)||(this.searchKeyword=y.searchKeyword),d.isFalsy(y.hasJoined)||(this.hasJoined=1),d.isFalsy(y.tags)||(this.tags=y.tags),d.isFalsy(y.showTags)||(this.withTags=y.showTags))}return M.prototype.validateGroupBuilder=function(){if(void 0===this.limit)return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>S.DEFAULT_VALUES.GROUPS_MAX_LIMIT)return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",S.DEFAULT_VALUES.GROUPS_MAX_LIMIT)));if(this.limit<S.DEFAULT_VALUES.ZERO)return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(d.isFalsy(this.searchKeyword.trim()))return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.withTags){if(typeof this.withTags!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()")));this.withTags=1==this.withTags}return void 0===this.tags||Array.isArray(this.tags)?void 0:new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"TAGS","TAGS","setTags()")))},M.prototype.fetchNext=function(){var y=this;return new Promise(function(F,O){try{var x=y.validateGroupBuilder();if(x instanceof v.CometChatException)return void O(x);_.makeApiCall("getGroups",{},y.getNextData()).then(function(G){if(G.meta&&(y.total_pages=G.meta.pagination.total_pages),0<G.data.length){y.pagination=G.meta.pagination;var L=[];G.data.map(function(l,Q){L.push(T.GroupsController.trasformJSONGroup(l))}),F(L)}F([])},function(G){O(new v.CometChatException(G.error))})}catch(G){O(new v.CometChatException(G))}})},M.prototype.getNextData=function(){var y={};if(y.per_page=this.limit,d.isFalsy(this.searchKeyword)||(y.searchKey=this.searchKeyword),d.isFalsy(this.hasJoined)||(y.hasJoined=1),d.isFalsy(this.tags)||(y.tags=this.tags),d.isFalsy(this.withTags)||(y.withTags=1),1==this.current_page)y.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return y.page=this.next_page,y;y.page=this.next_page++}return y},M.MAX_LIMIT=100,M.DEFAULT_LIMIT=30,M}();g.GroupsRequest=p;var m=function(){function M(){}return M.prototype.setLimit=function(y){return this.limit=y,this},M.prototype.setSearchKeyword=function(y){return this.searchKeyword=y,this},M.prototype.joinedOnly=function(y){return this.hasJoined=y,this},M.prototype.setTags=function(y){return this.tags=y,this},M.prototype.withTags=function(y){return this.showTags=y,this},M.prototype.build=function(){return new p(this)},M}();g.GroupsRequestBuilder=m},function(Le,g,i){"use strict";g.__esModule=!0,g.GroupMembersRequestBuilder=g.GroupMembersRequest=void 0;var _=i(6),d=i(0),v=i(12),T=i(2),S=i(33),p=i(1),m=function(){function y(F){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},this.store=v.LocalStorage.getInstance(),d.isFalsy(F)||(this.limit=F.limit,this.guid=F.guid,d.isFalsy(F.searchKeyword)||(this.searchKeyword=F.searchKeyword),d.isFalsy(F.scopes)||(this.scopes=F.scopes))}return y.prototype.validateGroupMembersBuilder=function(){if(void 0===this.limit)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>p.DEFAULT_VALUES.USERS_MAX_LIMIT)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",p.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<p.DEFAULT_VALUES.ZERO)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(d.isFalsy(this.searchKeyword.trim()))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.guid){if(typeof this.guid!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","GroupMembersRequestBuilder()")));if(d.isFalsy(this.guid))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}return void 0===this.scopes||Array.isArray(this.scopes)?void 0:new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_SCOPES","SET_SCOPES","setScopes()")))},y.prototype.fetchNext=function(){var F=this;return new Promise(function(O,x){try{var G=F.validateGroupMembersBuilder();if(G instanceof T.CometChatException)return void x(G);_.makeApiCall("getGroupMembers",{guid:F.guid},F.getNextData()).then(function(L){if(L.meta&&(F.total_pages=L.meta.pagination.total_pages),0<L.data.length){F.pagination=L.meta.pagination;var l=[];L.data.map(function(Q){Q.guid=F.guid,l.push(S.GroupMembersController.trasformJSONGroupMember(Q))}),O(l)}else O([])},function(L){x(new T.CometChatException(L.error))})}catch(L){x(new T.CometChatException(L))}})},y.prototype.getNextData=function(){var F={};if(F.per_page=this.limit,d.isFalsy(this.searchKeyword)||(F.searchKey=this.searchKeyword),d.isFalsy(this.scopes)||(F.scopes=this.scopes),1==this.current_page)F.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return F.page=this.next_page,F;F.page=this.next_page++}return F},y.MAX_LIMIT=2,y.DEFAULT_LIMIT=1,y}();g.GroupMembersRequest=m;var M=function(){function y(F){this.guid=F}return y.prototype.setLimit=function(F){return this.limit=F,this},y.prototype.setSearchKeyword=function(F){return this.searchKeyword=F,this},y.prototype.setScopes=function(F){return this.scopes=F,this},y.prototype.build=function(){return new m(this)},y}();g.GroupMembersRequestBuilder=M},function(Le,g,i){"use strict";g.__esModule=!0,g.BannedMembersRequestBuilder=g.BannedMembersRequest=void 0;var _=i(6),d=i(0),v=i(2),T=i(33),S=i(1),p=function(){function M(y){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},d.isFalsy(y)||(this.limit=y.limit,this.guid=y.guid,d.isFalsy(y.searchKeyword)||(this.searchKeyword=y.searchKeyword),d.isFalsy(y.scopes)||(this.scopes=y.scopes))}return M.prototype.validateBannedMembersBuilder=function(){if(void 0===this.limit)return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>S.DEFAULT_VALUES.USERS_MAX_LIMIT)return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",S.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<S.DEFAULT_VALUES.ZERO)return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(d.isFalsy(this.searchKeyword.trim()))return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.guid){if(typeof this.guid!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","GroupMembersRequestBuilder()")));if(d.isFalsy(this.guid))return new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}return void 0===this.scopes||Array.isArray(this.scopes)?void 0:new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_SCOPES","SET_SCOPES","setScopes()")))},M.prototype.fetchNext=function(){var y=this;return new Promise(function(F,O){try{var x=y.validateBannedMembersBuilder();if(x instanceof v.CometChatException)return void O(x);_.makeApiCall("getBannedGroupMembers",{guid:y.guid},y.getNextData()).then(function(G){if(G.meta&&(y.total_pages=G.meta.pagination.total_pages),0<G.data.length){y.pagination=G.meta.pagination;var L=[];G.data.map(function(l){l.guid=y.guid,L.push(T.GroupMembersController.trasformJSONGroupMember(l))}),F(L)}else F([])},function(G){O(new v.CometChatException(G.error))})}catch(G){O(new v.CometChatException(G))}})},M.prototype.getNextData=function(){var y={};if(y.per_page=this.limit,d.isFalsy(this.searchKeyword)||(y.searchKey=this.searchKeyword),d.isFalsy(this.scopes)||(y.scopes=this.scopes),1==this.current_page)y.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return y.page=this.next_page,y;y.page=this.next_page++}return y},M.MAX_LIMIT=2,M.DEFAULT_LIMIT=1,M}();g.BannedMembersRequest=p;var m=function(){function M(y){this.guid=y}return M.prototype.setLimit=function(y){return this.limit=y,this},M.prototype.setSearchKeyword=function(y){return this.searchKeyword=y,this},M.prototype.setScopes=function(y){return this.scopes=y,this},M.prototype.build=function(){return new p(this)},M}();g.BannedMembersRequestBuilder=m},function(Le,g,i){"use strict";g.__esModule=!0,g.UsersRequestBuilder=g.UsersRequest=void 0;var _=i(6),d=i(0),v=i(11),T=i(2),S=i(44),p=i(1),m=function(){function y(F){this.next_page=1,this.current_page=1,this.total_pages=-1,this.hideBlockedUsers=!1,this.friendsOnly=!1,this.fetchingInProgress=!1,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},y.userStore=S.UserStore.getInstance(),d.isFalsy(F)||(this.limit=F.limit,d.isFalsy(F.searchKeyword)||(this.searchKeyword=F.searchKeyword),d.isFalsy(F.status)||(this.status=F.status==y.USER_STATUS.ONLINE?p.PresenceConstatnts.STATUS.AVAILABLE:F.status),d.isFalsy(F.shouldHideBlockedUsers)||(this.hideBlockedUsers=F.shouldHideBlockedUsers),d.isFalsy(F.showFriendsOnly)||(this.friendsOnly=F.showFriendsOnly),d.isFalsy(F.showTags)||(this.withTags=F.showTags),d.isFalsy(F.role)||(this.role=F.role),d.isFalsy(F.roles)||(this.roles=F.roles),d.isFalsy(F.tags)||(this.tags=F.tags),d.isFalsy(F.UIDs)||(this.UIDs=F.UIDs),d.isFalsy(F.SortBy)||(this.sortBy=F.SortBy),d.isFalsy(F.SearchIn)||(this.searchIn=F.SearchIn),d.isFalsy(F.SortOrder)||(this.sortOrder=F.SortOrder))}return y.prototype.validateUserBuilder=function(){if(void 0===this.limit)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>p.DEFAULT_VALUES.USERS_MAX_LIMIT)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",p.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<p.DEFAULT_VALUES.ZERO)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(d.isFalsy(this.searchKeyword.trim()))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(this.status){if(typeof this.status!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_STATUS","SET_STATUS","setStatus()")));if("available"!=this.status.toLowerCase()&&"offline"!=this.status.toLowerCase())return new T.CometChatException(p.UserErrors.INVALID_STATUS)}if(void 0!==this.hideBlockedUsers){if(typeof this.hideBlockedUsers!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_BLOCKED_USERS","HIDE_BLOCKED_USERS","hideBlockedUsers()")));this.hideBlockedUsers=1==this.hideBlockedUsers}if(void 0!==this.friendsOnly){if(typeof this.friendsOnly!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"FRIENDS_ONLY","FRIENDS_ONLY","friendsOnly()")));this.friendsOnly=1==this.friendsOnly}if(void 0!==this.withTags){if(typeof this.withTags!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()")));this.withTags=1==this.withTags}if(void 0!==this.roles&&!Array.isArray(this.roles))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"ROLES","ROLES","setRoles()")));if(void 0!==this.tags&&!Array.isArray(this.tags))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"TAGS","TAGS","setTags()")));if(void 0!==this.UIDs&&!Array.isArray(this.UIDs))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"UIDs","UIDs","setUIDs()")));if(this.sortBy){if(typeof this.sortBy!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SORT_BY","SORT_BY","sortBy()")));if(d.isFalsy(this.sortBy.trim()))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.INVALID),"SORT_BY","SORT_BY","sort by","sort by")));this.sortBy=this.sortBy.trim().toLowerCase()}if(this.sortOrder){if(typeof this.sortOrder!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SORT_BY_ORDER","SORT_BY_ORDER","sortByOrder()")));if(d.isFalsy(this.sortOrder.trim()))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.INVALID),"SORT_BY_ORDER","SORT_BY_ORDER","sort order","sort order")));this.sortOrder=this.sortOrder.trim().toLowerCase()}return this.searchIn&&!Array.isArray(this.searchIn)?new T.CometChatException(JSON.parse(d.format(JSON.stringify(p.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SEARCH_IN","SEARCH_IN","searchIn()"))):void 0},y.prototype.fetchNext=function(){var F=this;return new Promise(function(O,x){try{if(F.fetchingInProgress)F.fetchingInProgress=!1,O([]);else{F.fetchingInProgress=!0;var G=F.validateUserBuilder();if(G instanceof T.CometChatException)return void x(G);_.makeApiCall("users",{},F.getNextData()).then(function(L){if(L.meta&&(F.total_pages=L.meta.pagination.total_pages),0<L.data.length){F.pagination=L.meta.pagination;var l=[];L.data.map(function(Q){l.push(v.UsersController.trasformJSONUser(Q))}),O(l)}else O([]);F.fetchingInProgress=!1},function(L){F.fetchingInProgress=!1,x(new T.CometChatException(L.error))})}}catch(L){F.fetchingInProgress=!1,x(new T.CometChatException(L))}})},y.prototype.getNextData=function(){var F={};if(F.per_page=this.limit,d.isFalsy(this.searchKeyword)||(F.searchKey=this.searchKeyword),d.isFalsy(this.status)||(F.status=this.status),d.isFalsy(this.hideBlockedUsers)||(F.hideBlockedUsers=1),d.isFalsy(this.role)||(F.roles=this.role),d.isFalsy(this.roles)||(F.roles=this.roles),d.isFalsy(this.tags)||(F.tags=this.tags),d.isFalsy(this.friendsOnly)||(F.friendsOnly=1),d.isFalsy(this.withTags)||(F.withTags=1),d.isFalsy(this.UIDs)||(F.uids=this.UIDs),d.isFalsy(this.sortBy)||(F.sortBy=this.sortBy),d.isFalsy(this.sortOrder)||(F.sortOrder=this.sortOrder),d.isFalsy(this.searchIn)||(F.searchIn=this.searchIn),1==this.current_page)F.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return F.page=this.next_page,F;F.page=this.next_page++}return F},y.USER_STATUS={ONLINE:p.PresenceConstatnts.STATUS.ONLINE,OFFLINE:p.PresenceConstatnts.STATUS.OFFLINE},y}();g.UsersRequest=m;var M=function(){function y(){this.shouldHideBlockedUsers=!1}return y.prototype.setLimit=function(F){return this.limit=F,this},y.prototype.setStatus=function(F){return this.status=F,this},y.prototype.setSearchKeyword=function(F){return this.searchKeyword=F,this},y.prototype.hideBlockedUsers=function(F){return this.shouldHideBlockedUsers=F,this},y.prototype.setRole=function(F){return this.role=F,this},y.prototype.setRoles=function(F){return this.roles=F,this},y.prototype.friendsOnly=function(F){return this.showFriendsOnly=F,this},y.prototype.setTags=function(F){return this.tags=F,this},y.prototype.withTags=function(F){return this.showTags=F,this},y.prototype.setUIDs=function(F){return this.UIDs=F,this},y.prototype.sortBy=function(F){return this.SortBy=F,this},y.prototype.sortByOrder=function(F){return this.SortOrder=F,this},y.prototype.searchIn=function(F){return this.SearchIn=F,this},y.prototype.build=function(){return this.role&&this.roles&&this.roles.push(this.role),new m(this)},y}();g.UsersRequestBuilder=M},function(Le,g,i){"use strict";g.__esModule=!0,g.UserStore=void 0;var _=i(3),d=i(0),v=i(1),T=i(13),S=function(){function p(m){this.store=v.constants.DEFAULT_STORE,d.isFalsy(m)||(this.store=m),this.userStore=T.createInstance({name:d.format(v.LOCAL_STORE.STORE_STRING,_.CometChat.getAppId(),v.LOCAL_STORE.USERS_STORE)}),this.userStore.setDriver([T.LOCALSTORAGE,T.INDEXEDDB,T.WEBSQL])}return p.getInstance=function(){return null==p.UserStore&&(p.UserStore=new p),p.UserStore},p.prototype.set=function(m,M){return this.userStore.setItem(m,M)},p.prototype.remove=function(m){this.userStore.removeItem(m)},p.prototype.get=function(m){return this.userStore.getItem(m)},p.prototype.clearStore=function(){var m=this;return new Promise(function(M,y){m.userStore.clear().then(function(){M(!0)}).catch(function(F){y(F)})})},p.prototype.clear=function(m){},p.prototype.selectStore=function(m){this.store=m},p.prototype.storeUsers=function(m){var M=this;return m.map(function(y){M.set(y.getUid(),y)}),!0},p.prototype.storeUser=function(m){return this.set(m.getUid(),m),!0},p}();g.UserStore=S},function(Le,g,i){"use strict";g.__esModule=!0,g.ConversationsRequestBuilder=g.ConversationsRequest=void 0;var _=i(6),d=i(0),v=i(2),T=i(24),S=i(1),p=function(){function M(y){this.limit=100,this.next_page=1,this.current_page=1,this.total_pages=-1,this.fetchingInProgress=!1,this.getUserAndGroupTags=!1,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},d.isFalsy(y)||(this.limit=y.limit,d.isFalsy(y.conversationType)||(this.conversationType=y.conversationType),d.isFalsy(y.getUserAndGroupTags)||(this.getUserAndGroupTags=y.getUserAndGroupTags),y.tags&&(this.tags=y.tags),d.isFalsy(y.WithTags)||(this.withTags=y.WithTags),y.groupTags&&(this.groupTags=y.groupTags),y.userTags&&(this.userTags=y.userTags))}return M.prototype.validateConversationBuilder=function(){return void 0===this.limit?new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit"))):isNaN(this.limit)?new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))):this.limit>S.DEFAULT_VALUES.CONVERSATION_MAX_LIMIT?new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",S.DEFAULT_VALUES.CONVERSATION_MAX_LIMIT))):this.limit<S.DEFAULT_VALUES.ZERO?new v.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))):void 0},M.prototype.fetchNext=function(){var y=this;return new Promise(function(F,O){try{if(y.fetchingInProgress)y.fetchingInProgress=!1,F([]);else{y.fetchingInProgress=!0;var x=y.validateConversationBuilder();if(x instanceof v.CometChatException)return void O(x);_.makeApiCall("getConversations",{},y.getNextData()).then(function(G){if(G.meta&&(y.total_pages=G.meta.pagination.total_pages),0<G.data.length){y.pagination=G.meta.pagination;var L=[];G.data.map(function(l){L.push(T.ConversationController.trasformJSONConversation(l.conversationId,l.conversationType,l.lastMessage,l.conversationWith,parseInt(l.unreadMessageCount),l.tags?l.tags:[]))}),F(L)}else F([]);y.fetchingInProgress=!1},function(G){y.fetchingInProgress=!1,O(new v.CometChatException(G.error))})}}catch(G){y.fetchingInProgress=!1,O(new v.CometChatException(G))}})},M.prototype.getNextData=function(){var y={};if(y.per_page=this.limit,d.isFalsy(this.conversationType)||(y.conversationType=this.conversationType),d.isFalsy(this.getUserAndGroupTags)||(y.withUserAndGroupTags=this.getUserAndGroupTags),d.isFalsy(this.tags)||(y.tags=this.tags),d.isFalsy(this.withTags)||(y.withTags=this.withTags),d.isFalsy(this.userTags)||(y.userTags=this.userTags),d.isFalsy(this.groupTags)||(y.groupTags=this.groupTags),1==this.current_page)y.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return y.page=this.next_page,y;y.page=this.next_page++}return y},M}();g.ConversationsRequest=p;var m=function(){function M(){this.WithTags=!1}return M.prototype.setLimit=function(y){return this.limit=y,this},M.prototype.setConversationType=function(y){return this.conversationType=y,this},M.prototype.withUserAndGroupTags=function(y){return"boolean"==typeof y&&(this.getUserAndGroupTags=y),this},M.prototype.setTags=function(y){return this.tags=y,this},M.prototype.withTags=function(y){return this.WithTags=y,this},M.prototype.setGroupTags=function(y){return this.groupTags=y,this},M.prototype.setUserTags=function(y){return this.userTags=y,this},M.prototype.build=function(){return new p(this)},M}();g.ConversationsRequestBuilder=m},function(Le,g,i){"use strict";var _=this&&this.__awaiter||function(L,l,Q,ne){return new(Q||(Q=Promise))(function(Re,Z){function oe(De){try{pe(ne.next(De))}catch(ae){Z(ae)}}function ie(De){try{pe(ne.throw(De))}catch(ae){Z(ae)}}function pe(De){var ae;De.done?Re(De.value):(ae=De.value,ae instanceof Q?ae:new Q(function(Se){Se(ae)})).then(oe,ie)}pe((ne=ne.apply(L,l||[])).next())})},d=this&&this.__generator||function(L,l){var Q,ne,Re,Z,oe={label:0,sent:function(){if(1&Re[0])throw Re[1];return Re[1]},trys:[],ops:[]};return Z={next:ie(0),throw:ie(1),return:ie(2)},"function"==typeof Symbol&&(Z[Symbol.iterator]=function(){return this}),Z;function ie(pe){return function(De){return function(ae){if(Q)throw new TypeError("Generator is already executing.");for(;oe;)try{if(Q=1,ne&&(Re=2&ae[0]?ne.return:ae[0]?ne.throw||((Re=ne.return)&&Re.call(ne),0):ne.next)&&!(Re=Re.call(ne,ae[1])).done)return Re;switch(ne=0,Re&&(ae=[2&ae[0],Re.value]),ae[0]){case 0:case 1:Re=ae;break;case 4:return oe.label++,{value:ae[1],done:!1};case 5:oe.label++,ne=ae[1],ae=[0];continue;case 7:ae=oe.ops.pop(),oe.trys.pop();continue;default:if(!(Re=0<(Re=oe.trys).length&&Re[Re.length-1])&&(6===ae[0]||2===ae[0])){oe=0;continue}if(3===ae[0]&&(!Re||ae[1]>Re[0]&&ae[1]<Re[3])){oe.label=ae[1];break}if(6===ae[0]&&oe.label<Re[1]){oe.label=Re[1],Re=ae;break}if(Re&&oe.label<Re[2]){oe.label=Re[2],oe.ops.push(ae);break}Re[2]&&oe.ops.pop(),oe.trys.pop();continue}ae=l.call(L,oe)}catch(Se){ae=[6,Se],ne=0}finally{Q=Re=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([pe,De])}}},v=this&&this.__spreadArrays||function(){for(var L=0,l=0,Q=arguments.length;l<Q;l++)L+=arguments[l].length;var ne=Array(L),Re=0;for(l=0;l<Q;l++)for(var Z=arguments[l],oe=0,ie=Z.length;oe<ie;oe++,Re++)ne[Re]=Z[oe];return ne};g.__esModule=!0,g.MessagesRequestBuilder=g.MessagesRequest=void 0;var T=i(2),S=i(6),p=i(10),m=i(0),M=i(47),y=i(1),F=i(14),O=i(25),x=function(){function L(l){this.limit=y.DEFAULT_VALUES.MSGS_LIMIT,this.timestamp=0,this.id=y.DEFAULT_VALUES.DEFAULT_MSG_ID,this.messageStore=M.MessagesStore.getInstance(),this.endpointName="getUserMessages",this.listId="",this.totalPages=0,this.unread=!1,this.inProgress=!1,this.hideMessagesFromBlockedUsers=!1,this.updatedAt=0,this.onlyUpdates=0,this.paginationMeta={},this.WithTags=!1,this.hideDeletedMessages=!1,this.limit=l.limit,this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.PER_PAGE]=this.limit,this.uid=l.uid,this.guid=l.guid,this.parentMessageId=l.parentMessageId,this.timestamp=l.timestamp,this.timestamp&&(this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.SENT_AT]=this.timestamp),this.id=l.id,this.id!=y.DEFAULT_VALUES.DEFAULT_MSG_ID&&(this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.ID]=this.id),this.hideMessagesFromBlockedUsers=l.HideMessagesFromBlockedUsers,this.hideMessagesFromBlockedUsers&&(this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.HIDE_MESSAGES_FROM_BLOCKED_USER]=this.hideMessagesFromBlockedUsers),this.unread=l.unread,this.unread&&(this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.UNREAD]=this.unread),l.searchKey&&(this.searchKey=l.searchKey,this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY]=this.searchKey),l.onlyUpdate&&(this.onlyUpdates=l.onlyUpdate,this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.ONLY_UPDATES]=this.onlyUpdates),l.updatedAt&&(this.updatedAt=l.updatedAt,this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.UPDATED_AT]=this.updatedAt),l.category&&(this.category=l.category),l.categories&&(this.categories=l.categories),l.type&&(this.type=l.type),l.types&&(this.types=l.types),l.WithTags&&(this.WithTags=l.WithTags),l.tags&&(this.tags=l.tags),l.HideReplies&&(this.hideReplies=l.HideReplies,this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.HIDE_REPLIES]=this.hideReplies),this.hideDeletedMessages=l.HideDeletedMessages,this.hideDeletedMessages&&(this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.HIDE_DELETED_MESSAGES]=this.hideDeletedMessages)}return L.prototype.fetchNext=function(){var l=this;return new Promise(function(Q,ne){return _(l,void 0,void 0,function(){var Re,Z,oe;return d(this,function(ie){switch(ie.label){case 0:if(ie.trys.push([0,5,,6]),this.inProgress)return this.inProgress=!1,ne(new T.CometChatException(F.MESSAGES_REQUEST_ERRORS.REQUEST_IN_PROGRESS_ERROR)),[2];if(this.inProgress=!0,this.onlyUpdates){if(0==this.updatedAt)return this.inProgress=!1,ne(new T.CometChatException(F.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2]}else if(0==this.timestamp&&0==this.id&&0==this.updatedAt)return this.inProgress=!1,ne(new T.CometChatException(F.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2];this.affix=y.MessageConstatnts.PAGINATION.AFFIX.APPEND,this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,this.currentMethod=y.MessageConstatnts.PAGINATION.AFFIX.APPEND,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,this.makeAPICall()];case 2:return Re=ie.sent(),Q(Re),this.inProgress=!1,[3,4];case 3:return Z=ie.sent(),this.inProgress=!1,ne(new T.CometChatException(Z)),[3,4];case 4:return[3,6];case 5:return oe=ie.sent(),this.inProgress=!1,ne(new T.CometChatException(oe)),[3,6];case 6:return[2]}})})})},L.prototype.fetchPrevious=function(){var l=this;return new Promise(function(Q,ne){return _(l,void 0,void 0,function(){var Re,Z,oe;return d(this,function(ie){switch(ie.label){case 0:if(ie.trys.push([0,5,,6]),this.inProgress)return ne(new T.CometChatException(F.MESSAGES_REQUEST_ERRORS.REQUEST_IN_PROGRESS_ERROR)),this.inProgress=!1,[2];if(this.inProgress=!0,this.onlyUpdates&&0==this.updatedAt)return this.inProgress=!1,ne(new T.CometChatException(F.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2];this.affix=y.MessageConstatnts.PAGINATION.AFFIX.PREPEND,this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,this.currentMethod=y.MessageConstatnts.PAGINATION.AFFIX.PREPEND,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,this.makeAPICall()];case 2:return Re=ie.sent(),Q(Re),this.inProgress=!1,[3,4];case 3:return Z=ie.sent(),this.inProgress=!1,ne(new T.CometChatException(Z)),[3,4];case 4:return[3,6];case 5:return oe=ie.sent(),this.inProgress=!1,ne(new T.CometChatException(oe)),[3,6];case 6:return[2]}})})})},L.prototype.makeAPICall=function(){var l=this;return new Promise(function(Q,ne){try{var Re=l.uid;if(void 0!==Re){if(typeof Re!==y.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"UID","UID","setUID()"))));if(m.isFalsy(Re.trim()))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.INVALID),"UID","UID","UID","UID"))));l.uid=Re.trim()}var Z=l.guid;if(void 0!==Z){if(typeof Z!==y.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","setGUID()"))));if(m.isFalsy(Z.trim()))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID"))));l.guid=Z.trim()}var oe=l.parentMessageId;if(void 0!==oe){if(isNaN(oe))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"PARENT_MESSAGE_ID","PARENT_MESSAGE_ID","setParentMessageId()"))));if(oe<y.DEFAULT_VALUES.ZERO)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"PARENT_MESSAGE_ID","PARENT_MESSAGE_ID","setParentMessageId()"))))}var ie=l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.PER_PAGE];if(void 0===ie)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit"))));if(isNaN(ie))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))));if(ie>y.DEFAULT_VALUES.MSGS_MAX_LIMIT)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",y.DEFAULT_VALUES.MSGS_MAX_LIMIT))));if(ie<y.DEFAULT_VALUES.ZERO)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))));var pe=l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY];if(void 0!==pe){if(typeof pe!==y.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()"))));if(m.isFalsy(pe.trim()))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword"))));l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY]=pe.trim()}var De=l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.ID];if(void 0!==De){if(isNaN(De))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"MESSAGE_ID","MESSAGE_ID","setMessageId()"))));if(De<y.DEFAULT_VALUES.ZERO)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"MESSAGE_ID","MESSAGE_ID","setMessageId()"))))}var ae=l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.SENT_AT];if(void 0!==ae){if(isNaN(ae))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"TIMESTAMP","TIMESTAMP","setTimestamp()"))));if(ae<y.DEFAULT_VALUES.ZERO)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"TIMESTAMP","TIMESTAMP","setTimestamp()"))))}var Se=l.hideMessagesFromBlockedUsers;if(void 0!==Se){if(typeof Se!==y.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_MESSAGES_FROM_BLOCKED_USERS","HIDE_MESSAGES_FROM_BLOCKED_USERS","hideMessagesFromBlockedUsers()"))));l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.HIDE_MESSAGES_FROM_BLOCKED_USER]=1==Se?1:0}var Be=l.unread;if(void 0!==Be){if(typeof Be!==y.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"UNREAD","UNREAD","setUnread()"))));l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.UNREAD]=1==Be?1:0}var Ce=l.category;if(void 0!==Ce){if(typeof Ce!==y.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_CATEGORY","SET_CATEGORY","setCategory()"))));if(m.isFalsy(Ce.trim()))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.INVALID),"SET_CATEGORY","SET_CATEGORY","category","category"))));l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.CATEGORIES]=Ce.trim()}var re=l.categories;if(void 0!==re){if(!Array.isArray(re))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_CATEGORIES","SET_CATEGORIES","setCategories()"))));0<re.length&&(l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.CATEGORIES]=re)}var le=l.type;if(void 0!==le){if(typeof le!==y.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_TYPE","SET_TYPE","setType()"))));if(m.isFalsy(le.trim()))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.INVALID),"SET_TYPE","SET_TYPE","type","type"))));l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.TYPES]=le.trim()}var X=l.types;if(void 0!==X){if(!Array.isArray(X))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_TYPES","SET_TYPES","setTypes()"))));0<X.length&&(l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.TYPES]=X)}var Me=l.tags;if(void 0!==Me){if(!Array.isArray(Me))return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_TAGS","SET_TAGS","setTags()"))));0<Me.length&&(l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.TAGS]=Me)}var Fe=l.WithTags;if(void 0!==Fe){if(typeof Fe!==y.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()"))));l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.WITH_TAGS]=1==Fe?1:0}var qe=l.hideDeletedMessages;if(void 0!==qe){if(typeof qe!==y.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void ne(new T.CometChatException(JSON.parse(m.format(JSON.stringify(y.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_DELETED_MESSAGES","HIDE_DELETED_MESSAGES","hideDeletedMessages()"))));l.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.HIDE_DELETED_MESSAGES]=1==qe?1:0}if(l.createEndpoint(),l.totalPages&&1==l.totalPages&&l.lastAffix==l.affix)return void Q([]);S.makeApiCall(l.endpointName,{listId:l.listId},l.paginationMeta).then(function(st){return _(l,void 0,void 0,function(){var mt,Qe=this;return d(this,function(ht){return mt=[],st[y.ResponseConstants.RESPONSE_KEYS.KEY_META][y.ResponseConstants.RESPONSE_KEYS.KEY_CURSOR].hasOwnProperty(y.MessageConstatnts.PAGINATION.KEYS.ID)&&0==this.id&&(this.id=parseInt(st.meta.cursor[y.MessageConstatnts.PAGINATION.KEYS.ID])),st[y.ResponseConstants.RESPONSE_KEYS.KEY_META][y.ResponseConstants.RESPONSE_KEYS.KEY_CURSOR].hasOwnProperty(y.MessageConstatnts.PAGINATION.KEYS.SENT_AT)&&0==this.timestamp&&(this.timestamp=st.meta.cursor[y.MessageConstatnts.PAGINATION.KEYS.SENT_AT]),st.meta.pagination.hasOwnProperty("total_pages")&&(this.totalPages=st.meta.pagination.total_pages),st.meta.cursor.hasOwnProperty("affix")&&(this.lastAffix=st.meta.cursor.affix),st.data[0]?(0<this.id&&(this.id=parseInt(st.data[0].id)),0<this.timestamp&&(this.timestamp=st.data[0].sentAt),st.data.map(function(je){O.MessageListnerMaping.getInstance().get(y.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST).then(function(et){parseInt(je.id)>et&&O.MessageListnerMaping.getInstance().set(y.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST,parseInt(je.id))},function(et){O.MessageListnerMaping.getInstance().set(y.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST,parseInt(je.id))}),Qe.affix==y.MessageConstatnts.PAGINATION.AFFIX.APPEND?(Qe.id<parseInt(je.id)&&0<Qe.id&&(Qe.id=parseInt(je.id)),Qe.timestamp<je.sentAt&&0<Qe.timestamp&&(Qe.timestamp=je.sentAt),Qe.updatedAt<je.updatedAt&&0<Qe.updatedAt&&(Qe.updatedAt=je.updatedAt)):(Qe.id>parseInt(je.id)&&(Qe.id=parseInt(je.id)),Qe.timestamp>je.sentAt&&(Qe.timestamp=je.sentAt),Qe.updatedAt>je.updatedAt&&(Qe.updatedAt=je.updatedAt)),Qe.id&&(Qe.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.ID]=Qe.id),Qe.timestamp&&(Qe.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.SENT_AT]=Qe.timestamp),Qe.updatedAt&&(Qe.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.UPDATED_AT]=Qe.updatedAt),mt.push(p.MessageController.trasformJSONMessge(je))})):mt=[],Q(mt),[2]})})},function(st){ne(new T.CometChatException(st.error))})}catch(st){ne(new T.CometChatException(st))}})},L.prototype.createEndpoint=function(){this.parentMessageId?(this.endpointName="getThreadMessages",this.listId=this.parentMessageId.toString(),this.hideReplies&&(this.hideReplies=!1,delete this.paginationMeta[y.MessageConstatnts.PAGINATION.KEYS.HIDE_REPLIES])):(m.isFalsy(this.guid)||m.isFalsy(this.uid))&&m.isFalsy(this.guid)?(this.endpointName=m.isFalsy(this.uid)?"getMessages":"getUserMessages",this.listId=this.uid):(this.endpointName="getGroupMessages",this.listId=this.guid)},L.prototype.makeData=function(){var l={};l[y.MessageConstatnts.PAGINATION.KEYS.PER_PAGE]=this.limit,l[y.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,(m.isFalsy(this.guid)||m.isFalsy(this.uid))&&m.isFalsy(this.guid)&&m.isFalsy(this.uid)},L.prototype.getFilteredPreviousDataByReceiverId=function(l){return _(this,void 0,void 0,function(){var Q,ne=this;return d(this,function(Re){switch(Re.label){case 0:switch(Q=[],l){case"user":return[3,1];case"group":return[3,3];case"both":return[3,5]}return[3,7];case 1:return[4,M.MessagesStore.getInstance().get(this.uid).then(function(Z){Object.keys(Z).filter(function(oe){return parseInt(oe)>ne.id}).map(function(oe){Q=v(Q,[Z[oe]])})})];case 2:return Re.sent(),[3,9];case 3:return[4,M.MessagesStore.getInstance().get(this.guid).then(function(Z){Object.keys(Z).filter(function(oe){return parseInt(oe)>ne.id}).map(function(oe){Q=v(Q,[Z[oe]])})})];case 4:Re.sent(),Re.label=5;case 5:return[4,M.MessagesStore.getInstance().get(this.guid).then(function(Z){Object.keys(Z).filter(function(oe){return parseInt(oe)>ne.id}).filter(function(oe){return Z[oe].sender.uid==ne.uid}).map(function(oe){Q=v(Q,[Z[oe]])})})];case 6:return Re.sent(),[3,9];case 7:return[4,M.MessagesStore.getInstance().getAllMessages().then(function(Z){Object.keys(Z).filter(function(oe){return parseInt(oe)>ne.id}).map(function(oe){Q=v(Q,[Z[oe]])})})];case 8:return Re.sent(),[3,9];case 9:return[2,Q]}})})},L.prototype.getFilteredNextDataByReceiverId=function(l){return _(this,void 0,void 0,function(){var Q,ne=this;return d(this,function(Re){switch(Re.label){case 0:switch(Q=[],l){case"user":return[3,1];case"group":return[3,3];case"both":return[3,5]}return[3,7];case 1:return[4,M.MessagesStore.getInstance().get(this.uid).then(function(Z){Object.keys(Z).filter(function(oe){return parseInt(oe)>ne.id}).map(function(oe){Q=v(Q,[Z[oe]])})})];case 2:return Re.sent(),[3,9];case 3:return[4,M.MessagesStore.getInstance().get(this.guid).then(function(Z){Object.keys(Z).filter(function(oe){return parseInt(oe)>ne.id}).map(function(oe){Q=v(Q,[Z[oe]])})})];case 4:Re.sent(),Re.label=5;case 5:return[4,M.MessagesStore.getInstance().get(this.guid).then(function(Z){Object.keys(Z).filter(function(oe){return parseInt(oe)>ne.id}).filter(function(oe){return Z[oe].sender.uid==ne.uid}).map(function(oe){Q=v(Q,[Z[oe]])})})];case 6:return Re.sent(),[3,9];case 7:return[4,M.MessagesStore.getInstance().getAllMessages().then(function(Z){Object.keys(Z).filter(function(oe){return parseInt(oe)>ne.id}).map(function(oe){Q=v(Q,[Z[oe]])})})];case 8:return Re.sent(),[3,9];case 9:return[2,Q]}})})},L}();g.MessagesRequest=x;var G=function(){function L(){this.maxLimit=y.DEFAULT_VALUES.MSGS_MAX_LIMIT,this.timestamp=0,this.id=y.DEFAULT_VALUES.DEFAULT_MSG_ID,this.unread=!1,this.HideMessagesFromBlockedUsers=!1,this.onlyUpdate=0,this.HideDeletedMessages=!1,this.WithTags=!1}return L.prototype.setLimit=function(l){return this.limit=l,this},L.prototype.setGUID=function(l){return this.guid=l,this},L.prototype.setUID=function(l){return this.uid=l,this},L.prototype.setParentMessageId=function(l){return this.parentMessageId=l,this},L.prototype.setTimestamp=function(l){return void 0===l&&(l=m.getCurrentTime()),this.timestamp=l,this},L.prototype.setMessageId=function(l){return void 0===l&&(l=y.DEFAULT_VALUES.DEFAULT_MSG_ID),this.id=l,this},L.prototype.setUnread=function(l){return void 0===l&&(l=!1),this.unread=l,this},L.prototype.hideMessagesFromBlockedUsers=function(l){return void 0===l&&(l=!1),this.HideMessagesFromBlockedUsers=l,this},L.prototype.setSearchKeyword=function(l){return this.searchKey=l,this},L.prototype.setUpdatedAfter=function(l){return this.updatedAt=l,this},L.prototype.updatesOnly=function(l){return l&&(this.onlyUpdate=1),this},L.prototype.setCategory=function(l){return this.category=l,this},L.prototype.setCategories=function(l){return this.categories=l,this},L.prototype.setType=function(l){return this.type=l,this},L.prototype.setTypes=function(l){return this.types=l,this},L.prototype.hideReplies=function(l){return this.HideReplies=l,this},L.prototype.hideDeletedMessages=function(l){return this.HideDeletedMessages=l,this},L.prototype.setTags=function(l){return this.tags=l,this},L.prototype.withTags=function(l){return this.WithTags=l,this},L.prototype.build=function(){return this.category&&this.categories&&this.categories.push(this.category),this.type&&this.types&&this.types.push(this.type),new x(this)},L}();g.MessagesRequestBuilder=G},function(Le,g,i){"use strict";var _=this&&this.__assign||function(){return(_=Object.assign||function(m){for(var M,y=1,F=arguments.length;y<F;y++)for(var O in M=arguments[y])Object.prototype.hasOwnProperty.call(M,O)&&(m[O]=M[O]);return m}).apply(this,arguments)};g.__esModule=!0,g.MessagesStore=void 0;var d=i(3),v=i(0),T=i(1),S=i(13),p=function(){function m(M){this.store=T.constants.DEFAULT_STORE,v.isFalsy(M)||(this.store=M),this.messagesStore=S.createInstance({name:v.format(T.LOCAL_STORE.STORE_STRING,d.CometChat.getAppId(),T.LOCAL_STORE.MESSAGES_STORE)}),this.messagesStore.setDriver([S.LOCALSTORAGE,S.INDEXEDDB,S.WEBSQL])}return m.getInstance=function(){return null==m.MessagesStore&&(m.MessagesStore=new m),m.MessagesStore},m.prototype.set=function(M,y){return this.messagesStore.setItem(M,y)},m.prototype.remove=function(M){this.messagesStore.removeItem(M)},m.prototype.get=function(M){return this.messagesStore.getItem(M)},m.prototype.clearStore=function(){var M=this;return new Promise(function(y,F){M.messagesStore.clear().then(function(){y(!0)}).catch(function(O){F(O)})})},m.prototype.getAllMessages=function(){var M=this,y={};return new Promise(function(F,O){M.messagesStore.iterate(function(x,G,L){G!=T.constants.MSG_VER_POST&&G!=T.constants.MSG_VER_POST&&(y=_(_({},y),x))}).then(function(){F(y)})})},m.prototype.clear=function(M){},m.prototype.selectStore=function(M){this.store=M},m.prototype.storeMessages=function(M){var y=this;if(d.CometChat.user.getUid()){var F=d.CometChat.user.getUid(),O={},x=0;return this.get(T.constants.MSG_VER_POST).then(function(G){M.map(function(L){var l;if(!v.isFalsy(L)){0==x&&(x=parseInt(L.getId().toString())),x>L.getId()&&(x=parseInt(L.getId().toString())),G<L.getId()&&(G=parseInt(L.getId().toString()));var Q=void 0;Q=L.getSender()instanceof Object?L.getSender().getUid():L.getSender(),L.getReceiverType()==T.MessageConstatnts.RECEIVER_TYPE.GROUP&&(Q=L.getReceiver()),L.getSender()instanceof Object?L.getSender().getUid()==F&&(Q=L.getReceiver()):L.getSender()==F&&(Q=L.getReceiver()),O[Q]||(O[Q]={}),O[Q]=_(_({},O[Q]),((l={})[L.getId()]=L,l))}}),y.get(T.constants.MSG_VER_PRE).then(function(L){(0<x&&x<L||null==L)&&y.set(T.constants.MSG_VER_PRE,x)})&&0<G&&y.set(T.constants.MSG_VER_POST,G),Object.keys(O).map(function(L){y.get(L).then(function(l){null==l&&(l={}),y.set(L,_(_({},O[L]),l))})})}),!0}},m}();g.MessagesStore=p},function(Le,g,i){"use strict";g.__esModule=!0,g.BlockedUsersRequestBuilder=g.BlockedUsersRequest=void 0;var _=i(6),d=i(0),v=i(11),T=i(2),S=i(1),p=function(){function M(y){this.next_page=1,this.current_page=1,this.total_pages=-1,this.fetchingInProgress=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},d.isFalsy(y)||(this.limit=y.limit,d.isFalsy(y.searchKeyword)||(this.searchKeyword=y.searchKeyword),d.isFalsy(y.direction)||(this.direction=y.direction))}return M.prototype.validateBlockedUsersBuilder=function(){if(void 0===this.limit)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>S.DEFAULT_VALUES.USERS_MAX_LIMIT)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",S.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<S.DEFAULT_VALUES.ZERO)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(d.isFalsy(this.searchKeyword.trim()))return new T.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.direction){if(typeof this.direction!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new T.CometChatException(JSON.parse(d.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_DIRECTION","SET_DIRECTION","setDirection()")));if(this.direction!=S.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BOTH&&this.direction!=S.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BLOCKED_BY_ME&&this.direction!=S.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.HAS_BLOCKED_ME)return new T.CometChatException(S.UserErrors.INVALID_DIRECTION)}},M.prototype.fetchNext=function(){var y=this;return new Promise(function(F,O){try{if(y.fetchingInProgress)y.fetchingInProgress=!1,F([]);else{y.fetchingInProgress=!0;var x=y.validateBlockedUsersBuilder();if(x instanceof T.CometChatException)return void O(x);_.makeApiCall("blockedUsersList",{},y.getNextData()).then(function(G){if(G.meta&&(y.total_pages=G.meta.pagination.total_pages),0<G.data.length){y.pagination=G.meta.pagination;var L=[];G.data.map(function(l){L.push(v.UsersController.trasformJSONUser(l))}),F(L)}else F([]);y.fetchingInProgress=!1},function(G){y.fetchingInProgress=!1,O(new T.CometChatException(G.error))})}}catch(G){y.fetchingInProgress=!1,O(new T.CometChatException(G))}})},M.prototype.getNextData=function(){var y={};if(y.per_page=this.limit,d.isFalsy(this.direction)||(y.direction=this.direction),d.isFalsy(this.searchKeyword)||(y.searchKey=this.searchKeyword),1==this.current_page)y.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return y.page=this.next_page,y;y.page=this.next_page++}return y},M.MAX_LIMIT=2,M.DEFAULT_LIMIT=1,M.directions=S.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS,M}();g.BlockedUsersRequest=p;var m=function(){function M(){}return M.prototype.setLimit=function(y){return this.limit=y,this},M.prototype.setSearchKeyword=function(y){return this.searchKeyword=y,this},M.prototype.setDirection=function(y){return this.direction=y,this},M.prototype.blockedByMe=function(){return this.direction=S.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BLOCKED_BY_ME,this},M.prototype.hasBlockedMe=function(){return this.direction=S.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.HAS_BLOCKED_ME,this},M.prototype.build=function(){return new p(this)},M}();g.BlockedUsersRequestBuilder=m},function(Le,g,i){"use strict";g.__esModule=!0,g.AppSettingsBuilder=g.AppSettings=void 0;var _=i(1),d=function(){function T(S){this.subscriptionType=T.SUBSCRIPTION_TYPE_NONE,this.roles=null,this.region=_.DEFAULT_VALUES.REGION_DEFAULT,this.autoJoinGroup=!0,this.establishSocketConnection=!0,this.subscriptionType=S.subscriptionType,this.roles=S.roles,this.region=S.region,this.autoJoinGroup=S.autoJoinGroup,this.establishSocketConnection=S.establishSocketConnection}return T.prototype.getSubscriptionType=function(){return this.subscriptionType},T.prototype.getRoles=function(){return this.roles},T.prototype.getRegion=function(){return this.region},T.prototype.getIsAutoJoinEnabled=function(){return this.autoJoinGroup},T.prototype.shouldAutoEstablishSocketConnection=function(){return this.establishSocketConnection},T.SUBSCRIPTION_TYPE_NONE="NONE",T.SUBSCRIPTION_TYPE_ALL_USERS="ALL_USERS",T.SUBSCRIPTION_TYPE_ROLES="ROLES",T.SUBSCRIPTION_TYPE_FRIENDS="FRIENDS",T.REGION_EU=_.DEFAULT_VALUES.REGION_DEFAULT_EU,T.REGION_US=_.DEFAULT_VALUES.REGION_DEFAULT_US,T.REGION_IN=_.DEFAULT_VALUES.REGION_DEFAULT_IN,T.REGION_PRIVATE=_.DEFAULT_VALUES.REGION_DEFAULT_PRIVATE,T}();g.AppSettings=d;var v=function(){function T(){this.subscriptionType=d.SUBSCRIPTION_TYPE_NONE,this.roles=null,this.region=_.DEFAULT_VALUES.REGION_DEFAULT,this.autoJoinGroup=!0,this.establishSocketConnection=!0}return T.prototype.subscribePresenceForAllUsers=function(){return this.subscriptionType=d.SUBSCRIPTION_TYPE_ALL_USERS,this},T.prototype.subscribePresenceForRoles=function(S){return this.subscriptionType=d.SUBSCRIPTION_TYPE_ROLES,this.roles=S,this},T.prototype.subscribePresenceForFriends=function(){return this.subscriptionType=d.SUBSCRIPTION_TYPE_FRIENDS,this},T.prototype.setRegion=function(S){return void 0===S&&(S=_.DEFAULT_VALUES.REGION_DEFAULT),this.region=S.toLowerCase(),this},T.prototype.enableAutoJoinForGroups=function(S){return void 0===S&&(S=!0),this.autoJoinGroup=S,this},T.prototype.autoEstablishSocketConnection=function(S){return void 0===S&&(S=!0),this.establishSocketConnection=S,this},T.prototype.build=function(){return new d(this)},T}();g.AppSettingsBuilder=v},function(Le,g,i){"use strict";g.__esModule=!0,g.CometChatHelper=void 0;var _=i(10),d=i(1),v=i(11),T=i(15),S=i(24),p=i(3),m=i(2),M=i(0),y=function(){function F(){}return F.processMessage=function(O){try{return _.MessageController.trasformJSONMessge(O)}catch(x){M.Logger.error("CometChatHelper: processMessage",x)}},F.getConversationFromMessage=function(O){return new Promise(function(x,G){try{p.CometChat.getLoggedinUser().then(function(L){if(null!==L){var l=_.MessageController.trasformJSONMessge(O),Q=l.receiverType,ne=l.conversationId,Re=void 0,Z=_.MessageController.trasformJSONMessge(O);if(Q==d.MessageConstatnts.RECEIVER_TYPE.USER){var oe=v.UsersController.trasformJSONUser(l[d.MessageConstatnts.KEYS.SENDER]);Re=oe.getUid()==L.getUid()?v.UsersController.trasformJSONUser(l[d.MessageConstatnts.KEYS.RECEIVER]):oe}else Re=T.GroupsController.trasformJSONGroup(l[d.MessageConstatnts.KEYS.RECEIVER]);var ie=S.ConversationController.trasformJSONConversation(ne,Q,Z,Re,0,[]);x(ie)}else G(d.UserErrors.USER_NOT_LOGGED_IN)},function(L){G(new m.CometChatException(L.error))})}catch(L){G(new m.CometChatException(L))}})},F}();g.CometChatHelper=y},function(Le,g,i){"use strict";g.__esModule=!0,g.VirtualBackgroundBuilder=g.VirtualBackground=g.CallSettingsBuilder=g.CallSettings=void 0;var _=i(1),d=function(){function p(m){this.sessionID=m.sessionID,this.defaultLayout=m.defaultLayout,this.isAudioOnly=m.isAudioOnly,this.region=m.region,this.user=m.user,this.mode=m.mode,this.domain=m.domain,this.ShowEndCallButton=m.ShowEndCallButton,this.ShowMuteAudioButton=m.ShowMuteAudioButton,this.ShowPauseVideoButton=m.ShowPauseVideoButton,this.ShowScreenShareButton=m.ShowScreenShareButton,this.ShowSwitchModeButton=m.ShowSwitchModeButton,this.StartAudioMuted=m.StartAudioMuted,this.StartVideoMuted=m.StartVideoMuted,this.localizedObject=m.localizedObject,this.analyticsSettings=m.analyticsSettings,this.appId=m.appId,this.customCSS=m.customCSS,this.ShowRecordingButton=m.ShowRecordingButton,this.StartRecordingOnCallStart=m.StartRecordingOnCallStart,this.useLegacyUI=m.useLegacyUI,this.ShowSwitchToVideoCallButton=m.ShowSwitchToVideoCallButton,this.VirtualBackground=m.virtualBackground,this.ShowVirtualBackgroundSetting=m.ShowVirtualBackgroundSetting}return p.prototype.shouldUseLegacyUI=function(){return this.useLegacyUI},p.prototype.isRecordingButtonEnabled=function(){return this.ShowRecordingButton},p.prototype.shouldStartRecordingOnCallStart=function(){return this.StartRecordingOnCallStart},p.prototype.getCustomCSS=function(){return this.customCSS},p.prototype.getSessionId=function(){return this.sessionID},p.prototype.isAudioOnlyCall=function(){return this.isAudioOnly},p.prototype.getUser=function(){return this.user},p.prototype.getRegion=function(){return this.region},p.prototype.getAppId=function(){return this.appId},p.prototype.getDomain=function(){return this.domain},p.prototype.isDefaultLayoutEnabled=function(){return this.defaultLayout},p.prototype.getMode=function(){return this.mode},p.prototype.getStartWithAudioMuted=function(){return this.StartAudioMuted},p.prototype.getStartWithVideoMuted=function(){return this.StartVideoMuted},p.prototype.isEndCallButtonEnabled=function(){return this.ShowEndCallButton},p.prototype.isMuteAudioButtonEnabled=function(){return this.ShowMuteAudioButton},p.prototype.isPauseVideoButtonEnabled=function(){return this.ShowPauseVideoButton},p.prototype.isScreenShareButtonEnabled=function(){return this.ShowScreenShareButton},p.prototype.isModeButtonEnabled=function(){return this.ShowSwitchModeButton},p.prototype.getLocalizedStringObject=function(){return this.localizedObject},p.prototype.getAnalyticsSettings=function(){return this.analyticsSettings},p.prototype.isAudioToVideoButtonEnabled=function(){return this.ShowSwitchToVideoCallButton},p.prototype.getVirtualBackground=function(){return this.VirtualBackground},p.prototype.isVirtualBackgroundSettingEnabled=function(){return this.ShowVirtualBackgroundSetting},p}();g.CallSettings=d;var v=function(){function p(){this.defaultLayout=!0,this.isAudioOnly=!1,this.mode=_.CallConstants.CALL_MODE.DEFAULT,this.ShowEndCallButton=!0,this.ShowMuteAudioButton=!0,this.ShowPauseVideoButton=!0,this.ShowScreenShareButton=!0,this.ShowSwitchModeButton=!0,this.StartAudioMuted=!1,this.StartVideoMuted=!1,this.localizedObject={},this.analyticsSettings={},this.ShowRecordingButton=!1,this.StartRecordingOnCallStart=!1,this.useLegacyUI=!1,this.ShowSwitchToVideoCallButton=!0,this.virtualBackground=(new S).build(),this.ShowVirtualBackgroundSetting=!0}return p.prototype.setSessionID=function(m){return this.sessionID=m,this},p.prototype.enableDefaultLayout=function(m){return this.defaultLayout=m,this},p.prototype.setIsAudioOnlyCall=function(m){return this.isAudioOnly=m,this},p.prototype.setRegion=function(m){return this.region=m,this},p.prototype.setDomain=function(m){return this.domain=m,this},p.prototype.setUser=function(m){return this.user=m,this},p.prototype.setMode=function(m){return this.mode=m,this},p.prototype.showEndCallButton=function(m){return this.ShowEndCallButton=m,this},p.prototype.showMuteAudioButton=function(m){return this.ShowMuteAudioButton=m,this},p.prototype.showPauseVideoButton=function(m){return this.ShowPauseVideoButton=m,this},p.prototype.showScreenShareButton=function(m){return this.ShowScreenShareButton=m,this},p.prototype.showModeButton=function(m){return this.ShowSwitchModeButton=m,this},p.prototype.setLocalizedStringObject=function(m){return this.localizedObject=m,this},p.prototype.setAnalyticsSettings=function(m){return this.analyticsSettings=m,this},p.prototype.setAppId=function(m){return this.appId=m,this},p.prototype.startWithAudioMuted=function(m){return this.StartAudioMuted=m,this},p.prototype.startWithVideoMuted=function(m){return this.StartVideoMuted=m,this},p.prototype.setCustomCSS=function(m){return this.customCSS=m,this},p.prototype.showRecordingButton=function(m){return this.ShowRecordingButton=m,this},p.prototype.startRecordingOnCallStart=function(m){return this.StartRecordingOnCallStart=m,this},p.prototype.forceLegacyUI=function(m){return this.useLegacyUI=m,this},p.prototype.showSwitchToVideoCallButton=function(m){return this.ShowSwitchToVideoCallButton=m,this},p.prototype.setVirtualBackground=function(m){return this.virtualBackground=m,this},p.prototype.showVirtualBackgroundSetting=function(m){return this.ShowVirtualBackgroundSetting=m,this},p.prototype.build=function(){return new d(this)},p}();g.CallSettingsBuilder=v;var T=function(){function p(m){this.AllowBackgroundBlur=m.AllowBackgroundBlur,this.AllowUserImages=m.AllowUserImages,this.ShowDefaultImages=m.ShowDefaultImages,this.SetImages=m.SetImages,this.EnforceBackgroundBlur=m.EnforceBackgroundBlur,this.EnforceBackgroundImage=m.EnforceBackgroundImage}return p.prototype.shouldAllowBackgroundBlur=function(){return this.AllowBackgroundBlur},p.prototype.shouldAllowUserImages=function(){return this.AllowUserImages},p.prototype.shouldShowDefaultImages=function(){return this.ShowDefaultImages},p.prototype.getImages=function(){return this.SetImages},p.prototype.isBackgroundBlurEnforced=function(){return this.EnforceBackgroundBlur},p.prototype.getEnforcedBackgroundImage=function(){return this.EnforceBackgroundImage},p}();g.VirtualBackground=T;var S=function(){function p(){this.AllowBackgroundBlur=!0,this.AllowUserImages=!0,this.ShowDefaultImages=!0,this.SetImages=[],this.EnforceBackgroundBlur=0,this.EnforceBackgroundImage=""}return p.prototype.allowBackgroundBlur=function(m){return this.AllowBackgroundBlur=m,this},p.prototype.allowUserImages=function(m){return this.AllowUserImages=m,this},p.prototype.showDefaultImages=function(m){return this.ShowDefaultImages=m,this},p.prototype.setImages=function(m){return this.SetImages=m,this},p.prototype.enforceBackgroundBlur=function(m){return this.EnforceBackgroundBlur=m,this},p.prototype.enforceBackgroundImage=function(m){return this.EnforceBackgroundImage=m,this},p.prototype.build=function(){return new T(this)},p}();g.VirtualBackgroundBuilder=S},function(Le,g,i){"use strict";g.__esModule=!0,g.RTCUser=void 0;var _=i(0),d=function(){function v(T){this.avatar="",_.isFalsy(T)||(this.uid=T.toString())}return v.prototype.setUID=function(T){this.uid=T?T.toString():""},v.prototype.getUID=function(){return this.uid.toString()},v.prototype.setName=function(T){this.name=T?T.toString():""},v.prototype.getName=function(){return this.name.toString()},v.prototype.setAvatar=function(T){this.avatar=T?T.toString():""},v.prototype.getAvatar=function(){return this.avatar.toString()},v.prototype.setJWT=function(T){this.jwt=T?T.toString():""},v.prototype.getJWT=function(){return this.jwt.toString()},v.prototype.setResource=function(T){this.resource=T?T.toString():""},v.prototype.getResource=function(){return this.resource.toString()},v}();g.RTCUser=d},function(Le,g,i){"use strict";var _=this&&this.__awaiter||function(Ce,re,le,X){return new(le||(le=Promise))(function(Me,Fe){function qe(Qe){try{mt(X.next(Qe))}catch(ht){Fe(ht)}}function st(Qe){try{mt(X.throw(Qe))}catch(ht){Fe(ht)}}function mt(Qe){var ht;Qe.done?Me(Qe.value):(ht=Qe.value,ht instanceof le?ht:new le(function(je){je(ht)})).then(qe,st)}mt((X=X.apply(Ce,re||[])).next())})},d=this&&this.__generator||function(Ce,re){var le,X,Me,Fe,qe={label:0,sent:function(){if(1&Me[0])throw Me[1];return Me[1]},trys:[],ops:[]};return Fe={next:st(0),throw:st(1),return:st(2)},"function"==typeof Symbol&&(Fe[Symbol.iterator]=function(){return this}),Fe;function st(mt){return function(Qe){return function(ht){if(le)throw new TypeError("Generator is already executing.");for(;qe;)try{if(le=1,X&&(Me=2&ht[0]?X.return:ht[0]?X.throw||((Me=X.return)&&Me.call(X),0):X.next)&&!(Me=Me.call(X,ht[1])).done)return Me;switch(X=0,Me&&(ht=[2&ht[0],Me.value]),ht[0]){case 0:case 1:Me=ht;break;case 4:return qe.label++,{value:ht[1],done:!1};case 5:qe.label++,X=ht[1],ht=[0];continue;case 7:ht=qe.ops.pop(),qe.trys.pop();continue;default:if(!(Me=0<(Me=qe.trys).length&&Me[Me.length-1])&&(6===ht[0]||2===ht[0])){qe=0;continue}if(3===ht[0]&&(!Me||ht[1]>Me[0]&&ht[1]<Me[3])){qe.label=ht[1];break}if(6===ht[0]&&qe.label<Me[1]){qe.label=Me[1],Me=ht;break}if(Me&&qe.label<Me[2]){qe.label=Me[2],qe.ops.push(ht);break}Me[2]&&qe.ops.pop(),qe.trys.pop();continue}ht=re.call(Ce,qe)}catch(je){ht=[6,je],X=0}finally{le=Me=0}if(5&ht[0])throw ht[1];return{value:ht[0]?ht[1]:void 0,done:!0}}([mt,Qe])}}};g.__esModule=!0,g.WSConnectionHelper=void 0;var v=i(3),T=i(1),S=i(31),p=i(36),m=i(0),M=i(37),y=i(30),F=i(25),O=i(20),x=i(21),G=i(54),L=i(55),l=i(56),Q=i(57),ne=i(58),Re=i(59),Z=i(60),oe=i(22),ie=i(27),pe=i(26),De=i(5),ae=i(61),Se=M.ListenerHandlers.getInstance(),Be=function(){function Ce(){}return Ce.getInstance=function(){try{return null!=this.wsConnectionHelper&&null!=this.wsConnectionHelper||(this.wsConnectionHelper=new Ce),this.wsConnectionHelper}catch(re){m.Logger.error("WSConnectionHelper: getInstance",re)}},Ce.prototype.WSLogin=function(re,le){var X=this;try{ae.getWSURL().then(function(Me){X.connection=new WebSocket(Me),le&&X.connection&&X.connection.readyState==De.READY_STATE.CONNECTING&&le(X.connection.readyState),X.connection.onopen=function(Fe){X.onOpen(Fe,le),X.authenticateUser(re)},X.connection.onclose=function(Fe){X.onClose(Fe,le)},X.connection.onmessage=function(Fe){X.onMessage(Fe)}},function(Me){m.Logger.error("WSConnectionHelper :: WSLogin",Me)})}catch(Me){m.Logger.error("WSConnectionHelper: WSLogin",Me)}},Ce.prototype.onOpen=function(re,le){try{le&&this.connection&&le(this.connection.readyState)}catch(X){m.Logger.error("WSConnectionHelper: onOpen",X)}},Ce.prototype.onClose=function(re,le){try{le&&this.connection&&le(this.connection.readyState)}catch(X){m.Logger.error("WSConnectionHelper: onClose",X)}},Ce.prototype.onMessage=function(re){if(re.data&&"string"==typeof re.data)try{var le=JSON.parse(re.data);if(le&&le.action&&le.action===De.KEYS.PONG)return;var X=this.getCometChatEventFromMessage(JSON.parse(re.data));if(X.getDeviceId()===v.CometChat.getSessionId()&&X.getType()!==De.AUTH.TYPE)return;switch(X.getType()){case De.TYPING_INDICATOR.TYPE:this.publishTypingIndicator(X);break;case De.RECEIPTS.TYPE:this.publishReceipts(X);break;case De.PRESENCE.TYPE:this.publishPresence(X);break;case De.AUTH.TYPE:this.authResponseReceived(X);break;case De.MESSAGE.TYPE:this.publishMessages(X);break;case De.TRANSIENT_MESSAGE.TYPE:this.publishTransientMessage(X);break;default:m.Logger.log("WSHelper: onMessage :: unknown type",re.data)}}catch(Me){m.Logger.error("WSHelper: onMessage",Me)}else m.Logger.log("WSHelper: onMessage :: object data",re.data)},Ce.prototype.authenticateUser=function(re){var le=this;try{v.CometChat.getLoggedinUser().then(function(X){X?y.KeyStore.getInstance().get("deviceId").then(function(Me){var Fe=null;window&&window.location&&window.location.origin&&(Fe=window.location.origin);var qe="",st=Me,mt={version:T.SDKHeader.sdkVersion,apiVersion:T.APPINFO.apiVersion,origin:Fe,uts:(new Date).getTime()};m.isFalsy(v.CometChat.resource)||(mt.resource=v.CometChat.resource),m.isFalsy(v.CometChat.platform)||(mt.platform=v.CometChat.platform),m.isFalsy(v.CometChat.language)||(mt.language=v.CometChat.language),navigator&&(qe=navigator.userAgent);var Qe={appInfo:mt,userAgent:qe,deviceId:st,platform:T.SDKHeader.platform},ht=new G.CometChatAuthEvent(v.CometChat.getAppId(),"","",X.getUid(),v.CometChat.getSessionId());if(ht.setAuth(re),ht.setPresenceSubscription(v.CometChat.appSettings.getSubscriptionType()),ht.setDeviceId(v.CometChat.getSessionId()),ht.setExtraParmaeters(Qe),ae.checkConnection(le.connection)){var je=ht.getAsString();le.connection.send(je)}}):m.Logger.log("no logged-in user","null")},function(X){m.Logger.log("error in fetching logged-in user",X)})}catch(X){m.Logger.error("WSConnectionHelper: startTypingIndicator",X)}},Ce.prototype.authResponseReceived=function(re){try{"200"===re.getCode()&&"OK"===re.getStatus()&&this.startPingingWS()}catch(le){m.Logger.error("WSConnectionHelper: authResponseReceived",le)}},Ce.prototype.WSLogout=function(){try{this.clearPingTimer(),ae.checkConnection(this.connection)&&this.connection.close(De.LOGOUT_CODE,De.LOGOUT_REASON)}catch(re){m.Logger.error("WSConnectionHelper: WSLogout",re)}},Ce.prototype.startPingingWS=function(){var re=this;try{Ce.pingTimer||(Ce.pingTimer=setInterval(function(){return _(re,void 0,void 0,function(){var le,X;return d(this,function(Me){switch(Me.label){case 0:return ae.checkConnection(this.connection)?(le=new l.CometChatPingEvent("","","","",""),X=le.getAsString(),this.connection.send(X),[4,this.listenForPong()]):[3,2];case 1:Me.sent()?(m.Logger.log("WSConnectionHelper :: startPingingWS","pong success"),v.CometChat.getConnectionStatus()!=T.CONNECTION_STATUS.CONNECTED&&(this.WSLogout(),this.connection=null,v.CometChat.getInstance().makeWSConnection())):(m.Logger.log("WSConnectionHelper :: startPingingWS","pong failure"),this.WSLogout(),this.connection=null,v.CometChat.getInstance().setConnectionStatus(T.CONNECTION_STATUS.DISCONNECTED),Se.connectionHandlers.map(function(Fe){try{Fe._eventListener&&(m.isFalsy(Fe._eventListener.onDisconnected)||Fe._eventListener.onDisconnected())}catch(qe){m.Logger.error("WSConnectionHandlers: Disconnected Status",qe)}}),v.CometChat.getInstance().accidentallyDisconnected()),Me.label=2;case 2:return[2]}})})},15e3))}catch(le){m.Logger.error("WSConnectionHelper: startPingingWS",le)}},Ce.prototype.listenForPong=function(){var re=this;return new Promise(function(le,X){var Me=setTimeout(function(){le(!1)},3e3);re.connection.addEventListener("message",function(Fe){Fe&&Fe.data&&"string"==typeof Fe.data&&JSON.parse(Fe.data).action===De.KEYS.PONG&&(clearTimeout(Me),le(!0))})})},Ce.prototype.clearPingTimer=function(){Ce.pingTimer&&(clearInterval(Ce.pingTimer),Ce.pingTimer=void 0)},Ce.prototype.sendOnlineEvent=function(){var re=this;try{ae.checkConnection(this.connection)&&v.CometChat.getLoggedinUser().then(function(le){if(le){var X={appId:v.CometChat.getAppId(),deviceId:v.CometChat.getSessionId(),type:De.PRESENCE.TYPE,body:{action:De.PRESENCE.ACTION.ONLINE,timestamp:Math.floor((new Date).getTime()/1e3),user:le}};if(ae.checkConnection(re.connection)){var Me=ae.stringifyMessage(X);re.connection.send(Me)}}else m.Logger.log("no logged-in user","null")},function(le){m.Logger.log("error in fetching logged-in user",le)})}catch(le){m.Logger.error("WSConnectionHelper: sendOnlineEvent",le)}},Ce.prototype.sendOfflineEvent=function(){var re=this;try{ae.checkConnection(this.connection)&&v.CometChat.getLoggedinUser().then(function(le){if(le){var X={appId:v.CometChat.getAppId(),deviceId:v.CometChat.getSessionId(),type:De.PRESENCE.TYPE,body:{action:De.PRESENCE.ACTION.OFFLINE,timestamp:Math.floor((new Date).getTime()/1e3),user:le}};if(ae.checkConnection(re.connection)){var Me=ae.stringifyMessage(X);re.connection.send(Me)}}else m.Logger.log("no logged-in user","null")},function(le){m.Logger.log("error in fetching logged-in user",le)})}catch(le){m.Logger.error("WSConnectionHelper: sendOfflineEvent",le)}},Ce.prototype.startTypingIndicator=function(re,le,X){var Me=this;try{v.CometChat.getLoggedinUser().then(function(Fe){if(Fe){var qe=new pe.TypingIndicator(re,le);qe.setSender(Fe),X&&qe.setMetadata(X);var st=new Z.CometChatTypingEvent(v.CometChat.getAppId(),re,le,Fe.getUid(),v.CometChat.getSessionId());if(st.setAction(De.TYPING_INDICATOR.ACTION.STARTED),st.setTypingIndicator(qe),ae.checkConnection(Me.connection)){var mt=st.getAsString();Me.connection.send(mt)}}else m.Logger.log("no logged-in user","null")},function(Fe){m.Logger.log("error in fetching logged-in user",Fe)})}catch(Fe){m.Logger.error("WSConnectionHelper: startTypingIndicator",Fe)}},Ce.prototype.pauseTypingIndicator=function(re,le,X){var Me=this;try{v.CometChat.getLoggedinUser().then(function(Fe){if(Fe){var qe=new pe.TypingIndicator(re,le);qe.setSender(Fe),X&&qe.setMetadata(X);var st=new Z.CometChatTypingEvent(v.CometChat.getAppId(),re,le,Fe.getUid(),v.CometChat.getSessionId());if(st.setAction(De.TYPING_INDICATOR.ACTION.ENDED),st.setTypingIndicator(qe),ae.checkConnection(Me.connection)){var mt=st.getAsString();Me.connection.send(mt)}}else m.Logger.log("no logged-in user","null")},function(Fe){m.Logger.log("error in fetching logged-in user",Fe)})}catch(Fe){m.Logger.error("WSConnectionHelper: pauseTypingIndicator",Fe)}},Ce.prototype.markAsRead=function(re,le,X,Me){var Fe=this;try{v.CometChat.getMode(),v.CometChat.getLoggedinUser().then(function(qe){if(qe){var st=new ne.CometChatReceiptEvent(v.CometChat.getAppId(),re,le,qe.getUid(),v.CometChat.getSessionId(),Me);st.setAction(De.RECEIPTS.ACTION.READ);var mt=new oe.MessageReceipt;if(mt.setSender(qe),mt.setReceiverType(le),mt.setReceiver(re),mt.setReceiptType(De.RECEIPTS.RECEIPT_TYPE.READ_RECEIPT),mt.setMessageId(X),mt.setTimestamp(Math.floor((new Date).getTime()/1e3).toString()),st.setMessageReceipt(mt),ae.checkConnection(Fe.connection)){var Qe=st.getAsString();Fe.connection.send(Qe)}}else m.Logger.log("no logged-in user","null")},function(qe){m.Logger.log("error in fetching logged-in user",qe)})}catch(qe){m.Logger.error("WSConnectionHelper: markAsRead",qe)}},Ce.prototype.markAsDelivered=function(re,le,X,Me){var Fe=this;try{v.CometChat.getMode(),v.CometChat.getLoggedinUser().then(function(qe){if(qe){var st=new ne.CometChatReceiptEvent(v.CometChat.getAppId(),re,le,qe.getUid(),v.CometChat.getSessionId(),Me);st.setAction(De.RECEIPTS.ACTION.DELIVERED);var mt=new oe.MessageReceipt;if(mt.setSender(qe),mt.setReceiverType(le),mt.setReceiver(re),mt.setReceiptType(De.RECEIPTS.RECEIPT_TYPE.DELIVERY_RECEIPT),mt.setMessageId(X),mt.setTimestamp(Math.floor((new Date).getTime()/1e3).toString()),st.setMessageReceipt(mt),ae.checkConnection(Fe.connection)){var Qe=st.getAsString();Fe.connection.send(Qe)}}else m.Logger.log("no logged-in user","null")},function(qe){m.Logger.log("error in fetching logged-in user",qe)})}catch(qe){m.Logger.error("WSConnectionHelper: markAsDelivered",qe)}},Ce.prototype.sendTransientMessage=function(re,le,X){var Me=this;try{v.CometChat.getLoggedinUser().then(function(Fe){if(Fe){var qe=new ie.TransientMessage(re,le,X);qe.setSender(Fe);var st=new Re.CometChatTransientEvent(v.CometChat.getAppId(),re,le,Fe.getUid(),v.CometChat.getSessionId());if(st.setTransientMessage(qe),ae.checkConnection(Me.connection)){var mt=st.getAsString();Me.connection.send(mt)}}else m.Logger.log("no logged-in user","null")},function(Fe){m.Logger.log("error in fetching logged-in user",Fe)})}catch(Fe){m.Logger.error("WSConnectionHelper: sendTransientMessage",Fe)}},Ce.prototype.publishTypingIndicator=function(re){try{var le=re.getTypingIndicator();switch(re.getAction()){case De.TYPING_INDICATOR.ACTION.STARTED:Se.messageHandlers.map(function(X){X._eventListener.onTypingStarted&&X._eventListener.onTypingStarted(le)}),p.TypingNotificationController.addIncomingTypingStarted(le);break;case De.TYPING_INDICATOR.ACTION.ENDED:Se.messageHandlers.map(function(X){X._eventListener.onTypingEnded&&X._eventListener.onTypingEnded(le)}),p.TypingNotificationController.removeIncomingTypingStarted(le)}}catch(X){m.Logger.error("WSHelper: publishTypingIndicator",X)}},Ce.prototype.publishReceipts=function(re){try{var le=re.getMessageReceipt();switch(re.getAction()){case De.RECEIPTS.ACTION.DELIVERED:Se.messageHandlers.map(function(X){X._eventListener.onMessagesDelivered&&X._eventListener.onMessagesDelivered(le)});break;case De.RECEIPTS.ACTION.READ:Se.messageHandlers.map(function(X){X._eventListener.onMessagesRead&&X._eventListener.onMessagesRead(le)})}}catch(X){m.Logger.error("WSHelper: publishReceipts",X)}},Ce.prototype.publishPresence=function(re){try{var le=re.getUser();switch(le.setLastActiveAt(re.getTimestamp()),re.getAction()){case De.PRESENCE.ACTION.ONLINE:case De.PRESENCE.ACTION.AVAILABLE:le.setStatus(T.PresenceConstatnts.STATUS.ONLINE),Se.userHandlers.map(function(X){m.isFalsy(X._eventListener.onUserOnline)||X._eventListener.onUserOnline(le)});break;case De.PRESENCE.ACTION.OFFLINE:le.setStatus(T.PresenceConstatnts.STATUS.OFFLINE),Se.userHandlers.map(function(X){m.isFalsy(X._eventListener.onUserOffline)||X._eventListener.onUserOffline(le)})}}catch(X){m.Logger.error("WSHelper: publishPresence",X)}},Ce.prototype.publishMessages=function(re){try{var le=re.getMessage();le&&le.getId()&&F.MessageListnerMaping.getInstance().set("all",le.getId()),le instanceof x.Call?this.publishCallMessage(le):le instanceof O.Action?this.publishActionMessage(le):this.publishMessage(le)}catch(X){m.Logger.error("WSHelper: publishMessages",X)}},Ce.prototype.publishMessage=function(re){try{Se.messageHandlers.map(function(le){if(le._eventListener){var X=re;switch(X.getType()){case T.MessageConstatnts.TYPE.TEXT:m.isFalsy(le._eventListener.onTextMessageReceived)||le._eventListener.onTextMessageReceived(re);break;case T.MessageConstatnts.TYPE.CUSTOM:m.isFalsy(le._eventListener.onCustomMessageReceived)||le._eventListener.onCustomMessageReceived(re);break;default:X.getCategory()==T.MessageCategory.CUSTOM?m.isFalsy(le._eventListener.onCustomMessageReceived)||le._eventListener.onCustomMessageReceived(re):m.isFalsy(le._eventListener.onMediaMessageReceived)||le._eventListener.onMediaMessageReceived(re)}}})}catch(le){m.Logger.error("WSHelper: publishMessage",le)}},Ce.prototype.publishCallMessage=function(re){try{var le=S.CallController.getInstance().getActiveCall();switch(re.getStatus()){case T.CallConstants.CALL_STATUS.INITIATED:re.getReceiverType()==T.CallConstants.RECEIVER_TYPE_GROUP?Se.callHandlers.map(function(X){re.getCallInitiator().getUid().toLocaleLowerCase()!=v.CometChat.user.getUid().toLocaleLowerCase()&&(m.isFalsy(X._eventListener.onIncomingCallReceived)||X._eventListener.onIncomingCallReceived(re))}):Se.callHandlers.map(function(X){m.isFalsy(X._eventListener.onIncomingCallReceived)||X._eventListener.onIncomingCallReceived(re)});break;case T.CallConstants.CALL_STATUS.ONGOING:re.getReceiverType()==T.CallConstants.RECEIVER_TYPE_GROUP?re.getCallInitiator().getUid().toLocaleLowerCase()==v.CometChat.user.getUid().toLocaleLowerCase()&&Se.callHandlers.map(function(X){m.isFalsy(X._eventListener.onOutgoingCallAccepted)||X._eventListener.onOutgoingCallAccepted(re)}):Se.callHandlers.map(function(X){m.isFalsy(X._eventListener.onOutgoingCallAccepted)||X._eventListener.onOutgoingCallAccepted(re)});break;case T.CallConstants.CALL_STATUS.UNANSWERED:if(re.getCallInitiator().getUid().toLocaleLowerCase()==v.CometChat.user.getUid().toLocaleLowerCase())Se.callHandlers.map(function(X){m.isFalsy(X._eventListener.onOutgoingCallRejected)||X._eventListener.onOutgoingCallRejected(re)});else{if(null!==le&&le.getSessionId()===re.getSessionId())try{S.CallController.getInstance().endCall()}catch(X){m.Logger.error("CallError",X)}Se.callHandlers.map(function(X){m.isFalsy(X._eventListener.onIncomingCallCancelled)||X._eventListener.onIncomingCallCancelled(re)})}break;case T.CallConstants.CALL_STATUS.REJECTED:if(re.getReceiverType()==T.CallConstants.RECEIVER_TYPE_GROUP)re.getCallInitiator().getUid().toLocaleLowerCase()==v.CometChat.user.getUid().toLocaleLowerCase()&&Se.callHandlers.map(function(X){m.isFalsy(X._eventListener.onOutgoingCallRejected)||X._eventListener.onOutgoingCallRejected(re)});else{if(null!==le&&le.getSessionId()===re.getSessionId())try{S.CallController.getInstance().endCall()}catch(X){m.Logger.error("CallError",X)}Se.callHandlers.map(function(X){m.isFalsy(X._eventListener.onOutgoingCallRejected)||X._eventListener.onOutgoingCallRejected(re)})}break;case T.CallConstants.CALL_STATUS.BUSY:re.getReceiverType()==T.CallConstants.RECEIVER_TYPE_GROUP?re.getCallInitiator().getUid().toLocaleLowerCase()==v.CometChat.user.getUid().toLocaleLowerCase()&&Se.callHandlers.map(function(X){m.isFalsy(X._eventListener.onOutgoingCallRejected)||X._eventListener.onOutgoingCallRejected(re)}):Se.callHandlers.map(function(X){if(null!==le&&le.getSessionId()===re.getSessionId())try{S.CallController.getInstance().endCall()}catch(Me){m.Logger.error("CallError",Me)}m.isFalsy(X._eventListener.onOutgoingCallRejected)||X._eventListener.onOutgoingCallRejected(re)});break;case T.CallConstants.CALL_STATUS.CANCELLED:if(Se.callHandlers.map(function(X){m.isFalsy(X._eventListener.onIncomingCallCancelled)||X._eventListener.onIncomingCallCancelled(re)}),null!==le&&le.getSessionId()===re.getSessionId())try{S.CallController.getInstance().endCall()}catch(X){m.Logger.error("CallError",X)}break;case T.CallConstants.CALL_STATUS.ENDED:if(S.CallController.getInstance().getCallListner()&&S.CallController.getInstance().getCallListner()._eventListener.onCallEnded(re),null!==le&&le.getSessionId()===re.getSessionId())try{S.CallController.getInstance().endCall()}catch(X){m.Logger.error("CallError",X)}break;default:m.Logger.log("WSHelper: publishCallMessage :: unknown status",re)}}catch(X){m.Logger.error("WSHelper: publishCallMessage",X)}},Ce.prototype.publishActionMessage=function(re){try{switch(re.getAction()){case T.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_JOINED:case T.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_INVITED:Se.groupHandlers.map(function(le){m.isFalsy(le._eventListener.onGroupMemberJoined)||le._eventListener.onGroupMemberJoined(re,re.getActionBy(),re.getActionFor())});break;case T.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_LEFT:Se.groupHandlers.map(function(le){m.isFalsy(le._eventListener.onGroupMemberLeft)||le._eventListener.onGroupMemberLeft(re,re.getActionBy(),re.getActionFor())});break;case T.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_BANNED:Se.groupHandlers.map(function(le){m.isFalsy(le._eventListener.onGroupMemberBanned)||le._eventListener.onGroupMemberBanned(re,re.getActionOn(),re.getActionBy(),re.getActionFor())});break;case T.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_KICKED:Se.groupHandlers.map(function(le){m.isFalsy(le._eventListener.onGroupMemberKicked)||le._eventListener.onGroupMemberKicked(re,re.getActionOn(),re.getActionBy(),re.getActionFor())});break;case T.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_UNBANNED:Se.groupHandlers.map(function(le){m.isFalsy(le._eventListener.onGroupMemberUnbanned)||le._eventListener.onGroupMemberUnbanned(re,re.getActionOn(),re.getActionBy(),re.getActionFor())});break;case T.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_SCOPE_CHANGED:Se.groupHandlers.map(function(le){m.isFalsy(le._eventListener.onGroupMemberScopeChanged)||le._eventListener.onGroupMemberScopeChanged(re,re.getActionOn(),re.getNewScope(),re.getOldScope(),re.getActionFor())});break;case T.ActionConstatnts.ACTION_TYPE.TYPE_MESSAGE_EDITED:Se.messageHandlers.map(function(le){m.isFalsy(le._eventListener.onMessageEdited)||le._eventListener.onMessageEdited(re.getActionOn())});break;case T.ActionConstatnts.ACTION_TYPE.TYPE_MESSAGE_DELETED:Se.messageHandlers.map(function(le){m.isFalsy(le._eventListener.onMessageDeleted)||le._eventListener.onMessageDeleted(re.getActionOn())});break;case T.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_ADDED:Se.groupHandlers.map(function(le){m.isFalsy(le._eventListener.onGroupMemberAddedToGroup)||le._eventListener.onGroupMemberAddedToGroup(re,re.getActionOn(),re.getActionBy(),re.getActionFor())});break;default:m.Logger.log("WSHelper: publishActionMessage :: unknown action",re)}}catch(le){m.Logger.error("WSHelper: publishActionMessage",le)}},Ce.prototype.publishTransientMessage=function(re){try{var le=re.getTransientMessage();Se.messageHandlers.map(function(X){X._eventListener.onTransientMessageReceived&&X._eventListener.onTransientMessageReceived(le)})}catch(X){m.Logger.error("WSHelper: publishTransientMessage",X)}},Ce.prototype.getCometChatEventFromMessage=function(re){try{if(re.hasOwnProperty(De.KEYS.TYPE))switch(re.type){case De.TYPING_INDICATOR.TYPE:return Z.CometChatTypingEvent.getTypingEventFromJSON(re);case De.RECEIPTS.TYPE:return ne.CometChatReceiptEvent.getReceiptEventFromJSON(re);case De.PRESENCE.TYPE:return Q.CometChatPresenceEvent.getPresenceEventFromJSON(re);case De.MESSAGE.TYPE:return L.CometChatMessageEvent.getMessageEventFromJSON(re);case De.AUTH.TYPE:return G.CometChatAuthEvent.getAuthEventFromJSON(re);case De.TRANSIENT_MESSAGE.TYPE:return Re.CometChatTransientEvent.getTransientEventFromJSON(re)}}catch(le){m.Logger.error("WSConnectionHelper: getCometChatEventFromMessage",le)}},Ce.wsConnectionHelper=new Ce,Ce}();g.WSConnectionHelper=Be},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(S,p){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,M){m.__proto__=M}||function(m,M){for(var y in M)M.hasOwnProperty(y)&&(m[y]=M[y])})(S,p)},function(S,p){function m(){this.constructor=S}_(S,p),S.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)});g.__esModule=!0,g.CometChatAuthEvent=void 0;var v=i(5),T=function(S){function p(m,M,y,F,O){var x=S.call(this,m,M,y,F,O)||this;return x.setType(v.AUTH.TYPE),x}return d(p,S),p.prototype.getStatus=function(){return this.status},p.prototype.setStatus=function(m){this.status=m},p.prototype.getCode=function(){return this.code},p.prototype.setCode=function(m){this.code=m},p.prototype.setAuth=function(m){this.auth=m},p.prototype.getAuth=function(){return this.auth},p.prototype.setPresenceSubscription=function(m){this.presenceSubscription=m},p.prototype.getPresenceSubscription=function(){return this.presenceSubscription},p.prototype.setDeviceId=function(m){this.deviceId=m},p.prototype.getdeviceId=function(){return this.deviceId},p.prototype.setExtraParmaeters=function(m){this.params=m},p.prototype.getExtraParameters=function(){return this.params},p.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},p.prototype.getAsJSONObject=function(){var m=this.getCometChatEventJSON(),M={};return M[v.KEYS.AUTH]=this.auth,M[v.KEYS.DEVICE_ID]=this.deviceId,M[v.KEYS.PRESENCE_SUBSCRIPTION]=this.presenceSubscription,M[v.KEYS.PARAMS]=this.params,m[v.KEYS.BODY]=M,m},p.getAuthEventFromJSON=function(m){var G=m[v.KEYS.BODY],L=G[v.KEYS.STATUS],l=G[v.KEYS.CODE],Q=new p(m[v.KEYS.APP_ID],m[v.KEYS.RECEIVER],m[v.KEYS.RECEIVER_TYPE],m[v.KEYS.SENDER],m[v.KEYS.DEVICE_ID]);return Q.setStatus(L),Q.setCode(l),Q},p}(i(9).CometChatEvent);g.CometChatAuthEvent=T},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(p,m){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,y){M.__proto__=y}||function(M,y){for(var F in y)y.hasOwnProperty(F)&&(M[F]=y[F])})(p,m)},function(p,m){function M(){this.constructor=p}_(p,m),p.prototype=null===m?Object.create(m):(M.prototype=m.prototype,new M)});g.__esModule=!0,g.CometChatMessageEvent=void 0;var v=i(10),T=i(5),S=function(p){function m(M,y,F,O,x){var G=p.call(this,M,y,F,O,x)||this;return G.setType(T.MESSAGE.TYPE),G}return d(m,p),m.prototype.getMessage=function(){return this.message},m.prototype.setMessage=function(M){this.message=M},m.getMessageEventFromJSON=function(M){var L=M[T.KEYS.BODY],l=new m(M[T.KEYS.APP_ID],M[T.KEYS.RECEIVER],M[T.KEYS.RECEIVER_TYPE],M[T.KEYS.SENDER],M[T.KEYS.DEVICE_ID]),Q=v.MessageController.trasformJSONMessge(L);return l.setMessage(Q),l},m}(i(9).CometChatEvent);g.CometChatMessageEvent=S},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(S,p){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,M){m.__proto__=M}||function(m,M){for(var y in M)M.hasOwnProperty(y)&&(m[y]=M[y])})(S,p)},function(S,p){function m(){this.constructor=S}_(S,p),S.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)});g.__esModule=!0,g.CometChatPingEvent=void 0;var v=i(5),T=function(S){function p(m,M,y,F,O){return S.call(this,m,M,y,F,O)||this}return d(p,S),p.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},p.prototype.getAsJSONObject=function(){var m={};return m[v.KEYS.ACTION]=v.KEYS.PING,m[v.KEYS.ACK]="true",m},p}(i(9).CometChatEvent);g.CometChatPingEvent=T},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(m,M){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,F){y.__proto__=F}||function(y,F){for(var O in F)F.hasOwnProperty(O)&&(y[O]=F[O])})(m,M)},function(m,M){function y(){this.constructor=m}_(m,M),m.prototype=null===M?Object.create(M):(y.prototype=M.prototype,new y)});g.__esModule=!0,g.CometChatPresenceEvent=void 0;var v=i(5),T=i(9),S=i(4),p=function(m){function M(y,F,O,x,G){var L=m.call(this,y,F,O,x,G)||this;return L.setType(v.PRESENCE.TYPE),L}return d(M,m),M.prototype.getAction=function(){return this.action},M.prototype.setAction=function(y){this.action=y},M.prototype.getUser=function(){return this.user},M.prototype.setUser=function(y){this.user=y},M.prototype.getTimestamp=function(){return this.timestamp},M.prototype.setTimestamp=function(y){this.timestamp=y},M.getPresenceEventFromJSON=function(y){var G=y[v.KEYS.BODY],L=G[v.KEYS.ACTION],l=G[v.KEYS.USER],Q=G[v.KEYS.TIMESTAMP],ne=new M(y[v.KEYS.APP_ID],"","",y[v.KEYS.SENDER],y[v.KEYS.DEVICE_ID]);return ne.setAction(L),ne.setUser(new S.User(l)),ne.setTimestamp(Q),ne},M}(T.CometChatEvent);g.CometChatPresenceEvent=p},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(M,y){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,O){F.__proto__=O}||function(F,O){for(var x in O)O.hasOwnProperty(x)&&(F[x]=O[x])})(M,y)},function(M,y){function F(){this.constructor=M}_(M,y),M.prototype=null===y?Object.create(y):(F.prototype=y.prototype,new F)});g.__esModule=!0,g.CometChatReceiptEvent=void 0;var v=i(5),T=i(9),S=i(22),p=i(4),m=function(M){function y(F,O,x,G,L,l){var Q=M.call(this,F,O,x,G,L,l)||this;return Q.setType(v.RECEIPTS.TYPE),Q}return d(y,M),y.prototype.getAction=function(){return this.action},y.prototype.setAction=function(F){this.action=F},y.prototype.getMessageReceipt=function(){return this.receipt},y.prototype.setMessageReceipt=function(F){this.receipt=F},y.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},y.prototype.getAsJSONObject=function(){var F=this.getCometChatEventJSON(),O={};return O[v.KEYS.ACTION]=this.action,O[v.KEYS.MESSAGE_ID]=this.receipt.getMessageId(),O[v.KEYS.USER]=this.receipt.getSender(),F[v.KEYS.BODY]=O,F},y.getReceiptEventFromJSON=function(F){var x=F[v.KEYS.RECEIVER],G=F[v.KEYS.RECEIVER_TYPE],Q=F[v.KEYS.BODY],ne=Q[v.KEYS.ACTION],Re=Q[v.KEYS.USER],Z=Q[v.KEYS.MESSAGE_ID],oe=Q[v.KEYS.TIMESTAMP],ie=new y(F[v.KEYS.APP_ID],x,G,F[v.KEYS.SENDER],F[v.KEYS.DEVICE_ID]);ie.setAction(ne);var pe=new S.MessageReceipt;return pe.setSender(new p.User(Re)),pe.setReceiverType(G),pe.setReceiver(x),ne===v.RECEIPTS.ACTION.DELIVERED&&(pe.setReceiptType(v.RECEIPTS.RECEIPT_TYPE.DELIVERY_RECEIPT),pe.setDeliveredAt(oe)),ne===v.RECEIPTS.ACTION.READ&&(pe.setReceiptType(v.RECEIPTS.RECEIPT_TYPE.READ_RECEIPT),pe.setReadAt(oe)),pe.setMessageId(Z.toString()),pe.setTimestamp(oe),ie.setMessageReceipt(pe),ie},y}(T.CometChatEvent);g.CometChatReceiptEvent=m},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(M,y){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,O){F.__proto__=O}||function(F,O){for(var x in O)O.hasOwnProperty(x)&&(F[x]=O[x])})(M,y)},function(M,y){function F(){this.constructor=M}_(M,y),M.prototype=null===y?Object.create(y):(F.prototype=y.prototype,new F)});g.__esModule=!0,g.CometChatTransientEvent=void 0;var v=i(5),T=i(9),S=i(27),p=i(4),m=function(M){function y(F,O,x,G,L){var l=M.call(this,F,O,x,G,L)||this;return l.setType(v.TRANSIENT_MESSAGE.TYPE),l}return d(y,M),y.prototype.getTransientMessage=function(){return this.transientMessage},y.prototype.setTransientMessage=function(F){this.transientMessage=F},y.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},y.prototype.getAsJSONObject=function(){var F=this.getCometChatEventJSON(),O={};return O[v.KEYS.USER]=this.transientMessage.getSender(),this.transientMessage.getData()&&(O[v.KEYS.DATA]=this.transientMessage.getData()),F[v.KEYS.BODY]=O,F},y.getTransientEventFromJSON=function(F){var x=F[v.KEYS.RECEIVER],G=F[v.KEYS.RECEIVER_TYPE],Q=F[v.KEYS.BODY],ne=Q[v.KEYS.USER],Re=Q[v.KEYS.DATA],Z=new y(F[v.KEYS.APP_ID],x,G,F[v.KEYS.SENDER],F[v.KEYS.DEVICE_ID]),oe=new S.TransientMessage(x,G,Re);return oe.setSender(new p.User(ne)),Q.hasOwnProperty(v.KEYS.DATA)&&Q[v.KEYS.DATA]&&oe.setData(Re),Z.setTransientMessage(oe),Z},y}(T.CometChatEvent);g.CometChatTransientEvent=m},function(Le,g,i){"use strict";var _,d=this&&this.__extends||(_=function(M,y){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,O){F.__proto__=O}||function(F,O){for(var x in O)O.hasOwnProperty(x)&&(F[x]=O[x])})(M,y)},function(M,y){function F(){this.constructor=M}_(M,y),M.prototype=null===y?Object.create(y):(F.prototype=y.prototype,new F)});g.__esModule=!0,g.CometChatTypingEvent=void 0;var v=i(5),T=i(9),S=i(26),p=i(4),m=function(M){function y(F,O,x,G,L){var l=M.call(this,F,O,x,G,L)||this;return l.setType(v.TYPING_INDICATOR.TYPE),l}return d(y,M),y.prototype.getAction=function(){return this.action},y.prototype.setAction=function(F){this.action=F},y.prototype.getTypingIndicator=function(){return this.typingIndicator},y.prototype.setTypingIndicator=function(F){this.typingIndicator=F},y.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},y.prototype.getAsJSONObject=function(){var F=this.getCometChatEventJSON(),O={};return O[v.KEYS.ACTION]=this.action,O[v.KEYS.USER]=this.typingIndicator.getSender(),this.typingIndicator.getMetadata()&&(O[v.KEYS.METADATA]=this.typingIndicator.getMetadata()),F[v.KEYS.BODY]=O,F},y.getTypingEventFromJSON=function(F){var x=F[v.KEYS.RECEIVER],G=F[v.KEYS.RECEIVER_TYPE],Q=F[v.KEYS.BODY],ne=Q[v.KEYS.ACTION],Re=Q[v.KEYS.USER],Z=Q[v.KEYS.METADATA],oe=new y(F[v.KEYS.APP_ID],x,G,F[v.KEYS.SENDER],F[v.KEYS.DEVICE_ID]);oe.setAction(ne);var ie=new S.TypingIndicator(x,G);return ie.setSender(new p.User(Re)),Q.hasOwnProperty(v.KEYS.METADATA)&&Q[v.KEYS.METADATA]&&ie.setMetadata(Z),oe.setTypingIndicator(ie),oe},y}(T.CometChatEvent);g.CometChatTypingEvent=m},function(Le,g,i){"use strict";g.__esModule=!0,g.getWSURL=g.stringifyMessage=g.checkConnection=void 0;var _=i(1),d=i(0),v=i(5);g.checkConnection=function(T){return T&&T.readyState===v.READY_STATE.OPEN},g.stringifyMessage=function(T){return JSON.stringify(T)},g.getWSURL=function(){return new Promise(function(T,S){d.getAppSettings().then(function(p){var m=v.WS.protocol+d.getChatHost(p)+":"+p[_.APP_SETTINGS.KEYS.CHAT_WSS_PORT];T(m)},function(p){d.Logger.error("WSHelper :: getWSURL",p)})})}},function(Le,g,i){"use strict";g.__esModule=!0,g.CCExtension=void 0;var _=i(0),d=function(){function v(T){this.id="",this.name="",T&&(_.isFalsy(T.id)||(this.id=T.id),_.isFalsy(T.name)||(this.name=T.name))}return v.prototype.getId=function(){return this.id},v.prototype.getName=function(){return this.name},v}();g.CCExtension=d},function(Le,g,i){var _=i(64),d=i(65);Le.exports=function(v,T,S){var p=T&&S||0;"string"==typeof v&&(T="binary"===v?new Array(16):null,v=null);var m=(v=v||{}).random||(v.rng||_)();if(m[6]=15&m[6]|64,m[8]=63&m[8]|128,T)for(var M=0;M<16;++M)T[p+M]=m[M];return T||d(m)}},function(Le,g){var i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var _=new Uint8Array(16);Le.exports=function(){return i(_),_}}else{var d=new Array(16);Le.exports=function(){for(var v,T=0;T<16;T++)0==(3&T)&&(v=4294967296*Math.random()),d[T]=v>>>((3&T)<<3)&255;return d}}},function(Le,g){for(var i=[],_=0;_<256;++_)i[_]=(_+256).toString(16).substr(1);Le.exports=function(d,v){var T=v||0;return[i[d[T++]],i[d[T++]],i[d[T++]],i[d[T++]],"-",i[d[T++]],i[d[T++]],"-",i[d[T++]],i[d[T++]],"-",i[d[T++]],i[d[T++]],"-",i[d[T++]],i[d[T++]],i[d[T++]],i[d[T++]],i[d[T++]],i[d[T++]]].join("")}}])},294:(vt,Le,g)=>{"use strict";g.d(Le,{I:()=>S});var i=g(6895),_=g(529),d=g(3790),v=g(2682),T=g(8256);let S=(()=>{class p{}return p.\u0275fac=function(M){return new(M||p)},p.\u0275mod=T.oAB({type:p}),p.\u0275inj=T.cJS({providers:[{provide:_.TP,useClass:d.a,multi:!0},{provide:_.TP,useClass:d.k,multi:!0},v.sM,v.a1,v.Tj],imports:[i.ez,_.JF]}),p})()},3825:(vt,Le,g)=>{"use strict";g.d(Le,{KD:()=>_.KD,a1:()=>_.a1}),g(294);var _=g(2682);g(3790)},3790:(vt,Le,g)=>{"use strict";g.d(Le,{a:()=>S,k:()=>d});var i=g(8256),_=g(2682);let d=(()=>{class p{constructor(M){this.jwtService=M}intercept(M,y){const F={"Content-Type":"application/json",Accept:"application/json"},O=this.jwtService.getToken();if(O&&(F.Authorization=`Token ${O}`),M.headers.has("no-header-file"))return y.handle(M);const x=M.clone({setHeaders:F});return y.handle(x)}}return p.\u0275fac=function(M){return new(M||p)(i.LFG(_.Tj))},p.\u0275prov=i.Yz7({token:p,factory:p.\u0275fac}),p})();var v=g(2843),T=g(262);let S=(()=>{class p{constructor(M){this.userService=M}intercept(M,y){return y.handle(M).pipe((0,T.K)(F=>(-1!==[401,403].indexOf(F.status)&&this.userService.purgeAuth(),(0,v._)(F.error))))}}return p.\u0275fac=function(M){return new(M||p)(i.LFG(_.KD))},p.\u0275prov=i.Yz7({token:p,factory:p.\u0275fac}),p})()},2682:(vt,Le,g)=>{"use strict";g.d(Le,{sM:()=>p,a1:()=>ie,Tj:()=>S,KD:()=>oe});var i=g(2340),_=g(529),d=g(2843),v=g(262),T=g(8256);let S=(()=>{class pe{getToken(){return localStorage.getItem("jwtToken")}saveToken(ae){localStorage.setItem("jwtToken",ae)}destroyToken(){localStorage.removeItem("jwtToken")}}return pe.\u0275fac=function(ae){return new(ae||pe)},pe.\u0275prov=T.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),p=(()=>{class pe{constructor(ae,Se){this.http=ae,this.jwtService=Se}formatErrors(ae){return(0,d._)(ae)}get(ae,Se=new _.LE){return this.http.get(`${i.N.api_url}${ae}`,{params:Se}).pipe((0,v.K)(this.formatErrors))}put(ae,Se={}){return this.http.put(`${i.N.api_url}${ae}`,JSON.stringify(Se)).pipe((0,v.K)(this.formatErrors))}post(ae,Se={}){return this.http.post(`${i.N.api_url}${ae}`,JSON.stringify(Se)).pipe((0,v.K)(this.formatErrors))}postFd(ae,Se={}){return this.http.post(`${i.N.api_url}${ae}`,Se,{headers:new _.WM({"no-header-file":"yes"})}).pipe((0,v.K)(this.formatErrors))}delete(ae,Se={}){return this.http.delete(`${i.N.api_url}${ae}`,{body:JSON.stringify(Se)}).pipe((0,v.K)(this.formatErrors))}}return pe.\u0275fac=function(ae){return new(ae||pe)(T.LFG(_.eN),T.LFG(S))},pe.\u0275prov=T.Yz7({token:pe,factory:pe.\u0275fac}),pe})();var m=g(5698),M=g(4564),y=g(1135),F=g(7579);const O={now:()=>(O.delegate||Date).now(),delegate:void 0};class x extends F.x{constructor(De=1/0,ae=1/0,Se=O){super(),this._bufferSize=De,this._windowTime=ae,this._timestampProvider=Se,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ae===1/0,this._bufferSize=Math.max(1,De),this._windowTime=Math.max(1,ae)}next(De){const{isStopped:ae,_buffer:Se,_infiniteTimeWindow:Be,_timestampProvider:Ce,_windowTime:re}=this;ae||(Se.push(De),!Be&&Se.push(Ce.now()+re)),this._trimBuffer(),super.next(De)}_subscribe(De){this._throwIfClosed(),this._trimBuffer();const ae=this._innerSubscribe(De),{_infiniteTimeWindow:Se,_buffer:Be}=this,Ce=Be.slice();for(let re=0;re<Ce.length&&!De.closed;re+=Se?1:2)De.next(Ce[re]);return this._checkFinalizedStatuses(De),ae}_trimBuffer(){const{_bufferSize:De,_timestampProvider:ae,_buffer:Se,_infiniteTimeWindow:Be}=this,Ce=(Be?1:2)*De;if(De<1/0&&Ce<Se.length&&Se.splice(0,Se.length-Ce),!Be){const re=ae.now();let le=0;for(let X=1;X<Se.length&&Se[X]<=re;X+=2)le=X;le&&Se.splice(0,le+1)}}}var G=g(4671),L=g(4482),l=g(5403);function ne(pe,De){return pe===De}var Re=g(4004),Z=g(7185);let oe=(()=>{class pe{constructor(ae,Se,Be,Ce,re){this.apiService=ae,this.http=Se,this.jwtService=Be,this.router=Ce,this.toaster=re,this.currentUserSubject=new y.X({}),this.currentUser=this.currentUserSubject.asObservable().pipe(function Q(pe,De=G.y){return pe=pe??ne,(0,L.e)((ae,Se)=>{let Be,Ce=!0;ae.subscribe((0,l.x)(Se,re=>{const le=De(re);(Ce||!pe(Be,le))&&(Ce=!1,Be=le,Se.next(re))}))})}()),this.isAuthenticatedSubject=new x(1),this.isAuthenticated=this.isAuthenticatedSubject.asObservable(),this.isAdminSubject=new x(1),this.isAdmin=this.isAdminSubject.asObservable()}addToast(ae="",Se="",Be=""){"success"===ae?this.toaster.success(Be,Se):"error"===ae?this.toaster.error(Be,Se):"warning"===ae?this.toaster.warning(Be,Se):this.toaster.info(Be,Se)}populate(){"undefined"!==localStorage.getItem("profile")&&null!==localStorage.getItem("profile")?this.setAuth(JSON.parse(String(localStorage.getItem("profile")))):this.jwtService.getToken()&&typeof this.jwtService.getToken()<"u"?this.apiService.post("/Identity/AuthPing").subscribe(ae=>this.setAuth(ae.user),ae=>this.purgeAuth()):this.purgeAuth()}Membersquery(ae){const Se={};return Object.keys(ae.filters).forEach(Be=>{Se[Be]=ae.filters[Be]}),this.apiService.get("/members",new _.LE({fromObject:Se}))}GroupUsersquery(ae){const Se={};return Object.keys(ae.filters1).forEach(Be=>{Se[Be]=ae.filters1[Be]}),this.apiService.get("/forum_chat_group/finduser",new _.LE({fromObject:Se}))}setAuth(ae){localStorage.setItem("profile",JSON.stringify(ae)),ae.token&&this.jwtService.saveToken(ae.token),this.currentUserSubject.next(ae),this.isAuthenticatedSubject.next(!0)}setToken(ae){this.jwtService.saveToken(ae),this.populate()}purgeAuth(){this.jwtService.destroyToken(),localStorage.removeItem("profile"),this.currentUserSubject.next({}),this.isAuthenticatedSubject.next(!1),this.isAdminSubject.next(!1),null!=window.location.href.match("/account")&&this.router.navigateByUrl("/login")}attemptAuth(ae,Se){return this.apiService.post("/Identity"+("login"===ae?"/login":""),{...Se}).pipe((0,Re.U)(Ce=>(null!==Ce.data&&this.setAuth({...Ce.data,token:Ce.token}),Ce)))}getCurrentUser(){return this.currentUserSubject.value}signup(ae){return this.apiService.post("/Identity/SignUp",ae)}verifyEmail(ae,Se){return this.apiService.post("/Identity/ConfirmEmail",{email:ae,emailToken:Se})}getServices(){return this.apiService.get("/api/Service/GetAll")}getUserProfile(ae){return this.apiService.get("/api/UserProfile/Profile?ProfileId="+ae)}updateProfile(ae){return this.apiService.put("/api/UserProfile/Update",ae)}saveNoOfPets(ae,Se){return this.apiService.put("/api/UserProfile/Update",{numberOfPet:ae,id:Se})}saveProviderServices(ae,Se){return this.apiService.post("/api/Service/AddService",{serviceIds:ae,profileId:Se})}getPets(ae){return this.apiService.get("/api/Pet/Pets?PetLoverId="+ae)}addPet(ae,Se){return""!==Se?this.apiService.put("/api/Pet/Update?PetId="+Se,{...ae,id:Se}):this.apiService.post("/api/Pet/Add",ae)}removePet(ae){return this.apiService.delete("/api/Pet/Remove?PetId="+ae)}getProviderServices(ae){return this.apiService.get("/api/Service/ProviderServices?ProfileId="+ae)}getRequestsFromPetLovers(ae){return this.apiService.get("/api/UserFriends/Requests?ProfileId="+ae)}getConnectedPetLovers(ae){return this.apiService.get("/api/UserFriends/ServiceProviders/Added?ServiceProviderId="+ae)}getConnectedServiceProviders(ae){return this.apiService.get("/api/UserFriends/PetLovers/Added?PetLoverId="+ae)}approveRequest(ae){return this.apiService.put("/api/UserFriends/Requests/Accept",ae)}sendRequest(ae){return this.apiService.post("/api/UserFriends/Requests/Send",ae)}rejectRequest(ae){return this.apiService.put("/api/UserFriends/Requests/Decline",ae)}getServiceProviders(){return this.apiService.get("/api/UserFriends/PetLovers/Suggestion")}assignPetToProvider(ae){return this.apiService.post("/api/Pet/Assign",ae)}removeFriend(ae){return this.apiService.delete("/api/UserFriends/Requests/Remove",ae)}uploadPicture(ae){return this.apiService.postFd("/api/UserProfile/Picture/Upload",ae)}addComment(ae){return this.apiService.post("/api/PetComment/Add",ae)}getComment(ae,Se){return this.apiService.get("/api/PetComment/Get?PetId="+ae+"&ServiceProviderId="+Se)}}return pe.\u0275fac=function(ae){return new(ae||pe)(T.LFG(p),T.LFG(_.eN),T.LFG(S),T.LFG(M.F0),T.LFG(Z._W))},pe.\u0275prov=T.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),ie=(()=>{class pe{constructor(ae,Se){this.router=ae,this.userService=Se}canActivate(ae,Se){if(localStorage.getItem("jwtToken"))return this.userService.isAuthenticated.pipe((0,m.q)(1));this.router.navigateByUrl("/")}}return pe.\u0275fac=function(ae){return new(ae||pe)(T.LFG(M.F0),T.LFG(oe))},pe.\u0275prov=T.Yz7({token:pe,factory:pe.\u0275fac}),pe})()},2340:(vt,Le,g)=>{"use strict";g.d(Le,{N:()=>i});const i={production:!0,api_url:"https://vetschedapi.herokuapp.com",APP_ID:"223580d7f529d8ea",REGION:"us",AUTH_KEY:"b9dd1cde5160f8bc3545aab3458361432cac0f53"}},1250:(vt,Le,g)=>{"use strict";var i=g(1481),_=g(8256),d=g(7185),v=g(4564),T=g(3825);const S=function(){return["/"]},p=function(){return["/login"]},M=[{path:"",loadChildren:()=>Promise.all([g.e(433),g.e(823)]).then(g.bind(g,5823)).then(B=>B.LoginModule)},{path:"login",loadChildren:()=>Promise.all([g.e(433),g.e(823)]).then(g.bind(g,5823)).then(B=>B.LoginModule)},{path:"signup",loadChildren:()=>Promise.all([g.e(433),g.e(202)]).then(g.bind(g,3202)).then(B=>B.SignUpModule)},{path:"account",loadChildren:()=>Promise.all([g.e(433),g.e(167)]).then(g.bind(g,3167)).then(B=>B.AccountModule)},{path:"email-verification",component:(()=>{class B{constructor(f,N,K){this.route=f,this.router=N,this.service=K}ngOnInit(){this.route.queryParams.subscribe(f=>{null!=f.EmailToken&&null!=f.Email?this.service.verifyEmail(f.Email,f.EmailToken).subscribe(N=>{200==N.statusCode?(this.service.addToast("success","Email Verified successfully!"),this.router.navigate(["/login"])):(this.service.addToast("error",N.statusMessage||"No Verification Token!"),this.router.navigate(["/login"]))}):(this.service.addToast("error","No Verification Token!"),this.router.navigate(["/login"]))})}}return B.\u0275fac=function(f){return new(f||B)(_.Y36(v.gz),_.Y36(v.F0),_.Y36(T.KD))},B.\u0275cmp=_.Xpm({type:B,selectors:[["app-email-verification"]],decls:22,vars:4,consts:[[1,"loginArea"],[1,"container"],[1,"loginHeader","hideXs"],[1,"row"],[1,"col-12","col-sm-6","col-md-6"],[3,"routerLink"],["src","assets/images/logo.png","alt",""],[1,"col-12","col-sm-6","col-md-6","text-right"],[1,"myBtn",3,"routerLink"],[1,"col-12","col-md-6"],[1,"formDesing"],[1,"text-center"],[1,"fa","fa-spin","fa-spinner","fa-2x"],[1,"col-12","col-md-6","hideSm"],["src","assets/images/loginIllustration.png","alt","",1,"loginIllustration"]],template:function(f,N){1&f&&(_.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),_._UZ(6,"img",6),_.qZA()(),_.TgZ(7,"div",7)(8,"a",8),_._uU(9,"Login"),_.qZA()()()(),_.TgZ(10,"div",3)(11,"div",9)(12,"form",10)(13,"div",11)(14,"h2"),_._uU(15,"Email Verification"),_.qZA(),_.TgZ(16,"p"),_._uU(17,"We are verifying your email address"),_.qZA(),_._UZ(18,"br")(19,"i",12),_.qZA()()(),_.TgZ(20,"div",13),_._UZ(21,"img",14),_.qZA()()()()),2&f&&(_.xp6(5),_.Q6J("routerLink",_.DdM(2,S)),_.xp6(3),_.Q6J("routerLink",_.DdM(3,p)))},dependencies:[v.yS]}),B})()}];let y=(()=>{class B{}return B.\u0275fac=function(f){return new(f||B)},B.\u0275mod=_.oAB({type:B}),B.\u0275inj=_.cJS({imports:[v.Bz.forRoot(M,{scrollPositionRestoration:"top",preloadingStrategy:v.wm,initialNavigation:"enabledBlocking"}),v.Bz]}),B})();var F=g(9177),O=g(2340);const x=["class","root"];let G=(()=>{class B{constructor(f){this.userService=f,this.title="vetsched",this.userService.populate()}ngOnInit(){const f=O.N.APP_ID,N=O.N.REGION,K=(new F.CometChat.AppSettingsBuilder).subscribePresenceForAllUsers().setRegion(N).build();F.CometChat.init(f,K).then(()=>{console.log("Initialization completed successfully")},se=>{console.log("Initialization failed with error:",se)})}}return B.\u0275fac=function(f){return new(f||B)(_.Y36(T.KD))},B.\u0275cmp=_.Xpm({type:B,selectors:[["",8,"root"]],attrs:x,decls:2,vars:0,consts:[["calss","main","id","root"]],template:function(f,N){1&f&&(_.TgZ(0,"div",0),_._UZ(1,"router-outlet"),_.qZA())},dependencies:[v.lC]}),B})();var L=g(294),l=g(6895),Q=g(529),ne=g(7340);function Z(B){return new _.vHH(3e3,!1)}function ee(){return typeof window<"u"&&typeof window.document<"u"}function ue(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function te(B){switch(B.length){case 0:return new ne.ZN;case 1:return B[0];default:return new ne.ZE(B)}}function ce(B,a,f,N,K=new Map,se=new Map){const Te=[],ve=[];let Ge=-1,Je=null;if(N.forEach(lt=>{const St=lt.get("offset"),Vt=St==Ge,xt=Vt&&Je||new Map;lt.forEach((Rt,Ut)=>{let jt=Ut,en=Rt;if("offset"!==Ut)switch(jt=a.normalizePropertyName(jt,Te),en){case ne.k1:en=K.get(Ut);break;case ne.l3:en=se.get(Ut);break;default:en=a.normalizeStyleValue(Ut,jt,en,Te)}xt.set(jt,en)}),Vt||ve.push(xt),Je=xt,Ge=St}),Te.length)throw function ft(B){return new _.vHH(3502,!1)}();return ve}function W(B,a,f,N){switch(a){case"start":B.onStart(()=>N(f&&H(f,"start",B)));break;case"done":B.onDone(()=>N(f&&H(f,"done",B)));break;case"destroy":B.onDestroy(()=>N(f&&H(f,"destroy",B)))}}function H(B,a,f){const se=$(B.element,B.triggerName,B.fromState,B.toState,a||B.phaseName,f.totalTime??B.totalTime,!!f.disabled),Te=B._data;return null!=Te&&(se._data=Te),se}function $(B,a,f,N,K="",se=0,Te){return{element:B,triggerName:a,fromState:f,toState:N,phaseName:K,totalTime:se,disabled:!!Te}}function U(B,a,f){let N=B.get(a);return N||B.set(a,N=f),N}function Y(B){const a=B.indexOf(":");return[B.substring(1,a),B.slice(a+1)]}let z=(B,a)=>!1,_e=(B,a,f)=>[],Ee=null;function de(B){const a=B.parentNode||B.host;return a===Ee?null:a}(ue()||typeof Element<"u")&&(ee()?(Ee=(()=>document.documentElement)(),z=(B,a)=>{for(;a;){if(a===B)return!0;a=de(a)}return!1}):z=(B,a)=>B.contains(a),_e=(B,a,f)=>{if(f)return Array.from(B.querySelectorAll(a));const N=B.querySelector(a);return N?[N]:[]});let Ve=null,Pe=!1;const ot=z,Et=_e;let qt=(()=>{class B{validateStyleProperty(f){return function Ke(B){Ve||(Ve=function ut(){return typeof document<"u"?document.body:null}()||{},Pe=!!Ve.style&&"WebkitAppearance"in Ve.style);let a=!0;return Ve.style&&!function Ne(B){return"ebkit"==B.substring(1,6)}(B)&&(a=B in Ve.style,!a&&Pe&&(a="Webkit"+B.charAt(0).toUpperCase()+B.slice(1)in Ve.style)),a}(f)}matchesElement(f,N){return!1}containsElement(f,N){return ot(f,N)}getParentElement(f){return de(f)}query(f,N,K){return Et(f,N,K)}computeStyle(f,N,K){return K||""}animate(f,N,K,se,Te,ve=[],Ge){return new ne.ZN(K,se)}}return B.\u0275fac=function(f){return new(f||B)},B.\u0275prov=_.Yz7({token:B,factory:B.\u0275fac}),B})(),dn=(()=>{class B{}return B.NOOP=new qt,B})();const cn="ng-enter",zn="ng-leave",un="ng-trigger",Mn=".ng-trigger",qn="ng-animating",yn=".ng-animating";function Qn(B){if("number"==typeof B)return B;const a=B.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:Ue(parseFloat(a[1]),a[2])}function Ue(B,a){return"s"===a?1e3*B:B}function Oe(B,a,f){return B.hasOwnProperty("duration")?B:function he(B,a,f){let K,se=0,Te="";if("string"==typeof B){const ve=B.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ve)return a.push(Z()),{duration:0,delay:0,easing:""};K=Ue(parseFloat(ve[1]),ve[2]);const Ge=ve[3];null!=Ge&&(se=Ue(parseFloat(Ge),ve[4]));const Je=ve[5];Je&&(Te=Je)}else K=B;if(!f){let ve=!1,Ge=a.length;K<0&&(a.push(function oe(){return new _.vHH(3100,!1)}()),ve=!0),se<0&&(a.push(function ie(){return new _.vHH(3101,!1)}()),ve=!0),ve&&a.splice(Ge,0,Z())}return{duration:K,delay:se,easing:Te}}(B,a,f)}function we(B,a={}){return Object.keys(B).forEach(f=>{a[f]=B[f]}),a}function $e(B){const a=new Map;return Object.keys(B).forEach(f=>{a.set(f,B[f])}),a}function Gt(B,a=new Map,f){if(f)for(let[N,K]of f)a.set(N,K);for(let[N,K]of B)a.set(N,K);return a}function it(B,a,f){return f?a+":"+f+";":""}function wt(B){let a="";for(let f=0;f<B.style.length;f++){const N=B.style.item(f);a+=it(0,N,B.style.getPropertyValue(N))}for(const f in B.style)B.style.hasOwnProperty(f)&&!f.startsWith("_")&&(a+=it(0,jr(f),B.style[f]));B.setAttribute("style",a)}function Kt(B,a,f){B.style&&(a.forEach((N,K)=>{const se=ss(K);f&&!f.has(K)&&f.set(K,B.style[se]),B.style[se]=N}),ue()&&wt(B))}function fn(B,a){B.style&&(a.forEach((f,N)=>{const K=ss(N);B.style[K]=""}),ue()&&wt(B))}function sr(B){return Array.isArray(B)?1==B.length?B[0]:(0,ne.vP)(B):B}const Zn=new RegExp("{{\\s*(.+?)\\s*}}","g");function rn(B){let a=[];if("string"==typeof B){let f;for(;f=Zn.exec(B);)a.push(f[1]);Zn.lastIndex=0}return a}function On(B,a,f){const N=B.toString(),K=N.replace(Zn,(se,Te)=>{let ve=a[Te];return null==ve&&(f.push(function De(B){return new _.vHH(3003,!1)}()),ve=""),ve.toString()});return K==N?B:K}function or(B){const a=[];let f=B.next();for(;!f.done;)a.push(f.value),f=B.next();return a}const kt=/-+([a-z0-9])/g;function ss(B){return B.replace(kt,(...a)=>a[1].toUpperCase())}function jr(B){return B.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zt(B,a,f){switch(a.type){case 7:return B.visitTrigger(a,f);case 0:return B.visitState(a,f);case 1:return B.visitTransition(a,f);case 2:return B.visitSequence(a,f);case 3:return B.visitGroup(a,f);case 4:return B.visitAnimate(a,f);case 5:return B.visitKeyframes(a,f);case 6:return B.visitStyle(a,f);case 8:return B.visitReference(a,f);case 9:return B.visitAnimateChild(a,f);case 10:return B.visitAnimateRef(a,f);case 11:return B.visitQuery(a,f);case 12:return B.visitStagger(a,f);default:throw function ae(B){return new _.vHH(3004,!1)}()}}function Xn(B,a){return window.getComputedStyle(B)[a]}function Nr(B,a){const f=[];return"string"==typeof B?B.split(/\s*,\s*/).forEach(N=>function Er(B,a,f){if(":"==B[0]){const Ge=function Ts(B,a){switch(B){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(f,N)=>parseFloat(N)>parseFloat(f);case":decrement":return(f,N)=>parseFloat(N)<parseFloat(f);default:return a.push(function et(B){return new _.vHH(3016,!1)}()),"* => *"}}(B,f);if("function"==typeof Ge)return void a.push(Ge);B=Ge}const N=B.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return f.push(function je(B){return new _.vHH(3015,!1)}()),a;const K=N[1],se=N[2],Te=N[3];a.push(ks(K,Te));"<"==se[0]&&!("*"==K&&"*"==Te)&&a.push(ks(Te,K))}(N,f,a)):f.push(B),f}const ar=new Set(["true","1"]),Cn=new Set(["false","0"]);function ks(B,a){const f=ar.has(B)||Cn.has(B),N=ar.has(a)||Cn.has(a);return(K,se)=>{let Te="*"==B||B==K,ve="*"==a||a==se;return!Te&&f&&"boolean"==typeof K&&(Te=K?ar.has(B):Cn.has(B)),!ve&&N&&"boolean"==typeof se&&(ve=se?ar.has(a):Cn.has(a)),Te&&ve}}const Tn=new RegExp("s*:selfs*,?","g");function $r(B,a,f,N){return new Gr(B).build(a,f,N)}class Gr{constructor(a){this._driver=a}build(a,f,N){const K=new ti(f);return this._resetContextStyleTimingState(K),zt(this,sr(a),K)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles=new Map,a.collectedStyles.set("",new Map),a.currentTime=0}visitTrigger(a,f){let N=f.queryCount=0,K=f.depCount=0;const se=[],Te=[];return"@"==a.name.charAt(0)&&f.errors.push(function Be(){return new _.vHH(3006,!1)}()),a.definitions.forEach(ve=>{if(this._resetContextStyleTimingState(f),0==ve.type){const Ge=ve,Je=Ge.name;Je.toString().split(/\s*,\s*/).forEach(lt=>{Ge.name=lt,se.push(this.visitState(Ge,f))}),Ge.name=Je}else if(1==ve.type){const Ge=this.visitTransition(ve,f);N+=Ge.queryCount,K+=Ge.depCount,Te.push(Ge)}else f.errors.push(function Ce(){return new _.vHH(3007,!1)}())}),{type:7,name:a.name,states:se,transitions:Te,queryCount:N,depCount:K,options:null}}visitState(a,f){const N=this.visitStyle(a.styles,f),K=a.options&&a.options.params||null;if(N.containsDynamicStyles){const se=new Set,Te=K||{};N.styles.forEach(ve=>{ve instanceof Map&&ve.forEach(Ge=>{rn(Ge).forEach(Je=>{Te.hasOwnProperty(Je)||se.add(Je)})})}),se.size&&(or(se.values()),f.errors.push(function re(B,a){return new _.vHH(3008,!1)}()))}return{type:0,name:a.name,style:N,options:K?{params:K}:null}}visitTransition(a,f){f.queryCount=0,f.depCount=0;const N=zt(this,sr(a.animation),f);return{type:1,matchers:Nr(a.expr,f.errors),animation:N,queryCount:f.queryCount,depCount:f.depCount,options:Jr(a.options)}}visitSequence(a,f){return{type:2,steps:a.steps.map(N=>zt(this,N,f)),options:Jr(a.options)}}visitGroup(a,f){const N=f.currentTime;let K=0;const se=a.steps.map(Te=>{f.currentTime=N;const ve=zt(this,Te,f);return K=Math.max(K,f.currentTime),ve});return f.currentTime=K,{type:3,steps:se,options:Jr(a.options)}}visitAnimate(a,f){const N=function Do(B,a){if(B.hasOwnProperty("duration"))return B;if("number"==typeof B)return Ys(Oe(B,a).duration,0,"");const f=B;if(f.split(/\s+/).some(se=>"{"==se.charAt(0)&&"{"==se.charAt(1))){const se=Ys(0,0,"");return se.dynamic=!0,se.strValue=f,se}const K=Oe(f,a);return Ys(K.duration,K.delay,K.easing)}(a.timings,f.errors);f.currentAnimateTimings=N;let K,se=a.styles?a.styles:(0,ne.oB)({});if(5==se.type)K=this.visitKeyframes(se,f);else{let Te=a.styles,ve=!1;if(!Te){ve=!0;const Je={};N.easing&&(Je.easing=N.easing),Te=(0,ne.oB)(Je)}f.currentTime+=N.duration+N.delay;const Ge=this.visitStyle(Te,f);Ge.isEmptyStep=ve,K=Ge}return f.currentAnimateTimings=null,{type:4,timings:N,style:K,options:null}}visitStyle(a,f){const N=this._makeStyleAst(a,f);return this._validateStyleAst(N,f),N}_makeStyleAst(a,f){const N=[],K=Array.isArray(a.styles)?a.styles:[a.styles];for(let ve of K)"string"==typeof ve?ve===ne.l3?N.push(ve):f.errors.push(new _.vHH(3002,!1)):N.push($e(ve));let se=!1,Te=null;return N.forEach(ve=>{if(ve instanceof Map&&(ve.has("easing")&&(Te=ve.get("easing"),ve.delete("easing")),!se))for(let Ge of ve.values())if(Ge.toString().indexOf("{{")>=0){se=!0;break}}),{type:6,styles:N,easing:Te,offset:a.offset,containsDynamicStyles:se,options:null}}_validateStyleAst(a,f){const N=f.currentAnimateTimings;let K=f.currentTime,se=f.currentTime;N&&se>0&&(se-=N.duration+N.delay),a.styles.forEach(Te=>{"string"!=typeof Te&&Te.forEach((ve,Ge)=>{const Je=f.collectedStyles.get(f.currentQuerySelector),lt=Je.get(Ge);let St=!0;lt&&(se!=K&&se>=lt.startTime&&K<=lt.endTime&&(f.errors.push(function Me(B,a,f,N,K){return new _.vHH(3010,!1)}()),St=!1),se=lt.startTime),St&&Je.set(Ge,{startTime:se,endTime:K}),f.options&&function Sn(B,a,f){const N=a.params||{},K=rn(B);K.length&&K.forEach(se=>{N.hasOwnProperty(se)||f.push(function pe(B){return new _.vHH(3001,!1)}())})}(ve,f.options,f.errors)})})}visitKeyframes(a,f){const N={type:5,styles:[],options:null};if(!f.currentAnimateTimings)return f.errors.push(function Fe(){return new _.vHH(3011,!1)}()),N;let se=0;const Te=[];let ve=!1,Ge=!1,Je=0;const lt=a.steps.map(en=>{const Pn=this._makeStyleAst(en,f);let Hn=null!=Pn.offset?Pn.offset:function no(B){if("string"==typeof B)return null;let a=null;if(Array.isArray(B))B.forEach(f=>{if(f instanceof Map&&f.has("offset")){const N=f;a=parseFloat(N.get("offset")),N.delete("offset")}});else if(B instanceof Map&&B.has("offset")){const f=B;a=parseFloat(f.get("offset")),f.delete("offset")}return a}(Pn.styles),vn=0;return null!=Hn&&(se++,vn=Pn.offset=Hn),Ge=Ge||vn<0||vn>1,ve=ve||vn<Je,Je=vn,Te.push(vn),Pn});Ge&&f.errors.push(function qe(){return new _.vHH(3012,!1)}()),ve&&f.errors.push(function st(){return new _.vHH(3200,!1)}());const St=a.steps.length;let Vt=0;se>0&&se<St?f.errors.push(function mt(){return new _.vHH(3202,!1)}()):0==se&&(Vt=1/(St-1));const xt=St-1,Rt=f.currentTime,Ut=f.currentAnimateTimings,jt=Ut.duration;return lt.forEach((en,Pn)=>{const Hn=Vt>0?Pn==xt?1:Vt*Pn:Te[Pn],vn=Hn*jt;f.currentTime=Rt+Ut.delay+vn,Ut.duration=vn,this._validateStyleAst(en,f),en.offset=Hn,N.styles.push(en)}),N}visitReference(a,f){return{type:8,animation:zt(this,sr(a.animation),f),options:Jr(a.options)}}visitAnimateChild(a,f){return f.depCount++,{type:9,options:Jr(a.options)}}visitAnimateRef(a,f){return{type:10,animation:this.visitReference(a.animation,f),options:Jr(a.options)}}visitQuery(a,f){const N=f.currentQuerySelector,K=a.options||{};f.queryCount++,f.currentQuery=a;const[se,Te]=function er(B){const a=!!B.split(/\s*,\s*/).find(f=>":self"==f);return a&&(B=B.replace(Tn,"")),B=B.replace(/@\*/g,Mn).replace(/@\w+/g,f=>Mn+"-"+f.slice(1)).replace(/:animating/g,yn),[B,a]}(a.selector);f.currentQuerySelector=N.length?N+" "+se:se,U(f.collectedStyles,f.currentQuerySelector,new Map);const ve=zt(this,sr(a.animation),f);return f.currentQuery=null,f.currentQuerySelector=N,{type:11,selector:se,limit:K.limit||0,optional:!!K.optional,includeSelf:Te,animation:ve,originalSelector:a.selector,options:Jr(a.options)}}visitStagger(a,f){f.currentQuery||f.errors.push(function Qe(){return new _.vHH(3013,!1)}());const N="full"===a.timings?{duration:0,delay:0,easing:"full"}:Oe(a.timings,f.errors,!0);return{type:12,animation:zt(this,sr(a.animation),f),timings:N,options:null}}}class ti{constructor(a){this.errors=a,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jr(B){return B?(B=we(B)).params&&(B.params=function Oo(B){return B?we(B):null}(B.params)):B={},B}function Ys(B,a,f){return{duration:B,delay:a,easing:f}}function ro(B,a,f,N,K,se,Te=null,ve=!1){return{type:1,element:B,keyframes:a,preStyleProps:f,postStyleProps:N,duration:K,delay:se,totalTime:K+se,easing:Te,subTimeline:ve}}class Bs{constructor(){this._map=new Map}get(a){return this._map.get(a)||[]}append(a,f){let N=this._map.get(a);N||this._map.set(a,N=[]),N.push(...f)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const ri=new RegExp(":enter","g"),si=new RegExp(":leave","g");function Vs(B,a,f,N,K,se=new Map,Te=new Map,ve,Ge,Je=[]){return(new so).buildKeyframes(B,a,f,N,K,se,Te,ve,Ge,Je)}class so{buildKeyframes(a,f,N,K,se,Te,ve,Ge,Je,lt=[]){Je=Je||new Bs;const St=new mr(a,f,Je,K,se,lt,[]);St.options=Ge;const Vt=Ge.delay?Qn(Ge.delay):0;St.currentTimeline.delayNextStep(Vt),St.currentTimeline.setStyles([Te],null,St.errors,Ge),zt(this,N,St);const xt=St.timelines.filter(Rt=>Rt.containsAnimation());if(xt.length&&ve.size){let Rt;for(let Ut=xt.length-1;Ut>=0;Ut--){const jt=xt[Ut];if(jt.element===f){Rt=jt;break}}Rt&&!Rt.allowOnlyTimelineStyles()&&Rt.setStyles([ve],null,St.errors,Ge)}return xt.length?xt.map(Rt=>Rt.buildKeyframes()):[ro(f,[],[],[],0,Vt,"",!1)]}visitTrigger(a,f){}visitState(a,f){}visitTransition(a,f){}visitAnimateChild(a,f){const N=f.subInstructions.get(f.element);if(N){const K=f.createSubContext(a.options),se=f.currentTimeline.currentTime,Te=this._visitSubInstructions(N,K,K.options);se!=Te&&f.transformIntoNewTimeline(Te)}f.previousNode=a}visitAnimateRef(a,f){const N=f.createSubContext(a.options);N.transformIntoNewTimeline(),this._applyAnimationRefDelays([a.options,a.animation.options],f,N),this.visitReference(a.animation,N),f.transformIntoNewTimeline(N.currentTimeline.currentTime),f.previousNode=a}_applyAnimationRefDelays(a,f,N){for(const K of a){const se=K?.delay;if(se){const Te="number"==typeof se?se:Qn(On(se,K?.params??{},f.errors));N.delayNextStep(Te)}}}_visitSubInstructions(a,f,N){let se=f.currentTimeline.currentTime;const Te=null!=N.duration?Qn(N.duration):null,ve=null!=N.delay?Qn(N.delay):null;return 0!==Te&&a.forEach(Ge=>{const Je=f.appendInstructionToTimeline(Ge,Te,ve);se=Math.max(se,Je.duration+Je.delay)}),se}visitReference(a,f){f.updateOptions(a.options,!0),zt(this,a.animation,f),f.previousNode=a}visitSequence(a,f){const N=f.subContextCount;let K=f;const se=a.options;if(se&&(se.params||se.delay)&&(K=f.createSubContext(se),K.transformIntoNewTimeline(),null!=se.delay)){6==K.previousNode.type&&(K.currentTimeline.snapshotCurrentStyles(),K.previousNode=Wr);const Te=Qn(se.delay);K.delayNextStep(Te)}a.steps.length&&(a.steps.forEach(Te=>zt(this,Te,K)),K.currentTimeline.applyStylesToKeyframe(),K.subContextCount>N&&K.transformIntoNewTimeline()),f.previousNode=a}visitGroup(a,f){const N=[];let K=f.currentTimeline.currentTime;const se=a.options&&a.options.delay?Qn(a.options.delay):0;a.steps.forEach(Te=>{const ve=f.createSubContext(a.options);se&&ve.delayNextStep(se),zt(this,Te,ve),K=Math.max(K,ve.currentTimeline.currentTime),N.push(ve.currentTimeline)}),N.forEach(Te=>f.currentTimeline.mergeTimelineCollectedStyles(Te)),f.transformIntoNewTimeline(K),f.previousNode=a}_visitTiming(a,f){if(a.dynamic){const N=a.strValue;return Oe(f.params?On(N,f.params,f.errors):N,f.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,f){const N=f.currentAnimateTimings=this._visitTiming(a.timings,f),K=f.currentTimeline;N.delay&&(f.incrementTime(N.delay),K.snapshotCurrentStyles());const se=a.style;5==se.type?this.visitKeyframes(se,f):(f.incrementTime(N.duration),this.visitStyle(se,f),K.applyStylesToKeyframe()),f.currentAnimateTimings=null,f.previousNode=a}visitStyle(a,f){const N=f.currentTimeline,K=f.currentAnimateTimings;!K&&N.hasCurrentStyleProperties()&&N.forwardFrame();const se=K&&K.easing||a.easing;a.isEmptyStep?N.applyEmptyStep(se):N.setStyles(a.styles,se,f.errors,f.options),f.previousNode=a}visitKeyframes(a,f){const N=f.currentAnimateTimings,K=f.currentTimeline.duration,se=N.duration,ve=f.createSubContext().currentTimeline;ve.easing=N.easing,a.styles.forEach(Ge=>{ve.forwardTime((Ge.offset||0)*se),ve.setStyles(Ge.styles,Ge.easing,f.errors,f.options),ve.applyStylesToKeyframe()}),f.currentTimeline.mergeTimelineCollectedStyles(ve),f.transformIntoNewTimeline(K+se),f.previousNode=a}visitQuery(a,f){const N=f.currentTimeline.currentTime,K=a.options||{},se=K.delay?Qn(K.delay):0;se&&(6===f.previousNode.type||0==N&&f.currentTimeline.hasCurrentStyleProperties())&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=Wr);let Te=N;const ve=f.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!K.optional,f.errors);f.currentQueryTotal=ve.length;let Ge=null;ve.forEach((Je,lt)=>{f.currentQueryIndex=lt;const St=f.createSubContext(a.options,Je);se&&St.delayNextStep(se),Je===f.element&&(Ge=St.currentTimeline),zt(this,a.animation,St),St.currentTimeline.applyStylesToKeyframe(),Te=Math.max(Te,St.currentTimeline.currentTime)}),f.currentQueryIndex=0,f.currentQueryTotal=0,f.transformIntoNewTimeline(Te),Ge&&(f.currentTimeline.mergeTimelineCollectedStyles(Ge),f.currentTimeline.snapshotCurrentStyles()),f.previousNode=a}visitStagger(a,f){const N=f.parentContext,K=f.currentTimeline,se=a.timings,Te=Math.abs(se.duration),ve=Te*(f.currentQueryTotal-1);let Ge=Te*f.currentQueryIndex;switch(se.duration<0?"reverse":se.easing){case"reverse":Ge=ve-Ge;break;case"full":Ge=N.currentStaggerTime}const lt=f.currentTimeline;Ge&&lt.delayNextStep(Ge);const St=lt.currentTime;zt(this,a.animation,f),f.previousNode=a,N.currentStaggerTime=K.currentTime-St+(K.startTime-N.currentTimeline.startTime)}}const Wr={};class mr{constructor(a,f,N,K,se,Te,ve,Ge){this._driver=a,this.element=f,this.subInstructions=N,this._enterClassName=K,this._leaveClassName=se,this.errors=Te,this.timelines=ve,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ge||new Mr(this._driver,f,0),ve.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,f){if(!a)return;const N=a;let K=this.options;null!=N.duration&&(K.duration=Qn(N.duration)),null!=N.delay&&(K.delay=Qn(N.delay));const se=N.params;if(se){let Te=K.params;Te||(Te=this.options.params={}),Object.keys(se).forEach(ve=>{(!f||!Te.hasOwnProperty(ve))&&(Te[ve]=On(se[ve],Te,this.errors))})}}_copyOptions(){const a={};if(this.options){const f=this.options.params;if(f){const N=a.params={};Object.keys(f).forEach(K=>{N[K]=f[K]})}}return a}createSubContext(a=null,f,N){const K=f||this.element,se=new mr(this._driver,K,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(K,N||0));return se.previousNode=this.previousNode,se.currentAnimateTimings=this.currentAnimateTimings,se.options=this._copyOptions(),se.updateOptions(a),se.currentQueryIndex=this.currentQueryIndex,se.currentQueryTotal=this.currentQueryTotal,se.parentContext=this,this.subContextCount++,se}transformIntoNewTimeline(a){return this.previousNode=Wr,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,f,N){const K={duration:f??a.duration,delay:this.currentTimeline.currentTime+(N??0)+a.delay,easing:""},se=new Hs(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,K,a.stretchStartingKeyframe);return this.timelines.push(se),K}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,f,N,K,se,Te){let ve=[];if(K&&ve.push(this.element),a.length>0){a=(a=a.replace(ri,"."+this._enterClassName)).replace(si,"."+this._leaveClassName);let Je=this._driver.query(this.element,a,1!=N);0!==N&&(Je=N<0?Je.slice(Je.length+N,Je.length):Je.slice(0,N)),ve.push(...Je)}return!se&&0==ve.length&&Te.push(function ht(B){return new _.vHH(3014,!1)}()),ve}}class Mr{constructor(a,f,N,K){this._driver=a,this.element=f,this.startTime=N,this._elementTimelineStylesLookup=K,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(f),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(f,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const f=1===this._keyframes.size&&this._pendingStyles.size;this.duration||f?(this.forwardTime(this.currentTime+a),f&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,f){return this.applyStylesToKeyframe(),new Mr(this._driver,a,f||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,f){this._localTimelineStyles.set(a,f),this._globalTimelineStyles.set(a,f),this._styleSummary.set(a,{time:this.currentTime,value:f})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&this._previousKeyframe.set("easing",a);for(let[f,N]of this._globalTimelineStyles)this._backFill.set(f,N||ne.l3),this._currentKeyframe.set(f,ne.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,f,N,K){f&&this._previousKeyframe.set("easing",f);const se=K&&K.params||{},Te=function oo(B,a){const f=new Map;let N;return B.forEach(K=>{if("*"===K){N=N||a.keys();for(let se of N)f.set(se,ne.l3)}else Gt(K,f)}),f}(a,this._globalTimelineStyles);for(let[ve,Ge]of Te){const Je=On(Ge,se,N);this._pendingStyles.set(ve,Je),this._localTimelineStyles.has(ve)||this._backFill.set(ve,this._globalTimelineStyles.get(ve)??ne.l3),this._updateStyle(ve,Je)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((a,f)=>{this._currentKeyframe.set(f,a)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((a,f)=>{this._currentKeyframe.has(f)||this._currentKeyframe.set(f,a)}))}snapshotCurrentStyles(){for(let[a,f]of this._localTimelineStyles)this._pendingStyles.set(a,f),this._updateStyle(a,f)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let f in this._currentKeyframe)a.push(f);return a}mergeTimelineCollectedStyles(a){a._styleSummary.forEach((f,N)=>{const K=this._styleSummary.get(N);(!K||f.time>K.time)&&this._updateStyle(N,f.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,f=new Set,N=1===this._keyframes.size&&0===this.duration;let K=[];this._keyframes.forEach((ve,Ge)=>{const Je=Gt(ve,new Map,this._backFill);Je.forEach((lt,St)=>{lt===ne.k1?a.add(St):lt===ne.l3&&f.add(St)}),N||Je.set("offset",Ge/this.duration),K.push(Je)});const se=a.size?or(a.values()):[],Te=f.size?or(f.values()):[];if(N){const ve=K[0],Ge=new Map(ve);ve.set("offset",0),Ge.set("offset",1),K=[ve,Ge]}return ro(this.element,K,se,Te,this.duration,this.startTime,this.easing,!1)}}class Hs extends Mr{constructor(a,f,N,K,se,Te,ve=!1){super(a,f,Te.delay),this.keyframes=N,this.preStyleProps=K,this.postStyleProps=se,this._stretchStartingKeyframe=ve,this.timings={duration:Te.duration,delay:Te.delay,easing:Te.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:f,duration:N,easing:K}=this.timings;if(this._stretchStartingKeyframe&&f){const se=[],Te=N+f,ve=f/Te,Ge=Gt(a[0]);Ge.set("offset",0),se.push(Ge);const Je=Gt(a[0]);Je.set("offset",kr(ve)),se.push(Je);const lt=a.length-1;for(let St=1;St<=lt;St++){let Vt=Gt(a[St]);const xt=Vt.get("offset");Vt.set("offset",kr((f+xt*N)/Te)),se.push(Vt)}N=Te,f=0,K="",a=se}return ro(this.element,a,this.preStyleProps,this.postStyleProps,N,f,K,!0)}}function kr(B,a=3){const f=Math.pow(10,a-1);return Math.round(B*f)/f}class io{}const os=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vs extends io{normalizePropertyName(a,f){return ss(a)}normalizeStyleValue(a,f,N,K){let se="";const Te=N.toString().trim();if(os.has(f)&&0!==N&&"0"!==N)if("number"==typeof N)se="px";else{const ve=N.match(/^[+-]?[\d\.]+([a-z]*)$/);ve&&0==ve[1].length&&K.push(function Se(B,a){return new _.vHH(3005,!1)}())}return Te+se}}function is(B,a,f,N,K,se,Te,ve,Ge,Je,lt,St,Vt){return{type:0,element:B,triggerName:a,isRemovalTransition:K,fromState:f,fromStyles:se,toState:N,toStyles:Te,timelines:ve,queriedElements:Ge,preStyleProps:Je,postStyleProps:lt,totalTime:St,errors:Vt}}const As={};class Is{constructor(a,f,N){this._triggerName=a,this.ast=f,this._stateStyles=N}match(a,f,N,K){return function wo(B,a,f,N,K){return B.some(se=>se(a,f,N,K))}(this.ast.matchers,a,f,N,K)}buildStyles(a,f,N){let K=this._stateStyles.get("*");return void 0!==a&&(K=this._stateStyles.get(a?.toString())||K),K?K.buildStyles(f,N):new Map}build(a,f,N,K,se,Te,ve,Ge,Je,lt){const St=[],Vt=this.ast.options&&this.ast.options.params||As,Rt=this.buildStyles(N,ve&&ve.params||As,St),Ut=Ge&&Ge.params||As,jt=this.buildStyles(K,Ut,St),en=new Set,Pn=new Map,Hn=new Map,vn="void"===K,Xr={params:Rs(Ut,Vt),delay:this.ast.options?.delay},vr=lt?[]:Vs(a,f,this.ast.animation,se,Te,Rt,jt,Xr,Je,St);let Kn=0;if(vr.forEach(Vr=>{Kn=Math.max(Vr.duration+Vr.delay,Kn)}),St.length)return is(f,this._triggerName,N,K,vn,Rt,jt,[],[],Pn,Hn,Kn,St);vr.forEach(Vr=>{const fr=Vr.element,mo=U(Pn,fr,new Set);Vr.preStyleProps.forEach(br=>mo.add(br));const hs=U(Hn,fr,new Set);Vr.postStyleProps.forEach(br=>hs.add(br)),fr!==f&&en.add(fr)});const Br=or(en.values());return is(f,this._triggerName,N,K,vn,Rt,jt,vr,Br,Pn,Hn,Kn)}}function Rs(B,a){const f=we(a);for(const N in B)B.hasOwnProperty(N)&&null!=B[N]&&(f[N]=B[N]);return f}class uo{constructor(a,f,N){this.styles=a,this.defaultParams=f,this.normalizer=N}buildStyles(a,f){const N=new Map,K=we(this.defaultParams);return Object.keys(a).forEach(se=>{const Te=a[se];null!==Te&&(K[se]=Te)}),this.styles.styles.forEach(se=>{"string"!=typeof se&&se.forEach((Te,ve)=>{Te&&(Te=On(Te,K,f));const Ge=this.normalizer.normalizePropertyName(ve,f);Te=this.normalizer.normalizeStyleValue(ve,Ge,Te,f),N.set(Ge,Te)})}),N}}class Gn{constructor(a,f,N){this.name=a,this.ast=f,this._normalizer=N,this.transitionFactories=[],this.states=new Map,f.states.forEach(K=>{this.states.set(K.name,new uo(K.style,K.options&&K.options.params||{},N))}),Ks(this.states,"true","1"),Ks(this.states,"false","0"),f.transitions.forEach(K=>{this.transitionFactories.push(new Is(a,K,this.states))}),this.fallbackTransition=function as(B,a,f){return new Is(B,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Te,ve)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,f,N,K){return this.transitionFactories.find(Te=>Te.match(a,f,N,K))||null}matchStyles(a,f,N){return this.fallbackTransition.buildStyles(a,f,N)}}function Ks(B,a,f){B.has(a)?B.has(f)||B.set(f,B.get(a)):B.has(f)&&B.set(a,B.get(f))}const js=new Bs;class co{constructor(a,f,N){this.bodyNode=a,this._driver=f,this._normalizer=N,this._animations=new Map,this._playersById=new Map,this.players=[]}register(a,f){const N=[],se=$r(this._driver,f,N,[]);if(N.length)throw function Tt(B){return new _.vHH(3503,!1)}();this._animations.set(a,se)}_buildPlayer(a,f,N){const K=a.element,se=ce(0,this._normalizer,0,a.keyframes,f,N);return this._driver.animate(K,se,a.duration,a.delay,a.easing,[],!0)}create(a,f,N={}){const K=[],se=this._animations.get(a);let Te;const ve=new Map;if(se?(Te=Vs(this._driver,f,se,cn,zn,new Map,new Map,N,js,K),Te.forEach(lt=>{const St=U(ve,lt.element,new Map);lt.postStyleProps.forEach(Vt=>St.set(Vt,null))})):(K.push(function En(){return new _.vHH(3300,!1)}()),Te=[]),K.length)throw function Wn(B){return new _.vHH(3504,!1)}();ve.forEach((lt,St)=>{lt.forEach((Vt,xt)=>{lt.set(xt,this._driver.computeStyle(St,xt,ne.l3))})});const Je=te(Te.map(lt=>{const St=ve.get(lt.element);return this._buildPlayer(lt,new Map,St)}));return this._playersById.set(a,Je),Je.onDestroy(()=>this.destroy(a)),this.players.push(Je),Je}destroy(a){const f=this._getPlayer(a);f.destroy(),this._playersById.delete(a);const N=this.players.indexOf(f);N>=0&&this.players.splice(N,1)}_getPlayer(a){const f=this._playersById.get(a);if(!f)throw function bn(B){return new _.vHH(3301,!1)}();return f}listen(a,f,N,K){const se=$(f,"","","");return W(this._getPlayer(a),N,se,K),()=>{}}command(a,f,N,K){if("register"==N)return void this.register(a,K[0]);if("create"==N)return void this.create(a,f,K[0]||{});const se=this._getPlayer(a);switch(N){case"play":se.play();break;case"pause":se.pause();break;case"reset":se.reset();break;case"restart":se.restart();break;case"finish":se.finish();break;case"init":se.init();break;case"setPosition":se.setPosition(parseFloat(K[0]));break;case"destroy":this.destroy(a)}}}const oi="ng-animate-queued",us="ng-animate-disabled",Js=[],cs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ds={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ln="__ng_removed";class Lo{constructor(a,f=""){this.namespaceId=f;const N=a&&a.hasOwnProperty("value");if(this.value=function nr(B){return B??null}(N?a.value:a),N){const se=we(a);delete se.value,this.options=se}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(a){const f=a.params;if(f){const N=this.options.params;Object.keys(f).forEach(K=>{null==N[K]&&(N[K]=f[K])})}}}const Yr="void",ls=new Lo(Yr);class wr{constructor(a,f,N){this.id=a,this.hostElement=f,this._engine=N,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+a,kn(f,this._hostClassName)}listen(a,f,N,K){if(!this._triggers.has(f))throw function Jt(B,a){return new _.vHH(3302,!1)}();if(null==N||0==N.length)throw function Nn(B){return new _.vHH(3303,!1)}();if(!function Ms(B){return"start"==B||"done"==B}(N))throw function mn(B,a){return new _.vHH(3400,!1)}();const se=U(this._elementListeners,a,[]),Te={name:f,phase:N,callback:K};se.push(Te);const ve=U(this._engine.statesByElement,a,new Map);return ve.has(f)||(kn(a,un),kn(a,un+"-"+f),ve.set(f,ls)),()=>{this._engine.afterFlush(()=>{const Ge=se.indexOf(Te);Ge>=0&&se.splice(Ge,1),this._triggers.has(f)||ve.delete(f)})}}register(a,f){return!this._triggers.has(a)&&(this._triggers.set(a,f),!0)}_getTrigger(a){const f=this._triggers.get(a);if(!f)throw function Ft(B){return new _.vHH(3401,!1)}();return f}trigger(a,f,N,K=!0){const se=this._getTrigger(f),Te=new fs(this.id,f,a);let ve=this._engine.statesByElement.get(a);ve||(kn(a,un),kn(a,un+"-"+f),this._engine.statesByElement.set(a,ve=new Map));let Ge=ve.get(f);const Je=new Lo(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&Ge&&Je.absorbOptions(Ge.options),ve.set(f,Je),Ge||(Ge=ls),Je.value!==Yr&&Ge.value===Je.value){if(!function fo(B,a){const f=Object.keys(B),N=Object.keys(a);if(f.length!=N.length)return!1;for(let K=0;K<f.length;K++){const se=f[K];if(!a.hasOwnProperty(se)||B[se]!==a[se])return!1}return!0}(Ge.params,Je.params)){const Ut=[],jt=se.matchStyles(Ge.value,Ge.params,Ut),en=se.matchStyles(Je.value,Je.params,Ut);Ut.length?this._engine.reportError(Ut):this._engine.afterFlush(()=>{fn(a,jt),Kt(a,en)})}return}const Vt=U(this._engine.playersByElement,a,[]);Vt.forEach(Ut=>{Ut.namespaceId==this.id&&Ut.triggerName==f&&Ut.queued&&Ut.destroy()});let xt=se.matchTransition(Ge.value,Je.value,a,Je.params),Rt=!1;if(!xt){if(!K)return;xt=se.fallbackTransition,Rt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:f,transition:xt,fromState:Ge,toState:Je,player:Te,isFallbackTransition:Rt}),Rt||(kn(a,oi),Te.onStart(()=>{Qr(a,oi)})),Te.onDone(()=>{let Ut=this.players.indexOf(Te);Ut>=0&&this.players.splice(Ut,1);const jt=this._engine.playersByElement.get(a);if(jt){let en=jt.indexOf(Te);en>=0&&jt.splice(en,1)}}),this.players.push(Te),Vt.push(Te),Te}deregister(a){this._triggers.delete(a),this._engine.statesByElement.forEach(f=>f.delete(a)),this._elementListeners.forEach((f,N)=>{this._elementListeners.set(N,f.filter(K=>K.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const f=this._engine.playersByElement.get(a);f&&(f.forEach(N=>N.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,f){const N=this._engine.driver.query(a,Mn,!0);N.forEach(K=>{if(K[ln])return;const se=this._engine.fetchNamespacesByElement(K);se.size?se.forEach(Te=>Te.triggerLeaveAnimation(K,f,!1,!0)):this.clearElementCache(K)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(K=>this.clearElementCache(K)))}triggerLeaveAnimation(a,f,N,K){const se=this._engine.statesByElement.get(a),Te=new Map;if(se){const ve=[];if(se.forEach((Ge,Je)=>{if(Te.set(Je,Ge.value),this._triggers.has(Je)){const lt=this.trigger(a,Je,Yr,K);lt&&ve.push(lt)}}),ve.length)return this._engine.markElementAsRemoved(this.id,a,!0,f,Te),N&&te(ve).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const f=this._elementListeners.get(a),N=this._engine.statesByElement.get(a);if(f&&N){const K=new Set;f.forEach(se=>{const Te=se.name;if(K.has(Te))return;K.add(Te);const Ge=this._triggers.get(Te).fallbackTransition,Je=N.get(Te)||ls,lt=new Lo(Yr),St=new fs(this.id,Te,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:Te,transition:Ge,fromState:Je,toState:lt,player:St,isFallbackTransition:!0})})}}removeNode(a,f){const N=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,f),this.triggerLeaveAnimation(a,f,!0))return;let K=!1;if(N.totalAnimations){const se=N.players.length?N.playersByQueriedElement.get(a):[];if(se&&se.length)K=!0;else{let Te=a;for(;Te=Te.parentNode;)if(N.statesByElement.get(Te)){K=!0;break}}}if(this.prepareLeaveAnimationListeners(a),K)N.markElementAsRemoved(this.id,a,!1,f);else{const se=a[ln];(!se||se===cs)&&(N.afterFlush(()=>this.clearElementCache(a)),N.destroyInnerAnimations(a),N._onRemovalComplete(a,f))}}insertNode(a,f){kn(a,this._hostClassName)}drainQueuedTransitions(a){const f=[];return this._queue.forEach(N=>{const K=N.player;if(K.destroyed)return;const se=N.element,Te=this._elementListeners.get(se);Te&&Te.forEach(ve=>{if(ve.name==N.triggerName){const Ge=$(se,N.triggerName,N.fromState.value,N.toState.value);Ge._data=a,W(N.player,ve.phase,Ge,ve.callback)}}),K.markedForDestroy?this._engine.afterFlush(()=>{K.destroy()}):f.push(N)}),this._queue=[],f.sort((N,K)=>{const se=N.transition.ast.depCount,Te=K.transition.ast.depCount;return 0==se||0==Te?se-Te:this._engine.driver.containsElement(N.element,K.element)?1:-1})}destroy(a){this.players.forEach(f=>f.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}elementContainsData(a){let f=!1;return this._elementListeners.has(a)&&(f=!0),f=!!this._queue.find(N=>N.element===a)||f,f}}class ds{constructor(a,f,N){this.bodyNode=a,this.driver=f,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(K,se)=>{}}_onRemovalComplete(a,f){this.onRemovalComplete(a,f)}get queuedPlayers(){const a=[];return this._namespaceList.forEach(f=>{f.players.forEach(N=>{N.queued&&a.push(N)})}),a}createNamespace(a,f){const N=new wr(a,f,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,f)?this._balanceNamespaceList(N,f):(this.newHostElements.set(f,N),this.collectEnterElement(f)),this._namespaceLookup[a]=N}_balanceNamespaceList(a,f){const N=this._namespaceList,K=this.namespacesByHostElement;if(N.length-1>=0){let Te=!1,ve=this.driver.getParentElement(f);for(;ve;){const Ge=K.get(ve);if(Ge){const Je=N.indexOf(Ge);N.splice(Je+1,0,a),Te=!0;break}ve=this.driver.getParentElement(ve)}Te||N.unshift(a)}else N.push(a);return K.set(f,a),a}register(a,f){let N=this._namespaceLookup[a];return N||(N=this.createNamespace(a,f)),N}registerTrigger(a,f,N){let K=this._namespaceLookup[a];K&&K.register(f,N)&&this.totalAnimations++}destroy(a,f){if(!a)return;const N=this._fetchNamespace(a);this.afterFlush(()=>{this.namespacesByHostElement.delete(N.hostElement),delete this._namespaceLookup[a];const K=this._namespaceList.indexOf(N);K>=0&&this._namespaceList.splice(K,1)}),this.afterFlushAnimationsDone(()=>N.destroy(f))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const f=new Set,N=this.statesByElement.get(a);if(N)for(let K of N.values())if(K.namespaceId){const se=this._fetchNamespace(K.namespaceId);se&&f.add(se)}return f}trigger(a,f,N,K){if(Ns(f)){const se=this._fetchNamespace(a);if(se)return se.trigger(f,N,K),!0}return!1}insertNode(a,f,N,K){if(!Ns(f))return;const se=f[ln];if(se&&se.setForRemoval){se.setForRemoval=!1,se.setForMove=!0;const Te=this.collectedLeaveElements.indexOf(f);Te>=0&&this.collectedLeaveElements.splice(Te,1)}if(a){const Te=this._fetchNamespace(a);Te&&Te.insertNode(f,N)}K&&this.collectEnterElement(f)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,f){f?this.disabledNodes.has(a)||(this.disabledNodes.add(a),kn(a,us)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),Qr(a,us))}removeNode(a,f,N,K){if(Ns(f)){const se=a?this._fetchNamespace(a):null;if(se?se.removeNode(f,K):this.markElementAsRemoved(a,f,!1,K),N){const Te=this.namespacesByHostElement.get(f);Te&&Te.id!==a&&Te.removeNode(f,K)}}else this._onRemovalComplete(f,K)}markElementAsRemoved(a,f,N,K,se){this.collectedLeaveElements.push(f),f[ln]={namespaceId:a,setForRemoval:K,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:se}}listen(a,f,N,K,se){return Ns(f)?this._fetchNamespace(a).listen(f,N,K,se):()=>{}}_buildInstruction(a,f,N,K,se){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,N,K,a.fromState.options,a.toState.options,f,se)}destroyInnerAnimations(a){let f=this.driver.query(a,Mn,!0);f.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(f=this.driver.query(a,yn,!0),f.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(a){const f=this.playersByElement.get(a);f&&f.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(a){const f=this.playersByQueriedElement.get(a);f&&f.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return te(this.players).onDone(()=>a());a()})}processLeaveNode(a){const f=a[ln];if(f&&f.setForRemoval){if(a[ln]=cs,f.namespaceId){this.destroyInnerAnimations(a);const N=this._fetchNamespace(f.namespaceId);N&&N.clearElementCache(a)}this._onRemovalComplete(a,f.setForRemoval)}a.classList?.contains(us)&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(a=-1){let f=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,K)=>this._balanceNamespaceList(N,K)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)kn(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{f=this._flushAnimations(N,a)}finally{for(let K=0;K<N.length;K++)N[K]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],f.length?te(f).onDone(()=>{N.forEach(K=>K())}):N.forEach(K=>K())}}reportError(a){throw function Wt(B){return new _.vHH(3402,!1)}()}_flushAnimations(a,f){const N=new Bs,K=[],se=new Map,Te=[],ve=new Map,Ge=new Map,Je=new Map,lt=new Set;this.disabledNodes.forEach(Ct=>{lt.add(Ct);const Dt=this.driver.query(Ct,".ng-animate-queued",!0);for(let Ot=0;Ot<Dt.length;Ot++)lt.add(Dt[Ot])});const St=this.bodyNode,Vt=Array.from(this.statesByElement.keys()),xt=ws(Vt,this.collectedEnterElements),Rt=new Map;let Ut=0;xt.forEach((Ct,Dt)=>{const Ot=cn+Ut++;Rt.set(Dt,Ot),Ct.forEach($t=>kn($t,Ot))});const jt=[],en=new Set,Pn=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Dt=this.collectedLeaveElements[Ct],Ot=Dt[ln];Ot&&Ot.setForRemoval&&(jt.push(Dt),en.add(Dt),Ot.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach($t=>en.add($t)):Pn.add(Dt))}const Hn=new Map,vn=ws(Vt,Array.from(en));vn.forEach((Ct,Dt)=>{const Ot=zn+Ut++;Hn.set(Dt,Ot),Ct.forEach($t=>kn($t,Ot))}),a.push(()=>{xt.forEach((Ct,Dt)=>{const Ot=Rt.get(Dt);Ct.forEach($t=>Qr($t,Ot))}),vn.forEach((Ct,Dt)=>{const Ot=Hn.get(Dt);Ct.forEach($t=>Qr($t,Ot))}),jt.forEach(Ct=>{this.processLeaveNode(Ct)})});const Xr=[],vr=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(f).forEach(Ot=>{const $t=Ot.player,pn=Ot.element;if(Xr.push($t),this.collectedEnterElements.length){const An=pn[ln];if(An&&An.setForMove){if(An.previousTriggersValues&&An.previousTriggersValues.has(Ot.triggerName)){const Sr=An.previousTriggersValues.get(Ot.triggerName),$n=this.statesByElement.get(Ot.element);if($n&&$n.has(Ot.triggerName)){const Hr=$n.get(Ot.triggerName);Hr.value=Sr,$n.set(Ot.triggerName,Hr)}}return void $t.destroy()}}const Ur=!St||!this.driver.containsElement(St,pn),jn=Hn.get(pn),es=Rt.get(pn),gn=this._buildInstruction(Ot,N,es,jn,Ur);if(gn.errors&&gn.errors.length)return void vr.push(gn);if(Ur)return $t.onStart(()=>fn(pn,gn.fromStyles)),$t.onDestroy(()=>Kt(pn,gn.toStyles)),void K.push($t);if(Ot.isFallbackTransition)return $t.onStart(()=>fn(pn,gn.fromStyles)),$t.onDestroy(()=>Kt(pn,gn.toStyles)),void K.push($t);const Ar=[];gn.timelines.forEach(An=>{An.stretchStartingKeyframe=!0,this.disabledNodes.has(An.element)||Ar.push(An)}),gn.timelines=Ar,N.append(pn,gn.timelines),Te.push({instruction:gn,player:$t,element:pn}),gn.queriedElements.forEach(An=>U(ve,An,[]).push($t)),gn.preStyleProps.forEach((An,Sr)=>{if(An.size){let $n=Ge.get(Sr);$n||Ge.set(Sr,$n=new Set),An.forEach((Hr,ts)=>$n.add(ts))}}),gn.postStyleProps.forEach((An,Sr)=>{let $n=Je.get(Sr);$n||Je.set(Sr,$n=new Set),An.forEach((Hr,ts)=>$n.add(ts))})});if(vr.length){const Ct=[];vr.forEach(Dt=>{Ct.push(function D(B,a){return new _.vHH(3505,!1)}())}),Xr.forEach(Dt=>Dt.destroy()),this.reportError(Ct)}const Kn=new Map,Br=new Map;Te.forEach(Ct=>{const Dt=Ct.element;N.has(Dt)&&(Br.set(Dt,Dt),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,Kn))}),K.forEach(Ct=>{const Dt=Ct.element;this._getPreviousPlayers(Dt,!1,Ct.namespaceId,Ct.triggerName,null).forEach($t=>{U(Kn,Dt,[]).push($t),$t.destroy()})});const Vr=jt.filter(Ct=>_n(Ct,Ge,Je)),fr=new Map;bo(fr,this.driver,Pn,Je,ne.l3).forEach(Ct=>{_n(Ct,Ge,Je)&&Vr.push(Ct)});const hs=new Map;xt.forEach((Ct,Dt)=>{bo(hs,this.driver,new Set(Ct),Ge,ne.k1)}),Vr.forEach(Ct=>{const Dt=fr.get(Ct),Ot=hs.get(Ct);fr.set(Ct,new Map([...Array.from(Dt?.entries()??[]),...Array.from(Ot?.entries()??[])]))});const br=[],Fo=[],xo={};Te.forEach(Ct=>{const{element:Dt,player:Ot,instruction:$t}=Ct;if(N.has(Dt)){if(lt.has(Dt))return Ot.onDestroy(()=>Kt(Dt,$t.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime($t.totalTime),void K.push(Ot);let pn=xo;if(Br.size>1){let jn=Dt;const es=[];for(;jn=jn.parentNode;){const gn=Br.get(jn);if(gn){pn=gn;break}es.push(jn)}es.forEach(gn=>Br.set(gn,pn))}const Ur=this._buildAnimation(Ot.namespaceId,$t,Kn,se,hs,fr);if(Ot.setRealPlayer(Ur),pn===xo)br.push(Ot);else{const jn=this.playersByElement.get(pn);jn&&jn.length&&(Ot.parentPlayer=te(jn)),K.push(Ot)}}else fn(Dt,$t.fromStyles),Ot.onDestroy(()=>Kt(Dt,$t.toStyles)),Fo.push(Ot),lt.has(Dt)&&K.push(Ot)}),Fo.forEach(Ct=>{const Dt=se.get(Ct.element);if(Dt&&Dt.length){const Ot=te(Dt);Ct.setRealPlayer(Ot)}}),K.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<jt.length;Ct++){const Dt=jt[Ct],Ot=Dt[ln];if(Qr(Dt,zn),Ot&&Ot.hasAnimation)continue;let $t=[];if(ve.size){let Ur=ve.get(Dt);Ur&&Ur.length&&$t.push(...Ur);let jn=this.driver.query(Dt,yn,!0);for(let es=0;es<jn.length;es++){let gn=ve.get(jn[es]);gn&&gn.length&&$t.push(...gn)}}const pn=$t.filter(Ur=>!Ur.destroyed);pn.length?Ze(this,Dt,pn):this.processLeaveNode(Dt)}return jt.length=0,br.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Dt=this.players.indexOf(Ct);this.players.splice(Dt,1)}),Ct.play()}),br}elementContainsData(a,f){let N=!1;const K=f[ln];return K&&K.setForRemoval&&(N=!0),this.playersByElement.has(f)&&(N=!0),this.playersByQueriedElement.has(f)&&(N=!0),this.statesByElement.has(f)&&(N=!0),this._fetchNamespace(a).elementContainsData(f)||N}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,f,N,K,se){let Te=[];if(f){const ve=this.playersByQueriedElement.get(a);ve&&(Te=ve)}else{const ve=this.playersByElement.get(a);if(ve){const Ge=!se||se==Yr;ve.forEach(Je=>{Je.queued||!Ge&&Je.triggerName!=K||Te.push(Je)})}}return(N||K)&&(Te=Te.filter(ve=>!(N&&N!=ve.namespaceId||K&&K!=ve.triggerName))),Te}_beforeAnimationBuild(a,f,N){const se=f.element,Te=f.isRemovalTransition?void 0:a,ve=f.isRemovalTransition?void 0:f.triggerName;for(const Ge of f.timelines){const Je=Ge.element,lt=Je!==se,St=U(N,Je,[]);this._getPreviousPlayers(Je,lt,Te,ve,f.toState).forEach(xt=>{const Rt=xt.getRealPlayer();Rt.beforeDestroy&&Rt.beforeDestroy(),xt.destroy(),St.push(xt)})}fn(se,f.fromStyles)}_buildAnimation(a,f,N,K,se,Te){const ve=f.triggerName,Ge=f.element,Je=[],lt=new Set,St=new Set,Vt=f.timelines.map(Rt=>{const Ut=Rt.element;lt.add(Ut);const jt=Ut[ln];if(jt&&jt.removedBeforeQueried)return new ne.ZN(Rt.duration,Rt.delay);const en=Ut!==Ge,Pn=function Bt(B){const a=[];return Pr(B,a),a}((N.get(Ut)||Js).map(Kn=>Kn.getRealPlayer())).filter(Kn=>!!Kn.element&&Kn.element===Ut),Hn=se.get(Ut),vn=Te.get(Ut),Xr=ce(0,this._normalizer,0,Rt.keyframes,Hn,vn),vr=this._buildPlayer(Rt,Xr,Pn);if(Rt.subTimeline&&K&&St.add(Ut),en){const Kn=new fs(a,ve,Ut);Kn.setRealPlayer(vr),Je.push(Kn)}return vr});Je.forEach(Rt=>{U(this.playersByQueriedElement,Rt.element,[]).push(Rt),Rt.onDone(()=>function Mt(B,a,f){let N=B.get(a);if(N){if(N.length){const K=N.indexOf(f);N.splice(K,1)}0==N.length&&B.delete(a)}return N}(this.playersByQueriedElement,Rt.element,Rt))}),lt.forEach(Rt=>kn(Rt,qn));const xt=te(Vt);return xt.onDestroy(()=>{lt.forEach(Rt=>Qr(Rt,qn)),Kt(Ge,f.toStyles)}),St.forEach(Rt=>{U(K,Rt,[]).push(xt)}),xt}_buildPlayer(a,f,N){return f.length>0?this.driver.animate(a.element,f,a.duration,a.delay,a.easing,N):new ne.ZN(a.duration,a.delay)}}class fs{constructor(a,f,N){this.namespaceId=a,this.triggerName=f,this.element=N,this._player=new ne.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(a){this._containsRealPlayer||(this._player=a,this._queuedCallbacks.forEach((f,N)=>{f.forEach(K=>W(a,N,void 0,K))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const f=this._player;f.triggerCallback&&a.onStart(()=>f.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,f){U(this._queuedCallbacks,a,[]).push(f)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const f=this._player;f.triggerCallback&&f.triggerCallback(a)}}function Ns(B){return B&&1===B.nodeType}function lo(B,a){const f=B.style.display;return B.style.display=a??"none",f}function bo(B,a,f,N,K){const se=[];f.forEach(Ge=>se.push(lo(Ge)));const Te=[];N.forEach((Ge,Je)=>{const lt=new Map;Ge.forEach(St=>{const Vt=a.computeStyle(Je,St,K);lt.set(St,Vt),(!Vt||0==Vt.length)&&(Je[ln]=Ds,Te.push(Je))}),B.set(Je,lt)});let ve=0;return f.forEach(Ge=>lo(Ge,se[ve++])),Te}function ws(B,a){const f=new Map;if(B.forEach(ve=>f.set(ve,[])),0==a.length)return f;const K=new Set(a),se=new Map;function Te(ve){if(!ve)return 1;let Ge=se.get(ve);if(Ge)return Ge;const Je=ve.parentNode;return Ge=f.has(Je)?Je:K.has(Je)?1:Te(Je),se.set(ve,Ge),Ge}return a.forEach(ve=>{const Ge=Te(ve);1!==Ge&&f.get(Ge).push(ve)}),f}function kn(B,a){B.classList?.add(a)}function Qr(B,a){B.classList?.remove(a)}function Ze(B,a,f){te(f).onDone(()=>B.processLeaveNode(a))}function Pr(B,a){for(let f=0;f<B.length;f++){const N=B[f];N instanceof ne.ZE?Pr(N.players,a):a.push(N)}}function _n(B,a,f){const N=f.get(B);if(!N)return!1;let K=a.get(B);return K?N.forEach(se=>K.add(se)):a.set(B,N),f.delete(B),!0}class ur{constructor(a,f,N){this.bodyNode=a,this._driver=f,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(K,se)=>{},this._transitionEngine=new ds(a,f,N),this._timelineEngine=new co(a,f,N),this._transitionEngine.onRemovalComplete=(K,se)=>this.onRemovalComplete(K,se)}registerTrigger(a,f,N,K,se){const Te=a+"-"+K;let ve=this._triggerCache[Te];if(!ve){const Ge=[],lt=$r(this._driver,se,Ge,[]);if(Ge.length)throw function at(B,a){return new _.vHH(3404,!1)}();ve=function Po(B,a,f){return new Gn(B,a,f)}(K,lt,this._normalizer),this._triggerCache[Te]=ve}this._transitionEngine.registerTrigger(f,K,ve)}register(a,f){this._transitionEngine.register(a,f)}destroy(a,f){this._transitionEngine.destroy(a,f)}onInsert(a,f,N,K){this._transitionEngine.insertNode(a,f,N,K)}onRemove(a,f,N,K){this._transitionEngine.removeNode(a,f,K||!1,N)}disableAnimations(a,f){this._transitionEngine.markElementAsDisabled(a,f)}process(a,f,N,K){if("@"==N.charAt(0)){const[se,Te]=Y(N);this._timelineEngine.command(se,f,Te,K)}else this._transitionEngine.trigger(a,f,N,K)}listen(a,f,N,K,se){if("@"==N.charAt(0)){const[Te,ve]=Y(N);return this._timelineEngine.listen(Te,f,ve,se)}return this._transitionEngine.listen(a,f,N,K,se)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let cr=(()=>{class B{constructor(f,N,K){this._element=f,this._startStyles=N,this._endStyles=K,this._state=0;let se=B.initialStylesByElement.get(f);se||B.initialStylesByElement.set(f,se=new Map),this._initialStyles=se}start(){this._state<1&&(this._startStyles&&Kt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kt(this._element,this._initialStyles),this._endStyles&&(Kt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(B.initialStylesByElement.delete(this._element),this._startStyles&&(fn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fn(this._element,this._endStyles),this._endStyles=null),Kt(this._element,this._initialStyles),this._state=3)}}return B.initialStylesByElement=new WeakMap,B})();function Zr(B){let a=null;return B.forEach((f,N)=>{(function ho(B){return"display"===B||"position"===B})(N)&&(a=a||new Map,a.set(N,f))}),a}class ii{constructor(a,f,N,K){this.element=a,this.keyframes=f,this.options=N,this._specialStyles=K,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(a){const f=[];return a.forEach(N=>{f.push(Object.fromEntries(N))}),f}_triggerWebAnimation(a,f,N){return a.animate(this._convertKeyframesToObject(f),N)}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a=new Map;this.hasStarted()&&this._finalKeyframe.forEach((N,K)=>{"offset"!==K&&a.set(K,this._finished?N:Xn(this.element,K))}),this.currentSnapshot=a}triggerCallback(a){const f="start"===a?this._onStartFns:this._onDoneFns;f.forEach(N=>N()),f.length=0}}class ai{validateStyleProperty(a){return!0}validateAnimatableStyleProperty(a){return!0}matchesElement(a,f){return!1}containsElement(a,f){return ot(a,f)}getParentElement(a){return de(a)}query(a,f,N){return Et(a,f,N)}computeStyle(a,f,N){return window.getComputedStyle(a)[f]}animate(a,f,N,K,se,Te=[]){const Ge={duration:N,delay:K,fill:0==K?"both":"forwards"};se&&(Ge.easing=se);const Je=new Map,lt=Te.filter(xt=>xt instanceof ii);(function ys(B,a){return 0===B||0===a})(N,K)&&lt.forEach(xt=>{xt.currentSnapshot.forEach((Rt,Ut)=>Je.set(Ut,Rt))});let St=function At(B){return B.length?B[0]instanceof Map?B:B.map(a=>$e(a)):[]}(f).map(xt=>Gt(xt));St=function ir(B,a,f){if(f.size&&a.length){let N=a[0],K=[];if(f.forEach((se,Te)=>{N.has(Te)||K.push(Te),N.set(Te,se)}),K.length)for(let se=1;se<a.length;se++){let Te=a[se];K.forEach(ve=>Te.set(ve,Xn(B,ve)))}}return a}(a,St,Je);const Vt=function Vn(B,a){let f=null,N=null;return Array.isArray(a)&&a.length?(f=Zr(a[0]),a.length>1&&(N=Zr(a[a.length-1]))):a instanceof Map&&(f=Zr(a)),f||N?new cr(B,f,N):null}(a,St);return new ii(a,St,Ge,Vt)}}let Vi=(()=>{class B extends ne._j{constructor(f,N){super(),this._nextAnimationId=0,this._renderer=f.createRenderer(N.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(f){const N=this._nextAnimationId.toString();this._nextAnimationId++;const K=Array.isArray(f)?(0,ne.vP)(f):f;return lr(this._renderer,null,N,"register",[K]),new ui(N,this._renderer)}}return B.\u0275fac=function(f){return new(f||B)(_.LFG(_.FYo),_.LFG(l.K0))},B.\u0275prov=_.Yz7({token:B,factory:B.\u0275fac}),B})();class ui extends ne.LC{constructor(a,f){super(),this._id=a,this._renderer=f}create(a,f){return new Yn(this._id,a,f||{},this._renderer)}}class Yn{constructor(a,f,N,K){this.id=a,this.element=f,this._renderer=K,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(a,f){return this._renderer.listen(this.element,`@@${this.id}:${a}`,f)}_command(a,...f){return lr(this._renderer,this.element,this.id,a,f)}onDone(a){this._listen("done",a)}onStart(a){this._listen("start",a)}onDestroy(a){this._listen("destroy",a)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(a){this._command("setPosition",a)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function lr(B,a,f,N,K){return B.setProperty(a,`@@${f}:${N}`,K)}const dr="@.disabled";let Tr=(()=>{class B{constructor(f,N,K){this.delegate=f,this.engine=N,this._zone=K,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),N.onRemovalComplete=(se,Te)=>{const ve=Te?.parentNode(se);ve&&Te.removeChild(ve,se)}}createRenderer(f,N){const se=this.delegate.createRenderer(f,N);if(!(f&&N&&N.data&&N.data.animation)){let lt=this._rendererCache.get(se);return lt||(lt=new po("",se,this.engine),this._rendererCache.set(se,lt)),lt}const Te=N.id,ve=N.id+"-"+this._currentId;this._currentId++,this.engine.register(ve,f);const Ge=lt=>{Array.isArray(lt)?lt.forEach(Ge):this.engine.registerTrigger(Te,ve,f,lt.name,lt)};return N.data.animation.forEach(Ge),new Uo(this,ve,se,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(f,N,K){f>=0&&f<this._microtaskId?this._zone.run(()=>N(K)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(se=>{const[Te,ve]=se;Te(ve)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,K]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return B.\u0275fac=function(f){return new(f||B)(_.LFG(_.FYo),_.LFG(ur),_.LFG(_.R0b))},B.\u0275prov=_.Yz7({token:B,factory:B.\u0275fac}),B})();class po{constructor(a,f,N){this.namespaceId=a,this.delegate=f,this.engine=N,this.destroyNode=this.delegate.destroyNode?K=>f.destroyNode(K):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(a,f){return this.delegate.createElement(a,f)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,f){this.delegate.appendChild(a,f),this.engine.onInsert(this.namespaceId,f,a,!1)}insertBefore(a,f,N,K=!0){this.delegate.insertBefore(a,f,N),this.engine.onInsert(this.namespaceId,f,a,K)}removeChild(a,f,N){this.engine.onRemove(this.namespaceId,f,this.delegate,N)}selectRootElement(a,f){return this.delegate.selectRootElement(a,f)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,f,N,K){this.delegate.setAttribute(a,f,N,K)}removeAttribute(a,f,N){this.delegate.removeAttribute(a,f,N)}addClass(a,f){this.delegate.addClass(a,f)}removeClass(a,f){this.delegate.removeClass(a,f)}setStyle(a,f,N,K){this.delegate.setStyle(a,f,N,K)}removeStyle(a,f,N){this.delegate.removeStyle(a,f,N)}setProperty(a,f,N){"@"==f.charAt(0)&&f==dr?this.disableAnimations(a,!!N):this.delegate.setProperty(a,f,N)}setValue(a,f){this.delegate.setValue(a,f)}listen(a,f,N){return this.delegate.listen(a,f,N)}disableAnimations(a,f){this.engine.disableAnimations(a,f)}}class Uo extends po{constructor(a,f,N,K){super(f,N,K),this.factory=a,this.namespaceId=f}setProperty(a,f,N){"@"==f.charAt(0)?"."==f.charAt(1)&&f==dr?this.disableAnimations(a,N=void 0===N||!!N):this.engine.process(this.namespaceId,a,f.slice(1),N):this.delegate.setProperty(a,f,N)}listen(a,f,N){if("@"==f.charAt(0)){const K=function ci(B){switch(B){case"body":return document.body;case"document":return document;case"window":return window;default:return B}}(a);let se=f.slice(1),Te="";return"@"!=se.charAt(0)&&([se,Te]=function li(B){const a=B.indexOf(".");return[B.substring(0,a),B.slice(a+1)]}(se)),this.engine.listen(this.namespaceId,K,se,Te,ve=>{this.factory.scheduleListenerCallback(ve._data||-1,N,ve)})}return this.delegate.listen(a,f,N)}}const V=[{provide:ne._j,useClass:Vi},{provide:io,useFactory:function Eo(){return new vs}},{provide:ur,useClass:(()=>{class B extends ur{constructor(f,N,K,se){super(f.body,N,K)}ngOnDestroy(){this.flush()}}return B.\u0275fac=function(f){return new(f||B)(_.LFG(l.K0),_.LFG(dn),_.LFG(io),_.LFG(_.z2F))},B.\u0275prov=_.Yz7({token:B,factory:B.\u0275fac}),B})()},{provide:_.FYo,useFactory:function R(B,a,f){return new Tr(B,a,f)},deps:[i.se,ur,_.R0b]}],w=[{provide:dn,useFactory:()=>new ai},{provide:_.QbO,useValue:"BrowserAnimations"},...V],q=[{provide:dn,useClass:qt},{provide:_.QbO,useValue:"NoopAnimations"},...V];let ye=(()=>{class B{static withConfig(f){return{ngModule:B,providers:f.disableAnimations?q:w}}}return B.\u0275fac=function(f){return new(f||B)},B.\u0275mod=_.oAB({type:B}),B.\u0275inj=_.cJS({providers:w,imports:[i.b2]}),B})(),Zt=(()=>{class B{}return B.\u0275fac=function(f){return new(f||B)},B.\u0275mod=_.oAB({type:B}),B.\u0275inj=_.cJS({imports:[l.ez,i.b2,ye,Q.JF,i.b2,ye,Q.JF,l.ez]}),B})(),Qt=(()=>{class B{}return B.\u0275fac=function(f){return new(f||B)},B.\u0275mod=_.oAB({type:B,bootstrap:[G]}),B.\u0275inj=_.cJS({providers:[T.KD],imports:[i.b2.withServerTransition({appId:"serverApp"}),y,Zt,L.I,d.Rh.forRoot({positionClass:"toast-top-right"})]}),B})();function Xt(){i.q6().bootstrapModule(Qt).catch(B=>console.error(B))}O.N.production&&(0,_.G48)(),"complete"===document.readyState?Xt():document.addEventListener("DOMContentLoaded",Xt)},1135:(vt,Le,g)=>{"use strict";g.d(Le,{X:()=>_});var i=g(7579);class _ extends i.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const T=super._subscribe(v);return!T.closed&&v.next(this._value),T}getValue(){const{hasError:v,thrownError:T,_value:S}=this;if(v)throw T;return this._throwIfClosed(),S}next(v){super.next(this._value=v)}}},9751:(vt,Le,g)=>{"use strict";g.d(Le,{y:()=>m});var i=g(2961),_=g(727),d=g(8822),v=g(9635),T=g(2416),S=g(576),p=g(2806);let m=(()=>{class O{constructor(G){G&&(this._subscribe=G)}lift(G){const L=new O;return L.source=this,L.operator=G,L}subscribe(G,L,l){const Q=function F(O){return O&&O instanceof i.Lv||function y(O){return O&&(0,S.m)(O.next)&&(0,S.m)(O.error)&&(0,S.m)(O.complete)}(O)&&(0,_.Nn)(O)}(G)?G:new i.Hp(G,L,l);return(0,p.x)(()=>{const{operator:ne,source:Re}=this;Q.add(ne?ne.call(Q,Re):Re?this._subscribe(Q):this._trySubscribe(Q))}),Q}_trySubscribe(G){try{return this._subscribe(G)}catch(L){G.error(L)}}forEach(G,L){return new(L=M(L))((l,Q)=>{const ne=new i.Hp({next:Re=>{try{G(Re)}catch(Z){Q(Z),ne.unsubscribe()}},error:Q,complete:l});this.subscribe(ne)})}_subscribe(G){var L;return null===(L=this.source)||void 0===L?void 0:L.subscribe(G)}[d.L](){return this}pipe(...G){return(0,v.U)(G)(this)}toPromise(G){return new(G=M(G))((L,l)=>{let Q;this.subscribe(ne=>Q=ne,ne=>l(ne),()=>L(Q))})}}return O.create=x=>new O(x),O})();function M(O){var x;return null!==(x=O??T.v.Promise)&&void 0!==x?x:Promise}},7579:(vt,Le,g)=>{"use strict";g.d(Le,{x:()=>p});var i=g(9751),_=g(727);const v=(0,g(3888).d)(M=>function(){M(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var T=g(8737),S=g(2806);let p=(()=>{class M extends i.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const O=new m(this,this);return O.operator=F,O}_throwIfClosed(){if(this.closed)throw new v}next(F){(0,S.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const O of this.currentObservers)O.next(F)}})}error(F){(0,S.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:O}=this;for(;O.length;)O.shift().error(F)}})}complete(){(0,S.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:O,isStopped:x,observers:G}=this;return O||x?_.Lc:(this.currentObservers=null,G.push(F),new _.w0(()=>{this.currentObservers=null,(0,T.P)(G,F)}))}_checkFinalizedStatuses(F){const{hasError:O,thrownError:x,isStopped:G}=this;O?F.error(x):G&&F.complete()}asObservable(){const F=new i.y;return F.source=this,F}}return M.create=(y,F)=>new m(y,F),M})();class m extends p{constructor(y,F){super(),this.destination=y,this.source=F}next(y){var F,O;null===(O=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===O||O.call(F,y)}error(y){var F,O;null===(O=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===O||O.call(F,y)}complete(){var y,F;null===(F=null===(y=this.destination)||void 0===y?void 0:y.complete)||void 0===F||F.call(y)}_subscribe(y){var F,O;return null!==(O=null===(F=this.source)||void 0===F?void 0:F.subscribe(y))&&void 0!==O?O:_.Lc}}},2961:(vt,Le,g)=>{"use strict";g.d(Le,{Hp:()=>l,Lv:()=>O});var i=g(576),_=g(727),d=g(2416),v=g(7849);function T(){}const S=M("C",void 0,void 0);function M(oe,ie,pe){return{kind:oe,value:ie,error:pe}}var y=g(3410),F=g(2806);class O extends _.w0{constructor(ie){super(),this.isStopped=!1,ie?(this.destination=ie,(0,_.Nn)(ie)&&ie.add(this)):this.destination=Z}static create(ie,pe,De){return new l(ie,pe,De)}next(ie){this.isStopped?Re(function m(oe){return M("N",oe,void 0)}(ie),this):this._next(ie)}error(ie){this.isStopped?Re(function p(oe){return M("E",void 0,oe)}(ie),this):(this.isStopped=!0,this._error(ie))}complete(){this.isStopped?Re(S,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ie){this.destination.next(ie)}_error(ie){try{this.destination.error(ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const x=Function.prototype.bind;function G(oe,ie){return x.call(oe,ie)}class L{constructor(ie){this.partialObserver=ie}next(ie){const{partialObserver:pe}=this;if(pe.next)try{pe.next(ie)}catch(De){Q(De)}}error(ie){const{partialObserver:pe}=this;if(pe.error)try{pe.error(ie)}catch(De){Q(De)}else Q(ie)}complete(){const{partialObserver:ie}=this;if(ie.complete)try{ie.complete()}catch(pe){Q(pe)}}}class l extends O{constructor(ie,pe,De){let ae;if(super(),(0,i.m)(ie)||!ie)ae={next:ie??void 0,error:pe??void 0,complete:De??void 0};else{let Se;this&&d.v.useDeprecatedNextContext?(Se=Object.create(ie),Se.unsubscribe=()=>this.unsubscribe(),ae={next:ie.next&&G(ie.next,Se),error:ie.error&&G(ie.error,Se),complete:ie.complete&&G(ie.complete,Se)}):ae=ie}this.destination=new L(ae)}}function Q(oe){d.v.useDeprecatedSynchronousErrorHandling?(0,F.O)(oe):(0,v.h)(oe)}function Re(oe,ie){const{onStoppedNotification:pe}=d.v;pe&&y.z.setTimeout(()=>pe(oe,ie))}const Z={closed:!0,next:T,error:function ne(oe){throw oe},complete:T}},727:(vt,Le,g)=>{"use strict";g.d(Le,{Lc:()=>S,w0:()=>T,Nn:()=>p});var i=g(576);const d=(0,g(3888).d)(M=>function(F){M(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((O,x)=>`${x+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var v=g(8737);class T{constructor(y){this.initialTeardown=y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let y;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const G of F)G.remove(this);else F.remove(this);const{initialTeardown:O}=this;if((0,i.m)(O))try{O()}catch(G){y=G instanceof d?G.errors:[G]}const{_finalizers:x}=this;if(x){this._finalizers=null;for(const G of x)try{m(G)}catch(L){y=y??[],L instanceof d?y=[...y,...L.errors]:y.push(L)}}if(y)throw new d(y)}}add(y){var F;if(y&&y!==this)if(this.closed)m(y);else{if(y instanceof T){if(y.closed||y._hasParent(this))return;y._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(y)}}_hasParent(y){const{_parentage:F}=this;return F===y||Array.isArray(F)&&F.includes(y)}_addParent(y){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(y),F):F?[F,y]:y}_removeParent(y){const{_parentage:F}=this;F===y?this._parentage=null:Array.isArray(F)&&(0,v.P)(F,y)}remove(y){const{_finalizers:F}=this;F&&(0,v.P)(F,y),y instanceof T&&y._removeParent(this)}}T.EMPTY=(()=>{const M=new T;return M.closed=!0,M})();const S=T.EMPTY;function p(M){return M instanceof T||M&&"closed"in M&&(0,i.m)(M.remove)&&(0,i.m)(M.add)&&(0,i.m)(M.unsubscribe)}function m(M){(0,i.m)(M)?M():M.unsubscribe()}},2416:(vt,Le,g)=>{"use strict";g.d(Le,{v:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Le,g)=>{"use strict";g.d(Le,{E:()=>_});const _=new(g(9751).y)(T=>T.complete())},2076:(vt,Le,g)=>{"use strict";g.d(Le,{D:()=>De});var i=g(8421),_=g(9672),d=g(4482),v=g(5403);function T(ae,Se=0){return(0,d.e)((Be,Ce)=>{Be.subscribe((0,v.x)(Ce,re=>(0,_.f)(Ce,ae,()=>Ce.next(re),Se),()=>(0,_.f)(Ce,ae,()=>Ce.complete(),Se),re=>(0,_.f)(Ce,ae,()=>Ce.error(re),Se)))})}function S(ae,Se=0){return(0,d.e)((Be,Ce)=>{Ce.add(ae.schedule(()=>Be.subscribe(Ce),Se))})}var M=g(9751),F=g(2202),O=g(576);function G(ae,Se){if(!ae)throw new Error("Iterable cannot be null");return new M.y(Be=>{(0,_.f)(Be,Se,()=>{const Ce=ae[Symbol.asyncIterator]();(0,_.f)(Be,Se,()=>{Ce.next().then(re=>{re.done?Be.complete():Be.next(re.value)})},0,!0)})})}var L=g(3670),l=g(8239),Q=g(1144),ne=g(6495),Re=g(2206),Z=g(4532),oe=g(3260);function De(ae,Se){return Se?function pe(ae,Se){if(null!=ae){if((0,L.c)(ae))return function p(ae,Se){return(0,i.Xf)(ae).pipe(S(Se),T(Se))}(ae,Se);if((0,Q.z)(ae))return function y(ae,Se){return new M.y(Be=>{let Ce=0;return Se.schedule(function(){Ce===ae.length?Be.complete():(Be.next(ae[Ce++]),Be.closed||this.schedule())})})}(ae,Se);if((0,l.t)(ae))return function m(ae,Se){return(0,i.Xf)(ae).pipe(S(Se),T(Se))}(ae,Se);if((0,Re.D)(ae))return G(ae,Se);if((0,ne.T)(ae))return function x(ae,Se){return new M.y(Be=>{let Ce;return(0,_.f)(Be,Se,()=>{Ce=ae[F.h](),(0,_.f)(Be,Se,()=>{let re,le;try{({value:re,done:le}=Ce.next())}catch(X){return void Be.error(X)}le?Be.complete():Be.next(re)},0,!0)}),()=>(0,O.m)(Ce?.return)&&Ce.return()})}(ae,Se);if((0,oe.L)(ae))return function ie(ae,Se){return G((0,oe.Q)(ae),Se)}(ae,Se)}throw(0,Z.z)(ae)}(ae,Se):(0,i.Xf)(ae)}},8421:(vt,Le,g)=>{"use strict";g.d(Le,{Xf:()=>x});var i=g(655),_=g(1144),d=g(8239),v=g(9751),T=g(3670),S=g(2206),p=g(4532),m=g(6495),M=g(3260),y=g(576),F=g(7849),O=g(8822);function x(oe){if(oe instanceof v.y)return oe;if(null!=oe){if((0,T.c)(oe))return function G(oe){return new v.y(ie=>{const pe=oe[O.L]();if((0,y.m)(pe.subscribe))return pe.subscribe(ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,_.z)(oe))return function L(oe){return new v.y(ie=>{for(let pe=0;pe<oe.length&&!ie.closed;pe++)ie.next(oe[pe]);ie.complete()})}(oe);if((0,d.t)(oe))return function l(oe){return new v.y(ie=>{oe.then(pe=>{ie.closed||(ie.next(pe),ie.complete())},pe=>ie.error(pe)).then(null,F.h)})}(oe);if((0,S.D)(oe))return ne(oe);if((0,m.T)(oe))return function Q(oe){return new v.y(ie=>{for(const pe of oe)if(ie.next(pe),ie.closed)return;ie.complete()})}(oe);if((0,M.L)(oe))return function Re(oe){return ne((0,M.Q)(oe))}(oe)}throw(0,p.z)(oe)}function ne(oe){return new v.y(ie=>{(function Z(oe,ie){var pe,De,ae,Se;return(0,i.mG)(this,void 0,void 0,function*(){try{for(pe=(0,i.KL)(oe);!(De=yield pe.next()).done;)if(ie.next(De.value),ie.closed)return}catch(Be){ae={error:Be}}finally{try{De&&!De.done&&(Se=pe.return)&&(yield Se.call(pe))}finally{if(ae)throw ae.error}}ie.complete()})})(oe,ie).catch(pe=>ie.error(pe))})}},9646:(vt,Le,g)=>{"use strict";g.d(Le,{of:()=>d});var i=g(7669),_=g(2076);function d(...v){const T=(0,i.yG)(v);return(0,_.D)(v,T)}},2843:(vt,Le,g)=>{"use strict";g.d(Le,{_:()=>d});var i=g(9751),_=g(576);function d(v,T){const S=(0,_.m)(v)?v:()=>v,p=m=>m.error(S());return new i.y(T?m=>T.schedule(p,0,m):p)}},5403:(vt,Le,g)=>{"use strict";g.d(Le,{x:()=>_});var i=g(2961);function _(v,T,S,p,m){return new d(v,T,S,p,m)}class d extends i.Lv{constructor(T,S,p,m,M,y){super(T),this.onFinalize=M,this.shouldUnsubscribe=y,this._next=S?function(F){try{S(F)}catch(O){T.error(O)}}:super._next,this._error=m?function(F){try{m(F)}catch(O){T.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=p?function(){try{p()}catch(F){T.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var T;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:S}=this;super.unsubscribe(),!S&&(null===(T=this.onFinalize)||void 0===T||T.call(this))}}}},262:(vt,Le,g)=>{"use strict";g.d(Le,{K:()=>v});var i=g(8421),_=g(5403),d=g(4482);function v(T){return(0,d.e)((S,p)=>{let y,m=null,M=!1;m=S.subscribe((0,_.x)(p,void 0,void 0,F=>{y=(0,i.Xf)(T(F,v(T)(S))),m?(m.unsubscribe(),m=null,y.subscribe(p)):M=!0})),M&&(m.unsubscribe(),m=null,y.subscribe(p))})}},4351:(vt,Le,g)=>{"use strict";g.d(Le,{b:()=>d});var i=g(5577),_=g(576);function d(v,T){return(0,_.m)(T)?(0,i.z)(v,T,1):(0,i.z)(v,1)}},9300:(vt,Le,g)=>{"use strict";g.d(Le,{h:()=>d});var i=g(4482),_=g(5403);function d(v,T){return(0,i.e)((S,p)=>{let m=0;S.subscribe((0,_.x)(p,M=>v.call(T,M,m++)&&p.next(M)))})}},4004:(vt,Le,g)=>{"use strict";g.d(Le,{U:()=>d});var i=g(4482),_=g(5403);function d(v,T){return(0,i.e)((S,p)=>{let m=0;S.subscribe((0,_.x)(p,M=>{p.next(v.call(T,M,m++))}))})}},8189:(vt,Le,g)=>{"use strict";g.d(Le,{J:()=>d});var i=g(5577),_=g(4671);function d(v=1/0){return(0,i.z)(_.y,v)}},5577:(vt,Le,g)=>{"use strict";g.d(Le,{z:()=>m});var i=g(4004),_=g(8421),d=g(4482),v=g(9672),T=g(5403),p=g(576);function m(M,y,F=1/0){return(0,p.m)(y)?m((O,x)=>(0,i.U)((G,L)=>y(O,G,x,L))((0,_.Xf)(M(O,x))),F):("number"==typeof y&&(F=y),(0,d.e)((O,x)=>function S(M,y,F,O,x,G,L,l){const Q=[];let ne=0,Re=0,Z=!1;const oe=()=>{Z&&!Q.length&&!ne&&y.complete()},ie=De=>ne<O?pe(De):Q.push(De),pe=De=>{G&&y.next(De),ne++;let ae=!1;(0,_.Xf)(F(De,Re++)).subscribe((0,T.x)(y,Se=>{x?.(Se),G?ie(Se):y.next(Se)},()=>{ae=!0},void 0,()=>{if(ae)try{for(ne--;Q.length&&ne<O;){const Se=Q.shift();L?(0,v.f)(y,L,()=>pe(Se)):pe(Se)}oe()}catch(Se){y.error(Se)}}))};return M.subscribe((0,T.x)(y,ie,()=>{Z=!0,oe()})),()=>{l?.()}}(O,x,M,F)))}},5698:(vt,Le,g)=>{"use strict";g.d(Le,{q:()=>v});var i=g(515),_=g(4482),d=g(5403);function v(T){return T<=0?()=>i.E:(0,_.e)((S,p)=>{let m=0;S.subscribe((0,d.x)(p,M=>{++m<=T&&(p.next(M),T<=m&&p.complete())}))})}},3410:(vt,Le,g)=>{"use strict";g.d(Le,{z:()=>i});const i={setTimeout(_,d,...v){const{delegate:T}=i;return T?.setTimeout?T.setTimeout(_,d,...v):setTimeout(_,d,...v)},clearTimeout(_){const{delegate:d}=i;return(d?.clearTimeout||clearTimeout)(_)},delegate:void 0}},2202:(vt,Le,g)=>{"use strict";g.d(Le,{h:()=>_});const _=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Le,g)=>{"use strict";g.d(Le,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(vt,Le,g)=>{"use strict";g.d(Le,{_6:()=>S,jO:()=>v,yG:()=>T});var i=g(576);function d(p){return p[p.length-1]}function v(p){return(0,i.m)(d(p))?p.pop():void 0}function T(p){return function _(p){return p&&(0,i.m)(p.schedule)}(d(p))?p.pop():void 0}function S(p,m){return"number"==typeof d(p)?p.pop():m}},4742:(vt,Le,g)=>{"use strict";g.d(Le,{D:()=>T});const{isArray:i}=Array,{getPrototypeOf:_,prototype:d,keys:v}=Object;function T(p){if(1===p.length){const m=p[0];if(i(m))return{args:m,keys:null};if(function S(p){return p&&"object"==typeof p&&_(p)===d}(m)){const M=v(m);return{args:M.map(y=>m[y]),keys:M}}}return{args:p,keys:null}}},8737:(vt,Le,g)=>{"use strict";function i(_,d){if(_){const v=_.indexOf(d);0<=v&&_.splice(v,1)}}g.d(Le,{P:()=>i})},3888:(vt,Le,g)=>{"use strict";function i(_){const v=_(T=>{Error.call(T),T.stack=(new Error).stack});return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v}g.d(Le,{d:()=>i})},1810:(vt,Le,g)=>{"use strict";function i(_,d){return _.reduce((v,T,S)=>(v[T]=d[S],v),{})}g.d(Le,{n:()=>i})},2806:(vt,Le,g)=>{"use strict";g.d(Le,{O:()=>v,x:()=>d});var i=g(2416);let _=null;function d(T){if(i.v.useDeprecatedSynchronousErrorHandling){const S=!_;if(S&&(_={errorThrown:!1,error:null}),T(),S){const{errorThrown:p,error:m}=_;if(_=null,p)throw m}}else T()}function v(T){i.v.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=T)}},9672:(vt,Le,g)=>{"use strict";function i(_,d,v,T=0,S=!1){const p=d.schedule(function(){v(),S?_.add(this.schedule(null,T)):this.unsubscribe()},T);if(_.add(p),!S)return p}g.d(Le,{f:()=>i})},4671:(vt,Le,g)=>{"use strict";function i(_){return _}g.d(Le,{y:()=>i})},1144:(vt,Le,g)=>{"use strict";g.d(Le,{z:()=>i});const i=_=>_&&"number"==typeof _.length&&"function"!=typeof _},2206:(vt,Le,g)=>{"use strict";g.d(Le,{D:()=>_});var i=g(576);function _(d){return Symbol.asyncIterator&&(0,i.m)(d?.[Symbol.asyncIterator])}},576:(vt,Le,g)=>{"use strict";function i(_){return"function"==typeof _}g.d(Le,{m:()=>i})},3670:(vt,Le,g)=>{"use strict";g.d(Le,{c:()=>d});var i=g(8822),_=g(576);function d(v){return(0,_.m)(v[i.L])}},6495:(vt,Le,g)=>{"use strict";g.d(Le,{T:()=>d});var i=g(2202),_=g(576);function d(v){return(0,_.m)(v?.[i.h])}},8239:(vt,Le,g)=>{"use strict";g.d(Le,{t:()=>_});var i=g(576);function _(d){return(0,i.m)(d?.then)}},3260:(vt,Le,g)=>{"use strict";g.d(Le,{L:()=>v,Q:()=>d});var i=g(655),_=g(576);function d(T){return(0,i.FC)(this,arguments,function*(){const p=T.getReader();try{for(;;){const{value:m,done:M}=yield(0,i.qq)(p.read());if(M)return yield(0,i.qq)(void 0);yield yield(0,i.qq)(m)}}finally{p.releaseLock()}})}function v(T){return(0,_.m)(T?.getReader)}},4482:(vt,Le,g)=>{"use strict";g.d(Le,{A:()=>_,e:()=>d});var i=g(576);function _(v){return(0,i.m)(v?.lift)}function d(v){return T=>{if(_(T))return T.lift(function(S){try{return v(S,this)}catch(p){this.error(p)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(vt,Le,g)=>{"use strict";g.d(Le,{Z:()=>v});var i=g(4004);const{isArray:_}=Array;function v(T){return(0,i.U)(S=>function d(T,S){return _(S)?T(...S):T(S)}(T,S))}},9635:(vt,Le,g)=>{"use strict";g.d(Le,{U:()=>d,z:()=>_});var i=g(4671);function _(...v){return d(v)}function d(v){return 0===v.length?i.y:1===v.length?v[0]:function(S){return v.reduce((p,m)=>m(p),S)}}},7849:(vt,Le,g)=>{"use strict";g.d(Le,{h:()=>d});var i=g(2416),_=g(3410);function d(v){_.z.setTimeout(()=>{const{onUnhandledError:T}=i.v;if(!T)throw v;T(v)})}},4532:(vt,Le,g)=>{"use strict";function i(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}g.d(Le,{z:()=>i})},655:(vt,Le,g)=>{"use strict";function m(Ce,re,le,X){return new(le||(le=Promise))(function(Fe,qe){function st(ht){try{Qe(X.next(ht))}catch(je){qe(je)}}function mt(ht){try{Qe(X.throw(ht))}catch(je){qe(je)}}function Qe(ht){ht.done?Fe(ht.value):function Me(Fe){return Fe instanceof le?Fe:new le(function(qe){qe(Fe)})}(ht.value).then(st,mt)}Qe((X=X.apply(Ce,re||[])).next())})}function Q(Ce){return this instanceof Q?(this.v=Ce,this):new Q(Ce)}function ne(Ce,re,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,X=le.apply(Ce,re||[]),Fe=[];return Me={},qe("next"),qe("throw"),qe("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function qe(et){X[et]&&(Me[et]=function(be){return new Promise(function(Ye,at){Fe.push([et,be,Ye,at])>1||st(et,be)})})}function st(et,be){try{!function mt(et){et.value instanceof Q?Promise.resolve(et.value.v).then(Qe,ht):je(Fe[0][2],et)}(X[et](be))}catch(Ye){je(Fe[0][3],Ye)}}function Qe(et){st("next",et)}function ht(et){st("throw",et)}function je(et,be){et(be),Fe.shift(),Fe.length&&st(Fe[0][0],Fe[0][1])}}function Z(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,re=Ce[Symbol.asyncIterator];return re?re.call(Ce):(Ce=function O(Ce){var re="function"==typeof Symbol&&Symbol.iterator,le=re&&Ce[re],X=0;if(le)return le.call(Ce);if(Ce&&"number"==typeof Ce.length)return{next:function(){return Ce&&X>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[X++],done:!Ce}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ce),le={},X("next"),X("throw"),X("return"),le[Symbol.asyncIterator]=function(){return this},le);function X(Fe){le[Fe]=Ce[Fe]&&function(qe){return new Promise(function(st,mt){!function Me(Fe,qe,st,mt){Promise.resolve(mt).then(function(Qe){Fe({value:Qe,done:st})},qe)}(st,mt,(qe=Ce[Fe](qe)).done,qe.value)})}}}g.d(Le,{FC:()=>ne,KL:()=>Z,mG:()=>m,qq:()=>Q})},7340:(vt,Le,g)=>{"use strict";g.d(Le,{LC:()=>_,SB:()=>M,X$:()=>v,ZE:()=>Re,ZN:()=>ne,_j:()=>i,eR:()=>F,jt:()=>T,k1:()=>Z,l3:()=>d,oB:()=>m,vP:()=>p});class i{}class _{}const d="*";function v(oe,ie){return{type:7,name:oe,definitions:ie,options:{}}}function T(oe,ie=null){return{type:4,styles:ie,timings:oe}}function p(oe,ie=null){return{type:2,steps:oe,options:ie}}function m(oe){return{type:6,styles:oe,offset:null}}function M(oe,ie,pe){return{type:0,name:oe,styles:ie,options:pe}}function F(oe,ie,pe=null){return{type:1,expr:oe,animation:ie,options:pe}}function Q(oe){Promise.resolve().then(oe)}class ne{constructor(ie=0,pe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ie+pe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ie=>ie()),this._onDoneFns=[])}onStart(ie){this._originalOnStartFns.push(ie),this._onStartFns.push(ie)}onDone(ie){this._originalOnDoneFns.push(ie),this._onDoneFns.push(ie)}onDestroy(ie){this._onDestroyFns.push(ie)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Q(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ie=>ie()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ie=>ie()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ie){this._position=this.totalTime?ie*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ie){const pe="start"==ie?this._onStartFns:this._onDoneFns;pe.forEach(De=>De()),pe.length=0}}class Re{constructor(ie){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ie;let pe=0,De=0,ae=0;const Se=this.players.length;0==Se?Q(()=>this._onFinish()):this.players.forEach(Be=>{Be.onDone(()=>{++pe==Se&&this._onFinish()}),Be.onDestroy(()=>{++De==Se&&this._onDestroy()}),Be.onStart(()=>{++ae==Se&&this._onStart()})}),this.totalTime=this.players.reduce((Be,Ce)=>Math.max(Be,Ce.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ie=>ie()),this._onDoneFns=[])}init(){this.players.forEach(ie=>ie.init())}onStart(ie){this._onStartFns.push(ie)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ie=>ie()),this._onStartFns=[])}onDone(ie){this._onDoneFns.push(ie)}onDestroy(ie){this._onDestroyFns.push(ie)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ie=>ie.play())}pause(){this.players.forEach(ie=>ie.pause())}restart(){this.players.forEach(ie=>ie.restart())}finish(){this._onFinish(),this.players.forEach(ie=>ie.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ie=>ie.destroy()),this._onDestroyFns.forEach(ie=>ie()),this._onDestroyFns=[])}reset(){this.players.forEach(ie=>ie.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ie){const pe=ie*this.totalTime;this.players.forEach(De=>{const ae=De.totalTime?Math.min(1,pe/De.totalTime):1;De.setPosition(ae)})}getPosition(){const ie=this.players.reduce((pe,De)=>null===pe||De.totalTime>pe.totalTime?De:pe,null);return null!=ie?ie.getPosition():0}beforeDestroy(){this.players.forEach(ie=>{ie.beforeDestroy&&ie.beforeDestroy()})}triggerCallback(ie){const pe="start"==ie?this._onStartFns:this._onDoneFns;pe.forEach(De=>De()),pe.length=0}}const Z="!"},6895:(vt,Le,g)=>{"use strict";g.d(Le,{Do:()=>Z,EM:()=>Po,HT:()=>T,JF:()=>co,K0:()=>p,Mx:()=>jr,NF:()=>Is,O5:()=>tn,Ov:()=>no,PC:()=>Dn,RF:()=>Nr,S$:()=>Q,V_:()=>y,Ye:()=>oe,b0:()=>Re,bD:()=>os,ez:()=>qr,mk:()=>ys,n9:()=>Er,q:()=>d,rS:()=>Ys,sg:()=>wn,uU:()=>No,w_:()=>S});var i=g(8256);let _=null;function d(){return _}function T(R){_||(_=R)}class S{}const p=new i.OlP("DocumentToken");let m=(()=>{class R{historyGo(w){throw new Error("Not implemented")}}return R.\u0275fac=function(w){return new(w||R)},R.\u0275prov=i.Yz7({token:R,factory:function(){return function M(){return(0,i.LFG)(F)}()},providedIn:"platform"}),R})();const y=new i.OlP("Location Initialized");let F=(()=>{class R extends m{constructor(w){super(),this._doc=w,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return d().getBaseHref(this._doc)}onPopState(w){const q=d().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",w,!1),()=>q.removeEventListener("popstate",w)}onHashChange(w){const q=d().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",w,!1),()=>q.removeEventListener("hashchange",w)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(w){this.location.pathname=w}pushState(w,q,ye){O()?this._history.pushState(w,q,ye):this.location.hash=ye}replaceState(w,q,ye){O()?this._history.replaceState(w,q,ye):this.location.hash=ye}forward(){this._history.forward()}back(){this._history.back()}historyGo(w=0){this._history.go(w)}getState(){return this._history.state}}return R.\u0275fac=function(w){return new(w||R)(i.LFG(p))},R.\u0275prov=i.Yz7({token:R,factory:function(){return function x(){return new F((0,i.LFG)(p))}()},providedIn:"platform"}),R})();function O(){return!!window.history.pushState}function G(R,V){if(0==R.length)return V;if(0==V.length)return R;let w=0;return R.endsWith("/")&&w++,V.startsWith("/")&&w++,2==w?R+V.substring(1):1==w?R+V:R+"/"+V}function L(R){const V=R.match(/#|\?|$/),w=V&&V.index||R.length;return R.slice(0,w-("/"===R[w-1]?1:0))+R.slice(w)}function l(R){return R&&"?"!==R[0]?"?"+R:R}let Q=(()=>{class R{historyGo(w){throw new Error("Not implemented")}}return R.\u0275fac=function(w){return new(w||R)},R.\u0275prov=i.Yz7({token:R,factory:function(){return(0,i.f3M)(Re)},providedIn:"root"}),R})();const ne=new i.OlP("appBaseHref");let Re=(()=>{class R extends Q{constructor(w,q){super(),this._platformLocation=w,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,i.f3M)(p).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(w){this._removeListenerFns.push(this._platformLocation.onPopState(w),this._platformLocation.onHashChange(w))}getBaseHref(){return this._baseHref}prepareExternalUrl(w){return G(this._baseHref,w)}path(w=!1){const q=this._platformLocation.pathname+l(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&w?`${q}${ye}`:q}pushState(w,q,ye,He){const ze=this.prepareExternalUrl(ye+l(He));this._platformLocation.pushState(w,q,ze)}replaceState(w,q,ye,He){const ze=this.prepareExternalUrl(ye+l(He));this._platformLocation.replaceState(w,q,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(w=0){this._platformLocation.historyGo?.(w)}}return R.\u0275fac=function(w){return new(w||R)(i.LFG(m),i.LFG(ne,8))},R.\u0275prov=i.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Z=(()=>{class R extends Q{constructor(w,q){super(),this._platformLocation=w,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(w){this._removeListenerFns.push(this._platformLocation.onPopState(w),this._platformLocation.onHashChange(w))}getBaseHref(){return this._baseHref}path(w=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(w){const q=G(this._baseHref,w);return q.length>0?"#"+q:q}pushState(w,q,ye,He){let ze=this.prepareExternalUrl(ye+l(He));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.pushState(w,q,ze)}replaceState(w,q,ye,He){let ze=this.prepareExternalUrl(ye+l(He));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.replaceState(w,q,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(w=0){this._platformLocation.historyGo?.(w)}}return R.\u0275fac=function(w){return new(w||R)(i.LFG(m),i.LFG(ne,8))},R.\u0275prov=i.Yz7({token:R,factory:R.\u0275fac}),R})(),oe=(()=>{class R{constructor(w){this._subject=new i.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=w;const q=this._locationStrategy.getBaseHref();this._baseHref=L(De(q)),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(w=!1){return this.normalize(this._locationStrategy.path(w))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(w,q=""){return this.path()==this.normalize(w+l(q))}normalize(w){return R.stripTrailingSlash(function pe(R,V){return R&&V.startsWith(R)?V.substring(R.length):V}(this._baseHref,De(w)))}prepareExternalUrl(w){return w&&"/"!==w[0]&&(w="/"+w),this._locationStrategy.prepareExternalUrl(w)}go(w,q="",ye=null){this._locationStrategy.pushState(ye,"",w,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(w+l(q)),ye)}replaceState(w,q="",ye=null){this._locationStrategy.replaceState(ye,"",w,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(w+l(q)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(w=0){this._locationStrategy.historyGo?.(w)}onUrlChange(w){return this._urlChangeListeners.push(w),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(w);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(w="",q){this._urlChangeListeners.forEach(ye=>ye(w,q))}subscribe(w,q,ye){return this._subject.subscribe({next:w,error:q,complete:ye})}}return R.normalizeQueryParams=l,R.joinWithSlash=G,R.stripTrailingSlash=L,R.\u0275fac=function(w){return new(w||R)(i.LFG(Q))},R.\u0275prov=i.Yz7({token:R,factory:function(){return function ie(){return new oe((0,i.LFG)(Q))}()},providedIn:"root"}),R})();function De(R){return R.replace(/\/index.html$/,"")}var Ce=(()=>((Ce=Ce||{})[Ce.Format=0]="Format",Ce[Ce.Standalone=1]="Standalone",Ce))(),re=(()=>((re=re||{})[re.Narrow=0]="Narrow",re[re.Abbreviated=1]="Abbreviated",re[re.Wide=2]="Wide",re[re.Short=3]="Short",re))(),le=(()=>((le=le||{})[le.Short=0]="Short",le[le.Medium=1]="Medium",le[le.Long=2]="Long",le[le.Full=3]="Full",le))(),X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Group=1]="Group",X[X.List=2]="List",X[X.PercentSign=3]="PercentSign",X[X.PlusSign=4]="PlusSign",X[X.MinusSign=5]="MinusSign",X[X.Exponential=6]="Exponential",X[X.SuperscriptingExponent=7]="SuperscriptingExponent",X[X.PerMille=8]="PerMille",X[X.Infinity=9]="Infinity",X[X.NaN=10]="NaN",X[X.TimeSeparator=11]="TimeSeparator",X[X.CurrencyDecimal=12]="CurrencyDecimal",X[X.CurrencyGroup=13]="CurrencyGroup",X))();function et(R,V){return _t((0,i.cg1)(R)[i.wAp.DateFormat],V)}function be(R,V){return _t((0,i.cg1)(R)[i.wAp.TimeFormat],V)}function Ye(R,V){return _t((0,i.cg1)(R)[i.wAp.DateTimeFormat],V)}function at(R,V){const w=(0,i.cg1)(R),q=w[i.wAp.NumberSymbols][V];if(typeof q>"u"){if(V===X.CurrencyDecimal)return w[i.wAp.NumberSymbols][X.Decimal];if(V===X.CurrencyGroup)return w[i.wAp.NumberSymbols][X.Group]}return q}function Nn(R){if(!R[i.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[i.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _t(R,V){for(let w=V;w>-1;w--)if(typeof R[w]<"u")return R[w];throw new Error("Locale data API: locale data undefined")}function D(R){const[V,w]=R.split(":");return{hours:+V,minutes:+w}}const te=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ce={},W=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var H=(()=>((H=H||{})[H.Short=0]="Short",H[H.ShortGMT=1]="ShortGMT",H[H.Long=2]="Long",H[H.Extended=3]="Extended",H))(),$=(()=>(($=$||{})[$.FullYear=0]="FullYear",$[$.Month=1]="Month",$[$.Date=2]="Date",$[$.Hours=3]="Hours",$[$.Minutes=4]="Minutes",$[$.Seconds=5]="Seconds",$[$.FractionalSeconds=6]="FractionalSeconds",$[$.Day=7]="Day",$))(),U=(()=>((U=U||{})[U.DayPeriods=0]="DayPeriods",U[U.Days=1]="Days",U[U.Months=2]="Months",U[U.Eras=3]="Eras",U))();function Y(R,V,w,q){let ye=function un(R){if(qn(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[ye,He=1,ze=1]=R.split("-").map(pt=>+pt);return z(ye,He-1,ze)}const w=parseFloat(R);if(!isNaN(R-w))return new Date(w);let q;if(q=R.match(te))return function Mn(R){const V=new Date(0);let w=0,q=0;const ye=R[8]?V.setUTCFullYear:V.setFullYear,He=R[8]?V.setUTCHours:V.setHours;R[9]&&(w=Number(R[9]+R[10]),q=Number(R[9]+R[11])),ye.call(V,Number(R[1]),Number(R[2])-1,Number(R[3]));const ze=Number(R[4]||0)-w,pt=Number(R[5]||0)-q,Zt=Number(R[6]||0),Qt=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return He.call(V,ze,pt,Zt,Qt),V}(q)}const V=new Date(R);if(!qn(V))throw new Error(`Unable to convert "${R}" into a date`);return V}(R);V=_e(w,V)||V;let pt,ze=[];for(;V;){if(pt=W.exec(V),!pt){ze.push(V);break}{ze=ze.concat(pt.slice(1));const Xt=ze.pop();if(!Xt)break;V=Xt}}let Zt=ye.getTimezoneOffset();q&&(Zt=pr(q,Zt),ye=function zn(R,V,w){const q=w?-1:1,ye=R.getTimezoneOffset();return function cn(R,V){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+V),R}(R,q*(pr(V,ye)-ye))}(ye,q,!0));let Qt="";return ze.forEach(Xt=>{const B=function xn(R){if(nn[R])return nn[R];let V;switch(R){case"G":case"GG":case"GGG":V=Pe(U.Eras,re.Abbreviated);break;case"GGGG":V=Pe(U.Eras,re.Wide);break;case"GGGGG":V=Pe(U.Eras,re.Narrow);break;case"y":V=Ne($.FullYear,1,0,!1,!0);break;case"yy":V=Ne($.FullYear,2,0,!0,!0);break;case"yyy":V=Ne($.FullYear,3,0,!1,!0);break;case"yyyy":V=Ne($.FullYear,4,0,!1,!0);break;case"Y":V=dn(1);break;case"YY":V=dn(2,!0);break;case"YYY":V=dn(3);break;case"YYYY":V=dn(4);break;case"M":case"L":V=Ne($.Month,1,1);break;case"MM":case"LL":V=Ne($.Month,2,1);break;case"MMM":V=Pe(U.Months,re.Abbreviated);break;case"MMMM":V=Pe(U.Months,re.Wide);break;case"MMMMM":V=Pe(U.Months,re.Narrow);break;case"LLL":V=Pe(U.Months,re.Abbreviated,Ce.Standalone);break;case"LLLL":V=Pe(U.Months,re.Wide,Ce.Standalone);break;case"LLLLL":V=Pe(U.Months,re.Narrow,Ce.Standalone);break;case"w":V=qt(1);break;case"ww":V=qt(2);break;case"W":V=qt(1,!0);break;case"d":V=Ne($.Date,1);break;case"dd":V=Ne($.Date,2);break;case"c":case"cc":V=Ne($.Day,1);break;case"ccc":V=Pe(U.Days,re.Abbreviated,Ce.Standalone);break;case"cccc":V=Pe(U.Days,re.Wide,Ce.Standalone);break;case"ccccc":V=Pe(U.Days,re.Narrow,Ce.Standalone);break;case"cccccc":V=Pe(U.Days,re.Short,Ce.Standalone);break;case"E":case"EE":case"EEE":V=Pe(U.Days,re.Abbreviated);break;case"EEEE":V=Pe(U.Days,re.Wide);break;case"EEEEE":V=Pe(U.Days,re.Narrow);break;case"EEEEEE":V=Pe(U.Days,re.Short);break;case"a":case"aa":case"aaa":V=Pe(U.DayPeriods,re.Abbreviated);break;case"aaaa":V=Pe(U.DayPeriods,re.Wide);break;case"aaaaa":V=Pe(U.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":V=Pe(U.DayPeriods,re.Abbreviated,Ce.Standalone,!0);break;case"bbbb":V=Pe(U.DayPeriods,re.Wide,Ce.Standalone,!0);break;case"bbbbb":V=Pe(U.DayPeriods,re.Narrow,Ce.Standalone,!0);break;case"B":case"BB":case"BBB":V=Pe(U.DayPeriods,re.Abbreviated,Ce.Format,!0);break;case"BBBB":V=Pe(U.DayPeriods,re.Wide,Ce.Format,!0);break;case"BBBBB":V=Pe(U.DayPeriods,re.Narrow,Ce.Format,!0);break;case"h":V=Ne($.Hours,1,-12);break;case"hh":V=Ne($.Hours,2,-12);break;case"H":V=Ne($.Hours,1);break;case"HH":V=Ne($.Hours,2);break;case"m":V=Ne($.Minutes,1);break;case"mm":V=Ne($.Minutes,2);break;case"s":V=Ne($.Seconds,1);break;case"ss":V=Ne($.Seconds,2);break;case"S":V=Ne($.FractionalSeconds,1);break;case"SS":V=Ne($.FractionalSeconds,2);break;case"SSS":V=Ne($.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":V=tt(H.Short);break;case"ZZZZZ":V=tt(H.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":V=tt(H.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":V=tt(H.Long);break;default:return null}return nn[R]=V,V}(Xt);Qt+=B?B(ye,w,Zt):"''"===Xt?"'":Xt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Qt}function z(R,V,w){const q=new Date(0);return q.setFullYear(R,V,w),q.setHours(0,0,0),q}function _e(R,V){const w=function Fe(R){return(0,i.cg1)(R)[i.wAp.LocaleId]}(R);if(ce[w]=ce[w]||{},ce[w][V])return ce[w][V];let q="";switch(V){case"shortDate":q=et(R,le.Short);break;case"mediumDate":q=et(R,le.Medium);break;case"longDate":q=et(R,le.Long);break;case"fullDate":q=et(R,le.Full);break;case"shortTime":q=be(R,le.Short);break;case"mediumTime":q=be(R,le.Medium);break;case"longTime":q=be(R,le.Long);break;case"fullTime":q=be(R,le.Full);break;case"short":const ye=_e(R,"shortTime"),He=_e(R,"shortDate");q=Ee(Ye(R,le.Short),[ye,He]);break;case"medium":const ze=_e(R,"mediumTime"),pt=_e(R,"mediumDate");q=Ee(Ye(R,le.Medium),[ze,pt]);break;case"long":const Zt=_e(R,"longTime"),Qt=_e(R,"longDate");q=Ee(Ye(R,le.Long),[Zt,Qt]);break;case"full":const Xt=_e(R,"fullTime"),B=_e(R,"fullDate");q=Ee(Ye(R,le.Full),[Xt,B])}return q&&(ce[w][V]=q),q}function Ee(R,V){return V&&(R=R.replace(/\{([^}]+)}/g,function(w,q){return null!=V&&q in V?V[q]:w})),R}function de(R,V,w="-",q,ye){let He="";(R<0||ye&&R<=0)&&(ye?R=1-R:(R=-R,He=w));let ze=String(R);for(;ze.length<V;)ze="0"+ze;return q&&(ze=ze.slice(ze.length-V)),He+ze}function Ne(R,V,w=0,q=!1,ye=!1){return function(He,ze){let pt=function Ve(R,V){switch(R){case $.FullYear:return V.getFullYear();case $.Month:return V.getMonth();case $.Date:return V.getDate();case $.Hours:return V.getHours();case $.Minutes:return V.getMinutes();case $.Seconds:return V.getSeconds();case $.FractionalSeconds:return V.getMilliseconds();case $.Day:return V.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,He);if((w>0||pt>-w)&&(pt+=w),R===$.Hours)0===pt&&-12===w&&(pt=12);else if(R===$.FractionalSeconds)return function Ae(R,V){return de(R,3).substring(0,V)}(pt,V);const Zt=at(ze,X.MinusSign);return de(pt,V,Zt,q,ye)}}function Pe(R,V,w=Ce.Format,q=!1){return function(ye,He){return function Ke(R,V,w,q,ye,He){switch(w){case U.Months:return function mt(R,V,w){const q=(0,i.cg1)(R),He=_t([q[i.wAp.MonthsFormat],q[i.wAp.MonthsStandalone]],V);return _t(He,w)}(V,ye,q)[R.getMonth()];case U.Days:return function st(R,V,w){const q=(0,i.cg1)(R),He=_t([q[i.wAp.DaysFormat],q[i.wAp.DaysStandalone]],V);return _t(He,w)}(V,ye,q)[R.getDay()];case U.DayPeriods:const ze=R.getHours(),pt=R.getMinutes();if(He){const Qt=function mn(R){const V=(0,i.cg1)(R);return Nn(V),(V[i.wAp.ExtraData][2]||[]).map(q=>"string"==typeof q?D(q):[D(q[0]),D(q[1])])}(V),Xt=function Ft(R,V,w){const q=(0,i.cg1)(R);Nn(q);const He=_t([q[i.wAp.ExtraData][0],q[i.wAp.ExtraData][1]],V)||[];return _t(He,w)||[]}(V,ye,q),B=Qt.findIndex(a=>{if(Array.isArray(a)){const[f,N]=a,K=ze>=f.hours&&pt>=f.minutes,se=ze<N.hours||ze===N.hours&&pt<N.minutes;if(f.hours<N.hours){if(K&&se)return!0}else if(K||se)return!0}else if(a.hours===ze&&a.minutes===pt)return!0;return!1});if(-1!==B)return Xt[B]}return function qe(R,V,w){const q=(0,i.cg1)(R),He=_t([q[i.wAp.DayPeriodsFormat],q[i.wAp.DayPeriodsStandalone]],V);return _t(He,w)}(V,ye,q)[ze<12?0:1];case U.Eras:return function Qe(R,V){return _t((0,i.cg1)(R)[i.wAp.Eras],V)}(V,q)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${w}`)}}(ye,He,R,V,w,q)}}function tt(R){return function(V,w,q){const ye=-1*q,He=at(w,X.MinusSign),ze=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(R){case H.Short:return(ye>=0?"+":"")+de(ze,2,He)+de(Math.abs(ye%60),2,He);case H.ShortGMT:return"GMT"+(ye>=0?"+":"")+de(ze,1,He);case H.Long:return"GMT"+(ye>=0?"+":"")+de(ze,2,He)+":"+de(Math.abs(ye%60),2,He);case H.Extended:return 0===q?"Z":(ye>=0?"+":"")+de(ze,2,He)+":"+de(Math.abs(ye%60),2,He);default:throw new Error(`Unknown zone width "${R}"`)}}}function dt(R){return z(R.getFullYear(),R.getMonth(),R.getDate()+(4-R.getDay()))}function qt(R,V=!1){return function(w,q){let ye;if(V){const He=new Date(w.getFullYear(),w.getMonth(),1).getDay()-1,ze=w.getDate();ye=1+Math.floor((ze+He)/7)}else{const He=dt(w),ze=function Et(R){const V=z(R,0,1).getDay();return z(R,0,1+(V<=4?4:11)-V)}(He.getFullYear()),pt=He.getTime()-ze.getTime();ye=1+Math.round(pt/6048e5)}return de(ye,R,at(q,X.MinusSign))}}function dn(R,V=!1){return function(w,q){return de(dt(w).getFullYear(),R,at(q,X.MinusSign),V)}}const nn={};function pr(R,V){R=R.replace(/:/g,"");const w=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(w)?V:w}function qn(R){return R instanceof Date&&!isNaN(R.valueOf())}function jr(R,V){V=encodeURIComponent(V);for(const w of R.split(";")){const q=w.indexOf("="),[ye,He]=-1==q?[w,""]:[w.slice(0,q),w.slice(q+1)];if(ye.trim()===V)return decodeURIComponent(He)}return null}let ys=(()=>{class R{constructor(w,q,ye,He){this._iterableDiffers=w,this._keyValueDiffers=q,this._ngEl=ye,this._renderer=He,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(w){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof w?w.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(w){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof w?w.split(/\s+/):w,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const w=this._iterableDiffer.diff(this._rawClass);w&&this._applyIterableChanges(w)}else if(this._keyValueDiffer){const w=this._keyValueDiffer.diff(this._rawClass);w&&this._applyKeyValueChanges(w)}}_applyKeyValueChanges(w){w.forEachAddedItem(q=>this._toggleClass(q.key,q.currentValue)),w.forEachChangedItem(q=>this._toggleClass(q.key,q.currentValue)),w.forEachRemovedItem(q=>{q.previousValue&&this._toggleClass(q.key,!1)})}_applyIterableChanges(w){w.forEachAddedItem(q=>{if("string"!=typeof q.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(q.item)}`);this._toggleClass(q.item,!0)}),w.forEachRemovedItem(q=>this._toggleClass(q.item,!1))}_applyClasses(w){w&&(Array.isArray(w)||w instanceof Set?w.forEach(q=>this._toggleClass(q,!0)):Object.keys(w).forEach(q=>this._toggleClass(q,!!w[q])))}_removeClasses(w){w&&(Array.isArray(w)||w instanceof Set?w.forEach(q=>this._toggleClass(q,!1)):Object.keys(w).forEach(q=>this._toggleClass(q,!1)))}_toggleClass(w,q){(w=w.trim())&&w.split(/\s+/g).forEach(ye=>{q?this._renderer.addClass(this._ngEl.nativeElement,ye):this._renderer.removeClass(this._ngEl.nativeElement,ye)})}}return R.\u0275fac=function(w){return new(w||R)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},R.\u0275dir=i.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})();class gr{constructor(V,w,q,ye){this.$implicit=V,this.ngForOf=w,this.index=q,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wn=(()=>{class R{constructor(w,q,ye){this._viewContainer=w,this._template=q,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(w){this._ngForOf=w,this._ngForOfDirty=!0}set ngForTrackBy(w){this._trackByFn=w}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(w){w&&(this._template=w)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const w=this._ngForOf;!this._differ&&w&&(this._differ=this._differs.find(w).create(this.ngForTrackBy))}if(this._differ){const w=this._differ.diff(this._ngForOf);w&&this._applyChanges(w)}}_applyChanges(w){const q=this._viewContainer;w.forEachOperation((ye,He,ze)=>{if(null==ye.previousIndex)q.createEmbeddedView(this._template,new gr(ye.item,this._ngForOf,-1,-1),null===ze?void 0:ze);else if(null==ze)q.remove(null===He?void 0:He);else if(null!==He){const pt=q.get(He);q.move(pt,ze),Dr(pt,ye)}});for(let ye=0,He=q.length;ye<He;ye++){const pt=q.get(ye).context;pt.index=ye,pt.count=He,pt.ngForOf=this._ngForOf}w.forEachIdentityChange(ye=>{Dr(q.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(w,q){return!0}}return R.\u0275fac=function(w){return new(w||R)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},R.\u0275dir=i.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function Dr(R,V){R.context.$implicit=V.item}let tn=(()=>{class R{constructor(w,q){this._viewContainer=w,this._context=new ei,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(w){this._context.$implicit=this._context.ngIf=w,this._updateView()}set ngIfThen(w){to("ngIfThen",w),this._thenTemplateRef=w,this._thenViewRef=null,this._updateView()}set ngIfElse(w){to("ngIfElse",w),this._elseTemplateRef=w,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(w,q){return!0}}return R.\u0275fac=function(w){return new(w||R)(i.Y36(i.s_b),i.Y36(i.Rgc))},R.\u0275dir=i.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class ei{constructor(){this.$implicit=null,this.ngIf=null}}function to(R,V){if(V&&!V.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,i.AaK)(V)}'.`)}class yr{constructor(V,w){this._viewContainerRef=V,this._templateRef=w,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(V){V&&!this._created?this.create():!V&&this._created&&this.destroy()}}let Nr=(()=>{class R{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(w){this._ngSwitch=w,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(w){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(w)}_matchCase(w){const q=w==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),q}_updateDefaultCases(w){if(this._defaultViews&&w!==this._defaultUsed){this._defaultUsed=w;for(let q=0;q<this._defaultViews.length;q++)this._defaultViews[q].enforceState(w)}}}return R.\u0275fac=function(w){return new(w||R)},R.\u0275dir=i.lG2({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),R})(),Er=(()=>{class R{constructor(w,q,ye){this.ngSwitch=ye,ye._addCase(),this._view=new yr(w,q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return R.\u0275fac=function(w){return new(w||R)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(Nr,9))},R.\u0275dir=i.lG2({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),R})(),Dn=(()=>{class R{constructor(w,q,ye){this._ngEl=w,this._differs=q,this._renderer=ye,this._ngStyle=null,this._differ=null}set ngStyle(w){this._ngStyle=w,!this._differ&&w&&(this._differ=this._differs.find(w).create())}ngDoCheck(){if(this._differ){const w=this._differ.diff(this._ngStyle);w&&this._applyChanges(w)}}_setStyle(w,q){const[ye,He]=w.split("."),ze=-1===ye.indexOf("-")?void 0:i.JOm.DashCase;null!=q?this._renderer.setStyle(this._ngEl.nativeElement,ye,He?`${q}${He}`:q,ze):this._renderer.removeStyle(this._ngEl.nativeElement,ye,ze)}_applyChanges(w){w.forEachRemovedItem(q=>this._setStyle(q.key,null)),w.forEachAddedItem(q=>this._setStyle(q.key,q.currentValue)),w.forEachChangedItem(q=>this._setStyle(q.key,q.currentValue))}}return R.\u0275fac=function(w){return new(w||R)(i.Y36(i.SBq),i.Y36(i.aQg),i.Y36(i.Qsj))},R.\u0275dir=i.lG2({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),R})();function hn(R,V){return new i.vHH(2100,!1)}class Gr{createSubscription(V,w){return V.subscribe({next:w,error:q=>{throw q}})}dispose(V){V.unsubscribe()}}class er{createSubscription(V,w){return V.then(w,q=>{throw q})}dispose(V){}}const Oo=new er,ti=new Gr;let no=(()=>{class R{constructor(w){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=w}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(w){return this._obj?w!==this._obj?(this._dispose(),this.transform(w)):this._latestValue:(w&&this._subscribe(w),this._latestValue)}_subscribe(w){this._obj=w,this._strategy=this._selectStrategy(w),this._subscription=this._strategy.createSubscription(w,q=>this._updateLatestValue(w,q))}_selectStrategy(w){if((0,i.QGY)(w))return Oo;if((0,i.F4k)(w))return ti;throw hn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(w,q){w===this._obj&&(this._latestValue=q,this._ref.markForCheck())}}return R.\u0275fac=function(w){return new(w||R)(i.Y36(i.sBO,16))},R.\u0275pipe=i.Yjl({name:"async",type:R,pure:!1,standalone:!0}),R})();const Jr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ys=(()=>{class R{transform(w){if(null==w)return null;if("string"!=typeof w)throw hn();return w.replace(Jr,q=>q[0].toUpperCase()+q.slice(1).toLowerCase())}}return R.\u0275fac=function(w){return new(w||R)},R.\u0275pipe=i.Yjl({name:"titlecase",type:R,pure:!0,standalone:!0}),R})();const Bs=new i.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let No=(()=>{class R{constructor(w,q){this.locale=w,this.defaultTimezone=q}transform(w,q="mediumDate",ye,He){if(null==w||""===w||w!=w)return null;try{return Y(w,q,He||this.locale,ye??this.defaultTimezone??void 0)}catch(ze){throw hn()}}}return R.\u0275fac=function(w){return new(w||R)(i.Y36(i.soG,16),i.Y36(Bs,24))},R.\u0275pipe=i.Yjl({name:"date",type:R,pure:!0,standalone:!0}),R})(),qr=(()=>{class R{}return R.\u0275fac=function(w){return new(w||R)},R.\u0275mod=i.oAB({type:R}),R.\u0275inj=i.cJS({}),R})();const os="browser";function Is(R){return R===os}let Po=(()=>{class R{}return R.\u0275prov=(0,i.Yz7)({token:R,providedIn:"root",factory:()=>new Gn((0,i.LFG)(p),window)}),R})();class Gn{constructor(V,w){this.document=V,this.window=w,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const w=function Ks(R,V){const w=R.getElementById(V)||R.getElementsByName(V)[0];if(w)return w;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const q=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let ye=q.currentNode;for(;ye;){const He=ye.shadowRoot;if(He){const ze=He.getElementById(V)||He.querySelector(`[name="${V}"]`);if(ze)return ze}ye=q.nextNode()}}return null}(this.document,V);w&&(this.scrollToElement(w),w.focus())}setHistoryScrollRestoration(V){if(this.supportScrollRestoration()){const w=this.window.history;w&&w.scrollRestoration&&(w.scrollRestoration=V)}}scrollToElement(V){const w=V.getBoundingClientRect(),q=w.left+this.window.pageXOffset,ye=w.top+this.window.pageYOffset,He=this.offset();this.window.scrollTo(q-He[0],ye-He[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const V=as(this.window.history)||as(Object.getPrototypeOf(this.window.history));return!(!V||!V.writable&&!V.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function as(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class co{}},529:(vt,Le,g)=>{"use strict";g.d(Le,{JF:()=>ue,LE:()=>ne,TP:()=>st,WM:()=>y,eN:()=>Fe});var i=g(6895),_=g(8256),d=g(9646),v=g(9751),T=g(4351),S=g(9300),p=g(4004);class m{}class M{}class y{constructor(H){this.normalizedNames=new Map,this.lazyUpdate=null,H?this.lazyInit="string"==typeof H?()=>{this.headers=new Map,H.split("\n").forEach($=>{const U=$.indexOf(":");if(U>0){const Y=$.slice(0,U),z=Y.toLowerCase(),_e=$.slice(U+1).trim();this.maybeSetNormalizedName(Y,z),this.headers.has(z)?this.headers.get(z).push(_e):this.headers.set(z,[_e])}})}:()=>{this.headers=new Map,Object.keys(H).forEach($=>{let U=H[$];const Y=$.toLowerCase();"string"==typeof U&&(U=[U]),U.length>0&&(this.headers.set(Y,U),this.maybeSetNormalizedName($,Y))})}:this.headers=new Map}has(H){return this.init(),this.headers.has(H.toLowerCase())}get(H){this.init();const $=this.headers.get(H.toLowerCase());return $&&$.length>0?$[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(H){return this.init(),this.headers.get(H.toLowerCase())||null}append(H,$){return this.clone({name:H,value:$,op:"a"})}set(H,$){return this.clone({name:H,value:$,op:"s"})}delete(H,$){return this.clone({name:H,value:$,op:"d"})}maybeSetNormalizedName(H,$){this.normalizedNames.has($)||this.normalizedNames.set($,H)}init(){this.lazyInit&&(this.lazyInit instanceof y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(H=>this.applyUpdate(H)),this.lazyUpdate=null))}copyFrom(H){H.init(),Array.from(H.headers.keys()).forEach($=>{this.headers.set($,H.headers.get($)),this.normalizedNames.set($,H.normalizedNames.get($))})}clone(H){const $=new y;return $.lazyInit=this.lazyInit&&this.lazyInit instanceof y?this.lazyInit:this,$.lazyUpdate=(this.lazyUpdate||[]).concat([H]),$}applyUpdate(H){const $=H.name.toLowerCase();switch(H.op){case"a":case"s":let U=H.value;if("string"==typeof U&&(U=[U]),0===U.length)return;this.maybeSetNormalizedName(H.name,$);const Y=("a"===H.op?this.headers.get($):void 0)||[];Y.push(...U),this.headers.set($,Y);break;case"d":const z=H.value;if(z){let _e=this.headers.get($);if(!_e)return;_e=_e.filter(Ee=>-1===z.indexOf(Ee)),0===_e.length?(this.headers.delete($),this.normalizedNames.delete($)):this.headers.set($,_e)}else this.headers.delete($),this.normalizedNames.delete($)}}forEach(H){this.init(),Array.from(this.normalizedNames.keys()).forEach($=>H(this.normalizedNames.get($),this.headers.get($)))}}class O{encodeKey(H){return l(H)}encodeValue(H){return l(H)}decodeKey(H){return decodeURIComponent(H)}decodeValue(H){return decodeURIComponent(H)}}const G=/%(\d[a-f0-9])/gi,L={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function l(W){return encodeURIComponent(W).replace(G,(H,$)=>L[$]??H)}function Q(W){return`${W}`}class ne{constructor(H={}){if(this.updates=null,this.cloneFrom=null,this.encoder=H.encoder||new O,H.fromString){if(H.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function x(W,H){const $=new Map;return W.length>0&&W.replace(/^\?/,"").split("&").forEach(Y=>{const z=Y.indexOf("="),[_e,Ee]=-1==z?[H.decodeKey(Y),""]:[H.decodeKey(Y.slice(0,z)),H.decodeValue(Y.slice(z+1))],de=$.get(_e)||[];de.push(Ee),$.set(_e,de)}),$}(H.fromString,this.encoder)}else H.fromObject?(this.map=new Map,Object.keys(H.fromObject).forEach($=>{const U=H.fromObject[$],Y=Array.isArray(U)?U.map(Q):[Q(U)];this.map.set($,Y)})):this.map=null}has(H){return this.init(),this.map.has(H)}get(H){this.init();const $=this.map.get(H);return $?$[0]:null}getAll(H){return this.init(),this.map.get(H)||null}keys(){return this.init(),Array.from(this.map.keys())}append(H,$){return this.clone({param:H,value:$,op:"a"})}appendAll(H){const $=[];return Object.keys(H).forEach(U=>{const Y=H[U];Array.isArray(Y)?Y.forEach(z=>{$.push({param:U,value:z,op:"a"})}):$.push({param:U,value:Y,op:"a"})}),this.clone($)}set(H,$){return this.clone({param:H,value:$,op:"s"})}delete(H,$){return this.clone({param:H,value:$,op:"d"})}toString(){return this.init(),this.keys().map(H=>{const $=this.encoder.encodeKey(H);return this.map.get(H).map(U=>$+"="+this.encoder.encodeValue(U)).join("&")}).filter(H=>""!==H).join("&")}clone(H){const $=new ne({encoder:this.encoder});return $.cloneFrom=this.cloneFrom||this,$.updates=(this.updates||[]).concat(H),$}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(H=>this.map.set(H,this.cloneFrom.map.get(H))),this.updates.forEach(H=>{switch(H.op){case"a":case"s":const $=("a"===H.op?this.map.get(H.param):void 0)||[];$.push(Q(H.value)),this.map.set(H.param,$);break;case"d":if(void 0===H.value){this.map.delete(H.param);break}{let U=this.map.get(H.param)||[];const Y=U.indexOf(Q(H.value));-1!==Y&&U.splice(Y,1),U.length>0?this.map.set(H.param,U):this.map.delete(H.param)}}}),this.cloneFrom=this.updates=null)}}class Z{constructor(){this.map=new Map}set(H,$){return this.map.set(H,$),this}get(H){return this.map.has(H)||this.map.set(H,H.defaultValue()),this.map.get(H)}delete(H){return this.map.delete(H),this}has(H){return this.map.has(H)}keys(){return this.map.keys()}}function ie(W){return typeof ArrayBuffer<"u"&&W instanceof ArrayBuffer}function pe(W){return typeof Blob<"u"&&W instanceof Blob}function De(W){return typeof FormData<"u"&&W instanceof FormData}class Se{constructor(H,$,U,Y){let z;if(this.url=$,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=H.toUpperCase(),function oe(W){switch(W){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Y?(this.body=void 0!==U?U:null,z=Y):z=U,z&&(this.reportProgress=!!z.reportProgress,this.withCredentials=!!z.withCredentials,z.responseType&&(this.responseType=z.responseType),z.headers&&(this.headers=z.headers),z.context&&(this.context=z.context),z.params&&(this.params=z.params)),this.headers||(this.headers=new y),this.context||(this.context=new Z),this.params){const _e=this.params.toString();if(0===_e.length)this.urlWithParams=$;else{const Ee=$.indexOf("?");this.urlWithParams=$+(-1===Ee?"?":Ee<$.length-1?"&":"")+_e}}else this.params=new ne,this.urlWithParams=$}serializeBody(){return null===this.body?null:ie(this.body)||pe(this.body)||De(this.body)||function ae(W){return typeof URLSearchParams<"u"&&W instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ne?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||De(this.body)?null:pe(this.body)?this.body.type||null:ie(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ne?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(H={}){const $=H.method||this.method,U=H.url||this.url,Y=H.responseType||this.responseType,z=void 0!==H.body?H.body:this.body,_e=void 0!==H.withCredentials?H.withCredentials:this.withCredentials,Ee=void 0!==H.reportProgress?H.reportProgress:this.reportProgress;let de=H.headers||this.headers,Ae=H.params||this.params;const Ne=H.context??this.context;return void 0!==H.setHeaders&&(de=Object.keys(H.setHeaders).reduce((Ve,Pe)=>Ve.set(Pe,H.setHeaders[Pe]),de)),H.setParams&&(Ae=Object.keys(H.setParams).reduce((Ve,Pe)=>Ve.set(Pe,H.setParams[Pe]),Ae)),new Se($,U,z,{params:Ae,headers:de,context:Ne,reportProgress:Ee,responseType:Y,withCredentials:_e})}}var Be=(()=>((Be=Be||{})[Be.Sent=0]="Sent",Be[Be.UploadProgress=1]="UploadProgress",Be[Be.ResponseHeader=2]="ResponseHeader",Be[Be.DownloadProgress=3]="DownloadProgress",Be[Be.Response=4]="Response",Be[Be.User=5]="User",Be))();class Ce{constructor(H,$=200,U="OK"){this.headers=H.headers||new y,this.status=void 0!==H.status?H.status:$,this.statusText=H.statusText||U,this.url=H.url||null,this.ok=this.status>=200&&this.status<300}}class re extends Ce{constructor(H={}){super(H),this.type=Be.ResponseHeader}clone(H={}){return new re({headers:H.headers||this.headers,status:void 0!==H.status?H.status:this.status,statusText:H.statusText||this.statusText,url:H.url||this.url||void 0})}}class le extends Ce{constructor(H={}){super(H),this.type=Be.Response,this.body=void 0!==H.body?H.body:null}clone(H={}){return new le({body:void 0!==H.body?H.body:this.body,headers:H.headers||this.headers,status:void 0!==H.status?H.status:this.status,statusText:H.statusText||this.statusText,url:H.url||this.url||void 0})}}class X extends Ce{constructor(H){super(H,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${H.url||"(unknown url)"}`:`Http failure response for ${H.url||"(unknown url)"}: ${H.status} ${H.statusText}`,this.error=H.error||null}}function Me(W,H){return{body:H,headers:W.headers,context:W.context,observe:W.observe,params:W.params,reportProgress:W.reportProgress,responseType:W.responseType,withCredentials:W.withCredentials}}let Fe=(()=>{class W{constructor($){this.handler=$}request($,U,Y={}){let z;if($ instanceof Se)z=$;else{let de,Ae;de=Y.headers instanceof y?Y.headers:new y(Y.headers),Y.params&&(Ae=Y.params instanceof ne?Y.params:new ne({fromObject:Y.params})),z=new Se($,U,void 0!==Y.body?Y.body:null,{headers:de,context:Y.context,params:Ae,reportProgress:Y.reportProgress,responseType:Y.responseType||"json",withCredentials:Y.withCredentials})}const _e=(0,d.of)(z).pipe((0,T.b)(de=>this.handler.handle(de)));if($ instanceof Se||"events"===Y.observe)return _e;const Ee=_e.pipe((0,S.h)(de=>de instanceof le));switch(Y.observe||"body"){case"body":switch(z.responseType){case"arraybuffer":return Ee.pipe((0,p.U)(de=>{if(null!==de.body&&!(de.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return de.body}));case"blob":return Ee.pipe((0,p.U)(de=>{if(null!==de.body&&!(de.body instanceof Blob))throw new Error("Response is not a Blob.");return de.body}));case"text":return Ee.pipe((0,p.U)(de=>{if(null!==de.body&&"string"!=typeof de.body)throw new Error("Response is not a string.");return de.body}));default:return Ee.pipe((0,p.U)(de=>de.body))}case"response":return Ee;default:throw new Error(`Unreachable: unhandled observe type ${Y.observe}}`)}}delete($,U={}){return this.request("DELETE",$,U)}get($,U={}){return this.request("GET",$,U)}head($,U={}){return this.request("HEAD",$,U)}jsonp($,U){return this.request("JSONP",$,{params:(new ne).append(U,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options($,U={}){return this.request("OPTIONS",$,U)}patch($,U,Y={}){return this.request("PATCH",$,Me(Y,U))}post($,U,Y={}){return this.request("POST",$,Me(Y,U))}put($,U,Y={}){return this.request("PUT",$,Me(Y,U))}}return W.\u0275fac=function($){return new($||W)(_.LFG(m))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac}),W})();class qe{constructor(H,$){this.next=H,this.interceptor=$}handle(H){return this.interceptor.intercept(H,this.next)}}const st=new _.OlP("HTTP_INTERCEPTORS");let mt=(()=>{class W{intercept($,U){return U.handle($)}}return W.\u0275fac=function($){return new($||W)},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac}),W})();const En=/^\)\]\}',?\n/;let bn=(()=>{class W{constructor($){this.xhrFactory=$}handle($){if("JSONP"===$.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new v.y(U=>{const Y=this.xhrFactory.build();if(Y.open($.method,$.urlWithParams),$.withCredentials&&(Y.withCredentials=!0),$.headers.forEach((Ke,tt)=>Y.setRequestHeader(Ke,tt.join(","))),$.headers.has("Accept")||Y.setRequestHeader("Accept","application/json, text/plain, */*"),!$.headers.has("Content-Type")){const Ke=$.detectContentTypeHeader();null!==Ke&&Y.setRequestHeader("Content-Type",Ke)}if($.responseType){const Ke=$.responseType.toLowerCase();Y.responseType="json"!==Ke?Ke:"text"}const z=$.serializeBody();let _e=null;const Ee=()=>{if(null!==_e)return _e;const Ke=Y.statusText||"OK",tt=new y(Y.getAllResponseHeaders()),ut=function Wn(W){return"responseURL"in W&&W.responseURL?W.responseURL:/^X-Request-URL:/m.test(W.getAllResponseHeaders())?W.getResponseHeader("X-Request-URL"):null}(Y)||$.url;return _e=new re({headers:tt,status:Y.status,statusText:Ke,url:ut}),_e},de=()=>{let{headers:Ke,status:tt,statusText:ut,url:ot}=Ee(),Et=null;204!==tt&&(Et=typeof Y.response>"u"?Y.responseText:Y.response),0===tt&&(tt=Et?200:0);let dt=tt>=200&&tt<300;if("json"===$.responseType&&"string"==typeof Et){const qt=Et;Et=Et.replace(En,"");try{Et=""!==Et?JSON.parse(Et):null}catch(dn){Et=qt,dt&&(dt=!1,Et={error:dn,text:Et})}}dt?(U.next(new le({body:Et,headers:Ke,status:tt,statusText:ut,url:ot||void 0})),U.complete()):U.error(new X({error:Et,headers:Ke,status:tt,statusText:ut,url:ot||void 0}))},Ae=Ke=>{const{url:tt}=Ee(),ut=new X({error:Ke,status:Y.status||0,statusText:Y.statusText||"Unknown Error",url:tt||void 0});U.error(ut)};let Ne=!1;const Ve=Ke=>{Ne||(U.next(Ee()),Ne=!0);let tt={type:Be.DownloadProgress,loaded:Ke.loaded};Ke.lengthComputable&&(tt.total=Ke.total),"text"===$.responseType&&!!Y.responseText&&(tt.partialText=Y.responseText),U.next(tt)},Pe=Ke=>{let tt={type:Be.UploadProgress,loaded:Ke.loaded};Ke.lengthComputable&&(tt.total=Ke.total),U.next(tt)};return Y.addEventListener("load",de),Y.addEventListener("error",Ae),Y.addEventListener("timeout",Ae),Y.addEventListener("abort",Ae),$.reportProgress&&(Y.addEventListener("progress",Ve),null!==z&&Y.upload&&Y.upload.addEventListener("progress",Pe)),Y.send(z),U.next({type:Be.Sent}),()=>{Y.removeEventListener("error",Ae),Y.removeEventListener("abort",Ae),Y.removeEventListener("load",de),Y.removeEventListener("timeout",Ae),$.reportProgress&&(Y.removeEventListener("progress",Ve),null!==z&&Y.upload&&Y.upload.removeEventListener("progress",Pe)),Y.readyState!==Y.DONE&&Y.abort()}})}}return W.\u0275fac=function($){return new($||W)(_.LFG(i.JF))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac}),W})();const Jt=new _.OlP("XSRF_COOKIE_NAME"),Nn=new _.OlP("XSRF_HEADER_NAME");class mn{}let Ft=(()=>{class W{constructor($,U,Y){this.doc=$,this.platform=U,this.cookieName=Y,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const $=this.doc.cookie||"";return $!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,i.Mx)($,this.cookieName),this.lastCookieString=$),this.lastToken}}return W.\u0275fac=function($){return new($||W)(_.LFG(i.K0),_.LFG(_.Lbi),_.LFG(Jt))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac}),W})(),Wt=(()=>{class W{constructor($,U){this.tokenService=$,this.headerName=U}intercept($,U){const Y=$.url.toLowerCase();if("GET"===$.method||"HEAD"===$.method||Y.startsWith("http://")||Y.startsWith("https://"))return U.handle($);const z=this.tokenService.getToken();return null!==z&&!$.headers.has(this.headerName)&&($=$.clone({headers:$.headers.set(this.headerName,z)})),U.handle($)}}return W.\u0275fac=function($){return new($||W)(_.LFG(mn),_.LFG(Nn))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac}),W})(),_t=(()=>{class W{constructor($,U){this.backend=$,this.injector=U,this.chain=null}handle($){if(null===this.chain){const U=this.injector.get(st,[]);this.chain=U.reduceRight((Y,z)=>new qe(Y,z),this.backend)}return this.chain.handle($)}}return W.\u0275fac=function($){return new($||W)(_.LFG(M),_.LFG(_.zs3))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac}),W})(),ee=(()=>{class W{static disable(){return{ngModule:W,providers:[{provide:Wt,useClass:mt}]}}static withOptions($={}){return{ngModule:W,providers:[$.cookieName?{provide:Jt,useValue:$.cookieName}:[],$.headerName?{provide:Nn,useValue:$.headerName}:[]]}}}return W.\u0275fac=function($){return new($||W)},W.\u0275mod=_.oAB({type:W}),W.\u0275inj=_.cJS({providers:[Wt,{provide:st,useExisting:Wt,multi:!0},{provide:mn,useClass:Ft},{provide:Jt,useValue:"XSRF-TOKEN"},{provide:Nn,useValue:"X-XSRF-TOKEN"}]}),W})(),ue=(()=>{class W{}return W.\u0275fac=function($){return new($||W)},W.\u0275mod=_.oAB({type:W}),W.\u0275inj=_.cJS({providers:[Fe,{provide:m,useClass:_t},bn,{provide:M,useExisting:bn}],imports:[ee.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),W})()},8256:(vt,Le,g)=>{"use strict";g.d(Le,{QbO:()=>GT,tb:()=>jg,AFp:()=>Vg,ip1:()=>Bg,CZH:()=>Eu,hGG:()=>Av,z2F:()=>Su,sBO:()=>uv,Sil:()=>HT,_Vd:()=>na,EJc:()=>BT,Xts:()=>Yu,SBq:()=>ra,lqb:()=>$o,qLn:()=>sa,vpe:()=>Gs,XFs:()=>H,OlP:()=>sn,zs3:()=>Wo,ZZ4:()=>Ll,aQg:()=>bl,soG:()=>mu,YKP:()=>Kp,h0i:()=>ki,PXZ:()=>nv,R0b:()=>rs,FiY:()=>qi,Lbi:()=>xT,g9A:()=>Kg,Qsj:()=>Dm,FYo:()=>Nd,JOm:()=>bs,q3G:()=>Fn,tp0:()=>Qi,Rgc:()=>_a,dDg:()=>ZT,eoX:()=>Zg,GfV:()=>Md,s_b:()=>hu,ifc:()=>Ve,MMx:()=>ul,Lck:()=>Uy,eFA:()=>tE,G48:()=>av,Gpc:()=>Re,f3M:()=>Ql,_c5:()=>vv,c2e:()=>kT,zSh:()=>Hu,wAp:()=>Pt,vHH:()=>pe,lri:()=>qg,rWj:()=>Qg,EiD:()=>gd,mCW:()=>Fa,qzn:()=>Si,JVY:()=>JE,pB0:()=>QE,eBb:()=>zE,L6k:()=>WE,LAX:()=>qE,D6c:()=>Iv,cg1:()=>el,kL8:()=>gp,dqk:()=>Pe,Z0I:()=>Wt,sIi:()=>la,CqO:()=>Sh,QGY:()=>Jc,QP$:()=>At,F4k:()=>mh,RDi:()=>GE,AaK:()=>l,z3N:()=>zs,qOj:()=>Yc,TTD:()=>vs,_Bn:()=>Hp,jDz:()=>$p,xp6:()=>pf,uIk:()=>Hc,Tol:()=>Vh,Gre:()=>sp,ekj:()=>qc,Suo:()=>mg,Xpm:()=>cn,lG2:()=>Ue,Yz7:()=>Jt,cJS:()=>mn,oAB:()=>qn,Yjl:()=>Oe,Y36:()=>Ai,_UZ:()=>$c,BQk:()=>su,ynx:()=>ru,qZA:()=>nu,TgZ:()=>tu,EpF:()=>Eh,n5z:()=>Yo,LFG:()=>Bn,$8M:()=>$i,$Z:()=>Of,NdJ:()=>Wc,CRH:()=>Sg,kcU:()=>Te,O4$:()=>K,oxw:()=>vh,ALo:()=>ag,lcZ:()=>ug,xi3:()=>cg,Hsn:()=>Ih,F$t:()=>Ah,Q6J:()=>Kc,MGl:()=>ou,DdM:()=>Xp,VKq:()=>eg,WLB:()=>tg,iGM:()=>gg,MAs:()=>ph,KtG:()=>fo,Jf7:()=>Vd,CHM:()=>Pr,oJD:()=>Ed,LSH:()=>ku,Akn:()=>ms,Udp:()=>zc,d8E:()=>Xc,YNc:()=>hh,W1O:()=>Tg,_uU:()=>zh,Oqu:()=>Zc,hij:()=>au,Gf:()=>Eg});var i=g(7579),_=g(727),d=g(9751),v=g(8189),T=g(8421),S=g(515),p=g(7669),m=g(2076),y=g(2961),F=g(4482);function x(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new y.Hp({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function G(e){for(let t in e)if(e[t]===G)return t;throw Error("Could not find renamed property on target object.")}function L(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function l(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(l).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Q(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ne=G({__forward_ref__:G});function Re(e){return e.__forward_ref__=Re,e.toString=function(){return l(this())},e}function Z(e){return oe(e)?e():e}function oe(e){return"function"==typeof e&&e.hasOwnProperty(ne)&&e.__forward_ref__===Re}class pe extends Error{constructor(t,n){super(function De(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function ae(e){return"string"==typeof e?e:null==e?"":String(e)}function le(e,t){throw new pe(-201,!1)}function ft(e,t){null==e&&function Tt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Jt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function mn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ft(e){return _t(e,ue)||_t(e,ce)}function Wt(e){return null!==Ft(e)}function _t(e,t){return e.hasOwnProperty(t)?e[t]:null}function ee(e){return e&&(e.hasOwnProperty(te)||e.hasOwnProperty(W))?e[te]:null}const ue=G({\u0275prov:G}),te=G({\u0275inj:G}),ce=G({ngInjectableDef:G}),W=G({ngInjectorDef:G});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let $;function Y(e){const t=$;return $=e,t}function z(e,t,n){const r=Ft(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==t?t:void le(l(e))}function Ee(e){return{toString:e}.toString()}var de=(()=>((de=de||{})[de.OnPush=0]="OnPush",de[de.Default=1]="Default",de))(),Ve=(()=>{return(e=Ve||(Ve={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ve;var e})();const Pe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ut={},ot=[],Et=G({\u0275cmp:G}),dt=G({\u0275dir:G}),qt=G({\u0275pipe:G}),dn=G({\u0275mod:G}),nn=G({\u0275fac:G}),xn=G({__NG_ELEMENT_ID__:G});let pr=0;function cn(e){return Ee(()=>{const n=!0===e.standalone,r={},s={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===de.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||ot,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ve.Emulated,id:"c"+pr++,styles:e.styles||ot,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.dependencies,c=e.features;return s.inputs=Qn(e.inputs,r),s.outputs=Qn(e.outputs),c&&c.forEach(C=>C(s)),s.directiveDefs=o?()=>("function"==typeof o?o():o).map(un).filter(Mn):null,s.pipeDefs=o?()=>("function"==typeof o?o():o).map($e).filter(Mn):null,s})}function un(e){return he(e)||we(e)}function Mn(e){return null!==e}function qn(e){return Ee(()=>({type:e.type,bootstrap:e.bootstrap||ot,declarations:e.declarations||ot,imports:e.imports||ot,exports:e.exports||ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Qn(e,t){if(null==e)return ut;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],o=s;Array.isArray(s)&&(o=s[1],s=s[0]),n[s]=r,t&&(t[s]=o)}return n}const Ue=cn;function Oe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function he(e){return e[Et]||null}function we(e){return e[dt]||null}function $e(e){return e[qt]||null}function At(e){const t=he(e)||we(e)||$e(e);return null!==t&&t.standalone}function Nt(e,t){const n=e[dn]||null;if(!n&&!0===t)throw new Error(`Type ${l(e)} does not have '\u0275mod' property.`);return n}function Dn(e){return Array.isArray(e)&&"object"==typeof e[1]}function Tn(e){return Array.isArray(e)&&!0===e[1]}function $r(e){return 0!=(8&e.flags)}function hn(e){return 2==(2&e.flags)}function Gr(e){return 1==(1&e.flags)}function er(e){return null!==e.template}function Oo(e){return 0!=(256&e[2])}function qr(e,t){return e.hasOwnProperty(nn)?e[nn]:null}class os{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function vs(){return is}function is(e){return e.type.prototype.ngOnChanges&&(e.setInput=Is),As}function As(){const e=wo(this),t=e?.current;if(t){const n=e.previous;if(n===ut)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Is(e,t,n,r){const s=wo(e)||function Rs(e,t){return e[ao]=t}(e,{previous:ut,current:null}),o=s.current||(s.current={}),c=s.previous,C=this.declaredInputs[n],I=c[C];o[C]=new os(I&&I.currentValue,t,c===ut),e[r]=t}vs.ngInherit=!0;const ao="__ngSimpleChanges__";function wo(e){return e[ao]||null}function Yt(e){for(;Array.isArray(e);)e=e[0];return e}function $s(e,t){return Yt(t[e])}function tr(e,t){return Yt(t[e.index])}function cs(e,t){return e.data[t]}function Ds(e,t){return e[t]}function ln(e,t){const n=t[e];return Dn(n)?n:n[0]}function Yr(e){return 64==(64&e[2])}function wr(e,t){return null==t?null:e[t]}function ds(e){e[18]=0}function fs(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Mt={lFrame:ze(null),bindingsEnabled:!0};function ws(){return Mt.bindingsEnabled}function Ze(){return Mt.lFrame.lView}function Bt(){return Mt.lFrame.tView}function Pr(e){return Mt.lFrame.contextLView=e,e[8]}function fo(e){return Mt.lFrame.contextLView=null,e}function _n(){let e=ur();for(;null!==e&&64===e.type;)e=e.parent;return e}function ur(){return Mt.lFrame.currentTNode}function cr(e,t){const n=Mt.lFrame;n.currentTNode=e,n.isParent=t}function Zr(){return Mt.lFrame.isParent}function ho(){Mt.lFrame.isParent=!1}function Yn(){const e=Mt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function dr(){return Mt.lFrame.bindingIndex++}function Tr(e){const t=Mt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ci(e,t){const n=Mt.lFrame;n.bindingIndex=n.bindingRootIndex=e,go(t)}function go(e){Mt.lFrame.currentDirectiveIndex=e}function Eo(e){const t=Mt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function R(){return Mt.lFrame.currentQueryIndex}function V(e){Mt.lFrame.currentQueryIndex=e}function w(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function q(e,t,n){if(n&H.SkipSelf){let s=t,o=e;for(;!(s=s.parent,null!==s||n&H.Host||(s=w(o),null===s||(o=o[15],10&s.type))););if(null===s)return!1;t=s,e=o}const r=Mt.lFrame=He();return r.currentTNode=t,r.lView=e,!0}function ye(e){const t=He(),n=e[1];Mt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function He(){const e=Mt.lFrame,t=null===e?null:e.child;return null===t?ze(e):t}function ze(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function pt(){const e=Mt.lFrame;return Mt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Zt=pt;function Qt(){const e=pt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function a(){return Mt.lFrame.selectedIndex}function f(e){Mt.lFrame.selectedIndex=e}function N(){const e=Mt.lFrame;return cs(e.tView,e.selectedIndex)}function K(){Mt.lFrame.currentNamespace="svg"}function Te(){!function ve(){Mt.lFrame.currentNamespace=null}()}function lt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:k,ngOnDestroy:J}=o;c&&(e.contentHooks||(e.contentHooks=[])).push(-n,c),C&&((e.contentHooks||(e.contentHooks=[])).push(n,C),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,C)),I&&(e.viewHooks||(e.viewHooks=[])).push(-n,I),k&&((e.viewHooks||(e.viewHooks=[])).push(n,k),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,k)),null!=J&&(e.destroyHooks||(e.destroyHooks=[])).push(n,J)}}function St(e,t,n){Rt(e,t,3,n)}function Vt(e,t,n,r){(3&e[2])===n&&Rt(e,t,n,r)}function xt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Rt(e,t,n,r){const o=r??-1,c=t.length-1;let C=0;for(let I=void 0!==r?65535&e[18]:0;I<c;I++)if("number"==typeof t[I+1]){if(C=t[I],null!=r&&C>=r)break}else t[I]<0&&(e[18]+=65536),(C<o||-1==o)&&(Ut(e,n,t,I),e[18]=(4294901760&e[18])+I+2),I++}function Ut(e,t,n,r){const s=n[r]<0,o=n[r+1],C=e[s?-n[r]:n[r]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(C)}finally{}}}else try{o.call(C)}finally{}}class en{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function fr(e,t,n){let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],c=n[r++],C=n[r++];e.setAttribute(t,c,C,o)}else{const o=s,c=n[++r];hs(o)?e.setProperty(t,o,c):e.setAttribute(t,o,c),r++}}return r}function mo(e){return 3===e||4===e||6===e}function hs(e){return 64===e.charCodeAt(0)}function br(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||Fo(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function Fo(e,t,n,r,s){let o=0,c=e.length;if(-1===t)c=-1;else for(;o<e.length;){const C=e[o++];if("number"==typeof C){if(C===t){c=-1;break}if(C>t){c=o-1;break}}}for(;o<e.length;){const C=e[o];if("number"==typeof C)break;if(C===n){if(null===r)return void(null!==s&&(e[o+1]=s));if(r===e[o+1])return void(e[o+2]=s)}o++,null!==r&&o++,null!==s&&o++}-1!==c&&(e.splice(c,0,t),o=c+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==s&&e.splice(o++,0,s)}function xo(e){return-1!==e}function Ct(e){return 32767&e}function Ot(e,t){let n=function Dt(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let $t=!0;function pn(e){const t=$t;return $t=e,t}let gn=0;const Ar={};function An(e,t){const n=$n(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Sr(r.data,e),Sr(t,null),Sr(r.blueprint,null));const s=Hr(e,t),o=e.injectorIndex;if(xo(s)){const c=Ct(s),C=Ot(s,t),I=C[1].data;for(let k=0;k<8;k++)t[o+k]=C[c+k]|I[c+k]}return t[o+8]=s,o}function Sr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $n(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Hr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){if(r=ji(s),null===r)return-1;if(n++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ts(e,t,n){!function Hi(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(xn)&&(r=n[xn]),null==r&&(r=n[xn]=gn++);const s=255&r;t.data[e+(s>>5)]|=1<<s}(e,t,n)}function Ta(e,t,n){if(n&H.Optional||void 0!==e)return e;le()}function Go(e,t,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){const s=e[9],o=Y(void 0);try{return s?s.get(t,r,n&H.Optional):z(t,r,n&H.Optional)}finally{Y(o)}}return Ta(r,0,n)}function va(e,t,n,r=H.Default,s){if(null!==e){if(1024&t[2]){const c=function Au(e,t,n,r,s){let o=e,c=t;for(;null!==o&&null!==c&&1024&c[2]&&!(256&c[2]);){const C=Aa(o,c,n,r|H.Self,Ar);if(C!==Ar)return C;let I=o.parent;if(!I){const k=c[21];if(k){const J=k.get(n,Ar,r);if(J!==Ar)return J}I=ji(c),c=c[15]}o=I}return s}(e,t,n,r,Ar);if(c!==Ar)return c}const o=Aa(e,t,n,r,Ar);if(o!==Ar)return o}return Go(t,n,r,s)}function Aa(e,t,n,r,s){const o=function Ia(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(xn)?e[xn]:void 0;return"number"==typeof t?t>=0?255&t:fi:t}(n);if("function"==typeof o){if(!q(t,e,r))return r&H.Host?Ta(s,0,r):Go(t,n,r,s);try{const c=o(r);if(null!=c||r&H.Optional)return c;le()}finally{Zt()}}else if("number"==typeof o){let c=null,C=$n(e,t),I=-1,k=r&H.Host?t[16][6]:null;for((-1===C||r&H.SkipSelf)&&(I=-1===C?Hr(e,t):t[C+8],-1!==I&&Ra(r,!1)?(c=t[1],C=Ct(I),t=Ot(I,t)):C=-1);-1!==C;){const J=t[1];if(Un(o,C,J.data)){const fe=vu(C,t,n,c,r,k);if(fe!==Ar)return fe}I=t[C+8],-1!==I&&Ra(r,t[1].data[C+8]===k)&&Un(o,C,t)?(c=J,C=Ct(I),t=Ot(I,t)):C=-1}}return s}function vu(e,t,n,r,s,o){const c=t[1],C=c.data[e+8],J=di(C,c,n,null==r?hn(C)&&$t:r!=c&&0!=(3&C.type),s&H.Host&&o===C);return null!==J?ko(t,c,J,C):Ar}function di(e,t,n,r,s){const o=e.providerIndexes,c=t.data,C=1048575&o,I=e.directiveStart,J=o>>20,Ie=s?C+J:e.directiveEnd;for(let xe=r?C:C+J;xe<Ie;xe++){const We=c[xe];if(xe<I&&n===We||xe>=I&&We.type===n)return xe}if(s){const xe=c[I];if(xe&&er(xe)&&xe.type===n)return I}return null}function ko(e,t,n,r){let s=e[n];const o=t.data;if(function Pn(e){return e instanceof en}(s)){const c=s;c.resolving&&function Be(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new pe(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ae(e)}(o[n]));const C=pn(c.canSeeViewProviders);c.resolving=!0;const I=c.injectImpl?Y(c.injectImpl):null;q(e,r,H.Default);try{s=e[n]=c.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Je(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:o}=t.type.prototype;if(r){const c=is(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,s),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==I&&Y(I),pn(C),c.resolving=!1,Zt()}}return s}function Un(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ra(e,t){return!(e&H.Self||e&H.Host&&t)}class Ws{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return va(this._tNode,this._lView,t,r,n)}}function fi(){return new Ws(_n(),Ze())}function Yo(e){return Ee(()=>{const t=e.prototype.constructor,n=t[nn]||Ki(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const o=s[nn]||Ki(s);if(o&&o!==n)return o;s=Object.getPrototypeOf(s)}return o=>new o})}function Ki(e){return oe(e)?()=>{const t=Ki(Z(e));return t&&t()}:qr(e)}function ji(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}function $i(e){return function Tu(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let s=0;for(;s<r;){const o=n[s];if(mo(o))break;if(0===o)s+=2;else if("number"==typeof o)for(s++;s<r&&"string"==typeof n[s];)s++;else{if(o===t)return n[s+1];s+=2}}}return null}(_n(),e)}const So="__parameters__";function Vo(e,t,n){return Ee(()=>{const r=function Co(e){return function(...n){if(e){const r=e(...n);for(const s in r)this[s]=r[s]}}}(t);function s(...o){if(this instanceof s)return r.apply(this,o),this;const c=new s(...o);return C.annotation=c,C;function C(I,k,J){const fe=I.hasOwnProperty(So)?I[So]:Object.defineProperty(I,So,{value:[]})[So];for(;fe.length<=J;)fe.push(null);return(fe[J]=fe[J]||[]).push(c),I}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class sn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Jt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ir(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Ir(r,t)):t!==e&&t.push(r)}return t}function ps(e,t){e.forEach(n=>Array.isArray(n)?ps(n,t):t(n))}function Na(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function hi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ho(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function u(e,t,n){let r=b(e,t);return r>=0?e[1|r]=n:(r=~r,function Nu(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function A(e,t){const n=b(e,t);if(n>=0)return e[1|n]}function b(e,t){return function ge(e,t,n){let r=0,s=e.length>>n;for(;s!==r;){const o=r+(s-r>>1),c=e[o<<n];if(t===c)return o<<n;c>t?s=o:r=o+1}return~(s<<n)}(e,t,1)}const hr={},pi="__NG_DI_FLAG__",Ls="ngTempTokenPath",vE=/\n/gm,zl="__source";let Wi;function gi(e){const t=Wi;return Wi=e,t}function IE(e,t=H.Default){if(void 0===Wi)throw new pe(-203,!1);return null===Wi?z(e,void 0,t):Wi.get(e,t&H.Optional?null:void 0,t)}function Bn(e,t=H.Default){return(function U(){return $}()||IE)(Z(e),t)}function Ql(e,t=H.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),Bn(e,t)}function wu(e){const t=[];for(let n=0;n<e.length;n++){const r=Z(e[n]);if(Array.isArray(r)){if(0===r.length)throw new pe(900,!1);let s,o=H.Default;for(let c=0;c<r.length;c++){const C=r[c],I=RE(C);"number"==typeof I?-1===I?s=C.token:o|=I:s=C}t.push(Bn(s,o))}else t.push(Bn(r))}return t}function zi(e,t){return e[pi]=t,e.prototype[pi]=t,e}function RE(e){return e[pi]}const qi=zi(Vo("Optional"),8),Qi=zi(Vo("SkipSelf"),4);let Lu,ba,Ua;function GE(e){Lu=e}function mi(e){return function bu(){if(void 0===ba&&(ba=null,Pe.trustedTypes))try{ba=Pe.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ba}()?.createHTML(e)||e}function id(e){return function Uu(){if(void 0===Ua&&(Ua=null,Pe.trustedTypes))try{Ua=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ua}()?.createHTML(e)||e}class Ko{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class BE extends Ko{getTypeName(){return"HTML"}}class VE extends Ko{getTypeName(){return"Style"}}class HE extends Ko{getTypeName(){return"Script"}}class KE extends Ko{getTypeName(){return"URL"}}class jE extends Ko{getTypeName(){return"ResourceURL"}}function zs(e){return e instanceof Ko?e.changingThisBreaksApplicationSecurity:e}function Si(e,t){const n=function $E(e){return e instanceof Ko&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function JE(e){return new BE(e)}function WE(e){return new VE(e)}function zE(e){return new HE(e)}function qE(e){return new KE(e)}function QE(e){return new jE(e)}class ZE{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(mi(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class XE{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=mi(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=mi(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let s=n.length-1;0<s;s--){const c=n.item(s).name;("xmlns:ns1"===c||0===c.indexOf("ns1:"))&&t.removeAttribute(c)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const tm=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Fa(e){return(e=String(e)).match(tm)?e:"unsafe:"+e}function qs(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ea(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const ld=qs("area,br,col,hr,img,wbr"),dd=qs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fd=qs("rp,rt"),Fu=ea(ld,ea(dd,qs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ea(fd,qs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ea(fd,dd)),xu=qs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hd=ea(xu,qs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nm=qs("script,style,template");class rm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=this.checkClobberedElement(n,n.nextSibling);if(s){n=s;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Fu.hasOwnProperty(n))return this.sanitizedSomething=!0,!nm.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let s=0;s<r.length;s++){const o=r.item(s),c=o.name,C=c.toLowerCase();if(!hd.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=o.value;xu[C]&&(I=Fa(I)),this.buf.push(" ",c,'="',pd(I),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Fu.hasOwnProperty(n)&&!ld.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(pd(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const sm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,om=/([^\#-~ |!])/g;function pd(e){return e.replace(/&/g,"&amp;").replace(sm,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(om,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xa;function gd(e,t){let n=null;try{xa=xa||function cd(e){const t=new XE(e);return function em(){try{return!!(new window.DOMParser).parseFromString(mi(""),"text/html")}catch{return!1}}()?new ZE(t):t}(e);let r=t?String(t):"";n=xa.getInertBodyElement(r);let s=5,o=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=o,o=n.innerHTML,n=xa.getInertBodyElement(r)}while(r!==o);return mi((new rm).sanitizeChildren(Gu(n)||n))}finally{if(n){const r=Gu(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Gu(e){return"content"in e&&function im(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function Ed(e){const t=ta();return t?id(t.sanitize(Fn.HTML,e)||""):Si(e,"HTML")?id(zs(e)):gd(function od(){return void 0!==Lu?Lu:typeof document<"u"?document:void 0}(),ae(e))}function ku(e){const t=ta();return t?t.sanitize(Fn.URL,e)||"":Si(e,"URL")?zs(e):Fa(ae(e))}function ta(){const e=Ze();return e&&e[12]}const Yu=new sn("ENVIRONMENT_INITIALIZER"),Sd=new sn("INJECTOR",-1),Cd=new sn("INJECTOR_DEF_TYPES");class _d{get(t,n=hr){if(n===hr){const r=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw r.name="NullInjectorError",r}return n}}function hm(...e){return{\u0275providers:yd(0,e)}}function yd(e,...t){const n=[],r=new Set;let s;return ps(t,o=>{const c=o;Bu(c,n,[],r)&&(s||(s=[]),s.push(c))}),void 0!==s&&Td(s,n),n}function Td(e,t){for(let n=0;n<e.length;n++){const{providers:s}=e[n];ps(s,o=>{t.push(o)})}}function Bu(e,t,n,r){if(!(e=Z(e)))return!1;let s=null,o=ee(e);const c=!o&&he(e);if(o||c){if(c&&!c.standalone)return!1;s=e}else{const I=e.ngModule;if(o=ee(I),!o)return!1;s=I}const C=r.has(s);if(c){if(C)return!1;if(r.add(s),c.dependencies){const I="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const k of I)Bu(k,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!C){let k;r.add(s);try{ps(o.imports,J=>{Bu(J,t,n,r)&&(k||(k=[]),k.push(J))})}finally{}void 0!==k&&Td(k,t)}if(!C){const k=qr(s)||(()=>new s);t.push({provide:s,useFactory:k,deps:ot},{provide:Cd,useValue:s,multi:!0},{provide:Yu,useValue:()=>Bn(s),multi:!0})}const I=o.providers;null==I||C||ps(I,J=>{t.push(J)})}}return s!==e&&void 0!==e.providers}const pm=G({provide:String,useValue:G});function Vu(e){return null!==e&&"object"==typeof e&&pm in e}function jo(e){return"function"==typeof e}const Hu=new sn("Set Injector scope."),Ga={},Em={};let Ku;function ka(){return void 0===Ku&&(Ku=new _d),Ku}class $o{}class Id extends $o{constructor(t,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$u(t,c=>this.processProvider(c)),this.records.set(Sd,Ci(void 0,this)),s.has("environment")&&this.records.set($o,Ci(void 0,this));const o=this.records.get(Hu);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cd.multi,ot,H.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=gi(this),r=Y(void 0);try{return t()}finally{gi(n),Y(r)}}get(t,n=hr,r=H.Default){this.assertNotDestroyed();const s=gi(this),o=Y(void 0);try{if(!(r&H.SkipSelf)){let C=this.records.get(t);if(void 0===C){const I=function ym(e){return"function"==typeof e||"object"==typeof e&&e instanceof sn}(t)&&Ft(t);C=I&&this.injectableDefInScope(I)?Ci(ju(t),Ga):null,this.records.set(t,C)}if(null!=C)return this.hydrate(t,C)}return(r&H.Self?ka():this.parent).get(t,n=r&H.Optional&&n===hr?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[Ls]=c[Ls]||[]).unshift(l(t)),s)throw c;return function OE(e,t,n,r){const s=e[Ls];throw t[zl]&&s.unshift(t[zl]),e.message=function DE(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=l(t);if(Array.isArray(t))s=t.map(l).join(" -> ");else if("object"==typeof t){let o=[];for(let c in t)if(t.hasOwnProperty(c)){let C=t[c];o.push(c+":"+("string"==typeof C?JSON.stringify(C):l(C)))}s=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(vE,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[Ls]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{Y(o),gi(s)}}resolveInjectorInitializers(){const t=gi(this),n=Y(void 0);try{const r=this.get(Yu.multi,ot,H.Self);for(const s of r)s()}finally{gi(t),Y(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(l(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(t){let n=jo(t=Z(t))?t:Z(t&&t.provide);const r=function Sm(e){return Vu(e)?Ci(void 0,e.useValue):Ci(Rd(e),Ga)}(t);if(jo(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=Ci(void 0,Ga,!0),s.factory=()=>wu(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Ga&&(n.value=Em,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _m(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Z(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function ju(e){const t=Ft(e),n=null!==t?t.factory:qr(e);if(null!==n)return n;if(e instanceof sn)throw new pe(204,!1);if(e instanceof Function)return function mm(e){const t=e.length;if(t>0)throw Ho(t,"?"),new pe(204,!1);const n=function D(e){const t=e&&(e[ue]||e[ce]);if(t){const n=function P(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new pe(204,!1)}function Rd(e,t,n){let r;if(jo(e)){const s=Z(e);return qr(s)||ju(s)}if(Vu(e))r=()=>Z(e.useValue);else if(function Ad(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...wu(e.deps||[]));else if(function vd(e){return!(!e||!e.useExisting)}(e))r=()=>Bn(Z(e.useExisting));else{const s=Z(e&&(e.useClass||e.provide));if(!function Cm(e){return!!e.deps}(e))return qr(s)||ju(s);r=()=>new s(...wu(e.deps))}return r}function Ci(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Tm(e){return!!e.\u0275providers}function $u(e,t){for(const n of e)Array.isArray(n)?$u(n,t):Tm(n)?$u(n.\u0275providers,t):t(n)}class Od{}class Im{resolveComponentFactory(t){throw function Am(e){const t=Error(`No component factory found for ${l(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let na=(()=>{class e{}return e.NULL=new Im,e})();function Rm(){return _i(_n(),Ze())}function _i(e,t){return new ra(tr(e,t))}let ra=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Rm,e})();function Om(e){return e instanceof ra?e.nativeElement:e}class Nd{}let Dm=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Nm(){const e=Ze(),n=ln(_n().index,e);return(Dn(n)?n:e)[11]}(),e})(),Mm=(()=>{class e{}return e.\u0275prov=Jt({token:e,providedIn:"root",factory:()=>null}),e})();class Md{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const wm=new Md("14.2.8"),Ju={};function Zu(e){return e.ngOriginalError}class sa{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Zu(t);for(;n&&Zu(n);)n=Zu(n);return n||null}}const Xu=new Map;let Hm=0;const tc="__ngContext__";function Cr(e,t){Dn(t)?(e[tc]=t[20],function jm(e){Xu.set(e[20],e)}(t)):e[tc]=t}function Vd(e){return e.ownerDocument.defaultView}function Qs(e){return e instanceof Function?e():e}var bs=(()=>((bs=bs||{})[bs.Important=1]="Important",bs[bs.DashCase=2]="DashCase",bs))();function rc(e,t){return undefined(e,t)}function ia(e){const t=e[3];return Tn(t)?t[3]:t}function sc(e){return jd(e[13])}function oc(e){return jd(e[4])}function jd(e){for(;null!==e&&!Tn(e);)e=e[4];return e}function Ti(e,t,n,r,s){if(null!=r){let o,c=!1;Tn(r)?o=r:Dn(r)&&(c=!0,r=r[0]);const C=Yt(r);0===e&&null!==n?null==s?Qd(t,n,C):Jo(t,n,C,s||null,!0):1===e&&null!==n?Jo(t,n,C,s||null,!0):2===e?function sf(e,t,n){const r=Ya(e,t);r&&function mS(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,C,c):3===e&&t.destroyNode(C),null!=o&&function _S(e,t,n,r,s){const o=n[7];o!==Yt(n)&&Ti(t,e,r,o,s);for(let C=10;C<n.length;C++){const I=n[C];aa(I[1],I,e,t,r,o)}}(t,e,o,n,s)}}function ac(e,t,n){return e.createElement(t,n)}function Jd(e,t){const n=e[9],r=n.indexOf(t),s=t[3];512&t[2]&&(t[2]&=-513,fs(s,-1)),n.splice(r,1)}function uc(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Jd(s,r),t>0&&(e[n-1][4]=r[4]);const o=hi(e,10+t);!function cS(e,t){aa(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const c=o[19];null!==c&&c.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Wd(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&aa(e,t,n,3,null,null),function fS(e){let t=e[13];if(!t)return cc(e[1],e);for(;t;){let n=null;if(Dn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Dn(t)&&cc(t[1],t),t=t[3];null===t&&(t=e),Dn(t)&&cc(t[1],t),n=t&&t[4]}t=n}}(t)}}function cc(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function ES(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof en)){const o=n[r+1];if(Array.isArray(o))for(let c=0;c<o.length;c+=2){const C=s[o[c]],I=o[c+1];try{I.call(C)}finally{}}else try{o.call(s)}finally{}}}}(e,t),function gS(e,t){const n=e.cleanup,r=t[7];let s=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const c=n[o+1],C="function"==typeof c?c(t):Yt(t[c]),I=r[s=n[o+2]],k=n[o+3];"boolean"==typeof k?C.removeEventListener(n[o],I,k):k>=0?r[s=k]():r[s=-k].unsubscribe(),o+=2}else{const c=r[s=n[o+1]];n[o].call(c)}if(null!==r){for(let o=s+1;o<r.length;o++)(0,r[o])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&Tn(t[3])){n!==t[3]&&Jd(n,t);const r=t[19];null!==r&&r.detachView(e)}!function $m(e){Xu.delete(e[20])}(t)}}function zd(e,t,n){return function qd(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const s=e.data[r.directiveStart].encapsulation;if(s===Ve.None||s===Ve.Emulated)return null}return tr(r,n)}(e,t.parent,n)}function Jo(e,t,n,r,s){e.insertBefore(t,n,r,s)}function Qd(e,t,n){e.appendChild(t,n)}function Zd(e,t,n,r,s){null!==r?Jo(e,t,n,r,s):Qd(e,t,n)}function Ya(e,t){return e.parentNode(t)}function Xd(e,t,n){return tf(e,t,n)}let tf=function ef(e,t,n){return 40&e.type?tr(e,n):null};function Ba(e,t,n,r){const s=zd(e,r,t),o=t[11],C=Xd(r.parent||t[6],r,t);if(null!=s)if(Array.isArray(n))for(let I=0;I<n.length;I++)Zd(o,s,n[I],C,!1);else Zd(o,s,n,C,!1)}function Va(e,t){if(null!==t){const n=t.type;if(3&n)return tr(t,e);if(4&n)return dc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Va(e,r);{const s=e[t.index];return Tn(s)?dc(-1,s):Yt(s)}}if(32&n)return rc(t,e)()||Yt(e[t.index]);{const r=rf(e,t);return null!==r?Array.isArray(r)?r[0]:Va(ia(e[16]),r):Va(e,t.next)}}return null}function rf(e,t){return null!==t?e[16][6].projection[t.projection]:null}function dc(e,t){const n=10+e+1;if(n<t.length){const r=t[n],s=r[1].firstChild;if(null!==s)return Va(r,s)}return t[7]}function fc(e,t,n,r,s,o,c){for(;null!=n;){const C=r[n.index],I=n.type;if(c&&0===t&&(C&&Cr(Yt(C),r),n.flags|=4),64!=(64&n.flags))if(8&I)fc(e,t,n.child,r,s,o,!1),Ti(t,e,s,C,o);else if(32&I){const k=rc(n,r);let J;for(;J=k();)Ti(t,e,s,J,o);Ti(t,e,s,C,o)}else 16&I?af(e,t,r,n,s,o):Ti(t,e,s,C,o);n=c?n.projectionNext:n.next}}function aa(e,t,n,r,s,o){fc(n,r,e.firstChild,t,s,o,!1)}function af(e,t,n,r,s,o){const c=n[16],I=c[6].projection[r.projection];if(Array.isArray(I))for(let k=0;k<I.length;k++)Ti(t,e,s,I[k],o);else fc(e,t,I,c[3],s,o,!0)}function uf(e,t,n){e.setAttribute(t,"style",n)}function hc(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function cf(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const o=t.length;if(s+o===r||e.charCodeAt(s+o)<=32)return s}n=s+1}}const lf="ng-template";function TS(e,t,n){let r=0;for(;r<e.length;){let s=e[r++];if(n&&"class"===s){if(s=e[r],-1!==cf(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function df(e){return 4===e.type&&e.value!==lf}function vS(e,t,n){return t===(4!==e.type||n?e.value:lf)}function AS(e,t,n){let r=4;const s=e.attrs||[],o=function OS(e){for(let t=0;t<e.length;t++)if(mo(e[t]))return t;return e.length}(s);let c=!1;for(let C=0;C<t.length;C++){const I=t[C];if("number"!=typeof I){if(!c)if(4&r){if(r=2|1&r,""!==I&&!vS(e,I,n)||""===I&&1===t.length){if(gs(r))return!1;c=!0}}else{const k=8&r?I:t[++C];if(8&r&&null!==e.attrs){if(!TS(e.attrs,k,n)){if(gs(r))return!1;c=!0}continue}const fe=IS(8&r?"class":I,s,df(e),n);if(-1===fe){if(gs(r))return!1;c=!0;continue}if(""!==k){let Ie;Ie=fe>o?"":s[fe+1].toLowerCase();const xe=8&r?Ie:null;if(xe&&-1!==cf(xe,k,0)||2&r&&k!==Ie){if(gs(r))return!1;c=!0}}}}else{if(!c&&!gs(r)&&!gs(I))return!1;if(c&&gs(I))continue;c=!1,r=I|1&r}}return gs(r)||c}function gs(e){return 0==(1&e)}function IS(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let o=!1;for(;s<t.length;){const c=t[s];if(c===e)return s;if(3===c||6===c)o=!0;else{if(1===c||2===c){let C=t[++s];for(;"string"==typeof C;)C=t[++s];continue}if(4===c)break;if(0===c){s+=4;continue}}s+=o?1:2}return-1}return function DS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ff(e,t,n=!1){for(let r=0;r<t.length;r++)if(AS(e,t[r],n))return!0;return!1}function NS(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let s=0;s<e.length;s++)if(e[s]!==r[s])continue e;return!0}}return!1}function hf(e,t){return e?":not("+t.trim()+")":t}function MS(e){let t=e[0],n=1,r=2,s="",o=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const C=e[++n];s+="["+c+(C.length>0?'="'+C+'"':"")+"]"}else 8&r?s+="."+c:4&r&&(s+=" "+c);else""!==s&&!gs(c)&&(t+=hf(o,s),s=""),r=c,o=o||!gs(r);n++}return""!==s&&(t+=hf(o,s)),t}const Ht={};function pf(e){gf(Bt(),Ze(),a()+e,!1)}function gf(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&St(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Vt(t,o,0,n)}f(n)}function Cf(e,t=null,n=null,r){const s=_f(e,t,n,r);return s.resolveInjectorInitializers(),s}function _f(e,t=null,n=null,r,s=new Set){const o=[n||ot,hm(e)];return r=r||("object"==typeof e?void 0:l(e)),new Id(o,t||ka(),r||null,s)}let Wo=(()=>{class e{static create(n,r){if(Array.isArray(n))return Cf({name:""},r,n,"");{const s=n.name??"";return Cf({name:s},n.parent,n.providers,s)}}}return e.THROW_IF_NOT_FOUND=hr,e.NULL=new _d,e.\u0275prov=Jt({token:e,providedIn:"any",factory:()=>Bn(Sd)}),e.__NG_ELEMENT_ID__=-1,e})();function Ai(e,t=H.Default){const n=Ze();return null===n?Bn(e,t):va(_n(),n,Z(e),t)}function Of(){throw new Error("invalid")}function Ka(e,t){return e<<17|t<<2}function Es(e){return e>>17&32767}function Sc(e){return 2|e}function Zs(e){return(131068&e)>>2}function Cc(e,t){return-131069&e|t<<2}function _c(e){return 1|e}function Gf(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r],o=n[r+1];if(-1!==o){const c=e.data[o];V(s),c.contentQueries(2,t[o],o)}}}function Ja(e,t,n,r,s,o,c,C,I,k,J){const fe=t.blueprint.slice();return fe[0]=s,fe[2]=76|r,(null!==J||e&&1024&e[2])&&(fe[2]|=1024),ds(fe),fe[3]=fe[15]=e,fe[8]=n,fe[10]=c||e&&e[10],fe[11]=C||e&&e[11],fe[12]=I||e&&e[12]||null,fe[9]=k||e&&e[9]||null,fe[6]=o,fe[20]=function Km(){return Hm++}(),fe[21]=J,fe[16]=2==t.type?e[16]:fe,fe}function Ii(e,t,n,r,s){let o=e.data[t];if(null===o)o=function Dc(e,t,n,r,s){const o=ur(),c=Zr(),I=e.data[t]=function fC(e,t,n,r,s,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?o:o&&o.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=I),null!==o&&(c?null==o.child&&null!==I.parent&&(o.child=I):null===o.next&&(o.next=I)),I}(e,t,n,r,s),function po(){return Mt.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=s;const c=function Vn(){const e=Mt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===c?-1:c.injectorIndex}return cr(o,!0),o}function Ri(e,t,n,r){if(0===n)return-1;const s=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function Nc(e,t,n){ye(t);try{const r=e.viewQuery;null!==r&&xc(1,r,n);const s=e.template;null!==s&&kf(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Gf(e,t),e.staticViewQueries&&xc(2,e.viewQuery,n);const o=e.components;null!==o&&function cC(e,t){for(let n=0;n<t.length;n++)DC(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Qt()}}function Wa(e,t,n,r){const s=t[2];if(128!=(128&s)){ye(t);try{ds(t),function Lr(e){return Mt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&kf(e,t,n,2,r);const c=3==(3&s);if(c){const k=e.preOrderCheckHooks;null!==k&&St(t,k,null)}else{const k=e.preOrderHooks;null!==k&&Vt(t,k,0,null),xt(t,0)}if(function RC(e){for(let t=sc(e);null!==t;t=oc(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const s=n[r],o=s[3];0==(512&s[2])&&fs(o,1),s[2]|=512}}}(t),function IC(e){for(let t=sc(e);null!==t;t=oc(t))for(let n=10;n<t.length;n++){const r=t[n],s=r[1];Yr(r)&&Wa(s,r,s.template,r[8])}}(t),null!==e.contentQueries&&Gf(e,t),c){const k=e.contentCheckHooks;null!==k&&St(t,k)}else{const k=e.contentHooks;null!==k&&Vt(t,k,1),xt(t,1)}!function aC(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const s=n[r];if(s<0)f(~s);else{const o=s,c=n[++r],C=n[++r];ci(c,o),C(2,t[o])}}}finally{f(-1)}}(e,t);const C=e.components;null!==C&&function uC(e,t){for(let n=0;n<t.length;n++)OC(e,t[n])}(t,C);const I=e.viewQuery;if(null!==I&&xc(2,I,r),c){const k=e.viewCheckHooks;null!==k&&St(t,k)}else{const k=e.viewHooks;null!==k&&Vt(t,k,2),xt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,fs(t[3],-1))}finally{Qt()}}}function kf(e,t,n,r,s){const o=a(),c=2&r;try{f(-1),c&&t.length>22&&gf(e,t,22,!1),n(r,s)}finally{f(o)}}function Yf(e,t,n){if($r(t)){const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const c=e.data[o];c.contentQueries&&c.contentQueries(1,n[o],o)}}}function Mc(e,t,n){!ws()||(function mC(e,t,n,r){const s=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||An(n,t),Cr(r,t);const c=n.initialInputs;for(let C=s;C<o;C++){const I=e.data[C],k=er(I);k&&TC(t,n,I);const J=ko(t,e,C,n);Cr(J,t),null!==c&&vC(0,C-s,J,I,0,c),k&&(ln(n.index,t)[8]=J)}}(e,t,n,tr(n,t)),128==(128&n.flags)&&function SC(e,t,n){const r=n.directiveStart,s=n.directiveEnd,o=n.index,c=function li(){return Mt.lFrame.currentDirectiveIndex}();try{f(o);for(let C=r;C<s;C++){const I=e.data[C],k=t[C];go(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Jf(I,k)}}finally{f(-1),go(c)}}(e,t,n))}function wc(e,t,n=tr){const r=t.localNames;if(null!==r){let s=t.index+1;for(let o=0;o<r.length;o+=2){const c=r[o+1],C=-1===c?n(t,e):e[c];e[s++]=C}}}function Bf(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Pc(e,t,n,r,s,o,c,C,I,k){const J=22+r,fe=J+s,Ie=function lC(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ht);return n}(J,fe),xe="function"==typeof k?k():k;return Ie[1]={type:e,blueprint:Ie,template:n,queries:null,viewQuery:C,declTNode:t,data:Ie.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:I,consts:xe,incompleteFirstPass:!1}}function Vf(e,t,n,r){const s=Zf(t);null===n?s.push(r):(s.push(n),e.firstCreatePass&&Xf(e).push(r,s.length-1))}function Hf(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const s=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,s):n[r]=[t,s]}return n}function Kf(e,t){const r=t.directiveEnd,s=e.data,o=t.attrs,c=[];let C=null,I=null;for(let k=t.directiveStart;k<r;k++){const J=s[k],fe=J.inputs,Ie=null===o||df(t)?null:AC(fe,o);c.push(Ie),C=Hf(fe,k,C),I=Hf(J.outputs,k,I)}null!==C&&(C.hasOwnProperty("class")&&(t.flags|=16),C.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=c,t.inputs=C,t.outputs=I}function Kr(e,t,n,r,s,o,c,C){const I=tr(t,n);let J,k=t.inputs;!C&&null!=k&&(J=k[r])?(Gc(e,n,J,r,s),hn(t)&&jf(n,t.index)):3&t.type&&(r=function hC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=c?c(s,t.value||"",r):s,o.setProperty(I,r,s))}function jf(e,t){const n=ln(t,e);16&n[2]||(n[2]|=32)}function Lc(e,t,n,r){let s=!1;if(ws()){const o=function CC(e,t,n){const r=e.directiveRegistry;let s=null;if(r)for(let o=0;o<r.length;o++){const c=r[o];ff(n,c.selectors,!1)&&(s||(s=[]),ts(An(n,t),e,c.type),er(c)?(Wf(e,n),s.unshift(c)):s.push(c))}return s}(e,t,n),c=null===r?null:{"":-1};if(null!==o){s=!0,zf(n,e.data.length,o.length);for(let J=0;J<o.length;J++){const fe=o[J];fe.providersResolver&&fe.providersResolver(fe)}let C=!1,I=!1,k=Ri(e,t,o.length,null);for(let J=0;J<o.length;J++){const fe=o[J];n.mergedAttrs=br(n.mergedAttrs,fe.hostAttrs),qf(e,n,t,k,fe),yC(k,fe,c),null!==fe.contentQueries&&(n.flags|=8),(null!==fe.hostBindings||null!==fe.hostAttrs||0!==fe.hostVars)&&(n.flags|=128);const Ie=fe.type.prototype;!C&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),C=!0),!I&&(Ie.ngOnChanges||Ie.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),I=!0),k++}Kf(e,n)}c&&function _C(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const o=n[t[s+1]];if(null==o)throw new pe(-301,!1);r.push(t[s],o)}}}(n,r,c)}return n.mergedAttrs=br(n.mergedAttrs,n.attrs),s}function $f(e,t,n,r,s,o){const c=o.hostBindings;if(c){let C=e.hostBindingOpCodes;null===C&&(C=e.hostBindingOpCodes=[]);const I=~t.index;(function EC(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(C)!=I&&C.push(I),C.push(r,s,c)}}function Jf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Wf(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function yC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;er(t)&&(n[""]=e)}}function zf(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function qf(e,t,n,r,s){e.data[r]=s;const o=s.factory||(s.factory=qr(s.type)),c=new en(o,er(s),Ai);e.blueprint[r]=c,n[r]=c,$f(e,t,0,r,Ri(e,n,s.hostVars,Ht),s)}function TC(e,t,n){const r=tr(t,e),s=Bf(n),o=e[10],c=za(e,Ja(e,s,null,n.onPush?32:16,r,t,o,o.createRenderer(r,n),null,null,null));e[t.index]=c}function Us(e,t,n,r,s,o){const c=tr(e,t);!function bc(e,t,n,r,s,o,c){if(null==o)e.removeAttribute(t,s,n);else{const C=null==c?ae(o):c(o,r||"",s);e.setAttribute(t,s,C,n)}}(t[11],c,o,e.value,n,r,s)}function vC(e,t,n,r,s,o){const c=o[t];if(null!==c){const C=r.setInput;for(let I=0;I<c.length;){const k=c[I++],J=c[I++],fe=c[I++];null!==C?r.setInput(n,fe,k,J):n[J]=fe}}}function AC(e,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,e[s],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Qf(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function OC(e,t){const n=ln(t,e);if(Yr(n)){const r=n[1];48&n[2]?Wa(r,n,r.template,n[8]):n[5]>0&&Uc(n)}}function Uc(e){for(let r=sc(e);null!==r;r=oc(r))for(let s=10;s<r.length;s++){const o=r[s];if(Yr(o))if(512&o[2]){const c=o[1];Wa(c,o,c.template,o[8])}else o[5]>0&&Uc(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const s=ln(n[r],e);Yr(s)&&s[5]>0&&Uc(s)}}function DC(e,t){const n=ln(t,e),r=n[1];(function NC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Nc(r,n,n[8])}function za(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Fc(e){for(;e;){e[2]|=32;const t=ia(e);if(Oo(e)&&!t)return e;e=t}return null}function qa(e,t,n,r=!0){const s=t[10];s.begin&&s.begin();try{Wa(e,t,e.template,n)}catch(c){throw r&&th(t,c),c}finally{s.end&&s.end()}}function xc(e,t,n){V(0),t(e,n)}function Zf(e){return e[7]||(e[7]=[])}function Xf(e){return e.cleanup||(e.cleanup=[])}function th(e,t){const n=e[9],r=n?n.get(sa,null):null;r&&r.handleError(t)}function Gc(e,t,n,r,s){for(let o=0;o<n.length;){const c=n[o++],C=n[o++],I=t[c],k=e.data[c];null!==k.setInput?k.setInput(I,s,r,C):I[C]=s}}function Qa(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,o=0;if(null!==t)for(let c=0;c<t.length;c++){const C=t[c];"number"==typeof C?o=C:1==o?s=Q(s,C):2==o&&(r=Q(r,C+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function Za(e,t,n,r,s=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(Yt(o)),Tn(o))for(let C=10;C<o.length;C++){const I=o[C],k=I[1].firstChild;null!==k&&Za(I[1],I,k,r)}const c=n.type;if(8&c)Za(e,t,n.child,r);else if(32&c){const C=rc(n,t);let I;for(;I=C();)r.push(I)}else if(16&c){const C=rf(t,n);if(Array.isArray(C))r.push(...C);else{const I=ia(t[16]);Za(I[1],I,C,r,!0)}}n=s?n.projectionNext:n.next}return r}class ua{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Za(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Tn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(uc(t,r),hi(n,r))}this._attachedToViewContainer=!1}Wd(this._lView[1],this._lView)}onDestroy(t){Vf(this._lView[1],this._lView,null,t)}markForCheck(){Fc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){qa(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dS(e,t){aa(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=t}}class MC extends ua{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;qa(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class kc extends na{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=he(t);return new ca(n,this.ngModule)}}function nh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class PC{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const s=this.injector.get(t,Ju,r);return s!==Ju||n===Ju?s:this.parentInjector.get(t,n,r)}}class ca extends Od{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function wS(e){return e.map(MS).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return nh(this.componentDef.inputs)}get outputs(){return nh(this.componentDef.outputs)}create(t,n,r,s){let o=(s=s||this.ngModule)instanceof $o?s:s?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const c=o?new PC(t,o):t,C=c.get(Nd,null);if(null===C)throw new pe(407,!1);const I=c.get(Mm,null),k=C.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",fe=r?function dC(e,t,n){return e.selectRootElement(t,n===Ve.ShadowDom)}(k,r,this.componentDef.encapsulation):ac(C.createRenderer(null,this.componentDef),J,function wC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(J)),Ie=this.componentDef.onPush?288:272,xe=Pc(0,null,null,1,0,null,null,null,null,null),We=Ja(null,xe,null,Ie,null,null,C,k,I,c,null);let rt,ct;ye(We);try{const yt=function UC(e,t,n,r,s,o){const c=n[1];n[22]=e;const I=Ii(c,22,2,"#host",null),k=I.mergedAttrs=t.hostAttrs;null!==k&&(Qa(I,k,!0),null!==e&&(fr(s,e,k),null!==I.classes&&hc(s,e,I.classes),null!==I.styles&&uf(s,e,I.styles)));const J=r.createRenderer(e,t),fe=Ja(n,Bf(t),null,t.onPush?32:16,n[22],I,r,J,o||null,null,null);return c.firstCreatePass&&(ts(An(I,n),c,t.type),Wf(c,I),zf(I,n.length,1)),za(n,fe),n[22]=fe}(fe,this.componentDef,We,C,k);if(fe)if(r)fr(k,fe,["ng-version",wm.full]);else{const{attrs:It,classes:Xe}=function PS(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===s?""!==o&&t.push(o,e[++r]):8===s&&n.push(o);else{if(!gs(s))break;s=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);It&&fr(k,fe,It),Xe&&Xe.length>0&&hc(k,fe,Xe.join(" "))}if(ct=cs(xe,22),void 0!==n){const It=ct.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const bt=n[Xe];It.push(null!=bt?Array.from(bt):null)}}rt=function FC(e,t,n,r){const s=n[1],o=function gC(e,t,n){const r=_n();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qf(e,r,t,Ri(e,t,1,null),n),Kf(e,r));const s=ko(t,e,r.directiveStart,r);Cr(s,t);const o=tr(r,t);return o&&Cr(o,t),s}(s,n,t);if(e[8]=n[8]=o,null!==r)for(const C of r)C(o,t);if(t.contentQueries){const C=_n();t.contentQueries(1,o,C.directiveStart)}const c=_n();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(f(c.index),$f(n[1],c,0,c.directiveStart,c.directiveEnd,t),Jf(t,o)),o}(yt,this.componentDef,We,[xC]),Nc(xe,We,null)}finally{Qt()}return new bC(this.componentType,rt,_i(ct,We),We,ct)}}class bC extends class vm{}{constructor(t,n,r,s,o){super(),this.location=r,this._rootLView=s,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new MC(s),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let s;if(null!==r&&(s=r[t])){const o=this._rootLView;Gc(o[1],o,s,t,n),jf(o,this._tNode.index)}}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function xC(){const e=_n();lt(Ze()[1],e)}function Yc(e){let t=function rh(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let s;if(er(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new pe(903,!1);s=t.\u0275dir}if(s){if(n){r.push(s);const c=e;c.inputs=Bc(e.inputs),c.declaredInputs=Bc(e.declaredInputs),c.outputs=Bc(e.outputs);const C=s.hostBindings;C&&BC(e,C);const I=s.viewQuery,k=s.contentQueries;if(I&&kC(e,I),k&&YC(e,k),L(e.inputs,s.inputs),L(e.declaredInputs,s.declaredInputs),L(e.outputs,s.outputs),er(s)&&s.data.animation){const J=e.data;J.animation=(J.animation||[]).concat(s.data.animation)}}const o=s.features;if(o)for(let c=0;c<o.length;c++){const C=o[c];C&&C.ngInherit&&C(e),C===Yc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function GC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=br(s.hostAttrs,n=br(n,s.hostAttrs))}}(r)}function Bc(e){return e===ut?{}:e===ot?[]:e}function kC(e,t){const n=e.viewQuery;e.viewQuery=n?(r,s)=>{t(r,s),n(r,s)}:t}function YC(e,t){const n=e.contentQueries;e.contentQueries=n?(r,s,o)=>{t(r,s,o),n(r,s,o)}:t}function BC(e,t){const n=e.hostBindings;e.hostBindings=n?(r,s)=>{t(r,s),n(r,s)}:t}let Xa=null;function zo(){if(!Xa){const e=Pe.Symbol;if(e&&e.iterator)Xa=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Xa=r)}}}return Xa}function la(e){return!!Vc(e)&&(Array.isArray(e)||!(e instanceof Map)&&zo()in e)}function Vc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Fs(e,t,n){return e[t]=n}function _r(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Hc(e,t,n,r){const s=Ze();return _r(s,dr(),t)&&(Bt(),Us(N(),s,e,t,n,r)),Hc}function Di(e,t,n,r){return _r(e,dr(),n)?t+ae(n)+r:Ht}function hh(e,t,n,r,s,o,c,C){const I=Ze(),k=Bt(),J=e+22,fe=k.firstCreatePass?function zC(e,t,n,r,s,o,c,C,I){const k=t.consts,J=Ii(t,e,4,c||null,wr(k,C));Lc(t,n,J,wr(k,I)),lt(t,J);const fe=J.tViews=Pc(2,J,r,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,k);return null!==t.queries&&(t.queries.template(t,J),fe.queries=t.queries.embeddedTView(J)),J}(J,k,I,t,n,r,s,o,c):k.data[J];cr(fe,!1);const Ie=I[11].createComment("");Ba(k,I,Ie,fe),Cr(Ie,I),za(I,I[J]=Qf(Ie,I,Ie,fe)),Gr(fe)&&Mc(k,I,fe),null!=c&&wc(I,fe,C)}function ph(e){return Ds(function ai(){return Mt.lFrame.contextLView}(),22+e)}function Kc(e,t,n){const r=Ze();return _r(r,dr(),t)&&Kr(Bt(),N(),r,e,t,r[11],n,!1),Kc}function jc(e,t,n,r,s){const c=s?"class":"style";Gc(e,n,t.inputs[c],c,r)}function tu(e,t,n,r){const s=Ze(),o=Bt(),c=22+e,C=s[11],I=s[c]=ac(C,t,function Ge(){return Mt.lFrame.currentNamespace}()),k=o.firstCreatePass?function QC(e,t,n,r,s,o,c){const C=t.consts,k=Ii(t,e,2,s,wr(C,o));return Lc(t,n,k,wr(C,c)),null!==k.attrs&&Qa(k,k.attrs,!1),null!==k.mergedAttrs&&Qa(k,k.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,k),k}(c,o,s,0,t,n,r):o.data[c];cr(k,!0);const J=k.mergedAttrs;null!==J&&fr(C,I,J);const fe=k.classes;null!==fe&&hc(C,I,fe);const Ie=k.styles;return null!==Ie&&uf(C,I,Ie),64!=(64&k.flags)&&Ba(o,s,I,k),0===function Ms(){return Mt.lFrame.elementDepthCount}()&&Cr(I,s),function lo(){Mt.lFrame.elementDepthCount++}(),Gr(k)&&(Mc(o,s,k),Yf(o,k,s)),null!==r&&wc(s,k),tu}function nu(){let e=_n();Zr()?ho():(e=e.parent,cr(e,!1));const t=e;!function bo(){Mt.lFrame.elementDepthCount--}();const n=Bt();return n.firstCreatePass&&(lt(n,e),$r(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function vr(e){return 0!=(16&e.flags)}(t)&&jc(n,t,Ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Kn(e){return 0!=(32&e.flags)}(t)&&jc(n,t,Ze(),t.stylesWithoutHost,!1),nu}function $c(e,t,n,r){return tu(e,t,n,r),nu(),$c}function ru(e,t,n){const r=Ze(),s=Bt(),o=e+22,c=s.firstCreatePass?function ZC(e,t,n,r,s){const o=t.consts,c=wr(o,r),C=Ii(t,e,8,"ng-container",c);return null!==c&&Qa(C,c,!0),Lc(t,n,C,wr(o,s)),null!==t.queries&&t.queries.elementStart(t,C),C}(o,s,r,t,n):s.data[o];cr(c,!0);const C=r[o]=r[11].createComment("");return Ba(s,r,C,c),Cr(C,r),Gr(c)&&(Mc(s,r,c),Yf(s,c,r)),null!=n&&wc(r,c),ru}function su(){let e=_n();const t=Bt();return Zr()?ho():(e=e.parent,cr(e,!1)),t.firstCreatePass&&(lt(t,e),$r(e)&&t.queries.elementEnd(e)),su}function Eh(){return Ze()}function Jc(e){return!!e&&"function"==typeof e.then}function mh(e){return!!e&&"function"==typeof e.subscribe}const Sh=mh;function Wc(e,t,n,r){const s=Ze(),o=Bt(),c=_n();return function _h(e,t,n,r,s,o,c,C){const I=Gr(r),J=e.firstCreatePass&&Xf(e),fe=t[8],Ie=Zf(t);let xe=!0;if(3&r.type||C){const ct=tr(r,t),yt=C?C(ct):ct,It=Ie.length,Xe=C?an=>C(Yt(an[r.index])):r.index;let bt=null;if(!C&&I&&(bt=function XC(e,t,n,r){const s=e.cleanup;if(null!=s)for(let o=0;o<s.length-1;o+=2){const c=s[o];if(c===n&&s[o+1]===r){const C=t[7],I=s[o+2];return C.length>I?C[I]:null}"string"==typeof c&&(o+=2)}return null}(e,t,s,r.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=o,bt.__ngLastListenerFn__=o,xe=!1;else{o=Th(r,t,fe,o,!1);const an=n.listen(yt,s,o);Ie.push(o,an),J&&J.push(s,Xe,It,It+1)}}else o=Th(r,t,fe,o,!1);const We=r.outputs;let rt;if(xe&&null!==We&&(rt=We[s])){const ct=rt.length;if(ct)for(let yt=0;yt<ct;yt+=2){const Rn=t[rt[yt]][rt[yt+1]].subscribe(o),Xo=Ie.length;Ie.push(o,Rn),J&&J.push(s,r.index,Xo,-(Xo+1))}}}(o,s,s[11],c,e,t,0,r),Wc}function yh(e,t,n,r){try{return!1!==n(r)}catch(s){return th(e,s),!1}}function Th(e,t,n,r,s){return function o(c){if(c===Function)return r;Fc(2&e.flags?ln(e.index,t):t);let I=yh(t,0,r,c),k=o.__ngNextListenerFn__;for(;k;)I=yh(t,0,k,c)&&I,k=k.__ngNextListenerFn__;return s&&!1===I&&(c.preventDefault(),c.returnValue=!1),I}}function vh(e=1){return function Xt(e){return(Mt.lFrame.contextLView=function B(e,t){for(;e>0;)t=t[15],e--;return t}(e,Mt.lFrame.contextLView))[8]}(e)}function e_(e,t){let n=null;const r=function RS(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let s=0;s<t.length;s++){const o=t[s];if("*"!==o){if(null===r?ff(e,o,!0):NS(r,o))return s}else n=s}return n}function Ah(e){const t=Ze()[16][6];if(!t.projection){const r=t.projection=Ho(e?e.length:1,null),s=r.slice();let o=t.child;for(;null!==o;){const c=e?e_(o,e):0;null!==c&&(s[c]?s[c].projectionNext=o:r[c]=o,s[c]=o),o=o.next}}}function Ih(e,t=0,n){const r=Ze(),s=Bt(),o=Ii(s,22+e,16,null,n||null);null===o.projection&&(o.projection=t),ho(),64!=(64&o.flags)&&function CS(e,t,n){af(t[11],0,t,n,zd(e,n,t),Xd(n.parent||t[6],n,t))}(s,r,o)}function ou(e,t,n,r,s){const o=Ze(),c=Di(o,t,n,r);return c!==Ht&&Kr(Bt(),N(),o,e,c,o[11],s,!1),ou}function Uh(e,t,n,r,s){const o=e[n+1],c=null===t;let C=r?Es(o):Zs(o),I=!1;for(;0!==C&&(!1===I||c);){const J=e[C+1];r_(e[C],t)&&(I=!0,e[C+1]=r?_c(J):Sc(J)),C=r?Es(J):Zs(J)}I&&(e[n+1]=r?Sc(o):_c(o))}function r_(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&b(e,t)>=0}const Jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fh(e){return e.substring(Jn.key,Jn.keyEnd)}function s_(e){return e.substring(Jn.value,Jn.valueEnd)}function xh(e,t){const n=Jn.textEnd;return n===t?-1:(t=Jn.keyEnd=function a_(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Jn.key=t,n),Fi(e,t,n))}function Gh(e,t){const n=Jn.textEnd;let r=Jn.key=Fi(e,t,n);return n===r?-1:(r=Jn.keyEnd=function u_(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Yh(e,r,n),r=Jn.value=Fi(e,r,n),r=Jn.valueEnd=function c_(e,t,n){let r=-1,s=-1,o=-1,c=t,C=c;for(;c<n;){const I=e.charCodeAt(c++);if(59===I)return C;34===I||39===I?C=c=Bh(e,I,c,n):t===c-4&&85===o&&82===s&&76===r&&40===I?C=c=Bh(e,41,c,n):I>32&&(C=c),o=s,s=r,r=-33&I}return C}(e,r,n),Yh(e,r,n))}function kh(e){Jn.key=0,Jn.keyEnd=0,Jn.value=0,Jn.valueEnd=0,Jn.textEnd=e.length}function Fi(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Yh(e,t,n,r){return(t=Fi(e,t,n))<n&&t++,t}function Bh(e,t,n,r){let s=-1,o=n;for(;o<r;){const c=e.charCodeAt(o++);if(c==t&&92!==s)return o;s=92==c&&92===s?0:c}throw new Error}function zc(e,t,n){return Ss(e,t,n,!1),zc}function qc(e,t){return Ss(e,t,null,!0),qc}function ms(e){Cs(jh,l_,e,!1)}function l_(e,t){for(let n=function i_(e){return kh(e),Gh(e,Fi(e,0,Jn.textEnd))}(t);n>=0;n=Gh(t,n))jh(e,Fh(t),s_(t))}function Vh(e){Cs(u,xs,e,!0)}function xs(e,t){for(let n=function o_(e){return kh(e),xh(e,Fi(e,0,Jn.textEnd))}(t);n>=0;n=xh(t,n))u(e,Fh(t),!0)}function Ss(e,t,n,r){const s=Ze(),o=Bt(),c=Tr(2);o.firstUpdatePass&&Kh(o,e,c,r),t!==Ht&&_r(s,c,t)&&$h(o,o.data[a()],s,s[11],e,s[c+1]=function m_(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=l(zs(e)))),e}(t,n),r,c)}function Cs(e,t,n,r){const s=Bt(),o=Tr(2);s.firstUpdatePass&&Kh(s,null,o,r);const c=Ze();if(n!==Ht&&_r(c,o,n)){const C=s.data[a()];if(Wh(C,r)&&!Hh(s,o)){let I=r?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(n=Q(I,n||"")),jc(s,C,c,n,r)}else!function E_(e,t,n,r,s,o,c,C){s===Ht&&(s=ot);let I=0,k=0,J=0<s.length?s[0]:null,fe=0<o.length?o[0]:null;for(;null!==J||null!==fe;){const Ie=I<s.length?s[I+1]:void 0,xe=k<o.length?o[k+1]:void 0;let rt,We=null;J===fe?(I+=2,k+=2,Ie!==xe&&(We=fe,rt=xe)):null===fe||null!==J&&J<fe?(I+=2,We=J):(k+=2,We=fe,rt=xe),null!==We&&$h(e,t,n,r,We,rt,c,C),J=I<s.length?s[I]:null,fe=k<o.length?o[k]:null}}(s,C,c,c[11],c[o+1],c[o+1]=function g_(e,t,n){if(null==n||""===n)return ot;const r=[],s=zs(n);if(Array.isArray(s))for(let o=0;o<s.length;o++)e(r,s[o],!0);else if("object"==typeof s)for(const o in s)s.hasOwnProperty(o)&&e(r,o,s[o]);else"string"==typeof s&&t(r,s);return r}(e,t,n),r,o)}}function Hh(e,t){return t>=e.expandoStartIndex}function Kh(e,t,n,r){const s=e.data;if(null===s[n+1]){const o=s[a()],c=Hh(e,n);Wh(o,r)&&null===t&&!c&&(t=!1),t=function d_(e,t,n,r){const s=Eo(e);let o=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(n=fa(n=Qc(null,e,t,n,r),t.attrs,r),o=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==s)if(n=Qc(s,e,t,n,r),null===o){let I=function f_(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Zs(r))return e[Es(r)]}(e,t,r);void 0!==I&&Array.isArray(I)&&(I=Qc(null,e,t,I[1],r),I=fa(I,t.attrs,r),function h_(e,t,n,r){e[Es(n?t.classBindings:t.styleBindings)]=r}(e,t,r,I))}else o=function p_(e,t,n){let r;const s=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<s;o++)r=fa(r,e[o].hostAttrs,n);return fa(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(s,o,t,r),function t_(e,t,n,r,s,o){let c=o?t.classBindings:t.styleBindings,C=Es(c),I=Zs(c);e[r]=n;let J,k=!1;if(Array.isArray(n)){const fe=n;J=fe[1],(null===J||b(fe,J)>0)&&(k=!0)}else J=n;if(s)if(0!==I){const Ie=Es(e[C+1]);e[r+1]=Ka(Ie,C),0!==Ie&&(e[Ie+1]=Cc(e[Ie+1],r)),e[C+1]=function QS(e,t){return 131071&e|t<<17}(e[C+1],r)}else e[r+1]=Ka(C,0),0!==C&&(e[C+1]=Cc(e[C+1],r)),C=r;else e[r+1]=Ka(I,0),0===C?C=r:e[I+1]=Cc(e[I+1],r),I=r;k&&(e[r+1]=Sc(e[r+1])),Uh(e,J,r,!0),Uh(e,J,r,!1),function n_(e,t,n,r,s){const o=s?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&b(o,t)>=0&&(n[r+1]=_c(n[r+1]))}(t,J,e,r,o),c=Ka(C,I),o?t.classBindings=c:t.styleBindings=c}(s,o,t,n,c,r)}}function Qc(e,t,n,r,s){let o=null;const c=n.directiveEnd;let C=n.directiveStylingLast;for(-1===C?C=n.directiveStart:C++;C<c&&(o=t[C],r=fa(r,o.hostAttrs,s),o!==e);)C++;return null!==e&&(n.directiveStylingLast=C),r}function fa(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let o=0;o<t.length;o++){const c=t[o];"number"==typeof c?s=c:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),u(e,c,!!n||t[++o]))}return void 0===e?null:e}function jh(e,t,n){u(e,t,zs(n))}function $h(e,t,n,r,s,o,c,C){if(!(3&t.type))return;const I=e.data,k=I[C+1];iu(function Mf(e){return 1==(1&e)}(k)?Jh(I,t,n,s,Zs(k),c):void 0)||(iu(o)||function Nf(e){return 2==(2&e)}(k)&&(o=Jh(I,null,n,s,C,c)),function yS(e,t,n,r,s){if(t)s?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:bs.DashCase;null==s?e.removeStyle(n,r,o):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),o|=bs.Important),e.setStyle(n,r,s,o))}}(r,c,$s(a(),n),s,o))}function Jh(e,t,n,r,s,o){const c=null===t;let C;for(;s>0;){const I=e[s],k=Array.isArray(I),J=k?I[1]:I,fe=null===J;let Ie=n[s+1];Ie===Ht&&(Ie=fe?ot:void 0);let xe=fe?A(Ie,r):J===r?Ie:void 0;if(k&&!iu(xe)&&(xe=A(I,r)),iu(xe)&&(C=xe,c))return C;const We=e[s+1];s=c?Es(We):Zs(We)}if(null!==t){let I=o?t.residualClasses:t.residualStyles;null!=I&&(C=A(I,r))}return C}function iu(e){return void 0!==e}function Wh(e,t){return 0!=(e.flags&(t?16:32))}function zh(e,t=""){const n=Ze(),r=Bt(),s=e+22,o=r.firstCreatePass?Ii(r,s,1,t,null):r.data[s],c=n[s]=function ic(e,t){return e.createText(t)}(n[11],t);Ba(r,n,c,o),cr(o,!1)}function Zc(e){return au("",e,""),Zc}function au(e,t,n){const r=Ze(),s=Di(r,e,t,n);return s!==Ht&&function Xs(e,t,n){const r=$s(t,e);!function $d(e,t,n){e.setValue(t,n)}(e[11],r,n)}(r,a(),s),au}function sp(e,t,n){Cs(u,xs,Di(Ze(),e,t,n),!0)}function Xc(e,t,n){const r=Ze();if(_r(r,dr(),t)){const o=Bt(),c=N();Kr(o,c,r,e,t,function eh(e,t,n){return(null===e||er(e))&&(n=function us(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}(Eo(o.data),c,r),n,!0)}return Xc}const Qo=void 0;var F_=["en",[["a","p"],["AM","PM"],Qo],[["AM","PM"],Qo,Qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qo,"{1} 'at' {0}",Qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function U_(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let xi={};function el(e){const t=function x_(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Ep(t);if(n)return n;const r=t.split("-")[0];if(n=Ep(r),n)return n;if("en"===r)return F_;throw new pe(701,!1)}function gp(e){return el(e)[Pt.PluralCase]}function Ep(e){return e in xi||(xi[e]=Pe.ng&&Pe.ng.common&&Pe.ng.common.locales&&Pe.ng.common.locales[e]),xi[e]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const Gi="en-US";let mp=Gi;function rl(e,t,n,r,s){if(e=Z(e),Array.isArray(e))for(let o=0;o<e.length;o++)rl(e[o],t,n,r,s);else{const o=Bt(),c=Ze();let C=jo(e)?e:Z(e.provide),I=Rd(e);const k=_n(),J=1048575&k.providerIndexes,fe=k.directiveStart,Ie=k.providerIndexes>>20;if(jo(e)||!e.multi){const xe=new en(I,s,Ai),We=ol(C,t,s?J:J+Ie,fe);-1===We?(ts(An(k,c),o,C),sl(o,e,t.length),t.push(C),k.directiveStart++,k.directiveEnd++,s&&(k.providerIndexes+=1048576),n.push(xe),c.push(xe)):(n[We]=xe,c[We]=xe)}else{const xe=ol(C,t,J+Ie,fe),We=ol(C,t,J,J+Ie),rt=xe>=0&&n[xe],ct=We>=0&&n[We];if(s&&!ct||!s&&!rt){ts(An(k,c),o,C);const yt=function by(e,t,n,r,s){const o=new en(e,n,Ai);return o.multi=[],o.index=t,o.componentProviders=0,Vp(o,s,r&&!n),o}(s?Ly:Py,n.length,s,r,I);!s&&ct&&(n[We].providerFactory=yt),sl(o,e,t.length,0),t.push(C),k.directiveStart++,k.directiveEnd++,s&&(k.providerIndexes+=1048576),n.push(yt),c.push(yt)}else sl(o,e,xe>-1?xe:We,Vp(n[s?We:xe],I,!s&&r));!s&&r&&ct&&n[We].componentProviders++}}}function sl(e,t,n,r){const s=jo(t),o=function gm(e){return!!e.useClass}(t);if(s||o){const I=(o?Z(t.useClass):t).prototype.ngOnDestroy;if(I){const k=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const J=k.indexOf(n);-1===J?k.push(n,[r,I]):k[J+1].push(r,I)}else k.push(n,I)}}}function Vp(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ol(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function Py(e,t,n,r){return il(this.multi,[])}function Ly(e,t,n,r){const s=this.multi;let o;if(this.providerFactory){const c=this.providerFactory.componentProviders,C=ko(n,n[1],this.providerFactory.index,r);o=C.slice(0,c),il(s,o);for(let I=c;I<C.length;I++)o.push(C[I])}else o=[],il(s,o);return o}function il(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Hp(e,t=[]){return n=>{n.providersResolver=(r,s)=>function wy(e,t,n){const r=Bt();if(r.firstCreatePass){const s=er(e);rl(n,r.data,r.blueprint,s,!0),rl(t,r.data,r.blueprint,s,!1)}}(r,s?s(e):e,t)}}class ki{}class Kp{}function Uy(e,t){return new jp(e,t??null)}class jp extends ki{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kc(this);const r=Nt(t);this._bootstrapComponents=Qs(r.bootstrap),this._r3Injector=_f(t,n,[{provide:ki,useValue:this},{provide:na,useValue:this.componentFactoryResolver}],l(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class al extends Kp{constructor(t){super(),this.moduleType=t}create(t){return new jp(this.moduleType,t)}}class Fy extends ki{constructor(t,n,r){super(),this.componentFactoryResolver=new kc(this),this.instance=null;const s=new Id([...t,{provide:ki,useValue:this},{provide:na,useValue:this.componentFactoryResolver}],n||ka(),r,new Set(["environment"]));this.injector=s,s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ul(e,t,n=null){return new Fy(e,t,n).injector}let xy=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=yd(0,n.type),s=r.length>0?ul([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,s)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Jt({token:e,providedIn:"environment",factory:()=>new e(Bn($o))}),e})();function $p(e){e.getStandaloneInjector=t=>t.get(xy).getOrCreateStandaloneInjector(e)}function Xp(e,t,n){const r=Yn()+e,s=Ze();return s[r]===Ht?Fs(s,r,n?t.call(n):t()):function da(e,t){return e[t]}(s,r)}function eg(e,t,n,r){return ng(Ze(),Yn(),e,t,n,r)}function tg(e,t,n,r,s){return rg(Ze(),Yn(),e,t,n,r,s)}function Sa(e,t){const n=e[t];return n===Ht?void 0:n}function ng(e,t,n,r,s,o){const c=t+n;return _r(e,c,s)?Fs(e,c+1,o?r.call(o,s):r(s)):Sa(e,c+1)}function rg(e,t,n,r,s,o,c){const C=t+n;return function qo(e,t,n,r){const s=_r(e,t,n);return _r(e,t+1,r)||s}(e,C,s,o)?Fs(e,C+2,c?r.call(c,s,o):r(s,o)):Sa(e,C+2)}function ag(e,t){const n=Bt();let r;const s=e+22;n.firstCreatePass?(r=function Xy(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(s,r.onDestroy)):r=n.data[s];const o=r.factory||(r.factory=qr(r.type)),c=Y(Ai);try{const C=pn(!1),I=o();return pn(C),function qC(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Ze(),s,I),I}finally{Y(c)}}function ug(e,t,n){const r=e+22,s=Ze(),o=Ds(s,r);return Ca(s,r)?ng(s,Yn(),t,o.transform,n,o):o.transform(n)}function cg(e,t,n,r){const s=e+22,o=Ze(),c=Ds(o,s);return Ca(o,s)?rg(o,Yn(),t,c.transform,n,r,c):c.transform(n,r)}function Ca(e,t){return e[1].data[t].pure}function ll(e){return t=>{setTimeout(e,void 0,t)}}const Gs=class rT extends i.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let s=t,o=n||(()=>null),c=r;if(t&&"object"==typeof t){const I=t;s=I.next?.bind(I),o=I.error?.bind(I),c=I.complete?.bind(I)}this.__isAsync&&(o=ll(o),s&&(s=ll(s)),c&&(c=ll(c)));const C=super.subscribe({next:s,error:o,complete:c});return t instanceof _.w0&&t.add(C),C}};function sT(){return this._results[zo()]()}class dl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=zo(),r=dl.prototype;r[n]||(r[n]=sT)}get changes(){return this._changes||(this._changes=new Gs)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const s=Ir(t);(this._changesDetected=!function Du(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],o=t[r];if(n&&(s=n(s),o=n(o)),o!==s)return!1}return!0}(r._results,s,n))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _a=(()=>{class e{}return e.__NG_ELEMENT_ID__=aT,e})();const oT=_a,iT=class extends oT{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,s=Ja(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);s[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(s[19]=c.createEmbeddedView(r)),Nc(r,s,t),new ua(s)}};function aT(){return fu(_n(),Ze())}function fu(e,t){return 4&e.type?new iT(t,e,_i(e,t)):null}let hu=(()=>{class e{}return e.__NG_ELEMENT_ID__=uT,e})();function uT(){return fg(_n(),Ze())}const cT=hu,lg=class extends cT{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return _i(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const t=Hr(this._hostTNode,this._hostLView);if(xo(t)){const n=Ot(t,this._hostLView),r=Ct(t);return new Ws(n[1].data[r+8],n)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=dg(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let s,o;"number"==typeof r?s=r:null!=r&&(s=r.index,o=r.injector);const c=t.createEmbeddedView(n||{},o);return this.insert(c,s),c}createComponent(t,n,r,s,o){const c=t&&!function To(e){return"function"==typeof e}(t);let C;if(c)C=n;else{const fe=n||{};C=fe.index,r=fe.injector,s=fe.projectableNodes,o=fe.environmentInjector||fe.ngModuleRef}const I=c?t:new ca(he(t)),k=r||this.parentInjector;if(!o&&null==I.ngModule){const Ie=(c?k:this.parentInjector).get($o,null);Ie&&(o=Ie)}const J=I.create(k,s,void 0,o);return this.insert(J.hostView,C),J}insert(t,n){const r=t._lView,s=r[1];if(function ls(e){return Tn(e[3])}(r)){const J=this.indexOf(t);if(-1!==J)this.detach(J);else{const fe=r[3],Ie=new lg(fe,fe[6],fe[3]);Ie.detach(Ie.indexOf(t))}}const o=this._adjustIndex(n),c=this._lContainer;!function hS(e,t,n,r){const s=10+r,o=n.length;r>0&&(n[s-1][4]=t),r<o-10?(t[4]=n[s],Na(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const c=t[17];null!==c&&n!==c&&function pS(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(c,t);const C=t[19];null!==C&&C.insertView(e),t[2]|=64}(s,r,c,o);const C=dc(o,c),I=r[11],k=Ya(I,c[7]);return null!==k&&function lS(e,t,n,r,s,o){r[0]=s,r[6]=t,aa(e,r,n,1,s,o)}(s,c[6],I,r,k,C),t.attachToViewContainerRef(),Na(fl(c),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=dg(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=uc(this._lContainer,n);r&&(hi(fl(this._lContainer),n),Wd(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=uc(this._lContainer,n);return r&&null!=hi(fl(this._lContainer),n)?new ua(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function dg(e){return e[8]}function fl(e){return e[8]||(e[8]=[])}function fg(e,t){let n;const r=t[e.index];if(Tn(r))n=r;else{let s;if(8&e.type)s=Yt(r);else{const o=t[11];s=o.createComment("");const c=tr(e,t);Jo(o,Ya(o,c),s,function SS(e,t){return e.nextSibling(t)}(o,c),!1)}t[e.index]=n=Qf(r,t,s,e),za(t,n)}return new lg(n,e,t)}class hl{constructor(t){this.queryList=t,this.matches=null}clone(){return new hl(this.queryList)}setDirty(){this.queryList.setDirty()}}class pl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let o=0;o<r;o++){const c=n.getByIndex(o);s.push(this.queries[c.indexInDeclarationView].clone())}return new pl(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==yg(t,n).matches&&this.queries[n].setDirty()}}class hg{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class gl{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const s=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,s);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new gl(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class El{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new El(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const o=r[s];this.matchTNodeWithReadOption(t,n,fT(n,o)),this.matchTNodeWithReadOption(t,n,di(n,t,o,!1,!1))}else r===_a?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,di(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===ra||s===hu||s===_a&&4&n.type)this.addMatch(n.index,-2);else{const o=di(n,t,s,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function fT(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function pT(e,t,n,r){return-1===n?function hT(e,t){return 11&e.type?_i(e,t):4&e.type?fu(e,t):null}(t,e):-2===n?function gT(e,t,n){return n===ra?_i(t,e):n===_a?fu(t,e):n===hu?fg(t,e):void 0}(e,t,r):ko(e,e[1],n,t)}function pg(e,t,n,r){const s=t[19].queries[r];if(null===s.matches){const o=e.data,c=n.matches,C=[];for(let I=0;I<c.length;I+=2){const k=c[I];C.push(k<0?null:pT(t,o[k],c[I+1],n.metadata.read))}s.matches=C}return s.matches}function ml(e,t,n,r){const s=e.queries.getByIndex(n),o=s.matches;if(null!==o){const c=pg(e,t,s,n);for(let C=0;C<o.length;C+=2){const I=o[C];if(I>0)r.push(c[C/2]);else{const k=o[C+1],J=t[-I];for(let fe=10;fe<J.length;fe++){const Ie=J[fe];Ie[17]===Ie[3]&&ml(Ie[1],Ie,k,r)}if(null!==J[9]){const fe=J[9];for(let Ie=0;Ie<fe.length;Ie++){const xe=fe[Ie];ml(xe[1],xe,k,r)}}}}}return r}function gg(e){const t=Ze(),n=Bt(),r=R();V(r+1);const s=yg(n,r);if(e.dirty&&function Lo(e){return 4==(4&e[2])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const o=s.crossesNgTemplate?ml(n,t,r,[]):pg(n,t,s,r);e.reset(o,Om),e.notifyOnChanges()}return!0}return!1}function Eg(e,t,n){const r=Bt();r.firstCreatePass&&(_g(r,new hg(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Cg(r,Ze(),t)}function mg(e,t,n,r){const s=Bt();if(s.firstCreatePass){const o=_n();_g(s,new hg(t,n,r),o.index),function mT(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}Cg(s,Ze(),n)}function Sg(){return function ET(e,t){return e[19].queries[t].queryList}(Ze(),R())}function Cg(e,t,n){const r=new dl(4==(4&n));Vf(e,t,r,r.destroy),null===t[19]&&(t[19]=new pl),t[19].queries.push(new hl(r))}function _g(e,t,n){null===e.queries&&(e.queries=new gl),e.queries.track(new El(t,n))}function yg(e,t){return e.queries.getByIndex(t)}function Tg(e,t){return fu(e,t)}function gu(...e){}const Bg=new sn("Application Initializer");let Eu=(()=>{class e{constructor(n){this.appInits=n,this.resolve=gu,this.reject=gu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const o=this.appInits[s]();if(Jc(o))n.push(o);else if(Sh(o)){const c=new Promise((C,I)=>{o.subscribe({complete:C,error:I})});n.push(c)}}Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Bn(Bg,8))},e.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Vg=new sn("AppId",{providedIn:"root",factory:function Hg(){return`${Tl()}${Tl()}${Tl()}`}});function Tl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Kg=new sn("Platform Initializer"),xT=new sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jg=new sn("appBootstrapListener"),GT=new sn("AnimationModuleType");let kT=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const mu=new sn("LocaleId",{providedIn:"root",factory:()=>Ql(mu,H.Optional|H.SkipSelf)||function YT(){return typeof $localize<"u"&&$localize.locale||Gi}()}),BT=new sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class VT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let HT=(()=>{class e{compileModuleSync(n){return new al(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Qs(Nt(n).declarations).reduce((c,C)=>{const I=he(C);return I&&c.push(new ca(I)),c},[]);return new VT(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const $T=(()=>Promise.resolve(0))();function vl(e){typeof Zone>"u"?$T.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class rs{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gs(!1),this.onMicrotaskEmpty=new Gs(!1),this.onStable=new Gs(!1),this.onError=new Gs(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const s=this;if(s._nesting=0,s._outer=s._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;s._inner=s._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function JT(){let e=Pe.requestAnimationFrame,t=Pe.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function qT(e){const t=()=>{!function zT(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Pe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Il(e),e.isCheckStableRunning=!0,Al(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Il(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,o,c,C)=>{try{return Wg(e),n.invokeTask(s,o,c,C)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),zg(e)}},onInvoke:(n,r,s,o,c,C,I)=>{try{return Wg(e),n.invoke(s,o,c,C,I)}finally{e.shouldCoalesceRunChangeDetection&&t(),zg(e)}},onHasTask:(n,r,s,o)=>{n.hasTask(s,o),r===s&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Il(e),Al(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,s,o)=>(n.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rs.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(rs.isInAngularZone())throw new pe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const o=this._inner,c=o.scheduleEventTask("NgZoneEvent: "+s,t,WT,gu,gu);try{return o.runTask(c,n,r)}finally{o.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const WT={};function Al(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Il(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Wg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zg(e){e._nesting--,Al(e)}class QT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gs,this.onMicrotaskEmpty=new Gs,this.onStable=new Gs,this.onError=new Gs}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,s){return t.apply(n,r)}}const qg=new sn(""),Qg=new sn("");let Rl,ZT=(()=>{class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rl||(function XT(e){Rl=e}(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rs.assertNotInAngularZone(),vl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vl(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}}return e.\u0275fac=function(n){return new(n||e)(Bn(rs),Bn(Zg),Bn(Qg))},e.\u0275prov=Jt({token:e,factory:e.\u0275fac}),e})(),Zg=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Rl?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Ro=null;const Xg=new sn("AllowMultipleToken"),Ol=new sn("PlatformDestroyListeners");class nv{constructor(t,n){this.name=t,this.token=n}}function tE(e,t,n=[]){const r=`Platform: ${t}`,s=new sn(r);return(o=[])=>{let c=Dl();if(!c||c.injector.get(Xg,!1)){const C=[...n,...o,{provide:s,useValue:!0}];e?e(C):function rv(e){if(Ro&&!Ro.get(Xg,!1))throw new pe(400,!1);Ro=e;const t=e.get(rE);(function eE(e){const t=e.get(Kg,null);t&&t.forEach(n=>n())})(e)}(function nE(e=[],t){return Wo.create({name:t,providers:[{provide:Hu,useValue:"platform"},{provide:Ol,useValue:new Set([()=>Ro=null])},...e]})}(C,r))}return function ov(e){const t=Dl();if(!t)throw new pe(401,!1);return t}()}}function Dl(){return Ro?.get(rE)??null}let rE=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const s=function oE(e,t){let n;return n="noop"===e?new QT:("zone.js"===e?void 0:e)||new rs(t),n}(r?.ngZone,function sE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:rs,useValue:s}];return s.run(()=>{const c=Wo.create({providers:o,parent:this.injector,name:n.moduleType.name}),C=n.create(c),I=C.injector.get(sa,null);if(!I)throw new pe(402,!1);return s.runOutsideAngular(()=>{const k=s.onError.subscribe({next:J=>{I.handleError(J)}});C.onDestroy(()=>{Cu(this._modules,C),k.unsubscribe()})}),function iE(e,t,n){try{const r=n();return Jc(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(I,s,()=>{const k=C.injector.get(Eu);return k.runInitializers(),k.donePromise.then(()=>(function Sp(e){ft(e,"Expected localeId to be defined"),"string"==typeof e&&(mp=e.toLowerCase().replace(/_/g,"-"))}(C.injector.get(mu,Gi)||Gi),this._moduleDoBootstrap(C),C))})})}bootstrapModule(n,r=[]){const s=aE({},r);return function ev(e,t,n){const r=new al(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(n){const r=n.injector.get(Su);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new pe(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Ol,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Bn(Wo))},e.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function aE(e,t){return Array.isArray(t)?t.reduce(aE,e):{...e,...t}}let Su=(()=>{class e{constructor(n,r,s){this._zone=n,this._injector=r,this._exceptionHandler=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new d.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),c=new d.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{rs.assertNotInAngularZone(),vl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),k.unsubscribe()}});this.isStable=function M(...e){const t=(0,p.yG)(e),n=(0,p._6)(e,1/0),r=e;return r.length?1===r.length?(0,T.Xf)(r[0]):(0,v.J)(n)((0,m.D)(r,t)):S.E}(o,c.pipe(function O(e={}){const{connector:t=(()=>new i.x),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return o=>{let c,C,I,k=0,J=!1,fe=!1;const Ie=()=>{C?.unsubscribe(),C=void 0},xe=()=>{Ie(),c=I=void 0,J=fe=!1},We=()=>{const rt=c;xe(),rt?.unsubscribe()};return(0,F.e)((rt,ct)=>{k++,!fe&&!J&&Ie();const yt=I=I??t();ct.add(()=>{k--,0===k&&!fe&&!J&&(C=x(We,s))}),yt.subscribe(ct),!c&&k>0&&(c=new y.Hp({next:It=>yt.next(It),error:It=>{fe=!0,Ie(),C=x(xe,n,It),yt.error(It)},complete:()=>{J=!0,Ie(),C=x(xe,r),yt.complete()}}),(0,T.Xf)(rt).subscribe(c))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const s=n instanceof Od;if(!this._injector.get(Eu).done)throw!s&&At(n),new pe(405,false);let c;c=s?n:this._injector.get(na).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const C=function tv(e){return e.isBoundToModule}(c)?void 0:this._injector.get(ki),k=c.create(Wo.NULL,[],r||c.selector,C),J=k.location.nativeElement,fe=k.injector.get(qg,null);return fe?.registerApplication(J),k.onDestroy(()=>{this.detachView(k.hostView),Cu(this.components,k),fe?.unregisterApplication(J)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Cu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(jg,[]).concat(this._bootstrapListeners).forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Cu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new pe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Bn(rs),Bn($o),Bn(sa))},e.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Cu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let cE=!0;function av(){cE=!1}let uv=(()=>{class e{}return e.__NG_ELEMENT_ID__=cv,e})();function cv(e){return function lv(e,t,n){if(hn(e)&&!n){const r=ln(e.index,t);return new ua(r,r)}return 47&e.type?new ua(t[16],t):null}(_n(),Ze(),16==(16&e))}class pE{constructor(){}supports(t){return la(t)}create(t){return new Ev(t)}}const gv=(e,t)=>t;class Ev{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gv}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,o=null;for(;n||r;){const c=!r||n&&n.currentIndex<EE(r,s,o)?n:r,C=EE(c,s,o),I=c.currentIndex;if(c===r)s--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)s++;else{o||(o=[]);const k=C-s,J=I-s;if(k!=J){for(let Ie=0;Ie<k;Ie++){const xe=Ie<o.length?o[Ie]:o[Ie]=0,We=xe+Ie;J<=We&&We<k&&(o[Ie]=xe+1)}o[c.previousIndex]=J-k}}C!==I&&t(c,C,I)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!la(t))throw new pe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,o,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let C=0;C<this.length;C++)o=t[C],c=this._trackByFn(C,o),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,o,c,C)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,c,C),r=!0),n=n._next}else s=0,function $C(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[zo()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,C=>{c=this._trackByFn(s,C),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,C,c,s)),Object.is(n.item,C)||this._addIdentityChange(n,C)):(n=this._mismatch(n,C,c,s),r=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,s)):t=this._addAfter(new mv(n,r),o,s),t}_verifyReinsertion(t,n,r,s){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,o=t._nextRemoved;return null===s?this._removalsHead=o:s._nextRemoved=o,null===o?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const s=null===n?this._itHead:n._next;return t._next=s,t._prev=n,null===s?this._itTail=t:s._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new gE),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class mv{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sv{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class gE{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new Sv,this.map.set(n,r)),r.add(t)}get(t,n){const s=this.map.get(t);return s?s.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EE(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class mE{constructor(){}supports(t){return t instanceof Map||Vc(t)}create(){return new Cv}}class Cv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Vc(t)))throw new pe(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(s,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,n);const o=s._prev,c=s._next;return o&&(o._next=c),c&&(c._prev=o),s._next=null,s._prev=null,s}const r=new _v(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class _v{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SE(){return new Ll([new pE])}let Ll=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||SE()),deps:[[e,new Qi,new qi]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(null!=r)return r;throw new pe(901,!1)}}return e.\u0275prov=Jt({token:e,providedIn:"root",factory:SE}),e})();function CE(){return new bl([new mE])}let bl=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||CE()),deps:[[e,new Qi,new qi]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new pe(901,!1)}}return e.\u0275prov=Jt({token:e,providedIn:"root",factory:CE}),e})();const vv=tE(null,"core",[]);let Av=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Bn(Su))},e.\u0275mod=qn({type:e}),e.\u0275inj=mn({}),e})();function Iv(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},1481:(vt,Le,g)=>{"use strict";g.d(Le,{Dx:()=>W,H7:()=>Mn,b2:()=>P,q6:()=>Ft,se:()=>X});var i=g(6895),_=g(8256);class d extends i.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class v extends d{static makeCurrent(){(0,i.HT)(new v)}onAndCancel(Oe,he,we){return Oe.addEventListener(he,we,!1),()=>{Oe.removeEventListener(he,we,!1)}}dispatchEvent(Oe,he){Oe.dispatchEvent(he)}remove(Oe){Oe.parentNode&&Oe.parentNode.removeChild(Oe)}createElement(Oe,he){return(he=he||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,he){return"window"===he?window:"document"===he?Oe:"body"===he?Oe.body:null}getBaseHref(Oe){const he=function S(){return T=T||document.querySelector("base"),T?T.getAttribute("href"):null}();return null==he?null:function m(Ue){p=p||document.createElement("a"),p.setAttribute("href",Ue);const Oe=p.pathname;return"/"===Oe.charAt(0)?Oe:`/${Oe}`}(he)}resetBaseElement(){T=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,i.Mx)(document.cookie,Oe)}}let p,T=null;const M=new _.OlP("TRANSITION_ID"),F=[{provide:_.ip1,useFactory:function y(Ue,Oe,he){return()=>{he.get(_.CZH).donePromise.then(()=>{const we=(0,i.q)(),$e=Oe.querySelectorAll(`style[ng-transition="${Ue}"]`);for(let At=0;At<$e.length;At++)we.remove($e[At])})}},deps:[M,i.K0,_.zs3],multi:!0}];let x=(()=>{class Ue{build(){return new XMLHttpRequest}}return Ue.\u0275fac=function(he){return new(he||Ue)},Ue.\u0275prov=_.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const G=new _.OlP("EventManagerPlugins");let L=(()=>{class Ue{constructor(he,we){this._zone=we,this._eventNameToPlugin=new Map,he.forEach($e=>$e.manager=this),this._plugins=he.slice().reverse()}addEventListener(he,we,$e){return this._findPluginFor(we).addEventListener(he,we,$e)}addGlobalEventListener(he,we,$e){return this._findPluginFor(we).addGlobalEventListener(he,we,$e)}getZone(){return this._zone}_findPluginFor(he){const we=this._eventNameToPlugin.get(he);if(we)return we;const $e=this._plugins;for(let At=0;At<$e.length;At++){const Nt=$e[At];if(Nt.supports(he))return this._eventNameToPlugin.set(he,Nt),Nt}throw new Error(`No event manager plugin found for event ${he}`)}}return Ue.\u0275fac=function(he){return new(he||Ue)(_.LFG(G),_.LFG(_.R0b))},Ue.\u0275prov=_.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class l{constructor(Oe){this._doc=Oe}addGlobalEventListener(Oe,he,we){const $e=(0,i.q)().getGlobalEventTarget(this._doc,Oe);if(!$e)throw new Error(`Unsupported event target ${$e} for event ${he}`);return this.addEventListener($e,he,we)}}let Q=(()=>{class Ue{constructor(){this._stylesSet=new Set}addStyles(he){const we=new Set;he.forEach($e=>{this._stylesSet.has($e)||(this._stylesSet.add($e),we.add($e))}),this.onStylesAdded(we)}onStylesAdded(he){}getAllStyles(){return Array.from(this._stylesSet)}}return Ue.\u0275fac=function(he){return new(he||Ue)},Ue.\u0275prov=_.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),ne=(()=>{class Ue extends Q{constructor(he){super(),this._doc=he,this._hostNodes=new Map,this._hostNodes.set(he.head,[])}_addStylesToHost(he,we,$e){he.forEach(At=>{const Nt=this._doc.createElement("style");Nt.textContent=At,$e.push(we.appendChild(Nt))})}addHost(he){const we=[];this._addStylesToHost(this._stylesSet,he,we),this._hostNodes.set(he,we)}removeHost(he){const we=this._hostNodes.get(he);we&&we.forEach(Re),this._hostNodes.delete(he)}onStylesAdded(he){this._hostNodes.forEach((we,$e)=>{this._addStylesToHost(he,$e,we)})}ngOnDestroy(){this._hostNodes.forEach(he=>he.forEach(Re))}}return Ue.\u0275fac=function(he){return new(he||Ue)(_.LFG(i.K0))},Ue.\u0275prov=_.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();function Re(Ue){(0,i.q)().remove(Ue)}const Z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oe=/%COMP%/g;function Ce(Ue,Oe,he){for(let we=0;we<Oe.length;we++){let $e=Oe[we];Array.isArray($e)?Ce(Ue,$e,he):($e=$e.replace(oe,Ue),he.push($e))}return he}function re(Ue){return Oe=>{if("__ngUnwrap__"===Oe)return Ue;!1===Ue(Oe)&&(Oe.preventDefault(),Oe.returnValue=!1)}}let X=(()=>{class Ue{constructor(he,we,$e){this.eventManager=he,this.sharedStylesHost=we,this.appId=$e,this.rendererByCompId=new Map,this.defaultRenderer=new Me(he)}createRenderer(he,we){if(!he||!we)return this.defaultRenderer;switch(we.encapsulation){case _.ifc.Emulated:{let $e=this.rendererByCompId.get(we.id);return $e||($e=new mt(this.eventManager,this.sharedStylesHost,we,this.appId),this.rendererByCompId.set(we.id,$e)),$e.applyToHost(he),$e}case 1:case _.ifc.ShadowDom:return new Qe(this.eventManager,this.sharedStylesHost,he,we);default:if(!this.rendererByCompId.has(we.id)){const $e=Ce(we.id,we.styles,[]);this.sharedStylesHost.addStyles($e),this.rendererByCompId.set(we.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ue.\u0275fac=function(he){return new(he||Ue)(_.LFG(L),_.LFG(ne),_.LFG(_.AFp))},Ue.\u0275prov=_.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class Me{constructor(Oe){this.eventManager=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Oe,he){return he?document.createElementNS(Z[he]||he,Oe):document.createElement(Oe)}createComment(Oe){return document.createComment(Oe)}createText(Oe){return document.createTextNode(Oe)}appendChild(Oe,he){(st(Oe)?Oe.content:Oe).appendChild(he)}insertBefore(Oe,he,we){Oe&&(st(Oe)?Oe.content:Oe).insertBefore(he,we)}removeChild(Oe,he){Oe&&Oe.removeChild(he)}selectRootElement(Oe,he){let we="string"==typeof Oe?document.querySelector(Oe):Oe;if(!we)throw new Error(`The selector "${Oe}" did not match any elements`);return he||(we.textContent=""),we}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,he,we,$e){if($e){he=$e+":"+he;const At=Z[$e];At?Oe.setAttributeNS(At,he,we):Oe.setAttribute(he,we)}else Oe.setAttribute(he,we)}removeAttribute(Oe,he,we){if(we){const $e=Z[we];$e?Oe.removeAttributeNS($e,he):Oe.removeAttribute(`${we}:${he}`)}else Oe.removeAttribute(he)}addClass(Oe,he){Oe.classList.add(he)}removeClass(Oe,he){Oe.classList.remove(he)}setStyle(Oe,he,we,$e){$e&(_.JOm.DashCase|_.JOm.Important)?Oe.style.setProperty(he,we,$e&_.JOm.Important?"important":""):Oe.style[he]=we}removeStyle(Oe,he,we){we&_.JOm.DashCase?Oe.style.removeProperty(he):Oe.style[he]=""}setProperty(Oe,he,we){Oe[he]=we}setValue(Oe,he){Oe.nodeValue=he}listen(Oe,he,we){return"string"==typeof Oe?this.eventManager.addGlobalEventListener(Oe,he,re(we)):this.eventManager.addEventListener(Oe,he,re(we))}}function st(Ue){return"TEMPLATE"===Ue.tagName&&void 0!==Ue.content}class mt extends Me{constructor(Oe,he,we,$e){super(Oe),this.component=we;const At=Ce($e+"-"+we.id,we.styles,[]);he.addStyles(At),this.contentAttr=function Se(Ue){return"_ngcontent-%COMP%".replace(oe,Ue)}($e+"-"+we.id),this.hostAttr=function Be(Ue){return"_nghost-%COMP%".replace(oe,Ue)}($e+"-"+we.id)}applyToHost(Oe){super.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,he){const we=super.createElement(Oe,he);return super.setAttribute(we,this.contentAttr,""),we}}class Qe extends Me{constructor(Oe,he,we,$e){super(Oe),this.sharedStylesHost=he,this.hostEl=we,this.shadowRoot=we.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const At=Ce($e.id,$e.styles,[]);for(let Nt=0;Nt<At.length;Nt++){const Gt=document.createElement("style");Gt.textContent=At[Nt],this.shadowRoot.appendChild(Gt)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Oe,he){return super.appendChild(this.nodeOrShadowRoot(Oe),he)}insertBefore(Oe,he,we){return super.insertBefore(this.nodeOrShadowRoot(Oe),he,we)}removeChild(Oe,he){return super.removeChild(this.nodeOrShadowRoot(Oe),he)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}}let ht=(()=>{class Ue extends l{constructor(he){super(he)}supports(he){return!0}addEventListener(he,we,$e){return he.addEventListener(we,$e,!1),()=>this.removeEventListener(he,we,$e)}removeEventListener(he,we,$e){return he.removeEventListener(we,$e)}}return Ue.\u0275fac=function(he){return new(he||Ue)(_.LFG(i.K0))},Ue.\u0275prov=_.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const je=["alt","control","meta","shift"],et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},be={alt:Ue=>Ue.altKey,control:Ue=>Ue.ctrlKey,meta:Ue=>Ue.metaKey,shift:Ue=>Ue.shiftKey};let Ye=(()=>{class Ue extends l{constructor(he){super(he)}supports(he){return null!=Ue.parseEventName(he)}addEventListener(he,we,$e){const At=Ue.parseEventName(we),Nt=Ue.eventCallback(At.fullKey,$e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,i.q)().onAndCancel(he,At.domEventName,Nt))}static parseEventName(he){const we=he.toLowerCase().split("."),$e=we.shift();if(0===we.length||"keydown"!==$e&&"keyup"!==$e)return null;const At=Ue._normalizeKey(we.pop());let Nt="",Gt=we.indexOf("code");if(Gt>-1&&(we.splice(Gt,1),Nt="code."),je.forEach(wt=>{const Kt=we.indexOf(wt);Kt>-1&&(we.splice(Kt,1),Nt+=wt+".")}),Nt+=At,0!=we.length||0===At.length)return null;const it={};return it.domEventName=$e,it.fullKey=Nt,it}static matchEventFullKeyCode(he,we){let $e=et[he.key]||he.key,At="";return we.indexOf("code.")>-1&&($e=he.code,At="code."),!(null==$e||!$e)&&($e=$e.toLowerCase()," "===$e?$e="space":"."===$e&&($e="dot"),je.forEach(Nt=>{Nt!==$e&&(0,be[Nt])(he)&&(At+=Nt+".")}),At+=$e,At===we)}static eventCallback(he,we,$e){return At=>{Ue.matchEventFullKeyCode(At,he)&&$e.runGuarded(()=>we(At))}}static _normalizeKey(he){return"esc"===he?"escape":he}}return Ue.\u0275fac=function(he){return new(he||Ue)(_.LFG(i.K0))},Ue.\u0275prov=_.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const Ft=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:i.bD},{provide:_.g9A,useValue:function bn(){v.makeCurrent()},multi:!0},{provide:i.K0,useFactory:function Nn(){return(0,_.RDi)(document),document},deps:[]}]),Wt=new _.OlP(""),_t=[{provide:_.rWj,useClass:class O{addToWindow(Oe){_.dqk.getAngularTestability=(we,$e=!0)=>{const At=Oe.findTestabilityInTree(we,$e);if(null==At)throw new Error("Could not find testability for element.");return At},_.dqk.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>Oe.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(we=>{const $e=_.dqk.getAllAngularTestabilities();let At=$e.length,Nt=!1;const Gt=function(it){Nt=Nt||it,At--,0==At&&we(Nt)};$e.forEach(function(it){it.whenStable(Gt)})})}findTestabilityInTree(Oe,he,we){return null==he?null:Oe.getTestability(he)??(we?(0,i.q)().isShadowRoot(he)?this.findTestabilityInTree(Oe,he.host,!0):this.findTestabilityInTree(Oe,he.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],D=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function Jt(){return new _.qLn},deps:[]},{provide:G,useClass:ht,multi:!0,deps:[i.K0,_.R0b,_.Lbi]},{provide:G,useClass:Ye,multi:!0,deps:[i.K0]},{provide:X,useClass:X,deps:[L,ne,_.AFp]},{provide:_.FYo,useExisting:X},{provide:Q,useExisting:ne},{provide:ne,useClass:ne,deps:[i.K0]},{provide:L,useClass:L,deps:[G,_.R0b]},{provide:i.JF,useClass:x,deps:[]},[]];let P=(()=>{class Ue{constructor(he){}static withServerTransition(he){return{ngModule:Ue,providers:[{provide:_.AFp,useValue:he.appId},{provide:M,useExisting:_.AFp},F]}}}return Ue.\u0275fac=function(he){return new(he||Ue)(_.LFG(Wt,12))},Ue.\u0275mod=_.oAB({type:Ue}),Ue.\u0275inj=_.cJS({providers:[...D,..._t],imports:[i.ez,_.hGG]}),Ue})(),W=(()=>{class Ue{constructor(he){this._doc=he}getTitle(){return this._doc.title}setTitle(he){this._doc.title=he||""}}return Ue.\u0275fac=function(he){return new(he||Ue)(_.LFG(i.K0))},Ue.\u0275prov=_.Yz7({token:Ue,factory:function(he){let we=null;return we=he?new he:function ce(){return new W((0,_.LFG)(i.K0))}(),we},providedIn:"root"}),Ue})();typeof window<"u"&&window;let Mn=(()=>{class Ue{}return Ue.\u0275fac=function(he){return new(he||Ue)},Ue.\u0275prov=_.Yz7({token:Ue,factory:function(he){let we=null;return we=he?new(he||Ue):_.LFG(yn),we},providedIn:"root"}),Ue})(),yn=(()=>{class Ue extends Mn{constructor(he){super(),this._doc=he}sanitize(he,we){if(null==we)return null;switch(he){case _.q3G.NONE:return we;case _.q3G.HTML:return(0,_.qzn)(we,"HTML")?(0,_.z3N)(we):(0,_.EiD)(this._doc,String(we)).toString();case _.q3G.STYLE:return(0,_.qzn)(we,"Style")?(0,_.z3N)(we):we;case _.q3G.SCRIPT:if((0,_.qzn)(we,"Script"))return(0,_.z3N)(we);throw new Error("unsafe value used in a script context");case _.q3G.URL:return(0,_.qzn)(we,"URL")?(0,_.z3N)(we):(0,_.mCW)(String(we));case _.q3G.RESOURCE_URL:if((0,_.qzn)(we,"ResourceURL"))return(0,_.z3N)(we);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${he} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(he){return(0,_.JVY)(he)}bypassSecurityTrustStyle(he){return(0,_.L6k)(he)}bypassSecurityTrustScript(he){return(0,_.eBb)(he)}bypassSecurityTrustUrl(he){return(0,_.LAX)(he)}bypassSecurityTrustResourceUrl(he){return(0,_.pB0)(he)}}return Ue.\u0275fac=function(he){return new(he||Ue)(_.LFG(i.K0))},Ue.\u0275prov=_.Yz7({token:Ue,factory:function(he){let we=null;return we=he?new he:function qn(Ue){return new yn(Ue.get(i.K0))}(_.LFG(_.zs3)),we},providedIn:"root"}),Ue})()},4564:(vt,Le,g)=>{"use strict";g.d(Le,{gz:()=>zr,wm:()=>$i,F0:()=>Un,rH:()=>fi,yS:()=>Yo,Bz:()=>Ir,lC:()=>Os});var i=g(8256),_=g(2076),d=g(9646),v=g(1135);const S=(0,g(3888).d)(h=>function(){h(this),this.name="EmptyError",this.message="no elements in sequence"});var p=g(9751),m=g(4742),M=g(4671),y=g(3268),F=g(7669),O=g(1810),x=g(5403),G=g(9672);function L(...h){const E=(0,F.yG)(h),u=(0,F.jO)(h),{args:A,keys:b}=(0,m.D)(h);if(0===A.length)return(0,_.D)([],E);const j=new p.y(function l(h,E,u=M.y){return A=>{Q(E,()=>{const{length:b}=h,j=new Array(b);let ge=b,me=b;for(let ke=0;ke<b;ke++)Q(E,()=>{const nt=(0,_.D)(h[ke],E);let Lt=!1;nt.subscribe((0,x.x)(A,gt=>{j[ke]=gt,Lt||(Lt=!0,me--),me||A.next(u(j.slice()))},()=>{--ge||A.complete()}))},A)},A)}}(A,E,b?ge=>(0,O.n)(b,ge):M.y));return u?j.pipe((0,y.Z)(u)):j}function Q(h,E,u){h?(0,G.f)(u,h,E):E()}var ne=g(8189);function Z(...h){return function Re(){return(0,ne.J)(1)}()((0,_.D)(h,(0,F.yG)(h)))}var oe=g(8421);function ie(h){return new p.y(E=>{(0,oe.Xf)(h()).subscribe(E)})}var pe=g(9635),De=g(2843),ae=g(515),Se=g(727),Be=g(4482);function Ce(){return(0,Be.e)((h,E)=>{let u=null;h._refCount++;const A=(0,x.x)(E,void 0,void 0,void 0,()=>{if(!h||h._refCount<=0||0<--h._refCount)return void(u=null);const b=h._connection,j=u;u=null,b&&(!j||b===j)&&b.unsubscribe(),E.unsubscribe()});h.subscribe(A),A.closed||(u=h.connect())})}class re extends p.y{constructor(E,u){super(),this.source=E,this.subjectFactory=u,this._subject=null,this._refCount=0,this._connection=null,(0,Be.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Se.w0;const u=this.getSubject();E.add(this.source.subscribe((0,x.x)(u,void 0,()=>{this._teardown(),u.complete()},A=>{this._teardown(),u.error(A)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Se.w0.EMPTY)}return E}refCount(){return Ce()(this)}}var le=g(7579),X=g(6895),Me=g(4004);function Fe(h,E){return(0,Be.e)((u,A)=>{let b=null,j=0,ge=!1;const me=()=>ge&&!b&&A.complete();u.subscribe((0,x.x)(A,ke=>{b?.unsubscribe();let nt=0;const Lt=j++;(0,oe.Xf)(h(ke,Lt)).subscribe(b=(0,x.x)(A,gt=>A.next(E?E(ke,gt,Lt,nt++):gt),()=>{b=null,me()}))},()=>{ge=!0,me()}))})}var qe=g(5698),mt=g(9300),Qe=g(5577);function ht(h){return(0,Be.e)((E,u)=>{let A=!1;E.subscribe((0,x.x)(u,b=>{A=!0,u.next(b)},()=>{A||u.next(h),u.complete()}))})}function je(h=et){return(0,Be.e)((E,u)=>{let A=!1;E.subscribe((0,x.x)(u,b=>{A=!0,u.next(b)},()=>A?u.complete():u.error(h())))})}function et(){return new S}function be(h,E){const u=arguments.length>=2;return A=>A.pipe(h?(0,mt.h)((b,j)=>h(b,j,A)):M.y,(0,qe.q)(1),u?ht(E):je(()=>new S))}var Ye=g(4351),at=g(576);function ft(h,E,u){const A=(0,at.m)(h)||E||u?{next:h,error:E,complete:u}:h;return A?(0,Be.e)((b,j)=>{var ge;null===(ge=A.subscribe)||void 0===ge||ge.call(A);let me=!0;b.subscribe((0,x.x)(j,ke=>{var nt;null===(nt=A.next)||void 0===nt||nt.call(A,ke),j.next(ke)},()=>{var ke;me=!1,null===(ke=A.complete)||void 0===ke||ke.call(A),j.complete()},ke=>{var nt;me=!1,null===(nt=A.error)||void 0===nt||nt.call(A,ke),j.error(ke)},()=>{var ke,nt;me&&(null===(ke=A.unsubscribe)||void 0===ke||ke.call(A)),null===(nt=A.finalize)||void 0===nt||nt.call(A)}))}):M.y}var Tt=g(262);function En(h,E,u,A,b){return(j,ge)=>{let me=u,ke=E,nt=0;j.subscribe((0,x.x)(ge,Lt=>{const gt=nt++;ke=me?h(ke,Lt,gt):(me=!0,Lt),A&&ge.next(ke)},b&&(()=>{me&&ge.next(ke),ge.complete()})))}}function Wn(h,E){return(0,Be.e)(En(h,E,arguments.length>=2,!0))}function bn(h){return h<=0?()=>ae.E:(0,Be.e)((E,u)=>{let A=[];E.subscribe((0,x.x)(u,b=>{A.push(b),h<A.length&&A.shift()},()=>{for(const b of A)u.next(b);u.complete()},void 0,()=>{A=null}))})}function Jt(h,E){const u=arguments.length>=2;return A=>A.pipe(h?(0,mt.h)((b,j)=>h(b,j,A)):M.y,bn(1),u?ht(E):je(()=>new S))}function Ft(h){return(0,Be.e)((E,u)=>{try{E.subscribe(u)}finally{u.add(h)}})}var Wt=g(1481);const _t="primary",D=Symbol("RouteTitle");class P{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const u=this.params[E];return Array.isArray(u)?u[0]:u}return null}getAll(E){if(this.has(E)){const u=this.params[E];return Array.isArray(u)?u:[u]}return[]}get keys(){return Object.keys(this.params)}}function ee(h){return new P(h)}function ue(h,E,u){const A=u.path.split("/");if(A.length>h.length||"full"===u.pathMatch&&(E.hasChildren()||A.length<h.length))return null;const b={};for(let j=0;j<A.length;j++){const ge=A[j],me=h[j];if(ge.startsWith(":"))b[ge.substring(1)]=me;else if(ge!==me.path)return null}return{consumed:h.slice(0,A.length),posParams:b}}function ce(h,E){const u=h?Object.keys(h):void 0,A=E?Object.keys(E):void 0;if(!u||!A||u.length!=A.length)return!1;let b;for(let j=0;j<u.length;j++)if(b=u[j],!W(h[b],E[b]))return!1;return!0}function W(h,E){if(Array.isArray(h)&&Array.isArray(E)){if(h.length!==E.length)return!1;const u=[...h].sort(),A=[...E].sort();return u.every((b,j)=>A[j]===b)}return h===E}function H(h){return Array.prototype.concat.apply([],h)}function $(h){return h.length>0?h[h.length-1]:null}function Y(h,E){for(const u in h)h.hasOwnProperty(u)&&E(h[u],u)}function z(h){return(0,i.CqO)(h)?h:(0,i.QGY)(h)?(0,_.D)(Promise.resolve(h)):(0,d.of)(h)}const de={exact:function Pe(h,E,u){if(!nn(h.segments,E.segments)||!ot(h.segments,E.segments,u)||h.numberOfChildren!==E.numberOfChildren)return!1;for(const A in E.children)if(!h.children[A]||!Pe(h.children[A],E.children[A],u))return!1;return!0},subset:tt},Ae={exact:function Ve(h,E){return ce(h,E)},subset:function Ke(h,E){return Object.keys(E).length<=Object.keys(h).length&&Object.keys(E).every(u=>W(h[u],E[u]))},ignored:()=>!0};function Ne(h,E,u){return de[u.paths](h.root,E.root,u.matrixParams)&&Ae[u.queryParams](h.queryParams,E.queryParams)&&!("exact"===u.fragment&&h.fragment!==E.fragment)}function tt(h,E,u){return ut(h,E,E.segments,u)}function ut(h,E,u,A){if(h.segments.length>u.length){const b=h.segments.slice(0,u.length);return!(!nn(b,u)||E.hasChildren()||!ot(b,u,A))}if(h.segments.length===u.length){if(!nn(h.segments,u)||!ot(h.segments,u,A))return!1;for(const b in E.children)if(!h.children[b]||!tt(h.children[b],E.children[b],A))return!1;return!0}{const b=u.slice(0,h.segments.length),j=u.slice(h.segments.length);return!!(nn(h.segments,b)&&ot(h.segments,b,A)&&h.children[_t])&&ut(h.children[_t],E,j,A)}}function ot(h,E,u){return E.every((A,b)=>Ae[u](h[b].parameters,A.parameters))}class Et{constructor(E,u,A){this.root=E,this.queryParams=u,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ee(this.queryParams)),this._queryParamMap}toString(){return zn.serialize(this)}}class dt{constructor(E,u){this.segments=E,this.children=u,this.parent=null,Y(u,(A,b)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return un(this)}}class qt{constructor(E,u){this.path=E,this.parameters=u}get parameterMap(){return this._parameterMap||(this._parameterMap=ee(this.parameters)),this._parameterMap}toString(){return we(this)}}function nn(h,E){return h.length===E.length&&h.every((u,A)=>u.path===E[A].path)}let pr=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=i.Yz7({token:h,factory:function(){return new cn},providedIn:"root"}),h})();class cn{parse(E){const u=new sr(E);return new Et(u.parseRootSegment(),u.parseQueryParams(),u.parseFragment())}serialize(E){const u=`/${Mn(E.root,!0)}`,A=function At(h){const E=Object.keys(h).map(u=>{const A=h[u];return Array.isArray(A)?A.map(b=>`${yn(u)}=${yn(b)}`).join("&"):`${yn(u)}=${yn(A)}`}).filter(u=>!!u);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${u}${A}${"string"==typeof E.fragment?`#${function Qn(h){return encodeURI(h)}(E.fragment)}`:""}`}}const zn=new cn;function un(h){return h.segments.map(E=>we(E)).join("/")}function Mn(h,E){if(!h.hasChildren())return un(h);if(E){const u=h.children[_t]?Mn(h.children[_t],!1):"",A=[];return Y(h.children,(b,j)=>{j!==_t&&A.push(`${j}:${Mn(b,!1)}`)}),A.length>0?`${u}(${A.join("//")})`:u}{const u=function xn(h,E){let u=[];return Y(h.children,(A,b)=>{b===_t&&(u=u.concat(E(A,b)))}),Y(h.children,(A,b)=>{b!==_t&&(u=u.concat(E(A,b)))}),u}(h,(A,b)=>b===_t?[Mn(h.children[_t],!1)]:[`${b}:${Mn(A,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[_t]?`${un(h)}/${u[0]}`:`${un(h)}/(${u.join("//")})`}}function qn(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yn(h){return qn(h).replace(/%3B/gi,";")}function Ue(h){return qn(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oe(h){return decodeURIComponent(h)}function he(h){return Oe(h.replace(/\+/g,"%20"))}function we(h){return`${Ue(h.path)}${function $e(h){return Object.keys(h).map(E=>`;${Ue(E)}=${Ue(h[E])}`).join("")}(h.parameters)}`}const Nt=/^[^\/()?;=#]+/;function Gt(h){const E=h.match(Nt);return E?E[0]:""}const it=/^[^=?&#]+/,Kt=/^[^&#]+/;class sr{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let u={};this.peekStartsWith("/(")&&(this.capture("/"),u=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(E.length>0||Object.keys(u).length>0)&&(A[_t]=new dt(E,u)),A}parseSegment(){const E=Gt(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new i.vHH(4009,!1);return this.capture(E),new qt(Oe(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const u=Gt(this.remaining);if(!u)return;this.capture(u);let A="";if(this.consumeOptional("=")){const b=Gt(this.remaining);b&&(A=b,this.capture(A))}E[Oe(u)]=Oe(A)}parseQueryParam(E){const u=function wt(h){const E=h.match(it);return E?E[0]:""}(this.remaining);if(!u)return;this.capture(u);let A="";if(this.consumeOptional("=")){const ge=function fn(h){const E=h.match(Kt);return E?E[0]:""}(this.remaining);ge&&(A=ge,this.capture(A))}const b=he(u),j=he(A);if(E.hasOwnProperty(b)){let ge=E[b];Array.isArray(ge)||(ge=[ge],E[b]=ge),ge.push(j)}else E[b]=j}parseParens(E){const u={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Gt(this.remaining),b=this.remaining[A.length];if("/"!==b&&")"!==b&&";"!==b)throw new i.vHH(4010,!1);let j;A.indexOf(":")>-1?(j=A.slice(0,A.indexOf(":")),this.capture(j),this.capture(":")):E&&(j=_t);const ge=this.parseChildren();u[j]=1===Object.keys(ge).length?ge[_t]:new dt([],ge),this.consumeOptional("//")}return u}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new i.vHH(4011,!1)}}function Sn(h){return h.segments.length>0?new dt([],{[_t]:h}):h}function Zn(h){const E={};for(const A of Object.keys(h.children)){const j=Zn(h.children[A]);(j.segments.length>0||j.hasChildren())&&(E[A]=j)}return function rn(h){if(1===h.numberOfChildren&&h.children[_t]){const E=h.children[_t];return new dt(h.segments.concat(E.segments),E.children)}return h}(new dt(h.segments,E))}function On(h){return h instanceof Et}function ys(h,E,u,A,b){if(0===u.length)return Xn(E.root,E.root,E.root,A,b);const j=function Dr(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new wn(!0,0,h);let E=0,u=!1;const A=h.reduce((b,j,ge)=>{if("object"==typeof j&&null!=j){if(j.outlets){const me={};return Y(j.outlets,(ke,nt)=>{me[nt]="string"==typeof ke?ke.split("/"):ke}),[...b,{outlets:me}]}if(j.segmentPath)return[...b,j.segmentPath]}return"string"!=typeof j?[...b,j]:0===ge?(j.split("/").forEach((me,ke)=>{0==ke&&"."===me||(0==ke&&""===me?u=!0:".."===me?E++:""!=me&&b.push(me))}),b):[...b,j]},[]);return new wn(u,E,A)}(u);return j.toRoot()?Xn(E.root,E.root,new dt([],{}),A,b):function ge(ke){const nt=function ei(h,E,u,A){if(h.isAbsolute)return new xr(E.root,!0,0);if(-1===A)return new xr(u,u===E.root,0);return function to(h,E,u){let A=h,b=E,j=u;for(;j>b;){if(j-=b,A=A.parent,!A)throw new i.vHH(4005,!1);b=A.segments.length}return new xr(A,!1,b-j)}(u,A+(ir(h.commands[0])?0:1),h.numberOfDoubleDots)}(j,E,h.snapshot?._urlSegment,ke),Lt=nt.processChildren?Er(nt.segmentGroup,nt.index,j.commands):Nr(nt.segmentGroup,nt.index,j.commands);return Xn(E.root,nt.segmentGroup,Lt,A,b)}(h.snapshot?._lastPathIndex)}function ir(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function zt(h){return"object"==typeof h&&null!=h&&h.outlets}function Xn(h,E,u,A,b){let ge,j={};A&&Y(A,(ke,nt)=>{j[nt]=Array.isArray(ke)?ke.map(Lt=>`${Lt}`):`${ke}`}),ge=h===E?u:gr(h,E,u);const me=Sn(Zn(ge));return new Et(me,j,b)}function gr(h,E,u){const A={};return Y(h.children,(b,j)=>{A[j]=b===E?u:gr(b,E,u)}),new dt(h.segments,A)}class wn{constructor(E,u,A){if(this.isAbsolute=E,this.numberOfDoubleDots=u,this.commands=A,E&&A.length>0&&ir(A[0]))throw new i.vHH(4003,!1);const b=A.find(zt);if(b&&b!==$(A))throw new i.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xr{constructor(E,u,A){this.segmentGroup=E,this.processChildren=u,this.index=A}}function Nr(h,E,u){if(h||(h=new dt([],{})),0===h.segments.length&&h.hasChildren())return Er(h,E,u);const A=function Ts(h,E,u){let A=0,b=E;const j={match:!1,pathIndex:0,commandIndex:0};for(;b<h.segments.length;){if(A>=u.length)return j;const ge=h.segments[b],me=u[A];if(zt(me))break;const ke=`${me}`,nt=A<u.length-1?u[A+1]:null;if(b>0&&void 0===ke)break;if(ke&&nt&&"object"==typeof nt&&void 0===nt.outlets){if(!Dn(ke,nt,ge))return j;A+=2}else{if(!Dn(ke,{},ge))return j;A++}b++}return{match:!0,pathIndex:b,commandIndex:A}}(h,E,u),b=u.slice(A.commandIndex);if(A.match&&A.pathIndex<h.segments.length){const j=new dt(h.segments.slice(0,A.pathIndex),{});return j.children[_t]=new dt(h.segments.slice(A.pathIndex),h.children),Er(j,0,b)}return A.match&&0===b.length?new dt(h.segments,{}):A.match&&!h.hasChildren()?ar(h,E,u):A.match?Er(h,0,b):ar(h,E,u)}function Er(h,E,u){if(0===u.length)return new dt(h.segments,{});{const A=function yr(h){return zt(h[0])?h[0].outlets:{[_t]:h}}(u),b={};return Y(A,(j,ge)=>{"string"==typeof j&&(j=[j]),null!==j&&(b[ge]=Nr(h.children[ge],E,j))}),Y(h.children,(j,ge)=>{void 0===A[ge]&&(b[ge]=j)}),new dt(h.segments,b)}}function ar(h,E,u){const A=h.segments.slice(0,E);let b=0;for(;b<u.length;){const j=u[b];if(zt(j)){const ke=Cn(j.outlets);return new dt(A,ke)}if(0===b&&ir(u[0])){A.push(new qt(h.segments[E].path,ks(u[0]))),b++;continue}const ge=zt(j)?j.outlets[_t]:`${j}`,me=b<u.length-1?u[b+1]:null;ge&&me&&ir(me)?(A.push(new qt(ge,ks(me))),b+=2):(A.push(new qt(ge,{})),b++)}return new dt(A,{})}function Cn(h){const E={};return Y(h,(u,A)=>{"string"==typeof u&&(u=[u]),null!==u&&(E[A]=ar(new dt([],{}),0,u))}),E}function ks(h){const E={};return Y(h,(u,A)=>E[A]=`${u}`),E}function Dn(h,E,u){return h==u.path&&ce(E,u.parameters)}class Tn{constructor(E,u){this.id=E,this.url=u}}class $r extends Tn{constructor(E,u,A="imperative",b=null){super(E,u),this.type=0,this.navigationTrigger=A,this.restoredState=b}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hn extends Tn{constructor(E,u,A){super(E,u),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gr extends Tn{constructor(E,u,A,b){super(E,u),this.reason=A,this.code=b,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class er extends Tn{constructor(E,u,A,b){super(E,u),this.error=A,this.target=b,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oo extends Tn{constructor(E,u,A,b){super(E,u),this.urlAfterRedirects=A,this.state=b,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends Tn{constructor(E,u,A,b){super(E,u),this.urlAfterRedirects=A,this.state=b,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends Tn{constructor(E,u,A,b,j){super(E,u),this.urlAfterRedirects=A,this.state=b,this.shouldActivate=j,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Do extends Tn{constructor(E,u,A,b){super(E,u),this.urlAfterRedirects=A,this.state=b,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr extends Tn{constructor(E,u,A,b){super(E,u),this.urlAfterRedirects=A,this.state=b,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ys{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ro{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bs{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ni{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mo{constructor(E,u,A){this.routerEvent=E,this.position=u,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vs{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const u=this.pathFromRoot(E);return u.length>1?u[u.length-2]:null}children(E){const u=so(E,this._root);return u?u.children.map(A=>A.value):[]}firstChild(E){const u=so(E,this._root);return u&&u.children.length>0?u.children[0].value:null}siblings(E){const u=Wr(E,this._root);return u.length<2?[]:u[u.length-2].children.map(b=>b.value).filter(b=>b!==E)}pathFromRoot(E){return Wr(E,this._root).map(u=>u.value)}}function so(h,E){if(h===E.value)return E;for(const u of E.children){const A=so(h,u);if(A)return A}return null}function Wr(h,E){if(h===E.value)return[E];for(const u of E.children){const A=Wr(h,u);if(A.length)return A.unshift(E),A}return[]}class mr{constructor(E,u){this.value=E,this.children=u}toString(){return`TreeNode(${this.value})`}}function Mr(h){const E={};return h&&h.children.forEach(u=>E[u.value.outlet]=u),E}class Hs extends Vs{constructor(E,u){super(E),this.snapshot=u,is(this,E)}toString(){return this.snapshot.toString()}}function kr(h,E){const u=function oo(h,E){const ge=new os([],{},{},"",{},_t,E,null,h.root,-1,{});return new vs("",new mr(ge,[]))}(h,E),A=new v.X([new qt("",{})]),b=new v.X({}),j=new v.X({}),ge=new v.X({}),me=new v.X(""),ke=new zr(A,b,ge,me,j,_t,E,u.root);return ke.snapshot=u.root,new Hs(new mr(ke,[]),u)}class zr{constructor(E,u,A,b,j,ge,me,ke){this.url=E,this.params=u,this.queryParams=A,this.fragment=b,this.data=j,this.outlet=ge,this.component=me,this.title=this.data?.pipe((0,Me.U)(nt=>nt[D]))??(0,d.of)(void 0),this._futureSnapshot=ke}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Me.U)(E=>ee(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Me.U)(E=>ee(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function io(h,E="emptyOnly"){const u=h.pathFromRoot;let A=0;if("always"!==E)for(A=u.length-1;A>=1;){const b=u[A],j=u[A-1];if(b.routeConfig&&""===b.routeConfig.path)A--;else{if(j.component)break;A--}}return function qr(h){return h.reduce((E,u)=>({params:{...E.params,...u.params},data:{...E.data,...u.data},resolve:{...u.data,...E.resolve,...u.routeConfig?.data,...u._resolvedData}}),{params:{},data:{},resolve:{}})}(u.slice(A))}class os{constructor(E,u,A,b,j,ge,me,ke,nt,Lt,gt,on){this.url=E,this.params=u,this.queryParams=A,this.fragment=b,this.data=j,this.outlet=ge,this.component=me,this.title=this.data?.[D],this.routeConfig=ke,this._urlSegment=nt,this._lastPathIndex=Lt,this._correctedLastPathIndex=on??Lt,this._resolve=gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ee(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ee(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vs extends Vs{constructor(E,u){super(u),this.url=E,is(this,u)}toString(){return As(this._root)}}function is(h,E){E.value._routerState=h,E.children.forEach(u=>is(h,u))}function As(h){const E=h.children.length>0?` { ${h.children.map(As).join(", ")} } `:"";return`${h.value}${E}`}function Is(h){if(h.snapshot){const E=h.snapshot,u=h._futureSnapshot;h.snapshot=u,ce(E.queryParams,u.queryParams)||h.queryParams.next(u.queryParams),E.fragment!==u.fragment&&h.fragment.next(u.fragment),ce(E.params,u.params)||h.params.next(u.params),function te(h,E){if(h.length!==E.length)return!1;for(let u=0;u<h.length;++u)if(!ce(h[u],E[u]))return!1;return!0}(E.url,u.url)||h.url.next(u.url),ce(E.data,u.data)||h.data.next(u.data)}else h.snapshot=h._futureSnapshot,h.data.next(h._futureSnapshot.data)}function ao(h,E){const u=ce(h.params,E.params)&&function dn(h,E){return nn(h,E)&&h.every((u,A)=>ce(u.parameters,E[A].parameters))}(h.url,E.url);return u&&!(!h.parent!=!E.parent)&&(!h.parent||ao(h.parent,E.parent))}function Rs(h,E,u){if(u&&h.shouldReuseRoute(E.value,u.value.snapshot)){const A=u.value;A._futureSnapshot=E.value;const b=function uo(h,E,u){return E.children.map(A=>{for(const b of u.children)if(h.shouldReuseRoute(A.value,b.value.snapshot))return Rs(h,A,b);return Rs(h,A)})}(h,E,u);return new mr(A,b)}{if(h.shouldAttach(E.value)){const j=h.retrieve(E.value);if(null!==j){const ge=j.route;return ge.value._futureSnapshot=E.value,ge.children=E.children.map(me=>Rs(h,me)),ge}}const A=function Po(h){return new zr(new v.X(h.url),new v.X(h.params),new v.X(h.queryParams),new v.X(h.fragment),new v.X(h.data),h.outlet,h.component,h)}(E.value),b=E.children.map(j=>Rs(h,j));return new mr(A,b)}}const Gn="ngNavigationCancelingError";function as(h,E){const{redirectTo:u,navigationBehaviorOptions:A}=On(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,b=Ks(!1,0,E);return b.url=u,b.navigationBehaviorOptions=A,b}function Ks(h,E,u){const A=new Error("NavigationCancelingError: "+(h||""));return A[Gn]=!0,A.cancellationCode=E,u&&(A.url=u),A}function js(h){return co(h)&&On(h.url)}function co(h){return h&&h[Gn]}class oi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yt,this.attachRef=null}}let Yt=(()=>{class h{constructor(){this.contexts=new Map}onChildOutletCreated(u,A){const b=this.getOrCreateContext(u);b.outlet=A,this.contexts.set(u,b)}onChildOutletDestroyed(u){const A=this.getContext(u);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const u=this.contexts;return this.contexts=new Map,u}onOutletReAttached(u){this.contexts=u}getOrCreateContext(u){let A=this.getContext(u);return A||(A=new oi,this.contexts.set(u,A)),A}getContext(u){return this.contexts.get(u)||null}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=i.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const us=!1;let Os=(()=>{class h{constructor(u,A,b,j,ge){this.parentContexts=u,this.location=A,this.changeDetector=j,this.environmentInjector=ge,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.name=b||_t,u.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const u=this.parentContexts.getContext(this.name);u&&u.route&&(u.attachRef?this.attach(u.attachRef,u.route):this.activateWith(u.route,u.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.vHH(4012,us);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.vHH(4012,us);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.vHH(4012,us);this.location.detach();const u=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(u.instance),u}attach(u,A){this.activated=u,this._activatedRoute=A,this.location.insert(u.hostView),this.attachEvents.emit(u.instance)}deactivate(){if(this.activated){const u=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(u)}}activateWith(u,A){if(this.isActivated)throw new i.vHH(4013,us);this._activatedRoute=u;const b=this.location,ge=u._futureSnapshot.component,me=this.parentContexts.getOrCreateContext(this.name).children,ke=new $s(u,me,b.injector);if(A&&function tr(h){return!!h.resolveComponentFactory}(A)){const nt=A.resolveComponentFactory(ge);this.activated=b.createComponent(nt,b.length,ke)}else this.activated=b.createComponent(ge,{index:b.length,injector:ke,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return h.\u0275fac=function(u){return new(u||h)(i.Y36(Yt),i.Y36(i.s_b),i.$8M("name"),i.Y36(i.sBO),i.Y36(i.lqb))},h.\u0275dir=i.lG2({type:h,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),h})();class $s{constructor(E,u,A){this.route=E,this.childContexts=u,this.parent=A}get(E,u){return E===zr?this.route:E===Yt?this.childContexts:this.parent.get(E,u)}}let Js=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275cmp=i.Xpm({type:h,selectors:[["ng-component"]],standalone:!0,features:[i.jDz],decls:1,vars:0,template:function(u,A){1&u&&i._UZ(0,"router-outlet")},dependencies:[Os],encapsulation:2}),h})();function cs(h,E){return h.providers&&!h._injector&&(h._injector=(0,i.MMx)(h.providers,E,`Route: ${h.path}`)),h._injector??E}function Mt(h){const E=h.children&&h.children.map(Mt),u=E?{...h,children:E}:{...h};return!u.component&&!u.loadComponent&&(E||u.loadChildren)&&u.outlet&&u.outlet!==_t&&(u.component=Js),u}function nr(h){return h.outlet||_t}function Ns(h,E){const u=h.filter(A=>nr(A)===E);return u.push(...h.filter(A=>nr(A)!==E)),u}function Ms(h){if(!h)return null;if(h.routeConfig?._injector)return h.routeConfig._injector;for(let E=h.parent;E;E=E.parent){const u=E.routeConfig;if(u?._loadedInjector)return u._loadedInjector;if(u?._injector)return u._injector}return null}class bo{constructor(E,u,A,b){this.routeReuseStrategy=E,this.futureState=u,this.currState=A,this.forwardEvent=b}activate(E){const u=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(u,A,E),Is(this.futureState.root),this.activateChildRoutes(u,A,E)}deactivateChildRoutes(E,u,A){const b=Mr(u);E.children.forEach(j=>{const ge=j.value.outlet;this.deactivateRoutes(j,b[ge],A),delete b[ge]}),Y(b,(j,ge)=>{this.deactivateRouteAndItsChildren(j,A)})}deactivateRoutes(E,u,A){const b=E.value,j=u?u.value:null;if(b===j)if(b.component){const ge=A.getContext(b.outlet);ge&&this.deactivateChildRoutes(E,u,ge.children)}else this.deactivateChildRoutes(E,u,A);else j&&this.deactivateRouteAndItsChildren(u,A)}deactivateRouteAndItsChildren(E,u){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,u):this.deactivateRouteAndOutlet(E,u)}detachAndStoreRouteSubtree(E,u){const A=u.getContext(E.value.outlet),b=A&&E.value.component?A.children:u,j=Mr(E);for(const ge of Object.keys(j))this.deactivateRouteAndItsChildren(j[ge],b);if(A&&A.outlet){const ge=A.outlet.detach(),me=A.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:ge,route:E,contexts:me})}}deactivateRouteAndOutlet(E,u){const A=u.getContext(E.value.outlet),b=A&&E.value.component?A.children:u,j=Mr(E);for(const ge of Object.keys(j))this.deactivateRouteAndItsChildren(j[ge],b);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(E,u,A){const b=Mr(u);E.children.forEach(j=>{this.activateRoutes(j,b[j.value.outlet],A),this.forwardEvent(new ri(j.value.snapshot))}),E.children.length&&this.forwardEvent(new No(E.value.snapshot))}activateRoutes(E,u,A){const b=E.value,j=u?u.value:null;if(Is(b),b===j)if(b.component){const ge=A.getOrCreateContext(b.outlet);this.activateChildRoutes(E,u,ge.children)}else this.activateChildRoutes(E,u,A);else if(b.component){const ge=A.getOrCreateContext(b.outlet);if(this.routeReuseStrategy.shouldAttach(b.snapshot)){const me=this.routeReuseStrategy.retrieve(b.snapshot);this.routeReuseStrategy.store(b.snapshot,null),ge.children.onOutletReAttached(me.contexts),ge.attachRef=me.componentRef,ge.route=me.route.value,ge.outlet&&ge.outlet.attach(me.componentRef,me.route.value),Is(me.route.value),this.activateChildRoutes(E,null,ge.children)}else{const me=Ms(b.snapshot),ke=me?.get(i._Vd)??null;ge.attachRef=null,ge.route=b,ge.resolver=ke,ge.injector=me,ge.outlet&&ge.outlet.activateWith(b,ge.injector),this.activateChildRoutes(E,null,ge.children)}}else this.activateChildRoutes(E,null,A)}}class ws{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class kn{constructor(E,u){this.component=E,this.route=u}}function Qr(h,E,u){const A=h._root;return Pr(A,E?E._root:null,u,[A.value])}function Bt(h,E){const u=Symbol(),A=E.get(h,u);return A===u?"function"!=typeof h||(0,i.Z0I)(h)?E.get(h):h:A}function Pr(h,E,u,A,b={canDeactivateChecks:[],canActivateChecks:[]}){const j=Mr(E);return h.children.forEach(ge=>{(function fo(h,E,u,A,b={canDeactivateChecks:[],canActivateChecks:[]}){const j=h.value,ge=E?E.value:null,me=u?u.getContext(h.value.outlet):null;if(ge&&j.routeConfig===ge.routeConfig){const ke=function _n(h,E,u){if("function"==typeof u)return u(h,E);switch(u){case"pathParamsChange":return!nn(h.url,E.url);case"pathParamsOrQueryParamsChange":return!nn(h.url,E.url)||!ce(h.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ao(h,E)||!ce(h.queryParams,E.queryParams);default:return!ao(h,E)}}(ge,j,j.routeConfig.runGuardsAndResolvers);ke?b.canActivateChecks.push(new ws(A)):(j.data=ge.data,j._resolvedData=ge._resolvedData),Pr(h,E,j.component?me?me.children:null:u,A,b),ke&&me&&me.outlet&&me.outlet.isActivated&&b.canDeactivateChecks.push(new kn(me.outlet.component,ge))}else ge&&ur(E,me,b),b.canActivateChecks.push(new ws(A)),Pr(h,null,j.component?me?me.children:null:u,A,b)})(ge,j[ge.value.outlet],u,A.concat([ge.value]),b),delete j[ge.value.outlet]}),Y(j,(ge,me)=>ur(ge,u.getContext(me),b)),b}function ur(h,E,u){const A=Mr(h),b=h.value;Y(A,(j,ge)=>{ur(j,b.component?E?E.children.getContext(ge):null:E,u)}),u.canDeactivateChecks.push(new kn(b.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,b))}function Vn(h){return"function"==typeof h}function lr(h){return h instanceof S||"EmptyError"===h?.name}const Lr=Symbol("INITIAL_VALUE");function dr(){return Fe(h=>L(h.map(E=>E.pipe((0,qe.q)(1),function st(...h){const E=(0,F.yG)(h);return(0,Be.e)((u,A)=>{(E?Z(h,u,E):Z(h,u)).subscribe(A)})}(Lr)))).pipe((0,Me.U)(E=>{for(const u of E)if(!0!==u){if(u===Lr)return Lr;if(!1===u||u instanceof Et)return u}return!0}),(0,mt.h)(E=>E!==Lr),(0,qe.q)(1)))}function w(h){return(0,pe.z)(ft(E=>{if(On(E))throw as(0,E)}),(0,Me.U)(E=>!0===E))}const ye={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function He(h,E,u,A,b){const j=ze(h,E,u);return j.matched?function q(h,E,u,A){const b=E.canMatch;if(!b||0===b.length)return(0,d.of)(!0);const j=b.map(ge=>{const me=Bt(ge,h);return z(function Vi(h){return h&&Vn(h.canMatch)}(me)?me.canMatch(E,u):h.runInContext(()=>me(E,u)))});return(0,d.of)(j).pipe(dr(),w())}(A=cs(E,A),E,u).pipe((0,Me.U)(ge=>!0===ge?j:{...ye})):(0,d.of)(j)}function ze(h,E,u){if(""===E.path)return"full"===E.pathMatch&&(h.hasChildren()||u.length>0)?{...ye}:{matched:!0,consumedSegments:[],remainingSegments:u,parameters:{},positionalParamSegments:{}};const b=(E.matcher||ue)(u,h,E);if(!b)return{...ye};const j={};Y(b.posParams,(me,ke)=>{j[ke]=me.path});const ge=b.consumed.length>0?{...j,...b.consumed[b.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:b.consumed,remainingSegments:u.slice(b.consumed.length),parameters:ge,positionalParamSegments:b.posParams??{}}}function pt(h,E,u,A,b="corrected"){if(u.length>0&&function Xt(h,E,u){return u.some(A=>a(h,E,A)&&nr(A)!==_t)}(h,u,A)){const ge=new dt(E,function Qt(h,E,u,A){const b={};b[_t]=A,A._sourceSegment=h,A._segmentIndexShift=E.length;for(const j of u)if(""===j.path&&nr(j)!==_t){const ge=new dt([],{});ge._sourceSegment=h,ge._segmentIndexShift=E.length,b[nr(j)]=ge}return b}(h,E,A,new dt(u,h.children)));return ge._sourceSegment=h,ge._segmentIndexShift=E.length,{segmentGroup:ge,slicedSegments:[]}}if(0===u.length&&function B(h,E,u){return u.some(A=>a(h,E,A))}(h,u,A)){const ge=new dt(h.segments,function Zt(h,E,u,A,b,j){const ge={};for(const me of A)if(a(h,u,me)&&!b[nr(me)]){const ke=new dt([],{});ke._sourceSegment=h,ke._segmentIndexShift="legacy"===j?h.segments.length:E.length,ge[nr(me)]=ke}return{...b,...ge}}(h,E,u,A,h.children,b));return ge._sourceSegment=h,ge._segmentIndexShift=E.length,{segmentGroup:ge,slicedSegments:u}}const j=new dt(h.segments,h.children);return j._sourceSegment=h,j._segmentIndexShift=E.length,{segmentGroup:j,slicedSegments:u}}function a(h,E,u){return(!(h.hasChildren()||E.length>0)||"full"!==u.pathMatch)&&""===u.path}function f(h,E,u,A){return!!(nr(h)===A||A!==_t&&a(E,u,h))&&("**"===h.path||ze(E,h,u).matched)}function N(h,E,u){return 0===E.length&&!h.children[u]}const K=!1;class se{constructor(E){this.segmentGroup=E||null}}class Te{constructor(E){this.urlTree=E}}function ve(h){return(0,De._)(new se(h))}function Ge(h){return(0,De._)(new Te(h))}class Vt{constructor(E,u,A,b,j){this.injector=E,this.configLoader=u,this.urlSerializer=A,this.urlTree=b,this.config=j,this.allowRedirects=!0}apply(){const E=pt(this.urlTree.root,[],[],this.config).segmentGroup,u=new dt(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,u,_t).pipe((0,Me.U)(j=>this.createUrlTree(Zn(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Tt.K)(j=>{if(j instanceof Te)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof se?this.noMatchError(j):j}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,_t).pipe((0,Me.U)(b=>this.createUrlTree(Zn(b),E.queryParams,E.fragment))).pipe((0,Tt.K)(b=>{throw b instanceof se?this.noMatchError(b):b}))}noMatchError(E){return new i.vHH(4002,K)}createUrlTree(E,u,A){const b=Sn(E);return new Et(b,u,A)}expandSegmentGroup(E,u,A,b){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(E,u,A).pipe((0,Me.U)(j=>new dt([],j))):this.expandSegment(E,A,u,A.segments,b,!0)}expandChildren(E,u,A){const b=[];for(const j of Object.keys(A.children))"primary"===j?b.unshift(j):b.push(j);return(0,_.D)(b).pipe((0,Ye.b)(j=>{const ge=A.children[j],me=Ns(u,j);return this.expandSegmentGroup(E,me,ge,j).pipe((0,Me.U)(ke=>({segment:ke,outlet:j})))}),Wn((j,ge)=>(j[ge.outlet]=ge.segment,j),{}),Jt())}expandSegment(E,u,A,b,j,ge){return(0,_.D)(A).pipe((0,Ye.b)(me=>this.expandSegmentAgainstRoute(E,u,A,me,b,j,ge).pipe((0,Tt.K)(nt=>{if(nt instanceof se)return(0,d.of)(null);throw nt}))),be(me=>!!me),(0,Tt.K)((me,ke)=>{if(lr(me))return N(u,b,j)?(0,d.of)(new dt([],{})):ve(u);throw me}))}expandSegmentAgainstRoute(E,u,A,b,j,ge,me){return f(b,u,j,ge)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(E,u,b,j,ge):me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,u,A,b,j,ge):ve(u):ve(u)}expandSegmentAgainstRouteUsingRedirect(E,u,A,b,j,ge){return"**"===b.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,A,b,ge):this.expandRegularSegmentAgainstRouteUsingRedirect(E,u,A,b,j,ge)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,u,A,b){const j=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?Ge(j):this.lineralizeSegments(A,j).pipe((0,Qe.z)(ge=>{const me=new dt(ge,{});return this.expandSegment(E,me,u,ge,b,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,u,A,b,j,ge){const{matched:me,consumedSegments:ke,remainingSegments:nt,positionalParamSegments:Lt}=ze(u,b,j);if(!me)return ve(u);const gt=this.applyRedirectCommands(ke,b.redirectTo,Lt);return b.redirectTo.startsWith("/")?Ge(gt):this.lineralizeSegments(b,gt).pipe((0,Qe.z)(on=>this.expandSegment(E,u,A,on.concat(nt),ge,!1)))}matchSegmentAgainstRoute(E,u,A,b,j){return"**"===A.path?(E=cs(A,E),A.loadChildren?(A._loadedRoutes?(0,d.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(E,A)).pipe((0,Me.U)(me=>(A._loadedRoutes=me.routes,A._loadedInjector=me.injector,new dt(b,{})))):(0,d.of)(new dt(b,{}))):He(u,A,b,E).pipe(Fe(({matched:ge,consumedSegments:me,remainingSegments:ke})=>ge?this.getChildConfig(E=A._injector??E,A,b).pipe((0,Qe.z)(Lt=>{const gt=Lt.injector??E,on=Lt.routes,{segmentGroup:rr,slicedSegments:Fr}=pt(u,me,ke,on),vo=new dt(rr.segments,rr.children);if(0===Fr.length&&vo.hasChildren())return this.expandChildren(gt,on,vo).pipe((0,Me.U)(Mu=>new dt(me,Mu)));if(0===on.length&&0===Fr.length)return(0,d.of)(new dt(me,{}));const hr=nr(A)===j;return this.expandSegment(gt,vo,on,Fr,hr?_t:j,!0).pipe((0,Me.U)(Ls=>new dt(me.concat(Ls.segments),Ls.children)))})):ve(u)))}getChildConfig(E,u,A){return u.children?(0,d.of)({routes:u.children,injector:E}):u.loadChildren?void 0!==u._loadedRoutes?(0,d.of)({routes:u._loadedRoutes,injector:u._loadedInjector}):function V(h,E,u,A){const b=E.canLoad;if(void 0===b||0===b.length)return(0,d.of)(!0);const j=b.map(ge=>{const me=Bt(ge,h);return z(function Zr(h){return h&&Vn(h.canLoad)}(me)?me.canLoad(E,u):h.runInContext(()=>me(E,u)))});return(0,d.of)(j).pipe(dr(),w())}(E,u,A).pipe((0,Qe.z)(b=>b?this.configLoader.loadChildren(E,u).pipe(ft(j=>{u._loadedRoutes=j.routes,u._loadedInjector=j.injector})):function lt(h){return(0,De._)(Ks(K,3))}())):(0,d.of)({routes:[],injector:E})}lineralizeSegments(E,u){let A=[],b=u.root;for(;;){if(A=A.concat(b.segments),0===b.numberOfChildren)return(0,d.of)(A);if(b.numberOfChildren>1||!b.children[_t])return(0,De._)(new i.vHH(4e3,K));b=b.children[_t]}}applyRedirectCommands(E,u,A){return this.applyRedirectCreateUrlTree(u,this.urlSerializer.parse(u),E,A)}applyRedirectCreateUrlTree(E,u,A,b){const j=this.createSegmentGroup(E,u.root,A,b);return new Et(j,this.createQueryParams(u.queryParams,this.urlTree.queryParams),u.fragment)}createQueryParams(E,u){const A={};return Y(E,(b,j)=>{if("string"==typeof b&&b.startsWith(":")){const me=b.substring(1);A[j]=u[me]}else A[j]=b}),A}createSegmentGroup(E,u,A,b){const j=this.createSegments(E,u.segments,A,b);let ge={};return Y(u.children,(me,ke)=>{ge[ke]=this.createSegmentGroup(E,me,A,b)}),new dt(j,ge)}createSegments(E,u,A,b){return u.map(j=>j.path.startsWith(":")?this.findPosParam(E,j,b):this.findOrReturn(j,A))}findPosParam(E,u,A){const b=A[u.path.substring(1)];if(!b)throw new i.vHH(4001,K);return b}findOrReturn(E,u){let A=0;for(const b of u){if(b.path===E.path)return u.splice(A),b;A++}return E}}class Ut{}class Pn{constructor(E,u,A,b,j,ge,me,ke){this.injector=E,this.rootComponentType=u,this.config=A,this.urlTree=b,this.url=j,this.paramsInheritanceStrategy=ge,this.relativeLinkResolution=me,this.urlSerializer=ke}recognize(){const E=pt(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,_t).pipe((0,Me.U)(u=>{if(null===u)return null;const A=new os([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),b=new mr(A,u),j=new vs(this.url,b);return this.inheritParamsAndData(j._root),j}))}inheritParamsAndData(E){const u=E.value,A=io(u,this.paramsInheritanceStrategy);u.params=Object.freeze(A.params),u.data=Object.freeze(A.data),E.children.forEach(b=>this.inheritParamsAndData(b))}processSegmentGroup(E,u,A,b){return 0===A.segments.length&&A.hasChildren()?this.processChildren(E,u,A):this.processSegment(E,u,A,A.segments,b)}processChildren(E,u,A){return(0,_.D)(Object.keys(A.children)).pipe((0,Ye.b)(b=>{const j=A.children[b],ge=Ns(u,b);return this.processSegmentGroup(E,ge,j,b)}),Wn((b,j)=>b&&j?(b.push(...j),b):null),function Nn(h,E=!1){return(0,Be.e)((u,A)=>{let b=0;u.subscribe((0,x.x)(A,j=>{const ge=h(j,b++);(ge||E)&&A.next(j),!ge&&A.complete()}))})}(b=>null!==b),ht(null),Jt(),(0,Me.U)(b=>{if(null===b)return null;const j=vr(b);return function Hn(h){h.sort((E,u)=>E.value.outlet===_t?-1:u.value.outlet===_t?1:E.value.outlet.localeCompare(u.value.outlet))}(j),j}))}processSegment(E,u,A,b,j){return(0,_.D)(u).pipe((0,Ye.b)(ge=>this.processSegmentAgainstRoute(ge._injector??E,ge,A,b,j)),be(ge=>!!ge),(0,Tt.K)(ge=>{if(lr(ge))return N(A,b,j)?(0,d.of)([]):(0,d.of)(null);throw ge}))}processSegmentAgainstRoute(E,u,A,b,j){if(u.redirectTo||!f(u,A,b,j))return(0,d.of)(null);let ge;if("**"===u.path){const me=b.length>0?$(b).parameters:{},ke=Vr(A)+b.length,nt=new os(b,me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mo(u),nr(u),u.component??u._loadedComponent??null,u,Br(A),ke,hs(u),ke);ge=(0,d.of)({snapshot:nt,consumedSegments:[],remainingSegments:[]})}else ge=He(A,u,b,E).pipe((0,Me.U)(({matched:me,consumedSegments:ke,remainingSegments:nt,parameters:Lt})=>{if(!me)return null;const gt=Vr(A)+ke.length;return{snapshot:new os(ke,Lt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mo(u),nr(u),u.component??u._loadedComponent??null,u,Br(A),gt,hs(u),gt),consumedSegments:ke,remainingSegments:nt}}));return ge.pipe(Fe(me=>{if(null===me)return(0,d.of)(null);const{snapshot:ke,consumedSegments:nt,remainingSegments:Lt}=me;E=u._injector??E;const gt=u._loadedInjector??E,on=function vn(h){return h.children?h.children:h.loadChildren?h._loadedRoutes:[]}(u),{segmentGroup:rr,slicedSegments:Fr}=pt(A,nt,Lt,on.filter(hr=>void 0===hr.redirectTo),this.relativeLinkResolution);if(0===Fr.length&&rr.hasChildren())return this.processChildren(gt,on,rr).pipe((0,Me.U)(hr=>null===hr?null:[new mr(ke,hr)]));if(0===on.length&&0===Fr.length)return(0,d.of)([new mr(ke,[])]);const vo=nr(u)===j;return this.processSegment(gt,on,rr,Fr,vo?_t:j).pipe((0,Me.U)(hr=>null===hr?null:[new mr(ke,hr)]))}))}}function Xr(h){const E=h.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function vr(h){const E=[],u=new Set;for(const A of h){if(!Xr(A)){E.push(A);continue}const b=E.find(j=>A.value.routeConfig===j.value.routeConfig);void 0!==b?(b.children.push(...A.children),u.add(b)):E.push(A)}for(const A of u){const b=vr(A.children);E.push(new mr(A.value,b))}return E.filter(A=>!u.has(A))}function Br(h){let E=h;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Vr(h){let E=h,u=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,u+=E._segmentIndexShift??0;return u-1}function mo(h){return h.data||{}}function hs(h){return h.resolve||{}}function $t(h){return"string"==typeof h.title||null===h.title}function pn(h){return Fe(E=>{const u=h(E);return u?(0,_.D)(u).pipe((0,Me.U)(()=>E)):(0,d.of)(E)})}let Ur=(()=>{class h{buildTitle(u){let A,b=u.root;for(;void 0!==b;)A=this.getResolvedTitleForRoute(b)??A,b=b.children.find(j=>j.outlet===_t);return A}getResolvedTitleForRoute(u){return u.data[D]}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=i.Yz7({token:h,factory:function(){return(0,i.f3M)(jn)},providedIn:"root"}),h})(),jn=(()=>{class h extends Ur{constructor(u){super(),this.title=u}updateTitle(u){const A=this.buildTitle(u);void 0!==A&&this.title.setTitle(A)}}return h.\u0275fac=function(u){return new(u||h)(i.LFG(Wt.Dx))},h.\u0275prov=i.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();class gn{}class Hi extends class Ar{shouldDetach(E){return!1}store(E,u){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,u){return E.routeConfig===u.routeConfig}}{}const Sr=new i.OlP("",{providedIn:"root",factory:()=>({})}),Hr=new i.OlP("ROUTES");let ts=(()=>{class h{constructor(u,A){this.injector=u,this.compiler=A,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(u){if(this.componentLoaders.get(u))return this.componentLoaders.get(u);if(u._loadedComponent)return(0,d.of)(u._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(u);const A=z(u.loadComponent()).pipe(ft(j=>{this.onLoadEndListener&&this.onLoadEndListener(u),u._loadedComponent=j}),Ft(()=>{this.componentLoaders.delete(u)})),b=new re(A,()=>new le.x).pipe(Ce());return this.componentLoaders.set(u,b),b}loadChildren(u,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,d.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const j=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,Me.U)(me=>{this.onLoadEndListener&&this.onLoadEndListener(A);let ke,nt,Lt=!1;Array.isArray(me)?nt=me:(ke=me.create(u).injector,nt=H(ke.get(Hr,[],i.XFs.Self|i.XFs.Optional)));return{routes:nt.map(Mt),injector:ke}}),Ft(()=>{this.childrenLoaders.delete(A)})),ge=new re(j,()=>new le.x).pipe(Ce());return this.childrenLoaders.set(A,ge),ge}loadModuleFactoryOrRoutes(u){return z(u()).pipe((0,Qe.z)(A=>A instanceof i.YKP||Array.isArray(A)?(0,d.of)(A):(0,_.D)(this.compiler.compileModuleAsync(A))))}}return h.\u0275fac=function(u){return new(u||h)(i.LFG(i.zs3),i.LFG(i.Sil))},h.\u0275prov=i.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();class Tu{}class Ta{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,u){return E}}function va(h){throw h}function Aa(h,E,u){return E.parse("/")}const vu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},di={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ia(){const h=(0,i.f3M)(pr),E=(0,i.f3M)(Yt),u=(0,i.f3M)(X.Ye),A=(0,i.f3M)(i.zs3),b=(0,i.f3M)(i.Sil),j=(0,i.f3M)(Hr,{optional:!0})??[],ge=(0,i.f3M)(Sr,{optional:!0})??{},me=(0,i.f3M)(jn),ke=(0,i.f3M)(Ur,{optional:!0}),nt=(0,i.f3M)(Tu,{optional:!0}),Lt=(0,i.f3M)(gn,{optional:!0}),gt=new Un(null,h,E,u,A,b,H(j));return nt&&(gt.urlHandlingStrategy=nt),Lt&&(gt.routeReuseStrategy=Lt),gt.titleStrategy=ke??me,function ko(h,E){h.errorHandler&&(E.errorHandler=h.errorHandler),h.malformedUriErrorHandler&&(E.malformedUriErrorHandler=h.malformedUriErrorHandler),h.onSameUrlNavigation&&(E.onSameUrlNavigation=h.onSameUrlNavigation),h.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=h.paramsInheritanceStrategy),h.relativeLinkResolution&&(E.relativeLinkResolution=h.relativeLinkResolution),h.urlUpdateStrategy&&(E.urlUpdateStrategy=h.urlUpdateStrategy),h.canceledNavigationResolution&&(E.canceledNavigationResolution=h.canceledNavigationResolution)}(ge,gt),gt}let Un=(()=>{class h{constructor(u,A,b,j,ge,me,ke){this.rootComponentType=u,this.urlSerializer=A,this.rootContexts=b,this.location=j,this.config=ke,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new le.x,this.errorHandler=va,this.malformedUriErrorHandler=Aa,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,d.of)(void 0),this.urlHandlingStrategy=new Ta,this.routeReuseStrategy=new Hi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ge.get(ts),this.configLoader.onLoadEndListener=on=>this.triggerEvent(new ro(on)),this.configLoader.onLoadStartListener=on=>this.triggerEvent(new Ys(on)),this.ngModule=ge.get(i.h0i),this.console=ge.get(i.c2e);const gt=ge.get(i.R0b);this.isNgZoneEnabled=gt instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(ke),this.currentUrlTree=function Ee(){return new Et(new dt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kr(this.currentUrlTree,this.rootComponentType),this.transitions=new v.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(u){const A=this.events;return u.pipe((0,mt.h)(b=>0!==b.id),(0,Me.U)(b=>({...b,extractedUrl:this.urlHandlingStrategy.extract(b.rawUrl)})),Fe(b=>{let j=!1,ge=!1;return(0,d.of)(b).pipe(ft(me=>{this.currentNavigation={id:me.id,initialUrl:me.rawUrl,extractedUrl:me.extractedUrl,trigger:me.source,extras:me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fe(me=>{const ke=this.browserUrlTree.toString(),nt=!this.navigated||me.extractedUrl.toString()!==ke||ke!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||nt)&&this.urlHandlingStrategy.shouldProcessUrl(me.rawUrl))return Ws(me.source)&&(this.browserUrlTree=me.extractedUrl),(0,d.of)(me).pipe(Fe(gt=>{const on=this.transitions.getValue();return A.next(new $r(gt.id,this.serializeUrl(gt.extractedUrl),gt.source,gt.restoredState)),on!==this.transitions.getValue()?ae.E:Promise.resolve(gt)}),function xt(h,E,u,A){return Fe(b=>function St(h,E,u,A,b){return new Vt(h,E,u,A,b).apply()}(h,E,u,b.extractedUrl,A).pipe((0,Me.U)(j=>({...b,urlAfterRedirects:j}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ft(gt=>{this.currentNavigation={...this.currentNavigation,finalUrl:gt.urlAfterRedirects},b.urlAfterRedirects=gt.urlAfterRedirects}),function br(h,E,u,A,b,j){return(0,Qe.z)(ge=>function en(h,E,u,A,b,j,ge="emptyOnly",me="legacy"){return new Pn(h,E,u,A,b,ge,me,j).recognize().pipe(Fe(ke=>null===ke?function jt(h){return new p.y(E=>E.error(h))}(new Ut):(0,d.of)(ke)))}(h,E,u,ge.urlAfterRedirects,A.serialize(ge.urlAfterRedirects),A,b,j).pipe((0,Me.U)(me=>({...ge,targetSnapshot:me}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ft(gt=>{if(b.targetSnapshot=gt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!gt.extras.skipLocationChange){const rr=this.urlHandlingStrategy.merge(gt.urlAfterRedirects,gt.rawUrl);this.setBrowserUrl(rr,gt)}this.browserUrlTree=gt.urlAfterRedirects}const on=new Oo(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);A.next(on)}));if(nt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:on,extractedUrl:rr,source:Fr,restoredState:vo,extras:hr}=me,pi=new $r(on,this.serializeUrl(rr),Fr,vo);A.next(pi);const Ls=kr(rr,this.rootComponentType).snapshot;return b={...me,targetSnapshot:Ls,urlAfterRedirects:rr,extras:{...hr,skipLocationChange:!1,replaceUrl:!1}},(0,d.of)(b)}return this.rawUrlTree=me.rawUrl,me.resolve(null),ae.E}),ft(me=>{const ke=new ti(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot);this.triggerEvent(ke)}),(0,Me.U)(me=>b={...me,guards:Qr(me.targetSnapshot,me.currentSnapshot,this.rootContexts)}),function Tr(h,E){return(0,Qe.z)(u=>{const{targetSnapshot:A,currentSnapshot:b,guards:{canActivateChecks:j,canDeactivateChecks:ge}}=u;return 0===ge.length&&0===j.length?(0,d.of)({...u,guardsResult:!0}):function po(h,E,u,A){return(0,_.D)(h).pipe((0,Qe.z)(b=>function R(h,E,u,A,b){const j=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,d.of)(!0);const ge=j.map(me=>{const ke=Ms(E)??b,nt=Bt(me,ke);return z(function ai(h){return h&&Vn(h.canDeactivate)}(nt)?nt.canDeactivate(h,E,u,A):ke.runInContext(()=>nt(h,E,u,A))).pipe(be())});return(0,d.of)(ge).pipe(dr())}(b.component,b.route,u,E,A)),be(b=>!0!==b,!0))}(ge,A,b,h).pipe((0,Qe.z)(me=>me&&function cr(h){return"boolean"==typeof h}(me)?function Uo(h,E,u,A){return(0,_.D)(E).pipe((0,Ye.b)(b=>Z(function li(h,E){return null!==h&&E&&E(new Bs(h)),(0,d.of)(!0)}(b.route.parent,A),function ci(h,E){return null!==h&&E&&E(new ni(h)),(0,d.of)(!0)}(b.route,A),function Eo(h,E,u){const A=E[E.length-1],j=E.slice(0,E.length-1).reverse().map(ge=>function Ze(h){const E=h.routeConfig?h.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:h,guards:E}:null}(ge)).filter(ge=>null!==ge).map(ge=>ie(()=>{const me=ge.guards.map(ke=>{const nt=Ms(ge.node)??u,Lt=Bt(ke,nt);return z(function ii(h){return h&&Vn(h.canActivateChild)}(Lt)?Lt.canActivateChild(A,h):nt.runInContext(()=>Lt(A,h))).pipe(be())});return(0,d.of)(me).pipe(dr())}));return(0,d.of)(j).pipe(dr())}(h,b.path,u),function go(h,E,u){const A=E.routeConfig?E.routeConfig.canActivate:null;if(!A||0===A.length)return(0,d.of)(!0);const b=A.map(j=>ie(()=>{const ge=Ms(E)??u,me=Bt(j,ge);return z(function ho(h){return h&&Vn(h.canActivate)}(me)?me.canActivate(E,h):ge.runInContext(()=>me(E,h))).pipe(be())}));return(0,d.of)(b).pipe(dr())}(h,b.route,u))),be(b=>!0!==b,!0))}(A,j,h,E):(0,d.of)(me)),(0,Me.U)(me=>({...u,guardsResult:me})))})}(this.ngModule.injector,me=>this.triggerEvent(me)),ft(me=>{if(b.guardsResult=me.guardsResult,On(me.guardsResult))throw as(0,me.guardsResult);const ke=new no(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot,!!me.guardsResult);this.triggerEvent(ke)}),(0,mt.h)(me=>!!me.guardsResult||(this.restoreHistory(me),this.cancelNavigationTransition(me,"",3),!1)),pn(me=>{if(me.guards.canActivateChecks.length)return(0,d.of)(me).pipe(ft(ke=>{const nt=new Do(ke.id,this.serializeUrl(ke.extractedUrl),this.serializeUrl(ke.urlAfterRedirects),ke.targetSnapshot);this.triggerEvent(nt)}),Fe(ke=>{let nt=!1;return(0,d.of)(ke).pipe(function Fo(h,E){return(0,Qe.z)(u=>{const{targetSnapshot:A,guards:{canActivateChecks:b}}=u;if(!b.length)return(0,d.of)(u);let j=0;return(0,_.D)(b).pipe((0,Ye.b)(ge=>function xo(h,E,u,A){const b=h.routeConfig,j=h._resolve;return void 0!==b?.title&&!$t(b)&&(j[D]=b.title),function Ct(h,E,u,A){const b=function Dt(h){return[...Object.keys(h),...Object.getOwnPropertySymbols(h)]}(h);if(0===b.length)return(0,d.of)({});const j={};return(0,_.D)(b).pipe((0,Qe.z)(ge=>function Ot(h,E,u,A){const b=Ms(E)??A,j=Bt(h,b);return z(j.resolve?j.resolve(E,u):b.runInContext(()=>j(E,u)))}(h[ge],E,u,A).pipe(be(),ft(me=>{j[ge]=me}))),bn(1),function mn(h){return(0,Me.U)(()=>h)}(j),(0,Tt.K)(ge=>lr(ge)?ae.E:(0,De._)(ge)))}(j,h,E,A).pipe((0,Me.U)(ge=>(h._resolvedData=ge,h.data=io(h,u).resolve,b&&$t(b)&&(h.data[D]=b.title),null)))}(ge.route,A,h,E)),ft(()=>j++),bn(1),(0,Qe.z)(ge=>j===b.length?(0,d.of)(u):ae.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ft({next:()=>nt=!0,complete:()=>{nt||(this.restoreHistory(ke),this.cancelNavigationTransition(ke,"",2))}}))}),ft(ke=>{const nt=new Jr(ke.id,this.serializeUrl(ke.extractedUrl),this.serializeUrl(ke.urlAfterRedirects),ke.targetSnapshot);this.triggerEvent(nt)}))}),pn(me=>{const ke=nt=>{const Lt=[];nt.routeConfig?.loadComponent&&!nt.routeConfig._loadedComponent&&Lt.push(this.configLoader.loadComponent(nt.routeConfig).pipe(ft(gt=>{nt.component=gt}),(0,Me.U)(()=>{})));for(const gt of nt.children)Lt.push(...ke(gt));return Lt};return L(ke(me.targetSnapshot.root)).pipe(ht(),(0,qe.q)(1))}),pn(()=>this.afterPreactivation()),(0,Me.U)(me=>{const ke=function wo(h,E,u){const A=Rs(h,E._root,u?u._root:void 0);return new Hs(A,E)}(this.routeReuseStrategy,me.targetSnapshot,me.currentRouterState);return b={...me,targetRouterState:ke}}),ft(me=>{this.currentUrlTree=me.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(me.urlAfterRedirects,me.rawUrl),this.routerState=me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,me),this.browserUrlTree=me.urlAfterRedirects)}),((h,E,u)=>(0,Me.U)(A=>(new bo(E,A.targetRouterState,A.currentRouterState,u).activate(h),A)))(this.rootContexts,this.routeReuseStrategy,me=>this.triggerEvent(me)),ft({next(){j=!0},complete(){j=!0}}),Ft(()=>{j||ge||this.cancelNavigationTransition(b,"",1),this.currentNavigation?.id===b.id&&(this.currentNavigation=null)}),(0,Tt.K)(me=>{if(ge=!0,co(me)){js(me)||(this.navigated=!0,this.restoreHistory(b,!0));const ke=new Gr(b.id,this.serializeUrl(b.extractedUrl),me.message,me.cancellationCode);if(A.next(ke),js(me)){const nt=this.urlHandlingStrategy.merge(me.url,this.rawUrlTree),Lt={skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ws(b.source)};this.scheduleNavigation(nt,"imperative",null,Lt,{resolve:b.resolve,reject:b.reject,promise:b.promise})}else b.resolve(!1)}else{this.restoreHistory(b,!0);const ke=new er(b.id,this.serializeUrl(b.extractedUrl),me,b.targetSnapshot??void 0);A.next(ke);try{b.resolve(this.errorHandler(me))}catch(nt){b.reject(nt)}}return ae.E}))}))}resetRootComponentType(u){this.rootComponentType=u,this.routerState.root.component=this.rootComponentType}setTransition(u){this.transitions.next({...this.transitions.value,...u})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(u=>{const A="popstate"===u.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{const b={replaceUrl:!0},j=u.state?.navigationId?u.state:null;if(j){const me={...j};delete me.navigationId,delete me.\u0275routerPageId,0!==Object.keys(me).length&&(b.state=me)}const ge=this.parseUrl(u.url);this.scheduleNavigation(ge,A,j,b)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(u){this.events.next(u)}resetConfig(u){this.config=u.map(Mt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(u,A={}){const{relativeTo:b,queryParams:j,fragment:ge,queryParamsHandling:me,preserveFragment:ke}=A,nt=b||this.routerState.root,Lt=ke?this.currentUrlTree.fragment:ge;let gt=null;switch(me){case"merge":gt={...this.currentUrlTree.queryParams,...j};break;case"preserve":gt=this.currentUrlTree.queryParams;break;default:gt=j||null}return null!==gt&&(gt=this.removeEmptyProps(gt)),ys(nt,this.currentUrlTree,u,gt,Lt??null)}navigateByUrl(u,A={skipLocationChange:!1}){const b=On(u)?u:this.parseUrl(u),j=this.urlHandlingStrategy.merge(b,this.rawUrlTree);return this.scheduleNavigation(j,"imperative",null,A)}navigate(u,A={skipLocationChange:!1}){return function Ra(h){for(let E=0;E<h.length;E++){if(null==h[E])throw new i.vHH(4008,false)}}(u),this.navigateByUrl(this.createUrlTree(u,A),A)}serializeUrl(u){return this.urlSerializer.serialize(u)}parseUrl(u){let A;try{A=this.urlSerializer.parse(u)}catch(b){A=this.malformedUriErrorHandler(b,this.urlSerializer,u)}return A}isActive(u,A){let b;if(b=!0===A?{...vu}:!1===A?{...di}:A,On(u))return Ne(this.currentUrlTree,u,b);const j=this.parseUrl(u);return Ne(this.currentUrlTree,j,b)}removeEmptyProps(u){return Object.keys(u).reduce((A,b)=>{const j=u[b];return null!=j&&(A[b]=j),A},{})}processNavigations(){this.navigations.subscribe(u=>{this.navigated=!0,this.lastSuccessfulId=u.id,this.currentPageId=u.targetPageId,this.events.next(new hn(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),u.resolve(!0)},u=>{this.console.warn(`Unhandled Navigation Error: ${u}`)})}scheduleNavigation(u,A,b,j,ge){if(this.disposed)return Promise.resolve(!1);let me,ke,nt;ge?(me=ge.resolve,ke=ge.reject,nt=ge.promise):nt=new Promise((on,rr)=>{me=on,ke=rr});const Lt=++this.navigationId;let gt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(b=this.location.getState()),gt=b&&b.\u0275routerPageId?b.\u0275routerPageId:j.replaceUrl||j.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):gt=0,this.setTransition({id:Lt,targetPageId:gt,source:A,restoredState:b,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:u,extras:j,resolve:me,reject:ke,promise:nt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),nt.catch(on=>Promise.reject(on))}setBrowserUrl(u,A){const b=this.urlSerializer.serialize(u),j={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.isCurrentPathEqualTo(b)||A.extras.replaceUrl?this.location.replaceState(b,"",j):this.location.go(b,"",j)}restoreHistory(u,A=!1){if("computed"===this.canceledNavigationResolution){const b=this.currentPageId-u.targetPageId;"popstate"!==u.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===b?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===b&&(this.resetState(u),this.browserUrlTree=u.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(b)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(u),this.resetUrlToCurrentUrlTree())}resetState(u){this.routerState=u.currentRouterState,this.currentUrlTree=u.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,u.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(u,A,b){const j=new Gr(u.id,this.serializeUrl(u.extractedUrl),A,b);this.triggerEvent(j),u.resolve(!1)}generateNgRouterState(u,A){return"computed"===this.canceledNavigationResolution?{navigationId:u,\u0275routerPageId:A}:{navigationId:u}}}return h.\u0275fac=function(u){i.$Z()},h.\u0275prov=i.Yz7({token:h,factory:function(){return Ia()},providedIn:"root"}),h})();function Ws(h){return"imperative"!==h}let fi=(()=>{class h{constructor(u,A,b,j,ge){this.router=u,this.route=A,this.tabIndexAttribute=b,this.renderer=j,this.el=ge,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new le.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(u){this._preserveFragment=(0,i.D6c)(u)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(u){this._skipLocationChange=(0,i.D6c)(u)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(u){this._replaceUrl=(0,i.D6c)(u)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(u){if(null!=this.tabIndexAttribute)return;const A=this.renderer,b=this.el.nativeElement;null!==u?A.setAttribute(b,"tabindex",u):A.removeAttribute(b,"tabindex")}ngOnChanges(u){this.onChanges.next(this)}set routerLink(u){null!=u?(this.commands=Array.isArray(u)?u:[u],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return h.\u0275fac=function(u){return new(u||h)(i.Y36(Un),i.Y36(zr),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},h.\u0275dir=i.lG2({type:h,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(u,A){1&u&&i.NdJ("click",function(){return A.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),h})(),Yo=(()=>{class h{constructor(u,A,b){this.router=u,this.route=A,this.locationStrategy=b,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new le.x,this.subscription=u.events.subscribe(j=>{j instanceof hn&&this.updateTargetUrlAndHref()})}set preserveFragment(u){this._preserveFragment=(0,i.D6c)(u)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(u){this._skipLocationChange=(0,i.D6c)(u)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(u){this._replaceUrl=(0,i.D6c)(u)}get replaceUrl(){return this._replaceUrl}set routerLink(u){this.commands=null!=u?Array.isArray(u)?u:[u]:null}ngOnChanges(u){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(u,A,b,j,ge){return!!(0!==u||A||b||j||ge||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return h.\u0275fac=function(u){return new(u||h)(i.Y36(Un),i.Y36(zr),i.Y36(X.S$))},h.\u0275dir=i.lG2({type:h,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(u,A){1&u&&i.NdJ("click",function(j){return A.onClick(j.button,j.ctrlKey,j.shiftKey,j.altKey,j.metaKey)}),2&u&&i.uIk("target",A.target)("href",A.href,i.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),h})();class ji{}let $i=(()=>{class h{preload(u,A){return A().pipe((0,Tt.K)(()=>(0,d.of)(null)))}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=i.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),So=(()=>{class h{constructor(u,A,b,j,ge){this.router=u,this.injector=b,this.preloadingStrategy=j,this.loader=ge}setUpPreloading(){this.subscription=this.router.events.pipe((0,mt.h)(u=>u instanceof hn),(0,Ye.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(u,A){const b=[];for(const j of A){j.providers&&!j._injector&&(j._injector=(0,i.MMx)(j.providers,u,`Route: ${j.path}`));const ge=j._injector??u,me=j._loadedInjector??ge;j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent?b.push(this.preloadConfig(ge,j)):(j.children||j._loadedRoutes)&&b.push(this.processRoutes(me,j.children??j._loadedRoutes))}return(0,_.D)(b).pipe((0,ne.J)())}preloadConfig(u,A){return this.preloadingStrategy.preload(A,()=>{let b;b=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(u,A):(0,d.of)(null);const j=b.pipe((0,Qe.z)(ge=>null===ge?(0,d.of)(void 0):(A._loadedRoutes=ge.routes,A._loadedInjector=ge.injector,this.processRoutes(ge.injector??u,ge.routes))));if(A.loadComponent&&!A._loadedComponent){const ge=this.loader.loadComponent(A);return(0,_.D)([j,ge]).pipe((0,ne.J)())}return j})}}return h.\u0275fac=function(u){return new(u||h)(i.LFG(Un),i.LFG(i.Sil),i.LFG(i.lqb),i.LFG(ji),i.LFG(ts))},h.\u0275prov=i.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const Ps=new i.OlP("");let Ji=(()=>{class h{constructor(u,A,b={}){this.router=u,this.viewportScroller=A,this.options=b,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},b.scrollPositionRestoration=b.scrollPositionRestoration||"disabled",b.anchorScrolling=b.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(u=>{u instanceof $r?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=u.navigationTrigger,this.restoredId=u.restoredState?u.restoredState.navigationId:0):u instanceof hn&&(this.lastId=u.id,this.scheduleScrollEvent(u,this.router.parseUrl(u.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(u=>{u instanceof Mo&&(u.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(u.position):u.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(u.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(u,A){this.router.triggerEvent(new Mo(u,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return h.\u0275fac=function(u){i.$Z()},h.\u0275prov=i.Yz7({token:h,factory:h.\u0275fac}),h})();function _o(h,E){return{\u0275kind:h,\u0275providers:E}}function sn(h){return[{provide:Hr,multi:!0,useValue:h}]}function Ru(){const h=(0,i.f3M)(i.zs3);return E=>{const u=h.get(i.z2F);if(E!==u.components[0])return;const A=h.get(Un),b=h.get(Ou);1===h.get(Oa)&&A.initialNavigation(),h.get(yo,null,i.XFs.Optional)?.setUpPreloading(),h.get(Ps,null,i.XFs.Optional)?.init(),A.resetRootComponentType(u.componentTypes[0]),b.next(),b.complete()}}const Ou=new i.OlP("",{factory:()=>new le.x}),Oa=new i.OlP("",{providedIn:"root",factory:()=>1});const yo=new i.OlP("");function Jl(h){return _o(0,[{provide:yo,useExisting:So},{provide:ji,useExisting:h}])}const To=new i.OlP("ROUTER_FORROOT_GUARD"),Wl=[X.Ye,{provide:pr,useClass:cn},{provide:Un,useFactory:Ia},Yt,{provide:zr,useFactory:function Iu(h){return h.routerState.root},deps:[Un]},ts];function Du(){return new i.PXZ("Router",Un)}let Ir=(()=>{class h{constructor(u){}static forRoot(u,A){return{ngModule:h,providers:[Wl,[],sn(u),{provide:To,useFactory:Ho,deps:[[Un,new i.FiY,new i.tp0]]},{provide:Sr,useValue:A||{}},A?.useHash?{provide:X.S$,useClass:X.Do}:{provide:X.S$,useClass:X.b0},{provide:Ps,useFactory:()=>{const h=(0,i.f3M)(Un),E=(0,i.f3M)(X.EM),u=(0,i.f3M)(Sr);return u.scrollOffset&&E.setOffset(u.scrollOffset),new Ji(h,E,u)}},A?.preloadingStrategy?Jl(A.preloadingStrategy).\u0275providers:[],{provide:i.PXZ,multi:!0,useFactory:Du},A?.initialNavigation?Ma(A):[],[{provide:wa,useFactory:Ru},{provide:i.tb,multi:!0,useExisting:wa}]]}}static forChild(u){return{ngModule:h,providers:[sn(u)]}}}return h.\u0275fac=function(u){return new(u||h)(i.LFG(To,8))},h.\u0275mod=i.oAB({type:h}),h.\u0275inj=i.cJS({imports:[Js]}),h})();function Ho(h){return"guarded"}function Ma(h){return["disabled"===h.initialNavigation?_o(3,[{provide:i.ip1,multi:!0,useFactory:()=>{const E=(0,i.f3M)(Un);return()=>{E.setUpLocationChangeListener()}}},{provide:Oa,useValue:2}]).\u0275providers:[],"enabledBlocking"===h.initialNavigation?_o(2,[{provide:Oa,useValue:0},{provide:i.ip1,multi:!0,deps:[i.zs3],useFactory:E=>{const u=E.get(X.V_,Promise.resolve());let A=!1;return()=>u.then(()=>new Promise(j=>{const ge=E.get(Un),me=E.get(Ou);(function b(j){E.get(Un).events.pipe((0,mt.h)(me=>me instanceof hn||me instanceof Gr||me instanceof er),(0,Me.U)(me=>me instanceof hn||me instanceof Gr&&(0===me.code||1===me.code)&&null),(0,mt.h)(me=>null!==me),(0,qe.q)(1)).subscribe(()=>{j()})})(()=>{j(!0),A=!0}),ge.afterPreactivation=()=>(j(!0),A||me.closed?(0,d.of)(void 0):me),ge.initialNavigation()}))}}]).\u0275providers:[]]}const wa=new i.OlP("")},7185:(vt,Le,g)=>{"use strict";g.d(Le,{Rh:()=>qe,_W:()=>X});var i=g(8256),_=g(7340),d=g(7579),v=g(6895),T=g(1481);const S=["toast-component",""];function p(je,et){if(1&je){const be=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){i.CHM(be);const at=i.oxw();return i.KtG(at.remove())}),i.TgZ(1,"span",6),i._uU(2,"\xd7"),i.qZA()()}}function m(je,et){if(1&je&&(i.ynx(0),i._uU(1),i.BQk()),2&je){const be=i.oxw(2);i.xp6(1),i.hij("[",be.duplicatesCount+1,"]")}}function M(je,et){if(1&je&&(i.TgZ(0,"div"),i._uU(1),i.YNc(2,m,2,1,"ng-container",4),i.qZA()),2&je){const be=i.oxw();i.Tol(be.options.titleClass),i.uIk("aria-label",be.title),i.xp6(1),i.hij(" ",be.title," "),i.xp6(1),i.Q6J("ngIf",be.duplicatesCount)}}function y(je,et){if(1&je&&i._UZ(0,"div",7),2&je){const be=i.oxw();i.Tol(be.options.messageClass),i.Q6J("innerHTML",be.message,i.oJD)}}function F(je,et){if(1&je&&(i.TgZ(0,"div",8),i._uU(1),i.qZA()),2&je){const be=i.oxw();i.Tol(be.options.messageClass),i.uIk("aria-label",be.message),i.xp6(1),i.hij(" ",be.message," ")}}function O(je,et){if(1&je&&(i.TgZ(0,"div"),i._UZ(1,"div",9),i.qZA()),2&je){const be=i.oxw();i.xp6(1),i.Udp("width",be.width+"%")}}class oe{constructor(et,be){this.component=et,this.injector=be}attach(et,be){return this._attachedHost=et,et.attach(this,be)}detach(){const et=this._attachedHost;if(et)return this._attachedHost=void 0,et.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(et){this._attachedHost=et}}class pe{constructor(et){this._overlayRef=et,this.duplicatesCount=0,this._afterClosed=new d.x,this._activate=new d.x,this._manualClose=new d.x,this._resetTimeout=new d.x,this._countDuplicate=new d.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(et,be){et&&this._resetTimeout.next(),be&&this._countDuplicate.next(++this.duplicatesCount)}}class De{constructor(et,be,Ye,at,ft,Tt){this.toastId=et,this.config=be,this.message=Ye,this.title=at,this.toastType=ft,this.toastRef=Tt,this._onTap=new d.x,this._onAction=new d.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(et){this._onAction.next(et)}onAction(){return this._onAction.asObservable()}}const Se=new i.OlP("ToastConfig");class Be extends class ie{attach(et,be){return this._attachedPortal=et,this.attachComponentPortal(et,be)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(et){this._disposeFn=et}}{constructor(et,be,Ye){super(),this._hostDomElement=et,this._componentFactoryResolver=be,this._appRef=Ye}attachComponentPortal(et,be){const Ye=this._componentFactoryResolver.resolveComponentFactory(et.component);let at;return at=Ye.create(et.injector),this._appRef.attachView(at.hostView),this.setDisposeFn(()=>{this._appRef.detachView(at.hostView),at.destroy()}),be?this._hostDomElement.insertBefore(this._getComponentRootNode(at),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(at)),at}_getComponentRootNode(et){return et.hostView.rootNodes[0]}}class Ce{constructor(et){this._portalHost=et}attach(et,be=!0){return this._portalHost.attach(et,be)}detach(){return this._portalHost.detach()}}let re=(()=>{class je{constructor(be){this._document=be}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const be=this._document.createElement("div");be.classList.add("overlay-container"),be.setAttribute("aria-live","polite"),this._document.body.appendChild(be),this._containerElement=be}}return je.\u0275fac=function(be){return new(be||je)(i.LFG(v.K0))},je.\u0275prov=i.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),le=(()=>{class je{constructor(be,Ye,at,ft){this._overlayContainer=be,this._componentFactoryResolver=Ye,this._appRef=at,this._document=ft,this._paneElements=new Map}create(be,Ye){return this._createOverlayRef(this.getPaneElement(be,Ye))}getPaneElement(be="",Ye){return this._paneElements.get(Ye)||this._paneElements.set(Ye,{}),this._paneElements.get(Ye)[be]||(this._paneElements.get(Ye)[be]=this._createPaneElement(be,Ye)),this._paneElements.get(Ye)[be]}_createPaneElement(be,Ye){const at=this._document.createElement("div");return at.id="toast-container",at.classList.add(be),at.classList.add("toast-container"),Ye?Ye.getContainerElement().appendChild(at):this._overlayContainer.getContainerElement().appendChild(at),at}_createPortalHost(be){return new Be(be,this._componentFactoryResolver,this._appRef)}_createOverlayRef(be){return new Ce(this._createPortalHost(be))}}return je.\u0275fac=function(be){return new(be||je)(i.LFG(re),i.LFG(i._Vd),i.LFG(i.z2F),i.LFG(v.K0))},je.\u0275prov=i.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),X=(()=>{class je{constructor(be,Ye,at,ft,Tt){this.overlay=Ye,this._injector=at,this.sanitizer=ft,this.ngZone=Tt,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...be.default,...be.config},be.config.iconClasses&&(this.toastrConfig.iconClasses={...be.default.iconClasses,...be.config.iconClasses})}show(be,Ye,at={},ft=""){return this._preBuildNotification(ft,be,Ye,this.applyConfig(at))}success(be,Ye,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",be,Ye,this.applyConfig(at))}error(be,Ye,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",be,Ye,this.applyConfig(at))}info(be,Ye,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",be,Ye,this.applyConfig(at))}warning(be,Ye,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",be,Ye,this.applyConfig(at))}clear(be){for(const Ye of this.toasts)if(void 0!==be){if(Ye.toastId===be)return void Ye.toastRef.manualClose()}else Ye.toastRef.manualClose()}remove(be){const Ye=this._findToast(be);if(!Ye||(Ye.activeToast.toastRef.close(),this.toasts.splice(Ye.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const at=this.toasts[this.currentlyActive].toastRef;at.isInactive()||(this.currentlyActive=this.currentlyActive+1,at.activate())}return!0}findDuplicate(be="",Ye="",at,ft){const{includeTitleDuplicates:Tt}=this.toastrConfig;for(const En of this.toasts){const Wn=Tt&&En.title===be;if((!Tt||Wn)&&En.message===Ye)return En.toastRef.onDuplicate(at,ft),En}return null}applyConfig(be={}){return{...this.toastrConfig,...be}}_findToast(be){for(let Ye=0;Ye<this.toasts.length;Ye++)if(this.toasts[Ye].toastId===be)return{index:Ye,activeToast:this.toasts[Ye]};return null}_preBuildNotification(be,Ye,at,ft){return ft.onActivateTick?this.ngZone.run(()=>this._buildNotification(be,Ye,at,ft)):this._buildNotification(be,Ye,at,ft)}_buildNotification(be,Ye,at,ft){if(!ft.toastComponent)throw new Error("toastComponent required");const Tt=this.findDuplicate(at,Ye,this.toastrConfig.resetTimeoutOnDuplicate&&ft.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&at||Ye)&&this.toastrConfig.preventDuplicates&&null!==Tt)return Tt;this.previousToastMessage=Ye;let En=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(En=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Wn=this.overlay.create(ft.positionClass,this.overlayContainer);this.index=this.index+1;let bn=Ye;Ye&&ft.enableHtml&&(bn=this.sanitizer.sanitize(i.q3G.HTML,Ye));const Jt=new pe(Wn),Nn=new De(this.index,ft,bn,at,be,Jt),Ft=i.zs3.create({providers:[{provide:De,useValue:Nn}],parent:this._injector}),Wt=new oe(ft.toastComponent,Ft),_t=Wn.attach(Wt,ft.newestOnTop);Jt.componentInstance=_t.instance;const D={toastId:this.index,title:at||"",message:Ye||"",toastRef:Jt,onShown:Jt.afterActivate(),onHidden:Jt.afterClosed(),onTap:Nn.onTap(),onAction:Nn.onAction(),portal:_t};return En||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{D.toastRef.activate()})),this.toasts.push(D),D}}return je.\u0275fac=function(be){return new(be||je)(i.LFG(Se),i.LFG(le),i.LFG(i.zs3),i.LFG(T.H7),i.LFG(i.R0b))},je.\u0275prov=i.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();const Fe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class je{constructor(be,Ye,at){this.toastrService=be,this.toastPackage=Ye,this.ngZone=at,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ye.message,this.title=Ye.title,this.options=Ye.config,this.originalTimeout=Ye.config.timeOut,this.toastClasses=`${Ye.toastType} ${Ye.config.toastClass}`,this.sub=Ye.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ye.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ye.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ye.toastRef.countDuplicate().subscribe(ft=>{this.duplicatesCount=ft})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const be=(new Date).getTime();this.width=(this.hideTime-be)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(be,Ye){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(be),Ye)):this.timeout=setTimeout(()=>be(),Ye)}outsideInterval(be,Ye){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(be),Ye)):this.intervalId=setInterval(()=>be(),Ye)}runInsideAngular(be){this.ngZone?this.ngZone.run(()=>be()):be()}}return je.\u0275fac=function(be){return new(be||je)(i.Y36(X),i.Y36(De),i.Y36(i.R0b))},je.\u0275cmp=i.Xpm({type:je,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(be,Ye){1&be&&i.NdJ("click",function(){return Ye.tapToast()})("mouseenter",function(){return Ye.stickAround()})("mouseleave",function(){return Ye.delayedHideToast()}),2&be&&(i.d8E("@flyInOut",Ye.state),i.Tol(Ye.toastClasses),i.Udp("display",Ye.displayStyle))},attrs:S,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(be,Ye){1&be&&(i.YNc(0,p,3,0,"button",0),i.YNc(1,M,3,5,"div",1),i.YNc(2,y,1,3,"div",2),i.YNc(3,F,2,4,"div",3),i.YNc(4,O,2,2,"div",4)),2&be&&(i.Q6J("ngIf",Ye.options.closeButton),i.xp6(1),i.Q6J("ngIf",Ye.title),i.xp6(1),i.Q6J("ngIf",Ye.message&&Ye.options.enableHtml),i.xp6(1),i.Q6J("ngIf",Ye.message&&!Ye.options.enableHtml),i.xp6(1),i.Q6J("ngIf",Ye.options.progressBar))},dependencies:[v.O5],encapsulation:2,data:{animation:[(0,_.X$)("flyInOut",[(0,_.SB)("inactive",(0,_.oB)({opacity:0})),(0,_.SB)("active",(0,_.oB)({opacity:1})),(0,_.SB)("removed",(0,_.oB)({opacity:0})),(0,_.eR)("inactive => active",(0,_.jt)("{{ easeTime }}ms {{ easing }}")),(0,_.eR)("active => removed",(0,_.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),je})()};let qe=(()=>{class je{static forRoot(be={}){return{ngModule:je,providers:[{provide:Se,useValue:{default:Fe,config:be}}]}}}return je.\u0275fac=function(be){return new(be||je)},je.\u0275mod=i.oAB({type:je}),je.\u0275inj=i.cJS({imports:[v.ez]}),je})()}},vt=>{vt(vt.s=1250)}]);