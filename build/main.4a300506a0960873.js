(self.webpackChunkvetsched=self.webpackChunkvetsched||[]).push([[179],{9177:Tt=>{window,Tt.exports=function(Me){var E={};function i(y){if(E[y])return E[y].exports;var p=E[y]={i:y,l:!1,exports:{}};return Me[y].call(p.exports,p,p.exports,i),p.l=!0,p.exports}return i.m=Me,i.c=E,i.d=function(y,p,v){i.o(y,p)||Object.defineProperty(y,p,{enumerable:!0,get:v})},i.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},i.t=function(y,p){if(1&p&&(y=i(y)),8&p||4&p&&"object"==typeof y&&y&&y.__esModule)return y;var v=Object.create(null);if(i.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:y}),2&p&&"string"!=typeof y)for(var C in y)i.d(v,C,function(h){return y[h]}.bind(null,C));return v},i.n=function(y){var p=y&&y.__esModule?function(){return y.default}:function(){return y};return i.d(p,"a",p),p},i.o=function(y,p){return Object.prototype.hasOwnProperty.call(y,p)},i.p="",i(i.s=38)}([function(Me,E,i){"use strict";E.__esModule=!0,E.validateConversationType=E.validateUpdateUser=E.validateCreateUser=E.validateMessage=E.validateChatType=E.validateMsgId=E.validateArray=E.validateHideMessagesFromBlockedUsers=E.validateId=E.validateCreateGroup=E.validateJoinGroup=E.validateUpdateGroup=E.validateScope=E.isAudio=E.isVideo=E.isImage=E.getUpdatedSettings=E.getAppSettings=E.getCurrentTime=E.Logger=E.createUidFromJid=E.format=E.getOrdinalSuffix=E.isFalsy=E.isTruthy=E.isObject=E.getJidHost=E.getChatHost=void 0;var y=i(12),p=i(1),v=i(6),C=i(2),h=i(16),S=i(17),T=i(19),w=i(3),_=i(14);function I(F){return null!=F&&("string"==typeof F&&(F=F.trim()),"object"==typeof F&&0===Object.keys(F).length&&(F=void 0)),["",0,"0",!1,null,"null",void 0,"undefined"].includes(F)}function P(F){for(var l=[],ee=1;ee<arguments.length;ee++)l[ee-1]=arguments[ee];return F.split("%s").reduce(function(X,Ie,te){return X+Ie+(l[te]||"")},"")}E.getChatHost=function(F){return F[p.APP_SETTINGS.KEYS.CHAT_HOST_OVERRIDE]?F[p.APP_SETTINGS.KEYS.CHAT_HOST_OVERRIDE]:F[p.APP_SETTINGS.KEYS.CHAT_HOST_APP_SPECIFIC]?F[p.APP_SETTINGS.KEYS.CHAT_HOST_APP_SPECIFIC]:F[p.APP_SETTINGS.KEYS.CHAT_HOST]},E.getJidHost=function(F){return F[p.APP_SETTINGS.KEYS.JID_HOST_OVERRIDE]?F[p.APP_SETTINGS.KEYS.JID_HOST_OVERRIDE]:F[p.APP_SETTINGS.KEYS.CHAT_HOST]},E.isObject=function(F){return F instanceof Object&&F.constructor===Object},E.isTruthy=function(F){return[!0,1,"1","true","TRUE"].includes(F)},E.isFalsy=I,E.getOrdinalSuffix=function(F){var l=F%10,ee=F%100;return 1==l&&11!=ee?F+"st":2==l&&12!=ee?F+"nd":3==l&&13!=ee?F+"rd":F+"th"},E.format=P,E.createUidFromJid=function(F){return F.substring(F.lastIndexOf("]")+1,F.lastIndexOf("@"))};var x=function(){function F(){}return F.log=function(l,ee){},F.error=function(l,ee){},F.info=function(l,ee){},F}();function B(){return new Promise(function(F,l){v.makeApiCall("appSettings").then(function(ee){y.LocalStorage.getInstance().set(p.LOCAL_STORE.KEY_APP_SETTINGS,ee.data),ee.data.MODE&&w.CometChat.setMode(ee.data.MODE),F(ee.data)},function(ee){l(new C.CometChatException(ee.error))})})}E.Logger=x,E.getCurrentTime=function(){return(new Date).getTime()},E.getAppSettings=function(){return new Promise(function(F,l){y.LocalStorage.getInstance().get(p.LOCAL_STORE.KEY_APP_SETTINGS).then(function(ee){I(ee)?B().then(function(X){F(X)},function(X){l(X)}):F(ee)},function(ee){l(ee)})})},E.getUpdatedSettings=B,E.isImage=function(F){var l;return F.type&&F.type.toLowerCase().includes("image")&&(l=!0),l},E.isVideo=function(F){var l;return F.type&&F.type.toLowerCase().includes("video")&&(l=!0),l},E.isAudio=function(F){var l;return F.type&&F.type.toLowerCase().includes("audio")&&(l=!0),l},E.validateScope=function(F){return typeof F!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"SCOPE","SCOPE","Scope"))):I(F)?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID),"SCOPE","SCOPE","scope","scope"))):F!=w.CometChat.GROUP_MEMBER_SCOPE.ADMIN&&F!=w.CometChat.GROUP_MEMBER_SCOPE.MODERATOR&&F!=w.CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT?new C.CometChatException(p.GroupErrors.INVALID_SCOPE):void 0},E.validateUpdateGroup=function(F){return F.hasOwnProperty(p.GroupConstants.KEYS.GUID)?typeof F[p.GroupConstants.KEYS.GUID]!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID"))):I(F[p.GroupConstants.KEYS.GUID])?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID"))):F.hasOwnProperty(p.GroupConstants.KEYS.NAME)&&""===F[p.GroupConstants.KEYS.NAME]?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.EMPTY_STRING),"GROUP_NAME","GROUP_NAME","Group name"))):void 0:new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")))},E.validateJoinGroup=function(F,l,ee){if(typeof F==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.OBJECT){if(!F.hasOwnProperty(p.GroupConstants.KEYS.GUID))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")));if(typeof F[p.GroupConstants.KEYS.GUID]!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(I(F[p.GroupConstants.KEYS.GUID]))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")));if(!F.hasOwnProperty(p.GroupConstants.KEYS.TYPE))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_TYPE","GROUP_TYPE","Group type","Group type")));if(typeof F[p.GroupConstants.KEYS.TYPE]!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(I(F[p.GroupConstants.KEYS.TYPE]))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if(F[p.GroupConstants.KEYS.TYPE].toLowerCase()!=w.CometChat.GROUP_TYPE.PUBLIC&&F[p.GroupConstants.KEYS.TYPE].toLowerCase()!=w.CometChat.GROUP_TYPE.PASSWORD&&F[p.GroupConstants.KEYS.TYPE].toLowerCase()!=w.CometChat.GROUP_TYPE.PROTECTED&&F[p.GroupConstants.KEYS.TYPE].toLowerCase()!=w.CometChat.GROUP_TYPE.PRIVATE)return new C.CometChatException(p.GroupErrors.INVALID_GROUP_TYPE);if(F[p.GroupConstants.KEYS.TYPE].toLowerCase()==w.CometChat.GROUP_TYPE.PASSWORD){if(!F.hasOwnProperty(p.GroupConstants.KEYS.PASSWORD))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.PASSWORD_COMPULSORY),"PASSWORD","PASSWORD")));if(typeof F[p.GroupConstants.KEYS.PASSWORD]!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(I(F[p.GroupConstants.KEYS.PASSWORD]))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}}else{if(void 0!==F){if(typeof F!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(I(F))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")))}if(void 0!==l){if(typeof l!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(I(l))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if(l.toLowerCase()!=w.CometChat.GROUP_TYPE.PUBLIC&&l.toLowerCase()!=w.CometChat.GROUP_TYPE.PASSWORD&&l.toLowerCase()!=w.CometChat.GROUP_TYPE.PROTECTED&&l.toLowerCase()!=w.CometChat.GROUP_TYPE.PRIVATE)return new C.CometChatException(p.GroupErrors.INVALID_GROUP_TYPE);if(l.toLowerCase()==w.CometChat.GROUP_TYPE.PASSWORD){if(typeof ee!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(I(ee))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}}}},E.validateCreateGroup=function(F){if(!F.hasOwnProperty(p.GroupConstants.KEYS.GUID))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")));if(typeof F[p.GroupConstants.KEYS.GUID]!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(I(F[p.GroupConstants.KEYS.GUID]))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")));if(!F.hasOwnProperty(p.GroupConstants.KEYS.NAME))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_NAME","GROUP_NAME","Group name","Group name")));if(typeof F[p.GroupConstants.KEYS.NAME]!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_NAME","GROUP_NAME","Group name")));if(I(F[p.GroupConstants.KEYS.NAME]))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_NAME","GROUP_NAME","name","name")));if(!F.hasOwnProperty(p.GroupConstants.KEYS.TYPE))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_TYPE","GROUP_TYPE","Group type","Group type")));if(typeof F[p.GroupConstants.KEYS.TYPE]!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(I(F[p.GroupConstants.KEYS.TYPE]))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if(F[p.GroupConstants.KEYS.TYPE].toLowerCase()!=w.CometChat.GROUP_TYPE.PUBLIC&&F[p.GroupConstants.KEYS.TYPE].toLowerCase()!=w.CometChat.GROUP_TYPE.PASSWORD&&F[p.GroupConstants.KEYS.TYPE].toLowerCase()!=w.CometChat.GROUP_TYPE.PROTECTED&&F[p.GroupConstants.KEYS.TYPE].toLowerCase()!=w.CometChat.GROUP_TYPE.PRIVATE)return new C.CometChatException(p.GroupErrors.INVALID_GROUP_TYPE);if(F[p.GroupConstants.KEYS.TYPE].toLowerCase()==w.CometChat.GROUP_TYPE.PASSWORD){if(!F.hasOwnProperty(p.GroupConstants.KEYS.PASSWORD))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.PASSWORD_COMPULSORY),"PASSWORD","PASSWORD")));if(typeof F[p.GroupConstants.KEYS.PASSWORD]!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(I(F[p.GroupConstants.KEYS.PASSWORD]))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}if(F.hasOwnProperty(p.GroupConstants.KEYS.TAGS)){if(!Array.isArray(F[p.GroupConstants.KEYS.TAGS]))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_AN_ARRAY),"GROUP_TAGS","GROUP_TAGS","Group tags")));if(0===F[p.GroupConstants.KEYS.TAGS].length)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.EMPTY_ARRAY),"GROUP_TAGS","GROUP_TAGS","Group tags")))}},E.validateId=function(F,l){if("user"===l){if(typeof F!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID")));if(I(F))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID),"UID","UID","UID","UID")))}if("group"===l){if(typeof F!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(I(F))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}},E.validateHideMessagesFromBlockedUsers=function(F){if(typeof F!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_BOOLEAN),"HIDE_MESSAGES_FROM_BLOCKED_USERS","HIDE_MESSAGES_FROM_BLOCKED_USERS","hideMessagesFromBlockedUsers")))},E.validateArray=function(F,l){var ee;return ee="blockUsers"===l?"blockUsers() method accepts an array of users.":"unblockUsers"===l?"unblockUsers() method accepts an array of users.":"groupMembers"===l?"addMembersToGroup() method accepts members list as an array of users.":"addMembersToGroup() method accepts bannedMembers list as an array of users.",typeof F!=p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.OBJECT?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_ARRAY),"USER_LIST","USER_LIST",ee))):Array.isArray(F)?void 0:new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_ARRAY),"USER_LIST","USER_LIST",ee)))},E.validateMsgId=function(F){return isNaN(F)?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_NUMBER),"MESSAGE_ID","MESSAGE_ID","Message Id"))):I(F)?new C.CometChatException(_.ERRORS.PARAMETER_MISSING):void 0},E.validateChatType=function(F){return typeof F!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type"))):I(F)?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID),"RECEIVER_TYPE","RECEIVER_TYPE","receiver type","receiver type"))):F!=p.MessageConstatnts.RECEIVER_TYPE.GROUP&&F!=p.MessageConstatnts.RECEIVER_TYPE.USER?new C.CometChatException(p.MessageErrors.INVALID_RECEIVER_TYPE):void 0},E.validateMessage=function(F){var l=F;if(typeof l.getReceiverId()!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_ID","RECEIVER_ID","Receiver Id")));if(I(l.getReceiverId()))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID),"RECEIVER_ID","RECEIVER_ID","receiver id","receiver id")));if(typeof l.getReceiverType()!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver Type")));if(I(l.getReceiverType()))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID),"RECEIVER_TYPE","RECEIVER_TYPE","receiver type","receiver type")));if(l.getReceiverType()!=p.MessageConstatnts.RECEIVER_TYPE.GROUP&&l.getReceiverType()!=p.MessageConstatnts.RECEIVER_TYPE.USER)return new C.CometChatException(p.MessageErrors.INVALID_RECEIVER_TYPE);if(F instanceof h.TextMessage){var ee=F;if(typeof ee.getText()!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"MESSAGE_TEXT","MESSAGE_TEXT","Message text")));if(""===ee.getText().trim())return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.EMPTY_STRING),"MESSAGE_TEXT","MESSAGE_TEXT","Message text")))}if(F instanceof S.MediaMessage){var X=F;if(X.getData()&&X.getData().hasOwnProperty("attachments")){var Ie=X.getAttachment();if(!Ie.getExtension())return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MISSING_KEY),"extension","Attachment")));if(!Ie.getMimeType())return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MISSING_KEY),"mimeType","Attachment")));if(!Ie.getName())return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MISSING_KEY),"name","Attachment")));if(!Ie.getUrl())return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MISSING_KEY),"url","Attachment")))}else{if(!(X.file instanceof Blob))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_BLOB),"MEDIA_OBJECT","MEDIA_OBJECT","Media object")));if("image"==X.getType()){if(!E.isImage(X.file))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_MEDIA_FILE),"IMAGE_FILE","IMAGE_FILE")))}else if("video"==X.getType()){if(!E.isVideo(X.file))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_MEDIA_FILE),"VIDEO_FILE","VIDEO_FILE")))}else if("audio"==X.getType()&&!E.isAudio(X.file))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_MEDIA_FILE),"AUDIO_FILE","AUDIO_FILE")))}}return F instanceof T.CustomMessage&&I(F.getCustomData())?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID),"CUSTOM_DATA","CUSTOM_DATA","custom data","custom data"))):void 0},E.validateCreateUser=function(F){if(!F.hasOwnProperty(p.UserConstants.UID))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.PARAMETER_COMPULSORY),"UID","UID","UID","UID")));if(typeof F[p.UserConstants.UID]!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID")));if(I(F[p.UserConstants.UID]))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_USER_PROPERTY),"UID","UID","UID","UID")));if(!F.hasOwnProperty(p.UserConstants.NAME))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.PARAMETER_COMPULSORY),"USER_NAME","USER_NAME","User name","User name")));if(typeof F[p.UserConstants.NAME]!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"USER_NAME","USER_NAME","User name")));if(I(F[p.UserConstants.NAME]))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_USER_PROPERTY),"USER_NAME","USER_NAME","name","name")));if(F.hasOwnProperty(p.UserConstants.AVATAR)&&""===F[p.UserConstants.AVATAR])return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.EMPTY_STRING),"USER_AVATAR","USER_AVATAR","User avatar")));if(F.hasOwnProperty(p.UserConstants.META_DATA)&&""===F[p.UserConstants.META_DATA])return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.EMPTY_STRING),"USER_METADATA","USER_METADATA","User metadata")));if(F.hasOwnProperty(p.UserConstants.LINK)&&""===F[p.UserConstants.LINK])return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.EMPTY_STRING),"USER_LINK","USER_LINK","User link")));if(F.hasOwnProperty(p.UserConstants.STATUS_MESSAGE)&&""===F[p.UserConstants.STATUS_MESSAGE])return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.EMPTY_STRING),"USER_STATUS_MESSAGE","USER_STATUS_MESSAGE","User status message")));if(F.hasOwnProperty(p.UserConstants.ROLE)&&""===F[p.UserConstants.ROLE])return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.EMPTY_STRING),"USER_ROLE","USER_ROLE","User role")));if(F.hasOwnProperty(p.UserConstants.TAGS)){if(!Array.isArray(F[p.UserConstants.TAGS]))return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_AN_ARRAY),"USER_TAGS","USER_TAGS","User tags")));if(0===F[p.UserConstants.TAGS].length)return new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.EMPTY_ARRAY),"USER_TAGS","USER_TAGS","User tags")))}},E.validateUpdateUser=function(F){return F.hasOwnProperty(p.UserConstants.UID)?typeof F[p.UserConstants.UID]!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID"))):I(F[p.UserConstants.UID])?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID_USER_PROPERTY),"UID","UID","UID","UID"))):F.hasOwnProperty(p.UserConstants.NAME)&&""===F[p.UserConstants.NAME]?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.EMPTY_STRING),"USER_NAME","USER_NAME","User name"))):void 0:new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.PARAMETER_COMPULSORY),"UID","UID","UID","UID")))},E.validateConversationType=function(F){return typeof F!==p.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.MUST_BE_A_STRING),"CONVERSATION_TYPE","CONVERSATION_TYPE","Conversation type"))):I(F)?new C.CometChatException(JSON.parse(P(JSON.stringify(p.GENERAL_ERROR.INVALID),"CONVERSATION_TYPE","CONVERSATION_TYPE","conversation type","conversation type"))):(F=F.toLowerCase())!=w.CometChat.RECEIVER_TYPE.USER&&F!=w.CometChat.RECEIVER_TYPE.GROUP?new C.CometChatException(p.ConversationErrors.INVALID_CONVERSATION_TYPE):void 0}},function(Me,E,i){"use strict";E.__esModule=!0,E.ONLINE_MEMBER_COUNT_API=E.JWT_API=E.ProsodyApiErrors=E.PROSODY_API=E.API_ERROR_CODES=E.SESSION_STORE=E.CONNECTION_STATUS=E.COMMON_UTILITY_CONSTANTS=E.APP_SETTINGS=E.PresenceConstatnts=E.FeatureRestrictionErrors=E.MessageErrors=E.ExtensionErrors=E.ConversationErrors=E.GroupErrors=E.UserErrors=E.ReceiptErrors=E.GENERAL_ERROR=E.PARAMETER_ERROR=E.CALL_ERROR=E.Errors=E.UserConstants=E.GroupMemersConstans=E.GroupConstants=E.CallConstants=E.BlockedUsersConstants=E.ActionConstatnts=E.TYPING_NOTIFICATION=E.MessageCategory=E.ATTACHMENTS_CONSTANTS=E.MessageConstatnts=E.READ_RECEIPTS=E.DELIVERY_RECEIPTS=E.ResponseConstants=E.LOCAL_STORE=E.ANALYTICS=E.WS=E.SDKHeader=E.APPINFO=E.GROUP_MEMBER_SCOPE=E.GroupMemberScope=E.GROUP_TYPE=E.GroupType=E.CALLING_COMPONENT_VERSION=E.DEFAULT_VALUES=E.constants=void 0;var y,p,v,C=i(2);E.constants={DEFAULT_STORE:"cometchat",MSG_VER_PRE:"store-ver-pre",MSG_VER_POST:"store-ver-post"},E.DEFAULT_VALUES={ZERO:0,MSGS_LIMIT:30,MSGS_MAX_LIMIT:100,USERS_LIMIT:30,USERS_MAX_LIMIT:100,GROUPS_LIMIT:30,GROUPS_MAX_LIMIT:100,CONVERSATION_MAX_LIMIT:50,CALL_TIMEOUT:45,DEFAULT_MSG_ID:0,DEFAULT_MAX_TYPING_INDICATOR_LIMIT:5,REGION_DEFAULT:"eu",REGION_DEFAULT_EU:"eu",REGION_DEFAULT_US:"us",REGION_DEFAULT_IN:"in",REGION_DEFAULT_PRIVATE:"private"},E.CALLING_COMPONENT_VERSION=4,(y=E.GroupType||(E.GroupType={})).Public="public",y.Private="private",y.Protected="protected",y.Password="password",E.GROUP_TYPE={PUBLIC:"public",PRIVATE:"private",PROTECTED:"password",PASSWORD:"password"},(p=E.GroupMemberScope||(E.GroupMemberScope={})).Admin="admin",p.Moderator="moderator",p.Member="member",E.GROUP_MEMBER_SCOPE={ADMIN:"admin",MODERATOR:"moderator",PARTICIPANT:"participant"},E.APPINFO={platform:"WEB",sdkVersion:"v3.0.6",apiVersion:"v3.0",sdkVersionWithUnderScore:"3_0_6"},E.SDKHeader={platform:"javascript",sdkVersion:"3.0.6",sdk:"%s@%s"},E.WS={CONVERSATION:{TYPE:{CHAT:"chat",GROUP_CHAT:"groupchat"}}},E.ANALYTICS={analyticsHost:"metrics-%s.cometchat.io",analyticsVersion:"v1"},E.LOCAL_STORE={COMMON_STORE:"common_store",MESSAGE_LISTENERS_LIST:"message_listeners_list",USERS_STORE:"users_store",MESSAGES_STORE:"messages_store",KEYS_STORE:"keys_store",STORE_STRING:"%s:%s",KEY_STRING:"%s/%s",KEY_USER:"user",KEY_APP_SETTINGS:"app_settings",KEY_APP_ID:"appId",KEY_DEVICE_ID:"deviceId",KEY_MESSAGE_LISTENER_LIST:"all"},E.ResponseConstants={RESPONSE_KEYS:{KEY_DATA:"data",KEY_META:"meta",KEY_CURSOR:"cursor",KEY_ACTION:"action",KEY_MESSAGE:"message",KEY_ERROR:"error",KEY_ERROR_DETAILS:"details",KEY_ERROR_CODE:"code",KEY_ERROR_MESSAGE:"message",KEY_AUTH_TOKEN:"authToken",KEY_WS_CHANNEL:"wsChannel",KEY_IDENTITY:"identity",KEY_SERVICE:"identity",KEY_ENTITIES:"entities",KEY_ENTITITY:"entity",KEY_ENTITYTYPE:"entityType",KEY_ATTACHMENTS:"attachments",CODE_REQUEST_OK:200,CODE_BAD_REQUEST:401,UNREAD_UNDELIVERED_KEYS:{ENTITY:"entity",ENTITY_TYPE:"entityType",ENTITY_Id:"entityId",COUNT:"count"},GROUP_MEMBERS_RESPONSE:{SUCCESS:"success",ERROR:"error",MESSAGE:"message"},KEY_ENTITY_TYPE:{USER:"user",GROUP:"group"}}},E.DELIVERY_RECEIPTS={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"type",RECIPIENT:"recipient",MESSAGE_ID:"messageId",RECEIVED:"delivered",DELIVERED_AT:"deliveredAt",ID:"id",TIME:"time",DELIVERED_TO_ME_AT:"deliveredToMeAt"},E.READ_RECEIPTS={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"type",RECIPIENT:"recipient",MESSAGE_ID:"messageId",READ:"read",READ_AT:"readAt",ID:"id",TIME:"time",READ_BY_ME_AT:"readByMeAt"},E.MessageConstatnts={TYPE:{TEXT:"text",MEDIA:"media",IMAGE:"image",VIDEO:"video",AUDIO:"audio",FILE:"file",CUSTOM:"custom"},CATEGORY:{MESSAGE:"message",ACTION:"action",CALL:"call",CUSTOM:"custom"},RECEIVER_TYPE:{USER:"user",GROUP:"group"},KEYS:{ATTATCHMENT:"attatchment",ATTATCHMENTS:"attachments",ACTION:"action",TYPE:"type",DATA:"data",ID:"id",MUID:"muid",SENDER:"sender",RECEIVER:"receiver",RECEIVER_ID:"receiverId",CATEGORY:"category",RECEIVER_TYPE:"receiverType",SENT_AT:"sentAt",STATUS:"status",TEXT:"text",URL:"url",METADATA:"metadata",RECEIPTS:"receipts",MY_RECEIPTS:"myReceipt",CUSTOM_DATA:"customData",CUSTOM_SUB_TYPE:"subType",RESOURCE:"resource"},KNOWN_MEDIA_TYPE:{IMAGE:[],VIDEO:[],AUDIO:[],FILE:[]},PAGINATION:{AFFIX:{APPEND:"append",PREPEND:"prepend"},CURSOR_FILEDS:{ID:"id",SENT_AT:"sentAt"},CURSOR_AFFIX_DEFAULT:"prepend",CURSOR_FIELD_DEFAULT:"sentAt",KEYS:{PER_PAGE:"per_page",CURSOR_AFFIX:"cursorAffix",AFFIX:"affix",CURSOR_FIELD:"cursorField",CURSOR_VALUE:"cursorValue",UID:"uid",SENT_AT:"sentAt",ID:"id",CURRENT_PAGE:"page",UNREAD:"unread",HIDE_MESSAGES_FROM_BLOCKED_USER:"hideMessagesFromBlockedUsers",SEARCH_KEY:"searchKey",ONLY_UPDATES:"onlyUpdates",UPDATED_AT:"updatedAt",CATEGORY:"category",CATEGORIES:"categories",TYPE:"type",TYPES:"types",HIDE_REPLIES:"hideReplies",HIDE_DELETED_MESSAGES:"hideDeleted",WITH_TAGS:"withTags",TAGS:"tags"}}},E.ATTACHMENTS_CONSTANTS={KEYS:{EXTENSION:"extension",MIME_TYPE:"mimeType",NAME:"name",SIZE:"size",URL:"url"}},(v=E.MessageCategory||(E.MessageCategory={})).ACTION="action",v.MESSAGE="message",v.CALL="call",v.CUSTOM="custom",E.TYPING_NOTIFICATION={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"receiverType",META:"metadata",KEYS:{TYPING_NOTIFICATION:"typingNotification",TIMESTAMP:"timestamp"},ACTIONS:{STARTED:"started",ENDED:"ended"}},E.ActionConstatnts={ACTION_SUBJECTS:{ACTION_ON:"on",ACTION_BY:"by",ACTION_FOR:"for"},ACTION_ENTITY_TYPE:{GROUP_USER:"groupuser",USER:"user",GROUP:"group",MESSAGE:"message"},ACTION_KEYS:{ACTION_CREATED:"created",ACTION_UPDATED:"updated",ACTION_DELETED:"deleted",ENTITIES:"entities",ENTITY:"entity",ENTITY_TYPE:"entityType",TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",TYPE_MEMBER_ADDED:"added",ACTION_SCOPE_CHANGED:"scopeChanged",ACTION_TYPE_USER:"user",ACTION_TYPE_GROUP:"group",ACTION_TYPE_GROUP_MEMBER:"groupMember",TYPE_MESSAGE_EDITED:"edited",TYPE_MESSAGE_DELETED:"deleted",ACTION_TYPE_CALL:"call",EXTRAS:"extras",SCOPE:"scope",NEW:"new",OLD:"old"},ActionMessages:{ACTION_GROUP_JOINED_MESSAGE:"%s joined",ACTION_GROUP_LEFT_MESSAGE:"%s left",ACTION_MEMBER_KICKED_MESSAGE:"%s kicked %s",ACTION_MEMBER_BANNED_MESSAGE:"%s banned %s",ACTION_MEMBER_UNBANNED_MESSAGE:"%s unbanned %s",ACTION_MEMBER_INVITED_MESSAGE:"%s banned %s",ACTION_MESSAGE_EDITED_MESSAGE:" Message Edited",ACTION_MESSAGE_DELETED_MESSAGE:"Message Deleted",ACTION_MEMBER_SCOPE_CHANGED:"%s made %s %s",ACTION_MEMBER_ADDED_TO_GROUP:"%s added %s"},ACTION_TYPE:{TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",TYPE_MEMBER_SCOPE_CHANGED:"scopeChanged",TYPE_MESSAGE:"message",TYPE_MESSAGE_EDITED:"edited",TYPE_MESSAGE_DELETED:"deleted",TYPE_MEMBER_ADDED:"added"},ACTIONS:{MEMBER_ADDED:"added",MEMBER_JOINED:"joined",MEMBER_LEFT:"left",MEMBER_KICKED:"kicked",MEMBER_BANNED:"banned",MEMBER_UNBANNED:"unbanned",MEMBER_INVITED:"invited",MEMBER_SCOPE_CHANGED:"scopeChanged",MESSAGE_EDITED:"edited",MESSSAGE_DELETED:"deleted",TYPE_USER:"user",TYPE_GROUP:"group",TYPE_GROUP_MEMBER:"groupMember"}},E.BlockedUsersConstants={REQUEST_KEYS:{DIRECTIONS:{BOTH:"both",HAS_BLOCKED_ME:"hasBlockedMe",BLOCKED_BY_ME:"blockedByMe"}}},E.CallConstants={CALL_MODE:{DEFAULT:"DEFAULT",SPOTLIGHT:"SPOTLIGHT",SINGLE:"SINGLE",TILE:"TILE",GRID:"GRID"},CALL_TYPE:{AUDIO:"audio",VIDEO:"video"},RECEIVER_TYPE_GROUP:"group",RECEIVER_TYPE_USER:"user",CALL_KEYS:{CALL_DATA:"data",CALL_ID:"id",CALL_SESSION_ID:"sessionid",CALL_RECEIVER:"receiver",CALL_SENDER:"sender",CALL_RECEIVER_TYPE:"receiverType",CALL_STATUS:"status",CALL_TYPE:"type",CALL_INITIATED_AT:"initiatedAt",CALL_JOINED_AT:"joinedAt",CALL_LEFT_AT:"leftAt",CALL_METADATA:"metadata",CALL_ENTITIES:"entities",CALL_ENTITY_TYPE:"entityType",CALL_ENTITY:"entity",CALL_ENTITY_USER:"user",CALL_ENTITY_GROUP:"group"},CALL_STATUS:{INITIATED:"initiated",ONGOING:"ongoing",UNANSWERED:"unanswered",REJECTED:"rejected",BUSY:"busy",CANCELLED:"cancelled",ENDED:"ended"},AUDIO_INPUT_DEVICES:"audioInputDevices",AUDIO_OUTPUT_DEVICES:"audioOutputDevices",VIDEO_INPUT_DEVICES:"videoInputDevices",POST_MESSAGES:{TYPES:{ACTION_MESSAGE:"cometchat_action_message",HANGUP:"hangup",COMETCHAT_RTC_SETTINGS:"cometchat_rtc_settings"},ACTIONS:{USER_JOINED:"onUserJoined",USER_LEFT:"onUserLeft",USER_LIST_CHANGED:"onUserListChanged",INITIAL_DEVICE_LIST:"initialDeviceList",DEVICE_CHANGE:"onDeviceChange",LOAD:"LOAD",CHANGE_AUDIO_INPUT:"changeAudioInput",CHANGE_AUDIO_OUTPUT:"changeAudioOutput",CHANGE_VIDEO_INPUT:"changeVideoInput",MUTE_AUDIO:"muteAudio",UNMUTE_AUDIO:"unMuteAudio",PAUSE_VIDEO:"pauseVideo",UNPAUSE_VIDEO:"unPauseVideo",SWITCH_MODE:"switchMode",START_SCREENSHARE:"startScreenShare",STOP_SCREENSHARE:"stopScreenShare",END_CALL:"endCall",START_RECORDING:"startRecording",STOP_RECORDING:"stopRecording",RECORDING_TOGGLED:"onRecordingToggled",USER_MUTED:"onUserMuted",SCREEN_SHARE_STARTED:"SCREEN_SHARE_STARTED",SCREEN_SHARE_STOPPED:"SCREEN_SHARE_ENDED"}},MEDIA_DEVICE:{ID:"id",NAME:"name",ACTIVE:"active"}},E.GroupConstants={KEYS:{NAME:"name",GUID:"guid",TYPE:"type",PASSWORD:"password",ICON:"icon",DESCRIPTION:"description",OWNER:"owner",METADATA:"metadata",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",HAS_JOINED:"hasJoined",WS_CHANNEL:"wsChannel",TAGS:"tags"}},E.GroupMemersConstans={KEYS:{SCOPE:"scope",UID:"uid",GUID:"guid",USER:"user",NAME:"name"}},E.UserConstants={UID:"uid",NAME:"name",AUTH_TOKEN:"authToken",AVATAR:"avatar",LAST_ACTIVE_AT:"lastActiveAt",LINK:"link",META_DATA:"metadata",ROLE:"role",STATUS:"status",STATUS_MESSAGE:"statusMessage",USER_NAME:"user_name",TAGS:"tags"},E.Errors={ERROR_IO_EXCEPTION:"ERROR_IO_EXCEPTION",ERROR_JSON_EXCEPTION:"ERROR_JSON_EXCEPTION",ERROR_PASSWORD_MISSING:"ERROR_PASSWORD_MISSING",ERROR_LIMIT_EXCEEDED:"ERROR_LIMIT_EXCEEDED",ERROR_USER_NOT_LOGGED_IN:"ERROR_USER_NOT_LOGGED_IN",ERROR_INVALID_GUID:"ERROR_INVALID_GUID",ERROR_PASSWORD_MISSING_MESSAGE:"Password is mandatory for a password group",ERROR_LIMIT_EXCEEDED_MESSAGE:"Limit Exceeded Max limit of %s",ERROR_USER_NOT_LOGGED_IN_MESSAGE:"Please log in to CometChat before calling this method",ERROR_INVALID_GUID_MESSAGE:"Please provide a valid GUID",ERROR_DEFAULT_MESSAGE:"Something went wrong",ERR_SETTINGS_HASH_OUTDATED:"ERR_SETTINGS_HASH_OUTDATED",ERR_NO_AUTH:"ERR_NO_AUTH"},E.CALL_ERROR={CALL_ALREADY_INITIATED:{code:"CALL_ALREADY_INITIATED",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}},ERROR_IN_CALLING:{code:"CALL_IN_PROGRESS",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}},CANNOT_ACCEPT_CALL:{code:"CALL_IN_PROGRESS",name:"CALL_IN_PROGRESS",message:"There is already a call in progress",details:{}},NOT_INITIALIZED:{code:"NOT_INITIALIZED",name:"NOT_INITIALIZED",message:"Please call the CometChat.init() method before calling any other methods related to CometChat.",details:{}},NOT_LOGGED_IN:{code:"NOT_LOGGED_IN",name:"NOT_LOGGED_IN",message:"Please login before starting a call.",details:{}},SESSION_ID_REQUIRED:{code:"SESSION_ID_REQUIRED",name:"SESSION_ID_REQUIRED",message:"Please make sure you are passing correct session id.",details:{}},CALL_SETTINGS_REQUIRED:{code:"CALL_SETTINGS_REQUIRED",name:"CALL_SETTINGS_REQUIRED",message:"Please make sure you are passing the call settings object.",details:{}},JWT_NOT_FOUND:{code:"JWT_NOT_FOUND",name:"JWT_NOT_FOUND",message:"There was some issue while fetching JWT from API.",details:{}}},E.PARAMETER_ERROR={PARAMETER_REQUIRED:{code:"%s_NOT_PROVIDED",name:"%s_NOT_PROVIDED",message:"please provide the %s.",details:{}}},E.GENERAL_ERROR={MUST_BE_A_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a string.",details:{}},MUST_BE_A_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a number.",details:{}},MUST_BE_A_OBJECT:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a object.",details:{}},MUST_BE_AN_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be an array.",details:{}},MUST_BE_A_BOOLEAN:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a boolean.",details:{}},MUST_BE_A_BLOB:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a blob.",details:{}},INVALID:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s. Please provide a valid %s.",details:{}},METHOD_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"%s is required.",details:{}},LIMIT_EXCEEDED:{code:"ERROR_%s_EXCEEDED",name:"ERROR_%s_EXCEEDED",message:"Limit exceeded max limit of %s.",details:{}},MUST_BE_A_POSITIVE_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a postive integer greater than 0.",details:{}},INVALID_MEDIA_FILE:{code:"INVALID_%s",name:"INVALID_%s",message:"The message type does not match the file's mime type.",details:{}},EMPTY_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s cannot be empty.",details:{}},MISSING_KEY:{code:"MISSING_KEY",name:"MISSING_KEY",message:"The key %s is missing from the %s object.",details:{}},EMPTY_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"The parameter %s should be an array and it cannot be empty.",details:{}},INVALID_SEARCH_KEYWORD:{code:"INVALID_SEARCH_KEYWORD",name:"INVALID_SEARCH_KEYWORD",message:"Invalid search keyword. Please provide a valid search keyword.",details:{}},INVALID_GROUP_PROPERTY:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s provided for the group. Please provide a valid %s.",details:{}},INVALID_USER_PROPERTY:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s provided for a user. Please provide a valid %s.",details:{}},PARAMETER_MUST_BE_A_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a number.",details:{}},PARAMETER_MUST_BE_AN_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as an array.",details:{}},PARAMETER_MUST_BE_A_BOOLEAN:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a boolean.",details:{}},PARAMETER_MUST_BE_A_POSITIVE_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter to be a positive number greater than 0.",details:{}},PARAMETER_MUST_BE_A_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a string.",details:{}},PARAMETER_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"%s cannot be blank. Please provide a valid %s.",details:{}},PASSWORD_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"Password is mandatory for a password group.",details:{}},INVALID_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s",details:{}}},E.ReceiptErrors={MISSING_PARAMETERS:{code:"MISSING_PARAMETERS",name:"MISSING_PARAMETERS",message:"Expected 4 parameters received 3",details:{}},INVALID_PARAMETER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s",details:{}},NO_WEBSOCKET_CONNECTION:{code:"NO_WEBSOCKET_CONNECTION",name:"NO_WEBSOCKET_CONNECTION",message:"Connection to our Websockets server is broken. Please retry after some time.",details:{}},RECEIPTS_TEMPORARILY_BLOCKED:{code:"RECEIPTS_TEMPORARILY_BLOCKED",name:"RECEIPTS_TEMPORARILY_BLOCKED",message:"Due to high load. Receipts have been blocked for your app.",details:{}},UNKNOWN_ERROR_OCCURRED:{code:"UNKNOWN_ERROR_OCCURRED",name:"UNKNOWN_ERROR_OCCURRED",message:"Unknown error occurred while marking a message as read.",details:{}}},E.UserErrors={INVALID_STATUS:new C.CometChatException({code:"INVALID_STATUS_VALUE",name:"INVALID_STATUS_VALUE",message:"The `status` parameter accepts only `online` or `offline`.",details:""}),INVALID_DIRECTION:new C.CometChatException({code:"INVALID_DIRECTION_VALUE",name:"INVALID_DIRECTION_VALUE",message:"The `direction` parameter accepts only `both`, `blockeyByMe` or `hasBlockedMe`.",details:""}),USER_NOT_LOGGED_IN:new C.CometChatException({code:"USER_NOT_LOGGED_IN",name:"USER_NOT_LOGGED_IN",message:"Please log in to CometChat before calling this method.",details:""})},E.GroupErrors={NOT_A_GROUP:new C.CometChatException({code:"NOT_A_GROUP",message:"Please use group class to construct a new group."}),INVALID_SCOPE:new C.CometChatException({code:"INVALID_SCOPE_VALUE",name:"INVALID_SCOPE_VALUE",message:"Scope can be `admin`, `moderator` or `participant`.",details:""}),INVALID_GROUP_TYPE:new C.CometChatException({code:"INVALID_GROUP_TYPE",name:"INVALID_GROUP_TYPE",message:"Group type can be `public`, `private`, `protected` or `password`.",details:""})},E.ConversationErrors={INVALID_CONVERSATION_TYPE:{code:"INVALID_CONVERSATION_TYPE",name:"INVALID_CONVERSATION_TYPE",message:"Conversation type can be `user` or `group`.",details:"Please check the value of conversationType."},CONVERSATION_NOT_FOUND:{code:"CONVERSATION_NOT_FOUND",name:"CONVERSATION_NOT_FOUND",message:"Conversation for %s %s not found.",details:"Please check the value of conversationWith and conversationType."}},E.ExtensionErrors={INVALID_EXTENSION:{code:"ERROR_INVALID_EXTENSION",name:"ERROR_INVALID_EXTENSION",message:"The provided extension cannot be null or empty. Please provide a valid extension.",details:{}},EXTENSION_NOT_FOUND:{code:"ERROR_EXTENSION_NOT_FOUND",name:"ERROR_EXTENSION_NOT_FOUND",message:"The provided extension could not be found.",details:{}}},E.MessageErrors={INVALID_RECEIVER_TYPE:{code:"INVALID_RECEIVER_TYPE",name:"INVALID_RECEIVER_TYPE",message:"Receiver type can be `user` or `group`.",details:"Please check the value of receiverType."}},E.FeatureRestrictionErrors={INVALID_FEATURE:{code:"ERROR_INVALID_FEATURE",name:"ERROR_INVALID_FEATURE",message:"The provided feature cannot be null or empty. Please provide a valid feature.",details:{}},FEATURE_NOT_FOUND:{code:"ERROR_FEATURE_NOT_FOUND",name:"ERROR_FEATURE_NOT_FOUND",message:"The provided feature could not be found.",details:{}}},E.PresenceConstatnts={STATUS:{ONLINE:"online",AVAILABLE:"available",OFFLINE:"offline",JOINED:"JOINED",LEFT:"LEFT"}},E.APP_SETTINGS={APP_SETTINGS:"app_settings",KEYS:{CHAT_HOST:"CHAT_HOST",CHAT_USE_SSL:"CHAT_USE_SSL",GROUP_SERVICE:"GROUP_SERVICE",CALL_SERVICE:"CALL_SERVICE",CHAT_WS_PORT:"CHAT_WS_PORT",CHAT_WSS_PORT:"CHAT_WSS_PORT",CHAT_HTTP_BIND_PORT:"CHAT_HTTP_BIND_PORT",CHAT_HTTPS_BIND_PORT:"CHAT_HTTPS_BIND_PORT",ADMIN_API_HOST:"ADMIN_API_HOST",CLIENT_API_HOST:"CLIENT_API_HOST",WEBRTC_HOST:"WEBRTC_HOST",WEBRTC_USE_SSL:"WEBRTC_USE_SSL",WEBRTC_WS_PORT:"WEBRTC_WS_PORT",WEBRTC_WSS_PORT:"WEBRTC_WSS_PORT",WEBRTC_HTTP_BIND_PORT:"WEBRTC_HTTP_BIND_PORT",WEBRTC_HTTPS_BIND_PORT:"WEBRTC_HTTPS_BIND_PORT",EXTENSION_LIST:"extensions",EXTENSION_KEYS:{ID:"id",NAME:"name"},JID_HOST_OVERRIDE:"JID_HOST_OVERRIDE",CHAT_HOST_OVERRIDE:"CHAT_HOST_OVERRIDE",CHAT_HOST_APP_SPECIFIC:"CHAT_HOST_APP_SPECIFIC",MODE:"MODE",CONNECTION_TYPE:"connection_type",DEFAULT_MODE:"DEFAULT",LIMITED_TRANSIENT:"LIMITED_TRANSIENT",NO_TRANSIENT:"NO_TRANSIENT",POLLING_ENABLED:"POLLING_ENABLED",POLLING_INTERVAL:"POLLING_INTERVAL",ANALYTICS_PING_DISABLED:"ANALYTICS_PING_DISABLED",ANALYTICS_HOST:"ANALYTICS_HOST",ANALYTICS_VERSION:"ANALYTICS_VERSION",ANALYTICS_USE_SSL:"ANALYTICS_USE_SSL",SETTINGS_HASH:"settingsHash",SETTINGS_HASH_RECEIVED_AT:"settingsHashReceivedAt",DENY_FALLBACK_TO_POLLING:"DENY_FALLBACK_TO_POLLING",APP_VERSION:"APP_VERSION"}},E.COMMON_UTILITY_CONSTANTS={TYPE_CONSTANTS:{BOOLEAN:"boolean",STRING:"string",OBJECT:"object",NUMBER:"number"}},E.CONNECTION_STATUS={CONNECTED:"connected",CONNECTING:"connecting",DISCONNECTED:"disconnected",FEATURE_THROTTLED:"featureThrottled"},E.SESSION_STORE={SESSION_ID:"sessionId"},E.API_ERROR_CODES={AUTH_ERR_AUTH_TOKEN_NOT_FOUND:"AUTH_ERR_AUTH_TOKEN_NOT_FOUND"},E.PROSODY_API={DOMAIN_PREFIX:"xmpp",PATH:{ROOM:"room",ROOM_SIZE:"room-size",SESSIONS:"sessions"},RESPONSE:{PARTICIPANTS:"participants"},QUERY_PARAMETERS:{DOMAIN:"domain",ROOM:"room"}},E.ProsodyApiErrors={INVALID_SESSIONID:{code:"ERROR_INVALID_SESSIONID",name:"ERROR_INVALID_SESSIONID",message:"The provided sessionId cannot be null or empty. Please provide a valid sessionId.",details:""},INVALID_TYPE:{code:"ERROR_INVALID_TYPE",name:"ERROR_INVALID_TYPE",message:"The provided type cannot be null or empty. Please provide a valid type.",details:""}},E.JWT_API={KEYS:{PASSTHROUGH:"passthrough",EXPAND:"expand"}},E.ONLINE_MEMBER_COUNT_API={ENDPOINTS:{GET_ONLINE_MEMBER_COUNT:"api/v1/online-members"},RESPONSE:{ONLINE_USERS_COUNT:"onlineUsersCount",GROUPS:"groups"},ERRORS:{INVALID_GROUPLIST:{code:"ERROR_INVALID_GROUPLIST",name:"ERROR_INVALID_GROUPLIST",message:"Grouplist cannot be null or empty.",details:""}}}},function(Me,E,i){"use strict";E.__esModule=!0,E.CometChatException=void 0,E.CometChatException=function(p){null!=p.code&&""!==p.code&&(this.code=p.code),null!=p.name&&""!==p.name&&(this.name=p.name),null!=p.message&&""!==p.message&&(this.message=p.message),null!=p.details&&""!==p.details&&(this.details=p.details)}},function(Me,E,i){"use strict";var y=this&&this.__assign||function(){return(y=Object.assign||function(O){for(var L,Z=1,ue=arguments.length;Z<ue;Z++)for(var re in L=arguments[Z])Object.prototype.hasOwnProperty.call(L,re)&&(O[re]=L[re]);return O}).apply(this,arguments)},p=this&&this.__awaiter||function(O,L,Z,ue){return new(Z||(Z=Promise))(function(re,ce){function W(U){try{$(ue.next(U))}catch(k){ce(k)}}function H(U){try{$(ue.throw(U))}catch(k){ce(k)}}function $(U){var k;U.done?re(U.value):(k=U.value,k instanceof Z?k:new Z(function(q){q(k)})).then(W,H)}$((ue=ue.apply(O,L||[])).next())})},v=this&&this.__generator||function(O,L){var Z,ue,re,ce,W={label:0,sent:function(){if(1&re[0])throw re[1];return re[1]},trys:[],ops:[]};return ce={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(ce[Symbol.iterator]=function(){return this}),ce;function H($){return function(U){return function(k){if(Z)throw new TypeError("Generator is already executing.");for(;W;)try{if(Z=1,ue&&(re=2&k[0]?ue.return:k[0]?ue.throw||((re=ue.return)&&re.call(ue),0):ue.next)&&!(re=re.call(ue,k[1])).done)return re;switch(ue=0,re&&(k=[2&k[0],re.value]),k[0]){case 0:case 1:re=k;break;case 4:return W.label++,{value:k[1],done:!1};case 5:W.label++,ue=k[1],k=[0];continue;case 7:k=W.ops.pop(),W.trys.pop();continue;default:if(!(re=0<(re=W.trys).length&&re[re.length-1])&&(6===k[0]||2===k[0])){W=0;continue}if(3===k[0]&&(!re||k[1]>re[0]&&k[1]<re[3])){W.label=k[1];break}if(6===k[0]&&W.label<re[1]){W.label=re[1],re=k;break}if(re&&W.label<re[2]){W.label=re[2],W.ops.push(k);break}re[2]&&W.ops.pop(),W.trys.pop();continue}k=L.call(O,W)}catch(q){k=[6,q],ue=0}finally{Z=re=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([$,U])}}};E.__esModule=!0,E.CometChat=void 0;var C=i(28),h=i(0),S=i(2),T=i(6),w=i(4),_=i(12),I=i(17),P=i(7),x=i(16),B=i(10),F=i(11),l=i(1),ee=i(8),X=i(15),Ie=i(30),te=i(23),ae=i(21),ie=i(31),pe=i(14),Oe=i(20),Q=i(40),Ee=i(41),He=i(42),Se=i(43),se=i(45),le=i(46),ne=i(25),Fe=i(26),Ge=i(36),ze=i(19),tt=i(34),Ct=i(48),nt=i(49),Et=i(50),Mt=i(35),je=i(24),Qe=i(18),Pe=i(51),Ye=i(52),at=i(53),lt=i(37),dn=i(5),Ut=i(62),bn=i(29),Xt=i(32),tn=i(27),rn=i(63),wt=at.WSConnectionHelper.getInstance(),Wt=lt.ListenerHandlers.getInstance(),_t=function(){function O(L){try{O.appId=L,O.localStorage=_.LocalStorage.getInstance(),O.keyStore=Ie.KeyStore.getInstance()}catch(Z){h.Logger.error("CometChat: constructor",Z)}}return O.setAuthToken=function(L){try{O.authToken=L}catch(Z){h.Logger.error("CometChat: setAuthToken",Z)}},O.prototype.getAuthToken=function(){try{return O.authToken}catch(L){h.Logger.error("CometChat: getAuthToken",L)}},O.getAppId=function(){try{return O.appId}catch(L){h.Logger.error("CometChat: getAppId",L)}},O.prototype.getApiKey=function(){try{return O.apiKey}catch(L){h.Logger.error("CometChat: getApiKey",L)}},O.getMode=function(){try{return O.mode}catch(L){h.Logger.error("CometChat: getMode",L)}},O.setMode=function(L){try{O.mode=L}catch(Z){h.Logger.error("CometChat: getMode",Z)}},O.getSessionId=function(){try{return O.sessionId}catch(L){h.Logger.error("CometChat: getAppId",L)}},O.onStorageEvent=function(L){if(document&&!document.hasFocus()){var Z=O.appId+":common_store/user";L.key===Z&&null===L.newValue&&(O.authToken=void 0,O.didAnalyticsPingStart()&&O.clearAnalyticsPingTimer(),wt.WSLogout(),O.pushToLoginListener("","Logout_Success")),L.key===Z&&null===L.oldValue&&_.LocalStorage.getInstance().get("user").then(function(ue){ue&&(O.user=new w.Me(ue),O.setAuthToken(O.user.getAuthToken()),ue.jwt&&(O.jwt=ue.jwt),_.LocalStorage.getInstance().get("app_settings").then(function(re){if(re){if(re.hasOwnProperty(l.APP_SETTINGS.KEYS.APP_VERSION)){var ce=parseInt(l.APPINFO.sdkVersion.charAt(1));re[l.APP_SETTINGS.KEYS.APP_VERSION]<ce&&(O.appSettings.shouldAutoEstablishSocketConnection()||(O.shouldConnectToWS=!1),O.getInstance().internalRestart(O.user.getAuthToken()))}else O.appSettings.shouldAutoEstablishSocketConnection()||(O.shouldConnectToWS=!1),O.getInstance().internalRestart(O.user.getAuthToken());if(re[l.APP_SETTINGS.KEYS.MODE]&&(O.mode=re[l.APP_SETTINGS.KEYS.MODE]),re[l.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(O.settingsHash=re[l.APP_SETTINGS.KEYS.SETTINGS_HASH]),re[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(O.settingsHashReceivedAt=re[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),re[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]&&(O.analyticsHost=re[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]),re[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]&&(O.analyticsVersion=re[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]),O.isAnalyticsDisabled=!!re[l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED],O.didAnalyticsPingStart()||O.isAnalyticsDisabled||!O.appSettings.shouldAutoEstablishSocketConnection()||(O.pingAnalytics(),O.startAnalyticsPingTimer()),O.getConnectionStatus()!==l.CONNECTION_STATUS.CONNECTED){var W=new w.User(O.user);O.pushToLoginListener(W,"Login_Success"),O.appSettings.shouldAutoEstablishSocketConnection()&&O.WSLogin(O.user)}}}))})}},O.beforeUnload=function(L){var Z=O.getDataFromSessionStorage(l.SESSION_STORE.SESSION_ID);O.removeDataFromSessionStorage(l.SESSION_STORE.SESSION_ID),_.LocalStorage.getInstance().set(l.SESSION_STORE.SESSION_ID,Z)},O.didAnalyticsPingStart=function(){try{return O.isAnalyticsPingStarted}catch(L){h.Logger.error("CometChat: didAnalyticsPingStart",L)}},O.getDataFromSessionStorage=function(L){if(window.sessionStorage)return window.sessionStorage.getItem(L)},O.addDataToSessionStorage=function(L,Z){window.sessionStorage&&window.sessionStorage.setItem(L,Z)},O.removeDataFromSessionStorage=function(L){window.sessionStorage&&window.sessionStorage.removeItem(L)},O.init=function(L,Z){var ue=this;return void 0===L&&(L=""),new Promise(function(re,ce){try{"object"==typeof L&&(L.hasOwnProperty("appId")&&(L=L.appId),L.hasOwnProperty("appSettings")&&(Z=L.appSettings)),h.isFalsy(Z)?Z=(new nt.AppSettingsBuilder).setRegion(nt.AppSettings.REGION_EU).build():Z.getRegion()==nt.AppSettings.REGION_PRIVATE&&(Z.region=L),ue.appSettings=Z,h.isFalsy(L)?ce(new S.CometChatException(pe.INIT_ERROR.NO_APP_ID)):(window.addEventListener&&(window.addEventListener("storage",O.onStorageEvent,!1),window.addEventListener("beforeunload",O.beforeUnload,!1)),ue.initialzed=!0,O.appId=L,O.getInstance(L),_.LocalStorage.getInstance().get(l.SESSION_STORE.SESSION_ID).then(function(W){null==W||null==W?(O.sessionId=l.APPINFO.platform+"-"+l.APPINFO.sdkVersionWithUnderScore+"-"+rn()+"-"+(new Date).getTime(),O.addDataToSessionStorage(l.SESSION_STORE.SESSION_ID,O.getSessionId()),_.LocalStorage.getInstance().remove(l.SESSION_STORE.SESSION_ID)):(O.sessionId=W.toLocaleString(),_.LocalStorage.getInstance().remove(l.SESSION_STORE.SESSION_ID),O.addDataToSessionStorage(l.SESSION_STORE.SESSION_ID,O.getSessionId())),_.LocalStorage.getInstance().get(l.LOCAL_STORE.KEY_APP_ID).then(function(H){if(null==H||null==H)O.appId=L,O.getInstance(L),_.LocalStorage.getInstance().set(l.LOCAL_STORE.KEY_APP_ID,L),re(!0);else{var $=H.toLocaleString();$===L?(O.appId=$,O.getInstance($),_.LocalStorage.getInstance().get(l.LOCAL_STORE.KEY_USER).then(function(U){U?(O.isLoggedOut=!1,O.user=new w.Me(U),O.setAuthToken(O.user.getAuthToken()),U.jwt&&(O.jwt=U.jwt),re(!0),_.LocalStorage.getInstance().get(l.LOCAL_STORE.KEY_APP_SETTINGS).then(function(k){if(k){if(k.hasOwnProperty(l.APP_SETTINGS.KEYS.APP_VERSION)){var q=parseInt(l.APPINFO.sdkVersion.charAt(1));k[l.APP_SETTINGS.KEYS.APP_VERSION]<q&&(ue.appSettings.shouldAutoEstablishSocketConnection()||(O.shouldConnectToWS=!1),O.getInstance().internalRestart(O.user.getAuthToken()))}else ue.appSettings.shouldAutoEstablishSocketConnection()||(O.shouldConnectToWS=!1),O.getInstance().internalRestart(O.user.getAuthToken());k[l.APP_SETTINGS.KEYS.MODE]&&(O.mode=k[l.APP_SETTINGS.KEYS.MODE]),k[l.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(O.settingsHash=k[l.APP_SETTINGS.KEYS.SETTINGS_HASH]),k[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(O.settingsHashReceivedAt=k[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),k[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]&&(O.analyticsHost=k[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]),k[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]&&(O.analyticsVersion=k[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]),O.isAnalyticsDisabled=!!k[l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED],O.didAnalyticsPingStart()||O.isAnalyticsDisabled||!ue.appSettings.shouldAutoEstablishSocketConnection()||(O.pingAnalytics(),O.startAnalyticsPingTimer()),wt&&!wt.connection&&ue.appSettings.shouldAutoEstablishSocketConnection()&&(O.isConnectingFromInit=!0,O.WSLogin(O.user))}})):re(!0)})):ue.clearCache().then(function(){O.apiKey=void 0,O.user=void 0,O.authToken=void 0,O.cometChat=void 0,O.mode=void 0,wt.WSLogout(),O.appId=L,_.LocalStorage.getInstance().set(l.LOCAL_STORE.KEY_APP_ID,L),O.getInstance(L),re(!0)})}Ie.KeyStore.getInstance().get(l.LOCAL_STORE.KEY_DEVICE_ID).then(function(U){if(null==U){var k=rn(),q=(new Date).getTime(),_e=L+"_"+k+"_"+q;Ie.KeyStore.getInstance().set(l.LOCAL_STORE.KEY_DEVICE_ID,_e)}})})}))}catch(W){ce(new S.CometChatException(W))}})},O.isInitialized=function(){try{return this.initialzed}catch(L){h.Logger.error("CometChat: isInitialized",L)}},O.getInstance=function(L){try{return this.cometChat||(this.cometChat=new O(L)),this.cometChat}catch(Z){h.Logger.error("CometChat: getInstance",Z)}},O.registerTokenForPushNotification=function(L,Z){var ue=this;return new Promise(function(re,ce){try{O.keyStore.get(l.LOCAL_STORE.KEY_DEVICE_ID).then(function(W){var H="",$=W,U=l.APPINFO.platform,k=l.APPINFO.sdkVersion,q=l.APPINFO.apiVersion;if(navigator&&(H=navigator.userAgent),null==$){var _e=rn(),Ce=(new Date).getTime();O.keyStore.set(l.LOCAL_STORE.KEY_DEVICE_ID,$=ue.appId+"_"+_e+"_"+Ce)}T.makeApiCall("updateMyDetails",{},{platform:U,deviceId:$,appInfo:{version:k,apiVersion:q,userAgent:H,pushNotification:{fcmDeviceToken:L,settings:Z}}},!1).then(function(De){re("Token Registration successful")},function(De){ce(new S.CometChatException(De.error))}).catch(function(De){ce(new S.CometChatException(De))})})}catch(W){ce(new S.CometChatException(W))}})},O.pushToLoginListener=function(L,Z){Wt.loginHandlers.map(function(ue){try{if(ue._eventListener)switch(Z){case"Login_Success":h.isFalsy(ue._eventListener.loginSuccess)||ue._eventListener.loginSuccess(L);break;case"Login_Failure":h.isFalsy(ue._eventListener.loginFailure)||ue._eventListener.loginFailure(L);break;case"Logout_Success":h.isFalsy(ue._eventListener.logoutSuccess)||ue._eventListener.logoutSuccess()}}catch(re){h.Logger.error("ConnectionHandlers: onConnected Status",re)}})},O.login=function(){for(var L=this,Z=[],ue=0;ue<arguments.length;ue++)Z[ue]=arguments[ue];return new Promise(function(re,ce){try{if(O.loginInProgress){O.isLoggedOut=!0;var W=new S.CometChatException(pe.LOGIN_ERROR.REQUEST_IN_PROGRESS);return ce(W)}O.loginInProgress=!0,O.isConnectingFromInit=!1,O.localStorage.get(l.LOCAL_STORE.KEY_APP_ID).then(function(H){if(null==H||null==H){var $=new S.CometChatException(pe.LOGIN_ERROR.NOT_INITIALIZED);return O.internalRestart||O.pushToLoginListener($,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce($)}var U=H.toLocaleString();if(L.getInstance(U),O.appId=U,_.LocalStorage.getInstance().set(l.LOCAL_STORE.KEY_APP_ID,U),"object"==typeof Z[0]){var k=Z[0];Z[0].hasOwnProperty("authToken")?Z[0]=k.authToken:Z[0].hasOwnProperty("username")&&Z[0].hasOwnProperty("apiKey")&&(Z[0]=k.username,Z[1]=k.apiKey)}if(2==Z.length){if(h.isFalsy(Z[0])||h.isFalsy(Z[1]))return $=new S.CometChatException(pe.ERRORS.PARAMETER_MISSING),O.internalRestart||O.pushToLoginListener($,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce($)}else{if(1!=Z.length)return $=new S.CometChatException(pe.ERRORS.PARAMETER_MISSING),O.internalRestart||O.pushToLoginListener($,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce($);if(h.isFalsy(Z[0]))return $=new S.CometChatException(pe.ERRORS.PARAMETER_MISSING),O.internalRestart||O.pushToLoginListener($,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce($)}return h.isFalsy(L.getAppId())?($=new S.CometChatException(pe.LOGIN_ERROR.NOT_INITIALIZED),O.internalRestart||O.pushToLoginListener($,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce($)):O.localStorage.get(l.LOCAL_STORE.KEY_USER).then(function(q){if(2==Z.length){O.apiKey=Z[1];var _e=Z[0];if(null!=q&&q.uid!==Z[0])O.localStorage.clearStore().then(function(){wt.WSLogout(),O.generateAuthToken(_e).then(function(De){O.user=new w.Me(De),O.setAuthToken(O.user.getAuthToken()),O.getLoggedInUser().then(function(Le){(O.user=new w.Me(Le)).setAuthToken(O.authToken),O.setAuthToken(O.user.getAuthToken());var Ve=O.user;Ve.setStatus(l.PresenceConstatnts.STATUS.ONLINE),O.localStorage.set("user",Ve);var we=new w.User(Ve);re(we),O.isConnectingFromInit||O.internalRestart||O.pushToLoginListener(we,"Login_Success"),O.loginInProgress=!1,O.didAnalyticsPingStart()||O.isAnalyticsDisabled||!O.appSettings.shouldAutoEstablishSocketConnection()||(O.pingAnalytics(),O.startAnalyticsPingTimer()),O.isLoggedOut=!1,(O.appSettings.shouldAutoEstablishSocketConnection()||O.internalRestart)&&O.shouldConnectToWS&&O.WSLogin(O.user)},function(Le){return O.internalRestart||O.pushToLoginListener(Le,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce(Le)})},function(De){return O.internalRestart||O.pushToLoginListener(De,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce(De)})});else{if(!h.isFalsy(O.authToken)){var Ce=new w.User(L.user);return O.internalRestart||O.pushToLoginListener(Ce,"Login_Success"),O.loginInProgress=!1,O.isLoggedOut=!1,re(Ce)}if(!h.isFalsy(_e)){if(h.isFalsy(O.apiKey)){var he=new S.CometChatException(pe.LOGIN_ERROR.UNAUTHORISED);return O.internalRestart||O.pushToLoginListener(he,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce(he)}L.generateAuthToken(_e).then(function(De){L.user=new w.Me(De),L.setAuthToken(O.user.getAuthToken()),L.getLoggedInUser().then(function(Le){L.user=new w.Me(Le),L.user.setAuthToken(O.authToken),L.setAuthToken(L.user.getAuthToken()),wt.WSLogout();var Ve=L.user;Ve.setStatus(l.PresenceConstatnts.STATUS.ONLINE),L.localStorage.set("user",Ve);var we=new w.User(Ve);re(we),O.isConnectingFromInit||O.internalRestart||O.pushToLoginListener(we,"Login_Success"),O.loginInProgress=!1,O.didAnalyticsPingStart()||O.isAnalyticsDisabled||!O.appSettings.shouldAutoEstablishSocketConnection()||(O.pingAnalytics(),O.startAnalyticsPingTimer()),O.isLoggedOut=!1,(O.appSettings.shouldAutoEstablishSocketConnection()||O.internalRestart)&&O.shouldConnectToWS&&L.WSLogin(L.user)},function(Le){return O.internalRestart||O.pushToLoginListener(Le,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce(Le)})},function(De){return O.internalRestart||O.pushToLoginListener(De,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce(De)})}}}else O.authToken=Z[0],L.getLoggedInUser().then(function(De){if(De.authToken!=Z[0]){var Le=L;Le.localStorage.clearStore().then(function(){wt.WSLogout(),Le.getLoggedInUser().then(function(et){(O.user=new w.Me(et)).setAuthToken(O.authToken),O.setAuthToken(O.user.getAuthToken());var ut=O.user;ut.setStatus(l.PresenceConstatnts.STATUS.ONLINE),Le.localStorage.set("user",ut);var ot=new w.User(ut);re(ot),O.isConnectingFromInit||O.internalRestart||O.pushToLoginListener(ot,"Login_Success"),O.loginInProgress=!1,O.didAnalyticsPingStart()||O.isAnalyticsDisabled||!O.appSettings.shouldAutoEstablishSocketConnection()||(O.pingAnalytics(),O.startAnalyticsPingTimer()),O.isLoggedOut=!1,(O.appSettings.shouldAutoEstablishSocketConnection()||O.internalRestart)&&O.shouldConnectToWS&&O.WSLogin(new w.Me(et))},function(et){return O.internalRestart||O.pushToLoginListener(et,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce(et)})})}else{if(q){var Ve=new w.User(De);return O.internalRestart||O.pushToLoginListener(Ve,"Login_Success"),O.loginInProgress=!1,O.isLoggedOut=!1,re(Ve)}(O.user=new w.Me(De)).setAuthToken(O.authToken),O.setAuthToken(O.user.getAuthToken());var we=O.user;we.setStatus(l.PresenceConstatnts.STATUS.ONLINE),O.localStorage.set("user",we);var We=new w.User(we);re(We),O.isConnectingFromInit||O.internalRestart||O.pushToLoginListener(We,"Login_Success"),O.loginInProgress=!1,O.didAnalyticsPingStart()||O.isAnalyticsDisabled||!O.appSettings.shouldAutoEstablishSocketConnection()||(O.pingAnalytics(),O.startAnalyticsPingTimer()),O.isLoggedOut=!1,(O.appSettings.shouldAutoEstablishSocketConnection()||O.internalRestart)&&O.shouldConnectToWS&&O.WSLogin(new w.Me(De))}},function(De){return O.internalRestart||O.pushToLoginListener(De,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce(De)})})})}catch(H){return W=new S.CometChatException(H),O.internalRestart||O.pushToLoginListener(W,"Login_Failure"),O.loginInProgress=!1,O.isLoggedOut=!0,ce(W)}})},O.sendMessage=function(L){var Z=this;return new Promise(function(ue,re){return p(Z,void 0,void 0,function(){var ce,W,H,$=this;return v(this,function(U){try{return L instanceof x.TextMessage||L instanceof I.MediaMessage||L instanceof ze.CustomMessage||(L=L[l.MessageConstatnts.KEYS.ATTATCHMENT]?(ce=l.MessageConstatnts.TYPE.FILE,h.isImage(L[l.MessageConstatnts.KEYS.ATTATCHMENT])?ce=l.MessageConstatnts.TYPE.IMAGE:h.isAudio(L[l.MessageConstatnts.KEYS.ATTATCHMENT])?ce=l.MessageConstatnts.TYPE.AUDIO:h.isVideo(L[l.MessageConstatnts.KEYS.ATTATCHMENT])&&(ce=l.MessageConstatnts.TYPE.VIDEO),new I.MediaMessage(L[l.MessageConstatnts.KEYS.RECEIVER_ID],L[l.MessageConstatnts.KEYS.ATTATCHMENT],ce,L[l.MessageConstatnts.KEYS.RECEIVER_TYPE])):new x.TextMessage(L[l.MessageConstatnts.KEYS.RECEIVER_ID],L[l.MessageConstatnts.KEYS.TEXT],L[l.MessageConstatnts.KEYS.RECEIVER_TYPE])),(W=h.validateMessage(L))instanceof S.CometChatException?(re(W),[2]):(L.receiver=L.receiverId,delete L.receiverId,[2,T.makeApiCall((H=L.parentMessageId)?"sendMessageInThread":"sendMessage",H?{parentId:H}:{},L,L instanceof I.MediaMessage).then(function(k){return p($,void 0,void 0,function(){var q;return v(this,function(_e){return q=B.MessageController.trasformJSONMessge(k.data),ne.MessageListnerMaping.getInstance().set("all",parseInt(q.id)),ue(q),[2]})})},function(k){re(new S.CometChatException(k.error))})])}catch(k){re(new S.CometChatException(k))}return[2]})})})},O.sendDirectMessage=function(L){try{return Object.assign(L,{receiverType:l.MessageConstatnts.RECEIVER_TYPE.USER}),this.sendMessage(L)}catch(Z){h.Logger.error("CometChat: sendDirectMessage",Z)}},O.sendGroupMessage=function(L){try{return Object.assign(L,{receiverType:l.MessageConstatnts.RECEIVER_TYPE.GROUP}),this.sendMessage(L)}catch(Z){h.Logger.error("CometChat: sendGroupMessage",Z)}},O.sendMediaMessage=function(L){try{return this.sendMessage(L)}catch(Z){h.Logger.error("CometChat: sendMediaMessage",Z)}},O.sendCustomMessage=function(L){try{return this.sendMessage(L)}catch(Z){h.Logger.error("CometChat: sendCustomMessage",Z)}},O.getLastDeliveredMessageId=function(){return p(this,void 0,void 0,function(){var L;return v(this,function(Z){switch(Z.label){case 0:return Z.trys.push([0,2,,3]),[4,ne.MessageListnerMaping.getInstance().get(l.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST)];case 1:return[2,Z.sent()];case 2:return L=Z.sent(),h.Logger.error("CometChat: getLastDeliveredMessageId",L),[3,3];case 3:return[2]}})})},O.startTyping=function(L){try{if(h.isFalsy(L))return;var Z=void 0,ue=this.RECEIVER_TYPE.USER,re={};if(L instanceof Fe.TypingIndicator)Z=L.getReceiverId(),ue=L.getReceiverType(),re=L.getMetadata();else{if(!L.hasOwnProperty(l.TYPING_NOTIFICATION.RECEIVER_ID))return;Z=L[l.TYPING_NOTIFICATION.RECEIVER_ID],L.hasOwnProperty(l.TYPING_NOTIFICATION.RECEIVER_TYPE)&&(ue=L[l.TYPING_NOTIFICATION.RECEIVER_TYPE]),L.hasOwnProperty(l.TYPING_NOTIFICATION.META)&&(re=L[l.TYPING_NOTIFICATION.META])}if(h.isFalsy(Z))return;if(null==Ge.TypingNotificationController.getTypingStartedMap(Z)){var ce=O.getMode();return h.isFalsy(ce)||ce&&ce!==l.APP_SETTINGS.KEYS.NO_TRANSIENT&&ce!==l.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?(wt.startTypingIndicator(Z,ue,re),Ge.TypingNotificationController.addTypingStarted(Z),void Ge.TypingNotificationController.removeTypingEnded(Z)):void 0}}catch(W){h.Logger.error("CometChat: startTyping",W)}},O.endTyping=function(L){try{if(h.isFalsy(L))return;var Z=void 0,ue=this.RECEIVER_TYPE.USER,re={};if(L instanceof Fe.TypingIndicator)Z=L.getReceiverId(),ue=L.getReceiverType(),re=L.getMetadata();else{if(!L.hasOwnProperty(l.TYPING_NOTIFICATION.RECEIVER_ID))return;Z=L[l.TYPING_NOTIFICATION.RECEIVER_ID],L.hasOwnProperty(l.TYPING_NOTIFICATION.RECEIVER_TYPE)&&(ue=L[l.TYPING_NOTIFICATION.RECEIVER_TYPE]),ue=ue==this.RECEIVER_TYPE.USER?l.WS.CONVERSATION.TYPE.CHAT:l.WS.CONVERSATION.TYPE.GROUP_CHAT,L.hasOwnProperty(l.TYPING_NOTIFICATION.META)&&(re=L[l.TYPING_NOTIFICATION.META])}if(h.isFalsy(Z))return;if(null==Ge.TypingNotificationController.getTypingEndedMap(Z)){var ce=O.getMode();return h.isFalsy(ce)||ce&&ce!==l.APP_SETTINGS.KEYS.NO_TRANSIENT&&ce!==l.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?(wt.pauseTypingIndicator(Z,ue,re),Ge.TypingNotificationController.addTypingEnded(Z),void Ge.TypingNotificationController.removeTypingStarted(Z)):void 0}}catch(W){h.Logger.error("CometChat: endTyping",W)}},O.markAsRead=function(){for(var L=[],Z=0;Z<arguments.length;Z++)L[Z]=arguments[Z];return new Promise(function(ue,re){try{var ce=void 0,W=void 0,H=void 0,$=void 0;if(3===L.length)return re(new S.CometChatException(l.ReceiptErrors.MISSING_PARAMETERS));if(4===L.length){if(h.isFalsy(L[0])||"string"!=typeof L[0])return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"MESSAGE_ID","MESSAGE_ID","Message ID should be a string."))));if(ce=L[0],h.isFalsy(L[1])||"string"!=typeof L[1])return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_ID","RECEIVER_ID","Receiver ID should be a string."))));if(W=L[1],h.isFalsy(L[2])||"string"!=typeof L[2])return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type should be a string."))));if(H=L[2],h.isFalsy(L[3])||"string"!=typeof L[3])return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"SENDER_ID","SENDER_ID","Sender ID should be a string."))));$=L[3]}else{if(1!==L.length)return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"ARGUMENTS","ARGUMENTS","markAsRead() expects either 1 or 4 arguments."))));if(h.isFalsy(L[0])||!(L[0]instanceof P.BaseMessage))return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"MESSAGE","MESSAGE","Invalid message object received."))));var U=L[0];ce=U.getId().toString(),W=(H=U.getReceiverType())===l.MessageConstatnts.RECEIVER_TYPE.USER?U.getSender().getUid()===O.user.getUid()?U.getReceiverId():U.getSender().getUid():U.getReceiverId(),$=U.getSender().getUid()}var k=O.getMode();return h.isFalsy(k)||k&&k!==l.APP_SETTINGS.KEYS.NO_TRANSIENT&&k!==l.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?O.getConnectionStatus()===l.CONNECTION_STATUS.CONNECTED?(wt.markAsRead(W,H,ce,$),ue()):re(new S.CometChatException(l.ReceiptErrors.NO_WEBSOCKET_CONNECTION)):re(new S.CometChatException(l.ReceiptErrors.RECEIPTS_TEMPORARILY_BLOCKED))}catch(q){return h.Logger.error("CometChat: markAsRead",q),re(new S.CometChatException(l.ReceiptErrors.UNKNOWN_ERROR_OCCURRED))}})},O.markAsDelivered=function(){for(var L=[],Z=0;Z<arguments.length;Z++)L[Z]=arguments[Z];return new Promise(function(ue,re){try{var ce=void 0,W=void 0,H=void 0,$=void 0;if(3===L.length)return re(new S.CometChatException(l.ReceiptErrors.MISSING_PARAMETERS));if(4===L.length){if(h.isFalsy(L[0])||"string"!=typeof L[0])return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"MESSAGE_ID","MESSAGE_ID","Message ID should be a string."))));if(ce=L[0],h.isFalsy(L[1])||"string"!=typeof L[1])return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_ID","RECEIVER_ID","Receiver ID should be a string."))));if(W=L[1],h.isFalsy(L[2])||"string"!=typeof L[2])return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type should be a string."))));if(H=L[2],h.isFalsy(L[3])||"string"!=typeof L[3])return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"SENDER_ID","SENDER_ID","Sender ID should be a string."))));$=L[3]}else{if(1!==L.length)return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"ARGUMENTS","ARGUMENTS","markAsDelivered() expects either 1 or 4 arguments."))));if(h.isFalsy(L[0])||!(L[0]instanceof P.BaseMessage))return re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ReceiptErrors.INVALID_PARAMETER),"MESSAGE","MESSAGE","Invalid message object received."))));var U=L[0];ce=U.getId().toString(),W=(H=U.getReceiverType())===l.MessageConstatnts.RECEIVER_TYPE.USER?U.getSender().getUid()===O.user.getUid()?U.getReceiverId():U.getSender().getUid():U.getReceiverId(),$=U.getSender().getUid()}var k=O.getMode();return h.isFalsy(k)||k&&k!==l.APP_SETTINGS.KEYS.NO_TRANSIENT&&k!==l.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?O.getConnectionStatus()===l.CONNECTION_STATUS.CONNECTED?(wt.markAsDelivered(W,H,ce,$),ue()):re(new S.CometChatException(l.ReceiptErrors.NO_WEBSOCKET_CONNECTION)):re(new S.CometChatException(l.ReceiptErrors.RECEIPTS_TEMPORARILY_BLOCKED))}catch(q){return h.Logger.error("CometChat: markAsDelivered",q),re(new S.CometChatException(l.ReceiptErrors.UNKNOWN_ERROR_OCCURRED))}})},O.sendTransientMessage=function(L){try{if(h.isFalsy(L))return;var Z=void 0,ue=void 0,re={};if(!(L instanceof tn.TransientMessage)||(Z=L.getReceiverId(),ue=L.getReceiverType(),re=L.getData(),h.isFalsy(Z)||h.isFalsy(ue)))return;var ce=O.getMode();return h.isFalsy(ce)||ce&&ce!==l.APP_SETTINGS.KEYS.NO_TRANSIENT?void wt.sendTransientMessage(Z,ue,re):void 0}catch(W){h.Logger.error("CometChat: sendTransientMessage",W)}},O.sendTestMessage=function(L){return p(this,void 0,void 0,function(){var Z,ue;return v(this,function(re){switch(re.label){case 0:return re.trys.push([0,3,,4]),(Z=L)instanceof P.BaseMessage?[3,2]:[4,Et.CometChatHelper.processMessage(L)];case 1:Z=re.sent(),re.label=2;case 2:return Z instanceof x.TextMessage&&at.WSConnectionHelper.getInstance().publishMessage(Z),[3,4];case 3:return ue=re.sent(),h.Logger.error("CometChat: sendTestMessage",ue),[3,4];case 4:return[2]}})})},O.getMessageDetails=function(L){return new Promise(function(Z,ue){try{h.isFalsy(L)?ue(new S.CometChatException(pe.ERRORS.PARAMETER_MISSING)):T.makeApiCall("getMessageDetails",{messageId:L}).then(function(re){Z(B.MessageController.trasformJSONMessge(re.data))},function(re){h.Logger.error("CometChat:GetMessageDetails:",re),ue(new S.CometChatException(re.error))})}catch(re){ue(new S.CometChatException(re))}})},O.getMessageReceipts=function(L){return new Promise(function(Z,ue){try{var re=h.validateMsgId(L);if(re instanceof S.CometChatException)return void ue(re);h.isFalsy(L)?ue(new S.CometChatException(pe.ERRORS.PARAMETER_MISSING)):T.makeApiCall("getMessageDetails",{messageId:L}).then(function(ce){B.MessageController.getReceiptsFromJSON(ce.data).then(function(W){Z(W)},function(W){ue(new S.CometChatException(W))})},function(ce){h.Logger.error("CometChat:GetMessageDetails:",ce),ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.getUnreadMessageCount=function(L){void 0===L&&(L=!1);var Z=0;return new Promise(function(ue,re){try{var ce=h.validateHideMessagesFromBlockedUsers(L);if(ce instanceof S.CometChatException)return void re(ce);L&&(Z=1),T.makeApiCall("getMessages",{},{unread:1,count:1,hideMessagesFromBlockedUsers:Z}).then(function(W){var H={},$={};W.data.map(function(U){U[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==l.MessageConstatnts.RECEIVER_TYPE.GROUP?$[U[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=U[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]:H[U[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=U[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),ue({users:H,groups:$})},function(W){re(new S.CometChatException(W.error))})}catch(W){re(new S.CometChatException(W))}})},O.getUnreadMessageCountForAllUsers=function(L){void 0===L&&(L=!1);var Z=0;return new Promise(function(ue,re){try{var ce=h.validateHideMessagesFromBlockedUsers(L);if(ce instanceof S.CometChatException)return void re(ce);L&&(Z=1),T.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:Z,receiverType:l.MessageConstatnts.RECEIVER_TYPE.USER,unread:1,count:1}).then(function(W){var H={};W.data.map(function($){H[$[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=$[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),ue(y({},H))},function(W){re(new S.CometChatException(W.error))})}catch(W){re(new S.CometChatException(W))}})},O.getUnreadMessageCountForAllGroups=function(L){void 0===L&&(L=!1);var Z=0;return new Promise(function(ue,re){try{var ce=h.validateHideMessagesFromBlockedUsers(L);if(ce instanceof S.CometChatException)return void re(ce);L&&(Z=1),T.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:Z,receiverType:l.MessageConstatnts.RECEIVER_TYPE.GROUP,unread:1,count:1}).then(function(W){var H={};W.data.map(function($){$[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==l.MessageConstatnts.RECEIVER_TYPE.GROUP&&(H[$[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=$[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT])}),ue(y({},H))},function(W){re(new S.CometChatException(W.error))})}catch(W){re(new S.CometChatException(W))}})},O.getUnreadMessageCountForUser=function(L,Z){void 0===Z&&(Z=!1);var ue=0;return new Promise(function(re,ce){try{var W=h.validateId(L,"user");if(W instanceof S.CometChatException)return void ce(W);var H=h.validateHideMessagesFromBlockedUsers(Z);if(H instanceof S.CometChatException)return void ce(H);Z&&(ue=1),T.makeApiCall("getUserMessages",{listId:L},{hideMessagesFromBlockedUsers:ue,unread:1,count:1,uid:L}).then(function($){var U={};$.data.map(function(k){U[k[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=k[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),re(y({},U))},function($){ce(new S.CometChatException($.error))})}catch($){ce(new S.CometChatException($))}})},O.getUnreadMessageCountForGroup=function(L,Z){void 0===Z&&(Z=!1);var ue=0;return new Promise(function(re,ce){try{var W=h.validateId(L,"group");if(W instanceof S.CometChatException)return void ce(W);var H=h.validateHideMessagesFromBlockedUsers(Z);if(H instanceof S.CometChatException)return void ce(H);Z&&(ue=1),T.makeApiCall("getGroupMessages",{listId:L},{hideMessagesFromBlockedUsers:ue,unread:1,count:1,guid:L}).then(function($){var U={};$.data.map(function(k){k[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==l.MessageConstatnts.RECEIVER_TYPE.GROUP&&(U[k[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=k[l.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT])}),re(y({},U))},function($){ce(new S.CometChatException($.error))})}catch($){ce(new S.CometChatException($))}})},O.editMessage=function(L){return new Promise(function(Z,ue){try{var re=h.validateMsgId(L.getId());if(re instanceof S.CometChatException)return void ue(re);T.makeApiCall("updateMessage",{messageId:L.getId()},L).then(function(ce){Z(B.MessageController.trasformJSONMessge(ce.data).getActionOn())},function(ce){ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.deleteMessage=function(L){return new Promise(function(Z,ue){try{var re=h.validateMsgId(L);if(re instanceof S.CometChatException)return void ue(re);T.makeApiCall("deleteMessage",{messageId:L},{id:L}).then(function(ce){Z(B.MessageController.trasformJSONMessge(ce.data).getActionOn())},function(ce){ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.getOnlineUserCount=function(){return new Promise(function(L,Z){try{h.getAppSettings().then(function(ue){var re=h.format((new C.EndpointFactory).wsApi,h.getChatHost(ue),l.ONLINE_MEMBER_COUNT_API.ENDPOINTS.GET_ONLINE_MEMBER_COUNT);T.postData(re,"POST",{},{appId:O.appId,Authorization:O.jwt,Accept:"application/json","Content-Type":"application/json"},!1).then(function(W){return W.json()}).then(function(W){return W.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?L(W[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA][l.ONLINE_MEMBER_COUNT_API.RESPONSE.ONLINE_USERS_COUNT]):Z(new S.CometChatException(W.error))}).catch(function(){return Z({error:pe.FETCH_ERROR.ERROR_IN_API_CALL})})},function(ue){return Z(new S.CometChatException(ue))})}catch(ue){return Z(new S.CometChatException(ue))}})},O.getOnlineGroupMemberCount=function(L){return new Promise(function(Z,ue){try{if(!L||0==L.length)return ue(new S.CometChatException(l.ONLINE_MEMBER_COUNT_API.ERRORS.INVALID_GROUPLIST));h.getAppSettings().then(function(re){var ce=h.format((new C.EndpointFactory).wsApi,h.getChatHost(re),l.ONLINE_MEMBER_COUNT_API.ENDPOINTS.GET_ONLINE_MEMBER_COUNT);T.postData(ce,"POST",{groups:L},{appId:O.appId,Authorization:O.jwt,Accept:"application/json","Content-Type":"application/json"},!1).then(function($){return $.json()}).then(function($){return $.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?Z($[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA][l.ONLINE_MEMBER_COUNT_API.RESPONSE.GROUPS]):ue(new S.CometChatException($.error))}).catch(function(){return ue({error:pe.FETCH_ERROR.ERROR_IN_API_CALL})})},function(re){return ue(new S.CometChatException(re))})}catch(re){return ue(new S.CometChatException(re))}})},O.createUser=function(L,Z){return new Promise(function(ue,re){try{if(h.isFalsy(Z))return void re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.GENERAL_ERROR.INVALID),"AUTH_KEY","AUTH_KEY","AUTH_KEY","AUTH_KEY"))));O.apiKey=Z;var ce=h.validateCreateUser(L);if(ce instanceof S.CometChatException)return void re(ce);if(!(L instanceof w.User)){var W=void 0;if(!L.hasOwnProperty(l.UserConstants.UID))return void re(new S.CometChatException(pe.ERRORS.PARAMETER_MISSING));if(!L.hasOwnProperty(l.UserConstants.NAME))return void re(new S.CometChatException(pe.ERRORS.PARAMETER_MISSING));W=new w.User(L[l.UserConstants.UID],L[l.UserConstants.NAME]),L.hasOwnProperty(l.UserConstants.AVATAR)&&W.setAvatar(L[l.UserConstants.AVATAR]),L.hasOwnProperty(l.UserConstants.ROLE)&&W.setRole(L[l.UserConstants.ROLE]),L.hasOwnProperty(l.UserConstants.META_DATA)&&W.setMetadata(L[l.UserConstants.META_DATA]),L.hasOwnProperty(l.UserConstants.LINK)&&W.setLink(L[l.UserConstants.LINK]),L.hasOwnProperty(l.UserConstants.STATUS_MESSAGE)&&W.setStatusMessage(L[l.UserConstants.STATUS_MESSAGE]),L.hasOwnProperty(l.UserConstants.TAGS)&&W.setTags(L[l.UserConstants.TAGS]),L=W}T.makeApiCall("createUser",{},L).then(function(H){var $=F.UsersController.trasformJSONUser(H.data);ue($)},function(H){re(new S.CometChatException(H.error))})}catch(H){re(new S.CometChatException(H))}})},O.updateUser=function(L,Z){var ue=this;return new Promise(function(re,ce){try{if(h.isFalsy(Z))return void ce(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.GENERAL_ERROR.INVALID),"AUTH_KEY","AUTH_KEY","AUTH_KEY","AUTH_KEY"))));O.apiKey=Z;var W=h.validateUpdateUser(L);if(W instanceof S.CometChatException)return void ce(W);if(!(L instanceof w.User)){var H=void 0;if(!L.hasOwnProperty(l.UserConstants.UID))return void ce(new S.CometChatException(pe.ERRORS.PARAMETER_MISSING));H=new w.User(L[l.UserConstants.UID]),L.hasOwnProperty(l.UserConstants.NAME)&&H.setName(L[l.UserConstants.NAME]),L.hasOwnProperty(l.UserConstants.AVATAR)&&H.setAvatar(L[l.UserConstants.AVATAR]),L.hasOwnProperty(l.UserConstants.ROLE)&&H.setRole(L[l.UserConstants.ROLE]),L.hasOwnProperty(l.UserConstants.META_DATA)&&H.setMetadata(L[l.UserConstants.META_DATA]),L.hasOwnProperty(l.UserConstants.LINK)&&H.setLink(L[l.UserConstants.LINK]),L.hasOwnProperty(l.UserConstants.STATUS_MESSAGE)&&H.setStatusMessage(L[l.UserConstants.STATUS_MESSAGE]),L.hasOwnProperty(l.UserConstants.TAGS)&&H.setTags(L[l.UserConstants.TAGS]),L=H}var $=L.uid;T.makeApiCall("updateUser",{uid:$},L).then(function(U){if(ue.user&&$.toLocaleLowerCase()===ue.user.getUid().toLocaleLowerCase())_.LocalStorage.getInstance().get("user").then(function(q){if(q){var _e=F.UsersController.trasformJSONUser(U.data),Ce=U.data;Ce.wsChannel=q.wsChannel,Ce.authToken=O.authToken,Ce.status=l.PresenceConstatnts.STATUS.ONLINE,q.jwt&&(Ce.jwt=q.jwt),O.user=new w.Me(Ce),ue.localStorage.set("user",O.user),re(_e)}});else{var k=F.UsersController.trasformJSONUser(U.data);re(k)}},function(U){ce(new S.CometChatException(U.error))})}catch(U){ce(new S.CometChatException(U))}})},O.updateCurrentUserDetails=function(L){var Z=this;return new Promise(function(ue,re){try{L.uid=Z.user.uid;var ce=h.validateUpdateUser(L);if(ce instanceof S.CometChatException)return void re(ce);if(!(L instanceof w.User)){var W=void 0;L.hasOwnProperty(l.UserConstants.UID)&&(W=new w.User(L[l.UserConstants.UID])),L.hasOwnProperty(l.UserConstants.NAME)&&W.setName(L[l.UserConstants.NAME]),L.hasOwnProperty(l.UserConstants.AVATAR)&&W.setAvatar(L[l.UserConstants.AVATAR]),L.hasOwnProperty(l.UserConstants.ROLE)&&W.setRole(L[l.UserConstants.ROLE]),L.hasOwnProperty(l.UserConstants.META_DATA)&&W.setMetadata(L[l.UserConstants.META_DATA]),L.hasOwnProperty(l.UserConstants.LINK)&&W.setLink(L[l.UserConstants.LINK]),L.hasOwnProperty(l.UserConstants.STATUS_MESSAGE)&&W.setStatusMessage(L[l.UserConstants.STATUS_MESSAGE]),L.hasOwnProperty(l.UserConstants.TAGS)&&W.setTags(L[l.UserConstants.TAGS]),L=W}T.makeApiCall("updateMyDetails",{},L).then(function(H){var $=F.UsersController.trasformJSONUser(H.data),U=O.user=new w.Me(H.data);U.setStatus(l.PresenceConstatnts.STATUS.ONLINE),O.localStorage.set("user",U),ue($)},function(H){re(new S.CometChatException(H.error))})}catch(H){re(new S.CometChatException(H))}})},O.getUser=function(L){return new Promise(function(Z,ue){try{"object"==typeof L&&L.hasOwnProperty("uid")&&(L=L.uid);var re=h.validateId(L,"user");if(re instanceof S.CometChatException)return void ue(re);T.makeApiCall("user",{uid:L}).then(function(ce){var W=F.UsersController.trasformJSONUser(ce.data);Z(W)}).catch(function(ce){ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.getLoggedInUser=function(){var L=this;return new Promise(function(Z,ue){try{O.localStorage.get(l.LOCAL_STORE.KEY_USER).then(function(re){if(re)Z(O.user=new w.Me(re));else{var ce="",W="",H=l.APPINFO.platform,$=l.APPINFO.sdkVersion,U=l.APPINFO.apiVersion;O.keyStore.get(l.LOCAL_STORE.KEY_DEVICE_ID).then(function(k){if(W=k,navigator&&(ce=navigator.userAgent),null==W){var q=rn(),_e=(new Date).getTime();O.keyStore.set(l.LOCAL_STORE.KEY_DEVICE_ID,W=L.appId+"_"+q+"_"+_e)}var Ce={version:$,apiVersion:U,userAgent:ce};h.isFalsy(L.platform)||(Ce.platform=L.platform),h.isFalsy(L.language)||(Ce.language=L.language),h.isFalsy(L.resource)||(Ce.resource=L.resource),T.makeApiCall("updateMyDetails",{},{platform:H,deviceId:W,appInfo:Ce},!1).then(function(De){De.data.jwt&&(O.jwt=De.data.jwt);var Le=De.data.settings;Le&&(_.LocalStorage.getInstance().set("app_settings",Le),Le[l.APP_SETTINGS.KEYS.MODE]&&O.setMode(Le[l.APP_SETTINGS.KEYS.MODE]),Le[l.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(O.settingsHash=Le[l.APP_SETTINGS.KEYS.SETTINGS_HASH]),Le[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(O.settingsHashReceivedAt=Le[l.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),Le[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]&&(O.analyticsHost=Le[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]),Le[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]&&(O.analyticsVersion=Le[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]),O.isAnalyticsDisabled=!!Le[l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED]),Z(new w.Me(De.data))},function(De){ue(new S.CometChatException(De.error))}).catch(function(De){ue(new S.CometChatException(De))})})}})}catch(re){ue(new S.CometChatException(re))}})},O.getLoggedinUser=function(){return new Promise(function(L,Z){try{O.localStorage.get(l.LOCAL_STORE.KEY_USER).then(function(ue){L(ue?new w.User(ue):null)},function(ue){L(null)})}catch(ue){Z(new S.CometChatException(ue))}})},O.blockUsers=function(L){return new Promise(function(Z,ue){try{var re=h.validateArray(L,"blockUsers");if(re instanceof S.CometChatException)return void ue(re);h.isFalsy(L)?ue(new S.CometChatException(pe.USERS_REQUEST_ERRORS.EMPTY_USERS_LIST)):T.makeApiCall("blockUsers",{},{blockedUids:L}).then(function(ce){Z(ce.data)},function(ce){ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.unblockUsers=function(L){return new Promise(function(Z,ue){try{var re=h.validateArray(L,"unblockUsers");if(re instanceof S.CometChatException)return void ue(re);h.isFalsy(L)?ue(new S.CometChatException(pe.USERS_REQUEST_ERRORS.EMPTY_USERS_LIST)):T.makeApiCall("unblockUsers",{},{blockedUids:L}).then(function(ce){Z(ce.data)},function(ce){ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.getConversation=function(L,Z){return new Promise(function(ue,re){try{var ce=h.validateConversationType(Z);if(ce instanceof S.CometChatException)return void re(ce);var W=h.validateId(L,Z);if(W instanceof S.CometChatException)return void re(W);Z=Z.toLowerCase(),L=L.toLowerCase();var H={},$="";Z===l.MessageConstatnts.RECEIVER_TYPE.GROUP?($="getGroupConversation",H.guid=L):($="getUserConversation",H.uid=L),T.makeApiCall($,H).then(function(U){if(U.data){var k=U.data;ue(je.ConversationController.trasformJSONConversation(k.conversationId,k.conversationType,k.lastMessage,k.conversationWith,parseInt(k.unreadMessageCount),k.tags?k.tags:[]))}else re(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ConversationErrors.CONVERSATION_NOT_FOUND),Z,L))))},function(U){re(new S.CometChatException(U.error))})}catch(U){re(new S.CometChatException(U))}})},O.tagConversation=function(L,Z,ue){return void 0===ue&&(ue=[]),new Promise(function(re,ce){try{var W=h.validateConversationType(Z);if(W instanceof S.CometChatException)return void ce(W);var H=h.validateId(L,Z);if(H instanceof S.CometChatException)return void ce(H);Z=Z.toLowerCase(),L=L.toLowerCase();var $={},U="";Z===l.MessageConstatnts.RECEIVER_TYPE.GROUP?(U="updateGroupConversation",$.guid=L):(U="updateUserConversation",$.uid=L),T.makeApiCall(U,$,{tags:ue}).then(function(k){if(k.data){var q=k.data;re(je.ConversationController.trasformJSONConversation(q.conversationId,q.conversationType,q.lastMessage,q.conversationWith,parseInt(q.unreadMessageCount),q.tags?q.tags:[]))}else ce(new S.CometChatException(JSON.parse(h.format(JSON.stringify(l.ConversationErrors.CONVERSATION_NOT_FOUND),Z,L))))},function(k){ce(new S.CometChatException(k.error))})}catch(k){ce(new S.CometChatException(k))}})},O.deleteConversation=function(L,Z){return new Promise(function(ue,re){try{var ce=h.validateConversationType(Z);if(ce instanceof S.CometChatException)return void re(ce);var W=h.validateId(L,Z);if(W instanceof S.CometChatException)return void re(W);var H={},$="";Z=Z.toLowerCase(),L=L.toLowerCase(),Z===l.MessageConstatnts.RECEIVER_TYPE.GROUP?($="deleteGroupConversation",H.guid=L):($="deleteUserConversation",H.uid=L),T.makeApiCall($,H).then(function(U){ue("Conversation deleted successfully.")},function(U){re(new S.CometChatException(U.error))})}catch(U){re(new S.CometChatException(U))}})},O.createGroup=function(L){return new Promise(function(Z,ue){try{var re=h.validateCreateGroup(L);if(re instanceof S.CometChatException)return void ue(re);if(!(L instanceof ee.Group)){var ce=void 0;if(!L.hasOwnProperty(l.GroupConstants.KEYS.GUID))return void ue(new S.CometChatException(pe.ERRORS.PARAMETER_MISSING));if(!L.hasOwnProperty(l.GroupConstants.KEYS.NAME))return void ue(new S.CometChatException(pe.ERRORS.PARAMETER_MISSING));if(ce=new ee.Group(L[l.GroupConstants.KEYS.GUID],L[l.GroupConstants.KEYS.NAME],""),L.hasOwnProperty(l.GroupConstants.KEYS.TYPE))if(L[l.GroupConstants.KEYS.TYPE].toLocaleLowerCase()==l.GroupType.Password){if(!L.hasOwnProperty(l.GroupConstants.KEYS.PASSWORD))return void ue(new S.CometChatException(pe.GROUP_CREATION_ERRORS.EMPTY_PASSWORD));ce.setType(l.GROUP_TYPE.PASSWORD),ce.setPassword(L[l.GroupConstants.KEYS.PASSWORD])}else ce.setType(L[l.GroupConstants.KEYS.TYPE]);else ce.setType(l.GROUP_TYPE.PUBLIC);L.hasOwnProperty(l.GroupConstants.KEYS.ICON)&&ce.setIcon(L[l.GroupConstants.KEYS.ICON]),L.hasOwnProperty(l.GroupConstants.KEYS.DESCRIPTION)&&ce.setDescription(L[l.GroupConstants.KEYS.DESCRIPTION]),L.hasOwnProperty(l.GroupConstants.KEYS.TAGS)&&ce.setTags(L[l.GroupConstants.KEYS.TAGS]),L=ce}T.makeApiCall("createGroup",{},L).then(function(W){X.GroupsController.trasformJSONGroup(W.data).setHasJoined(!0),Z(X.GroupsController.trasformJSONGroup(W.data))},function(W){ue(new S.CometChatException(W.error))})}catch(W){ue(new S.CometChatException(W))}})},O.getGroup=function(L){return new Promise(function(Z,ue){try{"object"==typeof L&&L.hasOwnProperty("guid")&&(L=L.guid);var re=h.validateId(L,"group");if(re instanceof S.CometChatException)return void ue(re);T.makeApiCall("getGroup",{guid:L}).then(function(ce){Z(X.GroupsController.trasformJSONGroup(ce.data))},function(ce){ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.joinGroup=function(L,Z,ue){return void 0===Z&&(Z=l.GroupType.Public),void 0===ue&&(ue=""),new Promise(function(re,ce){try{var W=h.validateJoinGroup(L,Z,ue);if(W instanceof S.CometChatException)return void ce(W);var H;"object"==typeof L&&(L.hasOwnProperty(l.GroupConstants.KEYS.GUID)?(L.hasOwnProperty(l.GroupConstants.KEYS.TYPE)&&(Z=L[l.GroupConstants.KEYS.TYPE],L[l.GroupConstants.KEYS.TYPE].toLocaleLowerCase()===l.GroupType.Password&&L.hasOwnProperty(l.GroupConstants.KEYS.PASSWORD)&&(ue=L[l.GroupConstants.KEYS.PASSWORD])),L=L[l.GroupConstants.KEYS.GUID]):ce(new S.CometChatException(pe.ERRORS.PARAMETER_MISSING))),H=h.isFalsy(ue)?new ee.Group(L,"name",Z):new ee.Group(L,"name",Z,ue),T.makeApiCall("joinGroup",H,H).then(function($){var U=X.GroupsController.trasformJSONGroup($.data[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA][l.ActionConstatnts.ACTION_KEYS.ENTITIES][l.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][l.ActionConstatnts.ACTION_KEYS.ENTITY]);U.setHasJoined(!0),re(U)},function($){ce(new S.CometChatException($.error))})}catch($){ce(new S.CometChatException($))}})},O.updateGroup=function(L){return new Promise(function(Z,ue){try{var re=h.validateUpdateGroup(L);if(re instanceof S.CometChatException)return void ue(re);if(!(L instanceof ee.Group)){var ce=void 0;if(!L.hasOwnProperty(l.GroupConstants.KEYS.GUID))return void ue(new S.CometChatException(pe.ERRORS.PARAMETER_MISSING));ce=new ee.Group(l.GroupConstants.KEYS.GUID,"",""),L.hasOwnProperty(l.GroupConstants.KEYS.TYPE)?ce.setType(L[l.GroupConstants.KEYS.TYPE]):L[l.GroupConstants.KEYS.TYPE]=l.GROUP_TYPE.PUBLIC,L.hasOwnProperty(l.GroupConstants.KEYS.NAME)&&ce.setName(L[l.GroupConstants.KEYS.NAME]),L.hasOwnProperty(l.GroupConstants.KEYS.ICON)&&ce.setIcon(L[l.GroupConstants.KEYS.ICON]),L.hasOwnProperty(l.GroupConstants.KEYS.DESCRIPTION)&&ce.setDescription(L[l.GroupConstants.KEYS.DESCRIPTION]),L.hasOwnProperty(l.GroupConstants.KEYS.TAGS)&&ce.setTags(L[l.GroupConstants.KEYS.TAGS]),L=ce}T.makeApiCall("updateGroup",L,L).then(function(W){Z(X.GroupsController.trasformJSONGroup(W.data))},function(W){ue(new S.CometChatException(W.error))})}catch(W){ue(new S.CometChatException(W))}})},O.deleteGroup=function(L){return new Promise(function(Z,ue){try{var re=h.validateId(L,"group");if(re instanceof S.CometChatException)return void ue(re);T.makeApiCall("deleteGroup",{guid:L}).then(function(ce){Z(!0)},function(ce){ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.leaveGroup=function(L){return new Promise(function(Z,ue){try{var re=h.validateId(L,"group");if(re instanceof S.CometChatException)return void ue(re);T.makeApiCall("leaveGroup",{guid:L}).then(function(ce){Z(!0)},function(ce){ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.kickGroupMember=function(L,Z){return new Promise(function(ue,re){try{var ce=h.validateId(L,"group");if(ce instanceof S.CometChatException)return void re(ce);var W=h.validateId(Z,"user");if(W instanceof S.CometChatException)return void re(W);T.makeApiCall("kickGroupMembers",{guid:L,uid:Z}).then(function(H){ue(!0)},function(H){re(new S.CometChatException(H.error))})}catch(H){re(new S.CometChatException(H))}})},O.updateGroupMemberScope=function(L,Z,ue){return new Promise(function(re,ce){try{var W=h.validateId(L,"group");if(W instanceof S.CometChatException)return void ce(W);var H=h.validateId(Z,"user");if(H instanceof S.CometChatException)return void ce(H);var $=h.validateScope(ue);if($ instanceof S.CometChatException)return void ce($);T.makeApiCall("changeScopeOfMember",{guid:L,uid:Z},{scope:ue}).then(function(U){re(!0)},function(U){ce(new S.CometChatException(U.error))})}catch(U){ce(new S.CometChatException(U))}})},O.banGroupMember=function(L,Z){return new Promise(function(ue,re){try{var ce=h.validateId(L,"group");if(ce instanceof S.CometChatException)return void re(ce);var W=h.validateId(Z,"user");if(W instanceof S.CometChatException)return void re(W);T.makeApiCall("banGroupMember",{guid:L,uid:Z}).then(function(H){ue(!0)},function(H){re(new S.CometChatException(H.error))})}catch(H){re(new S.CometChatException(H))}})},O.unbanGroupMember=function(L,Z){return new Promise(function(ue,re){try{var ce=h.validateId(L,"group");if(ce instanceof S.CometChatException)return void re(ce);var W=h.validateId(Z,"user");if(W instanceof S.CometChatException)return void re(W);T.makeApiCall("unbanGroupMember",{guid:L,uid:Z}).then(function(H){ue(!0)},function(H){re(new S.CometChatException(H.error))})}catch(H){re(new S.CometChatException(H))}})},O.addMembersToGroup=function(L,Z,ue){var re=[],ce=[],W=[],H=[];return new Promise(function($,U){try{var k=h.validateId(L,"group");if(k instanceof S.CometChatException)return void U(k);var q=h.validateArray(Z,"groupMembers");if(q instanceof S.CometChatException)return void U(q);if(ue){var _e=h.validateArray(ue,"bannedMembers");if(_e instanceof S.CometChatException)return void U(_e)}h.isFalsy(Z)&&h.isFalsy(ue)?U(new S.CometChatException({})):h.isFalsy(Z)||h.isFalsy(ue)?h.isFalsy(Z)?ue.map(function(he){H.push(he)}):(Z.filter(function(he){if(he.getScope()==l.GROUP_MEMBER_SCOPE.ADMIN)return!0}).map(function(he){re.push(he.getUid())}),Z.filter(function(he){if(he.getScope()==l.GROUP_MEMBER_SCOPE.MODERATOR)return!0}).map(function(he){ce.push(he.getUid())}),Z.filter(function(he){if(he.getScope()==l.GROUP_MEMBER_SCOPE.PARTICIPANT)return!0}).map(function(he){W.push(he.getUid())})):(Z.filter(function(he){if(he.getScope()==l.GROUP_MEMBER_SCOPE.ADMIN)return!0}).map(function(he){re.push(he.getUid())}),Z.filter(function(he){if(he.getScope()==l.GROUP_MEMBER_SCOPE.MODERATOR)return!0}).map(function(he){ce.push(he.getUid())}),Z.filter(function(he){if(he.getScope()==l.GROUP_MEMBER_SCOPE.PARTICIPANT)return!0}).map(function(he){W.push(he.getUid())}),ue.map(function(he){H.push(he)}));var Ce={};h.isFalsy(re)||(Ce=y(y({},Ce),{admins:re})),h.isFalsy(W)||(Ce=y(y({},Ce),{participants:W})),h.isFalsy(ce)||(Ce=y(y({},Ce),{moderators:ce})),h.isFalsy(H)||(Ce=y(y({},Ce),{usersToBan:H})),T.makeApiCall("addMemebersToGroup",{guid:L},Ce).then(function(he){var De={};Object.keys(he.data.admins).map(function(Le){De[Le]=he.data.admins[Le][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:he.data.admins[Le][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(he.data.participants).map(function(Le){De[Le]=he.data.participants[Le][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:he.data.participants[Le][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(he.data.moderators).map(function(Le){De[Le]=he.data.moderators[Le][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:he.data.moderators[Le][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(he.data.usersToBan).map(function(Le){De[Le]=he.data.usersToBan[Le][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:he.data.usersToBan[Le][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][l.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),$(De)},function(he){U(new S.CometChatException(he.error))})}catch(he){U(new S.CometChatException(he))}})},O.transferGroupOwnership=function(L,Z){return new Promise(function(ue,re){try{var ce=h.validateId(L,"group");if(ce instanceof S.CometChatException)return void re(ce);var W=h.validateId(Z,"user");if(W instanceof S.CometChatException)return void re(W);T.makeApiCall("transferOwnership",{guid:L},{owner:Z}).then(function(H){ue(H&&H.data&&H.data.message?H.data.message:"Ownership transferred to user "+Z+" for the group with guid "+L+".")},function(H){re(new S.CometChatException(H.error))})}catch(H){re(new S.CometChatException(H))}})},O.initiateCall=function(L){var Z=this;return new Promise(function(ue,re){var ce=Z.getActiveCall();if(null===ce)try{h.isFalsy(JSON.parse(JSON.stringify(L)).sender)?h.isFalsy(ce)?(L.setStatus(l.CallConstants.CALL_STATUS.INITIATED),L.receiver=L.receiverId.toString(),delete L.receiverId,T.makeApiCall("createCallSession",{},L).then(function(W){var H=B.MessageController.trasformJSONMessge(W[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);ie.CallController.getInstance().initiateCall(H).then(function($){ue(H)}).catch(function($){re(new S.CometChatException($))})},function(W){re(new S.CometChatException(W.error))})):re(new S.CometChatException(l.CALL_ERROR.ERROR_IN_CALLING)):ie.CallController.getInstance().initiateCall(L).then(function(W){ue(Object.assign(L))}).catch(function(W){re(new S.CometChatException(W))})}catch(W){re(new S.CometChatException(W))}else re(new S.CometChatException(l.CALL_ERROR.CALL_ALREADY_INITIATED))})},O.acceptCall=function(L){var Z=this;return new Promise(function(ue,re){if(null===Z.getActiveCall())try{var ce={};ce[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.ONGOING,T.makeApiCall("updateCallSession",{sessionid:L},ce).then(function(W){var H=B.MessageController.trasformJSONMessge(W[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);ie.CallController.getInstance().onCallStarted(H),ue(H)},function(W){re(new S.CometChatException(W.error))})}catch(W){re(new S.CometChatException(W))}else re(new S.CometChatException(l.CALL_ERROR.CANNOT_ACCEPT_CALL))})},O.rejectCall=function(L,Z){try{switch(Z){case l.CallConstants.CALL_STATUS.REJECTED:return this.rejectIncomingCall(L);case l.CallConstants.CALL_STATUS.CANCELLED:return this.cancelCall(L);case l.CallConstants.CALL_STATUS.BUSY:return this.sendBusyResponse(L);default:return this.endCall(L,!0)}}catch(ue){h.Logger.error("CometChat: rejectCall",ue)}},O.endCall=function(L,Z){var ue=this;return new Promise(function(re,ce){h.isFalsy(Z)&&(Z=!1);var W=ue.getActiveCall();if(null!==W){if(W.getSessionId()===L)try{var H={};H[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.ENDED,W.getJoinedAt()&&(H[l.CallConstants.CALL_KEYS.CALL_JOINED_AT]=W.getJoinedAt()),T.makeApiCall("updateCallSession",{sessionid:L},H).then(function($){Z||ie.CallController.getInstance().endSession();var U=B.MessageController.trasformJSONMessge($[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);re(U),ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onCallEnded(U),ie.CallController.getInstance().endCall()},function($){h.Logger.log("calling Log",{error:$}),Z||ie.CallController.getInstance().endSession(),W.setStatus(l.CallConstants.CALL_STATUS.ENDED),re(W),ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onCallEnded(W),ie.CallController.getInstance().endCall()})}catch($){ce(new S.CometChatException($))}}else Z||ie.CallController.getInstance().endSession(),re(null),ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onCallEnded(null),ie.CallController.getInstance().endCall()})},O.getActiveCall=function(){try{return ie.CallController.getInstance().getActiveCall()}catch(L){h.Logger.error("CometChat: getActiveCall",L)}},O.startCall=function(L,Z,ue){var re=this;try{var ce,W,H,$,U,k,q,_e,Ce=this.getActiveCall(),he=!1,De=!0,Le=!0,Ve=!0,we=!0,We=!0,et=!0,ut=!1,ot=!1,gt=l.CallConstants.CALL_MODE.DEFAULT,ft=!1,Qt=!1,hn=!1,zt={},Mn=this.user;h.getAppSettings().then(function(Sn){if(k=Sn[l.APP_SETTINGS.KEYS.WEBRTC_HOST],zt[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]=Sn.hasOwnProperty(l.APP_SETTINGS.KEYS.ANALYTICS_HOST)?Sn[l.APP_SETTINGS.KEYS.ANALYTICS_HOST]:h.format(l.ANALYTICS.analyticsHost,O.appSettings.getRegion()),zt[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]=Sn.hasOwnProperty(l.APP_SETTINGS.KEYS.ANALYTICS_VERSION)?Sn[l.APP_SETTINGS.KEYS.ANALYTICS_VERSION]:l.ANALYTICS.analyticsVersion,zt[l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED]=!!Sn.hasOwnProperty(l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED)&&Sn[l.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED],zt[l.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL]=!Sn.hasOwnProperty(l.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL)||Sn[l.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL],h.isFalsy(ue)||ie.CallController.getInstance().setCallListner(ue),h.isFalsy(re.appSettings))ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(l.CALL_ERROR.NOT_INITIALIZED));else if($=re.appSettings.getRegion())if(Mn)if((_e=new Ye.RTCUser(Mn.getUid())).setName(Mn.getName()),_e.setAvatar(Mn.getAvatar()),_e.setResource(O.getSessionId()),O.appId)if(U=O.appId,"string"==typeof L){if(Ce){var Un=Ce.getType();he=Un===l.CallConstants.CALL_TYPE.AUDIO,W=Ce.getSessionId()}else{if(h.isFalsy(L))return void(ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(l.CALL_ERROR.SESSION_ID_REQUIRED)));W=("v1."+$+"."+O.getAppId()+"."+L).toLowerCase()}if(!W)return void(ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(l.CALL_ERROR.SESSION_ID_REQUIRED)));var Sr={uid:Mn.getUid(),sessionId:W};O.getJWT(Sr).then(function(Tn){Tn.hasOwnProperty("token")?(_e.setJWT(Tn.token),ce=(new Pe.CallSettingsBuilder).setSessionID(W).enableDefaultLayout(De).setIsAudioOnlyCall(he).setUser(_e).setRegion($).setAppId(U).setDomain(k).showEndCallButton(we).showMuteAudioButton(Ve).showPauseVideoButton(Le).showScreenShareButton(We).showModeButton(et).setMode(gt).setAnalyticsSettings(zt).startWithAudioMuted(ut).startWithVideoMuted(ot).showRecordingButton(ft).startRecordingOnCallStart(Qt).forceLegacyUI(hn).build(),ie.CallController.getInstance().startCall(ce,Z)):ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(l.CALL_ERROR.JWT_NOT_FOUND))},function(Tn){ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(Tn))})}else{if(h.isFalsy(L))return void(ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(l.CALL_ERROR.CALL_SETTINGS_REQUIRED)));if(Ce)Un=Ce.getType(),he=Un===l.CallConstants.CALL_TYPE.AUDIO,W=Ce.getSessionId();else{if(he=L.isAudioOnlyCall(),h.isFalsy(L.getSessionId()))return void(ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(l.CALL_ERROR.SESSION_ID_REQUIRED)));W=("v1."+$+"."+O.getAppId()+"."+L.getSessionId()).toLowerCase()}if(!W)return void(ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(l.CALL_ERROR.SESSION_ID_REQUIRED)));De=L.isDefaultLayoutEnabled(),Le=L.isPauseVideoButtonEnabled(),Ve=L.isMuteAudioButtonEnabled(),we=L.isEndCallButtonEnabled(),We=L.isScreenShareButtonEnabled(),gt=L.getMode(),q=L.getLocalizedStringObject(),H=L.getCustomCSS(),et=L.isModeButtonEnabled(),ut=L.getStartWithAudioMuted(),ot=L.getStartWithVideoMuted(),ft=L.isRecordingButtonEnabled(),Qt=L.shouldStartRecordingOnCallStart(),hn=L.shouldUseLegacyUI(),Sr={uid:Mn.getUid(),sessionId:W},O.getJWT(Sr).then(function(Tn){Tn.hasOwnProperty("token")?(_e.setJWT(Tn.token),ce=(new Pe.CallSettingsBuilder).setSessionID(W).enableDefaultLayout(De).setIsAudioOnlyCall(he).setUser(_e).setRegion($).setAppId(U).setDomain(k).showEndCallButton(we).showMuteAudioButton(Ve).showPauseVideoButton(Le).showScreenShareButton(We).showModeButton(et).setMode(gt).setLocalizedStringObject(q).setCustomCSS(H).setAnalyticsSettings(zt).startWithAudioMuted(ut).startWithVideoMuted(ot).showRecordingButton(ft).startRecordingOnCallStart(Qt).forceLegacyUI(hn).build(),ie.CallController.getInstance().startCall(ce,Z)):ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(l.CALL_ERROR.JWT_NOT_FOUND))},function(Tn){ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(Tn))})}else ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(l.CALL_ERROR.NOT_INITIALIZED));else ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(l.CALL_ERROR.NOT_LOGGED_IN));else ie.CallController.getInstance().getCallListner()&&ie.CallController.getInstance().getCallListner()._eventListener.onError(new S.CometChatException(l.CALL_ERROR.NOT_INITIALIZED))},function(Sn){h.Logger.error("CometChat: startCall",Sn)})}catch(Sn){h.Logger.error("CometChat: startCall",Sn)}},O.getCallParticipantCount=function(L,Z){var ue=this;return new Promise(function(re,ce){try{h.getAppSettings().then(function(W){if(h.isFalsy(L))return ce(new S.CometChatException(l.ProsodyApiErrors.INVALID_SESSIONID));if(h.isFalsy(Z))return ce(new S.CometChatException(l.ProsodyApiErrors.INVALID_TYPE));var H=ue.appSettings.getRegion(),$={},U=W[l.APP_SETTINGS.KEYS.WEBRTC_HOST],k=h.format((new C.EndpointFactory).prosodyApi,l.PROSODY_API.DOMAIN_PREFIX,U,l.PROSODY_API.PATH.ROOM_SIZE);"direct"===Z.toLowerCase()&&(L=("v1."+H+"."+O.getAppId()+"."+L).toLowerCase()),$[l.PROSODY_API.QUERY_PARAMETERS.DOMAIN]=U,$[l.PROSODY_API.QUERY_PARAMETERS.ROOM]=L,T.postData(k,"GET",$,{},!1).then(function(q){return q.text()}).then(function(q){var _e=q?JSON.parse(q):{};return _e.hasOwnProperty(l.PROSODY_API.RESPONSE.PARTICIPANTS)?re(_e[l.PROSODY_API.RESPONSE.PARTICIPANTS]):re(0)}).catch(function(){return ce({error:pe.FETCH_ERROR.ERROR_IN_API_CALL})})},function(W){return ce(new S.CometChatException(W))})}catch(W){return ce(new S.CometChatException(W))}})},O.rejectIncomingCall=function(L){return new Promise(function(Z,ue){try{var re={};re[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.REJECTED,T.makeApiCall("updateCallSession",{sessionid:L},re).then(function(ce){var W=B.MessageController.trasformJSONMessge(ce[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);Z(W)},function(ce){ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.cancelCall=function(L){var Z=this;return new Promise(function(ue,re){try{var ce={};ce[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.CANCELLED,T.makeApiCall("updateCallSession",{sessionid:L},ce).then(function(W){var H=B.MessageController.trasformJSONMessge(W[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);Z.getActiveCall().getSessionId()===L&&ie.CallController.getInstance().endCallSession(),ue(H)},function(W){re(new S.CometChatException(W.error))})}catch(W){re(new S.CometChatException(W))}})},O.sendBusyResponse=function(L){return new Promise(function(Z,ue){try{var re={};re[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.BUSY,T.makeApiCall("updateCallSession",{sessionid:L},re).then(function(ce){var W=B.MessageController.trasformJSONMessge(ce[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);Z(W)},function(ce){ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.sendUnansweredResponse=function(L){return new Promise(function(Z,ue){try{var re={};re[l.CallConstants.CALL_KEYS.CALL_STATUS]=l.CallConstants.CALL_STATUS.UNANSWERED,T.makeApiCall("updateCallSession",{sessionid:L},re).then(function(ce){var W=B.MessageController.trasformJSONMessge(ce[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]),H=wt.getCometChatEventFromMessage(Object.assign(W,ce[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]));wt.publishMessages(H),Z(W)},function(ce){ue(new S.CometChatException(ce.error))})}catch(ce){ue(new S.CometChatException(ce))}})},O.addConnectionListener=function(L,Z){try{Wt.addConnectionEventListener(L,Z)}catch(ue){h.Logger.error("CometChat: addConnectionListener",ue)}},O.removeConnectionListener=function(L){try{Wt.removeConnectionEventListener(L)}catch(Z){h.Logger.error("CometChat: removeConnectionListener",Z)}},O.addMessageListener=function(L,Z){try{Wt.addMessageEventListener(L,Z)}catch(ue){h.Logger.error("CometChat: addMessageListener",ue)}},O.removeMessageListener=function(L){try{Wt.removeMessageEventListener(L)}catch(Z){h.Logger.error("CometChat: removeMessageListener",Z)}},O.addCallListener=function(L,Z){try{Wt.addCallEventListener(L,Z)}catch(ue){h.Logger.error("CometChat: addCallListener",ue)}},O.removeCallListener=function(L){try{Wt.removeCallEventListener(L)}catch(Z){h.Logger.error("CometChat: removeCallListener",Z)}},O.addUserListener=function(L,Z){try{Wt.addUserEventListener(L,Z)}catch(ue){h.Logger.error("CometChat: addUserListener",ue)}},O.removeUserListener=function(L){try{Wt.removeUserEventListener(L)}catch(Z){h.Logger.error("CometChat: removeUserListener",Z)}},O.addGroupListener=function(L,Z){try{Wt.addGroupEventListener(L,Z)}catch(ue){h.Logger.error("CometChat: addGroupListener",ue)}},O.removeGroupListener=function(L){try{Wt.removeGroupEventListener(L)}catch(Z){h.Logger.error("CometChat: removeGroupListener",Z)}},O.addLoginListener=function(L,Z){try{Wt.addLoginEventListener(L,Z)}catch(ue){h.Logger.error("CometChat: addLoginListener",ue)}},O.removeLoginListener=function(L){try{Wt.removeLoginEventListener(L)}catch(Z){h.Logger.error("CometChat: removeLoginListener",Z)}},O.generateAuthToken=function(L){var Z=this;return new Promise(function(ue,re){try{var W="",H="",$=l.APPINFO.platform,U=l.APPINFO.sdkVersion,k=l.APPINFO.apiVersion;navigator&&(H=navigator.userAgent),O.keyStore.get(l.LOCAL_STORE.KEY_DEVICE_ID).then(function(q){if(null==(W=q)){var _e=rn(),Ce=(new Date).getTime();O.keyStore.set(l.LOCAL_STORE.KEY_DEVICE_ID,W=Z.appId+"_"+_e+"_"+Ce)}T.makeApiCall("authToken",{uid:L},{platform:$,deviceId:W,appInfo:{version:U,apiVersion:k,userAgent:H}}).then(function(he){ue(he.data)}).catch(function(he){re(new S.CometChatException(he.error))})},function(q){h.Logger.error("Got error while fetching data from key store",q)})}catch(q){re(new S.CometChatException(q))}})},O.tryReconnectingToWS=function(){O.WSReconnectionInProgress||O.startWSReconnectionTimer()},O.prototype.makeWSConnection=function(){O.WSLogin(O.user)},O.prototype.accidentallyDisconnected=function(){O.currentConnectionStatus=l.CONNECTION_STATUS.CONNECTING,Wt.connectionHandlers.map(function(L){try{L._eventListener&&(h.isFalsy(L._eventListener.inConnecting)||L._eventListener.inConnecting())}catch(Z){h.Logger.error("ConnectionHandlers: inConnecting Status",Z)}}),O.tryReconnectingToWS()},O.WSLogin=function(L){var Z=this;wt.connection?h.Logger.error("CometChat :: WSLogin",wt.connection):wt.WSLogin(L.getJWT(),function(ue){switch(ue){case dn.READY_STATE.CONNECTING:(re=O.getConnectionStatus())==l.CONNECTION_STATUS.DISCONNECTED&&(Z.currentConnectionStatus=l.CONNECTION_STATUS.CONNECTING,Wt.connectionHandlers.map(function(ce){try{ce._eventListener&&(h.isFalsy(ce._eventListener.inConnecting)||ce._eventListener.inConnecting())}catch(W){h.Logger.error("connectionHandlers: Connecting Status",W)}}));break;case dn.READY_STATE.OPEN:(re=O.getConnectionStatus())==l.CONNECTION_STATUS.CONNECTING&&(Z.currentConnectionStatus=l.CONNECTION_STATUS.CONNECTED,Wt.connectionHandlers.map(function(ce){try{ce._eventListener&&(h.isFalsy(ce._eventListener.onConnected)||ce._eventListener.onConnected())}catch(W){h.Logger.error("connectionHandlers: Connected Status",W)}})),O.WSReconnectionInProgress&&O.clearWSReconnectionTimer();break;case dn.READY_STATE.CLOSING:break;case dn.READY_STATE.CLOSED:var re;(re=O.getConnectionStatus())!==l.CONNECTION_STATUS.DISCONNECTED&&re!==l.CONNECTION_STATUS.CONNECTING&&(Z.currentConnectionStatus=l.CONNECTION_STATUS.DISCONNECTED,Wt.connectionHandlers.map(function(ce){try{ce._eventListener&&(h.isFalsy(ce._eventListener.onDisconnected)||ce._eventListener.onDisconnected())}catch(W){h.Logger.error("connectionHandlers: Disconnected Status",W)}})),wt.connection&&(wt.connection=null),O.isLoggedOut||O.disconnectedByUser||Z.tryReconnectingToWS()}})},O.pingAnalytics=function(){var L=this;try{O.keyStore.get("deviceId").then(function(Z){var ue=null;window&&window.location&&window.location.origin&&(ue=window.location.origin);var re="",ce=Z,W={version:l.SDKHeader.sdkVersion,apiVersion:l.APPINFO.apiVersion,origin:ue,uts:(new Date).getTime()};h.isFalsy(L.resource)||(W.resource=L.resource),h.isFalsy(L.platform)||(W.platform=L.platform),h.isFalsy(L.language)||(W.language=L.language),navigator&&(re=navigator.userAgent);var H={appInfo:W,uid:O.user.getUid(),userAgent:re,deviceId:ce,platform:l.SDKHeader.platform};h.isFalsy(O.getSessionId())||(H.wsId=O.getSessionId()),O.analyticsHost||(O.analyticsHost=h.format(l.ANALYTICS.analyticsHost,O.appSettings.getRegion())),O.analyticsVersion||(O.analyticsVersion=l.ANALYTICS.analyticsVersion);var $="https://"+O.analyticsHost+"/"+O.analyticsVersion+"/ping",U={appId:O.appId,sdk:h.format(l.SDKHeader.sdk,l.SDKHeader.platform,l.SDKHeader.sdkVersion),"Content-Type":"application/json"};O.settingsHash&&(U.settingsHash=O.settingsHash),O.settingsHashReceivedAt&&(U.settingsHashReceivedAt=O.settingsHashReceivedAt),O.jwt&&(U.Authorization="Bearer "+O.jwt),O.authToken&&(U.authToken=O.authToken),T.postData($,"POST",H,U,!1).then(function(k){return k.json()}).then(function(k){if(k.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_DATA))h.Logger.log("Analytics Ping Request Data",k[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);else if(k.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_ERROR)){var q=k[l.ResponseConstants.RESPONSE_KEYS.KEY_ERROR];h.Logger.log("Analytics Ping Request Error",new S.CometChatException(q));var _e=q.code;if(_e===l.Errors.ERR_SETTINGS_HASH_OUTDATED){var Ce=O.authToken;O.getInstance().internalRestart(Ce)}_e===l.Errors.ERR_NO_AUTH&&L.updateJWT()}}).catch(function(k){h.Logger.error("CometChat: pingAnalytics Fetch Error",k)})})}catch(Z){h.Logger.error("CometChat: pingAnalytics",Z)}},O.updateJWT=function(){T.makeApiCall("getMyDetails",{},{},!1).then(function(L){var Z=L.data,ue=Z.settings,re=new w.Me(Z);if(Z.hasOwnProperty("jwt")&&Z.jwt&&(O.jwt=Z.jwt),_.LocalStorage.getInstance().set("user",re),ue&&ue[l.APP_SETTINGS.KEYS.SETTINGS_HASH]&&O.settingsHash!==ue[l.APP_SETTINGS.KEYS.SETTINGS_HASH]){var ce=O.getInstance().getAuthToken();O.getInstance().internalRestart(ce)}h.Logger.log("CometChat: updateJWT response",L)},function(L){h.Logger.error("CometChat: updateJWT Fetch Error",L)}).catch(function(L){h.Logger.error("CometChat: updateJWT",L)})},O.startAnalyticsPingTimer=function(){var L=this;O.isAnalyticsPingStarted=!0,O.analyticsPingTimer=setInterval(function(){try{L.pingAnalytics()}catch(Z){h.Logger.error("CometChat: startAnalyticsPingTimer",Z)}},O.settingsInterval)},O.clearAnalyticsPingTimer=function(){try{O.isAnalyticsPingStarted=!1,clearInterval(O.analyticsPingTimer)}catch(L){h.Logger.error("CometChat: clearAnalyticsPingTimer",L)}},O.startWSReconnectionTimer=function(){O.WSReconnectionInProgress=!0,O.WSReconnectionTimer=setInterval(function(){try{O.WSLogin(O.user)}catch(L){h.Logger.error("CometChat: startWSReconnectionTimer",L)}},O.WSReconnectionTimerInterval)},O.clearWSReconnectionTimer=function(){O.WSReconnectionInProgress=!1,clearInterval(O.WSReconnectionTimer)},O.getJWT=function(L){return new Promise(function(Z,ue){try{bn.getEndPoint("getJWT").then(function(re){var ce={appId:O.appId,Accept:"application/json",authToken:O.authToken,resource:O.getSessionId(),sdk:h.format(l.SDKHeader.sdk,l.SDKHeader.platform,l.SDKHeader.sdkVersion),"Content-Type":"application/json"},W={};W[l.JWT_API.KEYS.PASSTHROUGH]=L,T.postData(re.endpoint,re.method,W,ce,!1).then(function(H){return H.json()}).then(function(H){H.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?Z(H[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]):ue(new S.CometChatException(H.error))}).catch(function(H){ue(new S.CometChatException({error:pe.FETCH_ERROR.ERROR_IN_API_CALL}))})},function(re){ue(new S.CometChatException(re))})}catch(re){ue(new S.CometChatException(re))}})},O.getConnectionStatus=function(){return this.currentConnectionStatus},O.prototype.setConnectionStatus=function(L){O.currentConnectionStatus=L},O.isExtensionEnabled=function(L){return new Promise(function(Z,ue){try{if(h.isFalsy(L))return ue(new S.CometChatException(l.ExtensionErrors.INVALID_EXTENSION));h.getAppSettings().then(function(re){if(re.extensions){var ce=re.extensions;if(0<ce.length){var W=ce.some(function(H){return H.id===L});return Z(W)}return Z(!1)}return ue(new S.CometChatException(l.ExtensionErrors.EXTENSION_NOT_FOUND))},function(re){return ue(new S.CometChatException(re))})}catch(re){return ue(new S.CometChatException(re))}})},O.getExtensionDetails=function(L){return new Promise(function(Z,ue){try{if(h.isFalsy(L))return ue(new S.CometChatException(l.ExtensionErrors.INVALID_EXTENSION));h.getAppSettings().then(function(re){if(re.extensions){var ce=re.extensions;if(0<ce.length){var W=ce.filter(function($){return $.id===L});if(0<W.length){var H=new Ut.CCExtension(W[0]);return Z(H)}return ue(new S.CometChatException(l.ExtensionErrors.EXTENSION_NOT_FOUND))}return ue(new S.CometChatException(l.ExtensionErrors.EXTENSION_NOT_FOUND))}return ue(new S.CometChatException(l.ExtensionErrors.EXTENSION_NOT_FOUND))},function(re){return ue(new S.CometChatException(re))})}catch(re){return ue(new S.CometChatException(re))}})},O.getAppSettings=function(){return new Promise(function(L,Z){try{T.makeApiCall("appSettings").then(function(ue){_.LocalStorage.getInstance().set(l.LOCAL_STORE.KEY_APP_SETTINGS,ue.data),L(ue.data)},function(ue){Z(new S.CometChatException(ue.error))})}catch(ue){Z(new S.CometChatException(ue))}})},O.isFeatureEnabled=function(L){return new Promise(function(Z,ue){try{if(h.isFalsy(L))return ue(new S.CometChatException(l.FeatureRestrictionErrors.INVALID_FEATURE));h.getAppSettings().then(function(re){if(re.parameters){var ce=re.parameters;return ce.hasOwnProperty(L)?Z(ce[L]):Z(!1)}return ue(new S.CometChatException(l.FeatureRestrictionErrors.FEATURE_NOT_FOUND))},function(re){return ue(new S.CometChatException(re))})}catch(re){return ue(new S.CometChatException(re))}})},O.logout=function(){var L=this;return new Promise(function(Z,ue){try{O.didAnalyticsPingStart()&&O.clearAnalyticsPingTimer(),O.WSReconnectionInProgress&&O.clearWSReconnectionTimer(),O.isLoggedOut=!0,O.WSReconnectionInProgress=!1,O.isAnalyticsDisabled=!1,T.makeApiCall("userLogout").then(function(re){L.clearCache().then(function(){O.apiKey=void 0,O.user=void 0,O.authToken=void 0,O.cometChat=void 0,O.mode=void 0,wt.WSLogout(),O.pushToLoginListener("","Logout_Success"),Z(re.data)})},function(re){L.clearCache().then(function(){O.apiKey=void 0,O.user=void 0,O.authToken=void 0,O.cometChat=void 0,O.mode=void 0,wt.WSLogout(),O.pushToLoginListener("","Logout_Success"),new S.CometChatException(re.error).code==pe.SERVER_ERRORS.AUTH_ERR.code?Z({}):ue(new S.CometChatException(re.error))})})}catch(re){ue(new S.CometChatException(re))}})},O.callExtension=function(L,Z,ue,re){return void 0===re&&(re={}),new Promise(function(ce,W){var H=h.format((new C.EndpointFactory).extensionApi,L,O.appSettings.getRegion(),ue),$={appId:O.appId,Accept:"application/json",authToken:O.authToken,resource:O.getSessionId(),sdk:h.format(l.SDKHeader.sdk,l.SDKHeader.platform,l.SDKHeader.sdkVersion),chatApiVersion:l.APPINFO.apiVersion,"Content-Type":"application/json"};T.postData(H,Z,re,$,!1).then(function(U){return U.json()}).then(function(U){U.hasOwnProperty(l.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?ce(U[l.ResponseConstants.RESPONSE_KEYS.KEY_DATA]):W(new S.CometChatException(U.error))}).catch(function(U){W({error:pe.FETCH_ERROR.ERROR_IN_API_CALL})})})},O.setSource=function(L,Z,ue){h.isFalsy(L)||(this.resource=L),h.isFalsy(Z)||(this.platform=Z),h.isFalsy(ue)||(this.language=ue)},O.clearCache=function(){return new Promise(function(L,Z){try{_.LocalStorage.getInstance().clearStore().then(function(){O.removeDataFromSessionStorage(l.SESSION_STORE.SESSION_ID),h.Logger.info("CometChat: clearCache => All store cleared successfully","true"),L(!0)})}catch(ue){h.Logger.error("CometChat: clearCache",ue),Z(ue)}})},O.connect=function(){O.user&&(wt.connection||(O.disconnectedByUser=!1,O.WSLogin(O.user)),O.didAnalyticsPingStart()||O.isAnalyticsDisabled||(O.pingAnalytics(),O.startAnalyticsPingTimer()))},O.disconnect=function(){O.user&&(O.disconnectedByUser=!0,wt.connection&&wt.WSLogout(),O.didAnalyticsPingStart()&&O.clearAnalyticsPingTimer())},O.prototype.internalRestart=function(L){O.internalRestart||O.getInstance().internalLogout(!1).then(function(){O.internalRestart=!0,O.login(L).then(function(Z){O.shouldConnectToWS=!0,O.internalRestart=!1},function(Z){h.Logger.error("CometChat: internalRestart :: login",Z),O.internalRestart=!1})},function(Z){h.Logger.error("CometChat: internalRestart :: internalLogout",Z)})},O.prototype.internalLogout=function(L){return void 0===L&&(L=!0),new Promise(function(Z,ue){try{O.didAnalyticsPingStart()&&O.clearAnalyticsPingTimer(),O.WSReconnectionInProgress&&O.clearWSReconnectionTimer(),O.isLoggedOut=!0,O.WSReconnectionInProgress=!1,O.isAnalyticsDisabled=!1,O.clearCache().then(function(){O.apiKey=void 0,O.user=void 0,O.authToken=void 0,O.cometChat=void 0,O.mode=void 0,wt.WSLogout(),L&&O.pushToLoginListener("","Logout_Success"),Z(!0)})}catch(re){h.Logger.error("CometChat: internalLogout",re),ue(re)}})},O.initialzed=!1,O.CometChatException=S.CometChatException,O.TextMessage=x.TextMessage,O.MediaMessage=I.MediaMessage,O.CustomMessage=ze.CustomMessage,O.Action=Oe.Action,O.Call=ae.Call,O.TypingIndicator=Fe.TypingIndicator,O.TransientMessage=tn.TransientMessage,O.Group=ee.Group,O.User=w.User,O.GroupMember=tt.GroupMember,O.Conversation=Mt.Conversation,O.USER_STATUS={ONLINE:l.PresenceConstatnts.STATUS.ONLINE,OFFLINE:l.PresenceConstatnts.STATUS.OFFLINE},O.MessagesRequest=le.MessagesRequest,O.MessagesRequestBuilder=le.MessagesRequestBuilder,O.UsersRequest=Se.UsersRequest,O.UsersRequestBuilder=Se.UsersRequestBuilder,O.ConversationsRequest=se.ConversationsRequest,O.ConversationsRequestBuilder=se.ConversationsRequestBuilder,O.BlockedUsersRequest=Ct.BlockedUsersRequest,O.BlockedUsersRequestBuilder=Ct.BlockedUsersRequestBuilder,O.GroupsRequest=Q.GroupsRequest,O.GroupsRequestBuilder=Q.GroupsRequestBuilder,O.GroupMembersRequest=Ee.GroupMembersRequest,O.GroupMembersRequestBuilder=Ee.GroupMembersRequestBuilder,O.BannedMembersRequest=He.BannedMembersRequest,O.BannedMembersRequestBuilder=He.BannedMembersRequestBuilder,O.CallSettings=Pe.CallSettings,O.CallSettingsBuilder=Pe.CallSettingsBuilder,O.AppSettings=nt.AppSettings,O.AppSettingsBuilder=nt.AppSettingsBuilder,O.MessageListener=te.MessageListener,O.UserListener=te.UserListener,O.GroupListener=te.GroupListener,O.OngoingCallListener=te.OngoingCallListener,O.CallListener=te.CallListener,O.ConnectionListener=te.ConnectionListener,O.LoginListener=te.LoginListener,O.CallController=ie.CallController,O.CometChatHelper=Et.CometChatHelper,O.Attachment=Qe.Attachment,O.MediaDevice=Xt.MediaDevice,O.MESSAGE_TYPE=l.MessageConstatnts.TYPE,O.CATEGORY_MESSAGE=l.MessageConstatnts.CATEGORY.MESSAGE,O.CATEGORY_ACTION=l.MessageConstatnts.CATEGORY.ACTION,O.CATEGORY_CALL=l.MessageConstatnts.CATEGORY.CALL,O.CATEGORY_CUSTOM=l.MessageConstatnts.CATEGORY.CUSTOM,O.ACTION_TYPE=l.ActionConstatnts.ACTIONS,O.CALL_TYPE=l.CallConstants.CALL_TYPE,O.RECEIVER_TYPE=l.MessageConstatnts.RECEIVER_TYPE,O.CALL_STATUS=l.CallConstants.CALL_STATUS,O.GROUP_MEMBER_SCOPE=l.GROUP_MEMBER_SCOPE,O.GROUP_TYPE=l.GROUP_TYPE,O.MESSAGE_REQUEST=l.MessageConstatnts.PAGINATION.CURSOR_FILEDS,O.CONNECTION_STATUS=l.CONNECTION_STATUS,O.CALL_MODE=l.CallConstants.CALL_MODE,O.WSReconnectionInProgress=!1,O.WSReconnectionTimerInterval=5e3,O.currentConnectionStatus=l.CONNECTION_STATUS.DISCONNECTED,O.isConnectingFromInit=!1,O.loginInProgress=!1,O.internalRestart=!1,O.settingsInterval=6e4,O.isAnalyticsPingStarted=!1,O.isLoggedOut=!0,O.isAnalyticsDisabled=!1,O.disconnectedByUser=!1,O.shouldConnectToWS=!0,O}();E.CometChat=_t},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(w,_){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var x in P)P.hasOwnProperty(x)&&(I[x]=P[x])})(w,_)},function(w,_){function I(){this.constructor=w}y(w,_),w.prototype=null===_?Object.create(_):(I.prototype=_.prototype,new I)});E.__esModule=!0,E.Me=E.User=void 0;var v=i(2),C=i(14),h=i(1),S=function(){function w(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];if(this.hasBlockedMe=!1,this.blockedByMe=!1,this.deactivatedAt=0,1===_.length)typeof _[0]===h.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?this.uid=_[0]:(this.uid=_[0].uid,this.name=_[0].name,_[0].authToken&&(this.authToken=_[0].authToken),_[0].avatar&&(this.avatar=_[0].avatar),_[0].lastActiveAt&&(this.lastActiveAt=_[0].lastActiveAt),_[0].link&&(this.link=_[0].link),_[0].metadata&&(this.metadata=_[0].metadata),_[0].role&&(this.role=_[0].role),_[0].statusMessage&&(this.statusMessage=_[0].statusMessage),this.status=_[0].status&&"offline"!==_[0].status?"online":"offline",_[0].tags&&(this.tags=_[0].tags),_[0].deactivatedAt&&(this.deactivatedAt=_[0].deactivatedAt));else{if(2!==_.length)throw new v.CometChatException(C.ERRORS.PARAMETER_MISSING);this.uid=_[0],this.name=_[1]}}return w.prototype.getUid=function(){return this.uid.toString()},w.prototype.setUid=function(_){this.uid=_},w.prototype.getName=function(){return this.name.toString()},w.prototype.setName=function(_){_&&(this.name=_)},w.prototype.getAuthToken=function(){return this.authToken},w.prototype.setAuthToken=function(_){this.authToken=_},w.prototype.getAvatar=function(){return this.avatar},w.prototype.setAvatar=function(_){this.avatar=_},w.prototype.getLastActiveAt=function(){return this.lastActiveAt},w.prototype.setLastActiveAt=function(_){this.lastActiveAt=_},w.prototype.getLink=function(){return this.link},w.prototype.setLink=function(_){return this.link=_},w.prototype.getMetadata=function(){return this.metadata},w.prototype.setMetadata=function(_){this.metadata=_},w.prototype.getRole=function(){return this.role},w.prototype.setRole=function(_){this.role=_},w.prototype.getStatus=function(){return this.status},w.prototype.setStatus=function(_){this.status=_},w.prototype.getStatusMessage=function(){return this.statusMessage},w.prototype.setStatusMessage=function(_){this.statusMessage=_},w.prototype.setBlockedByMe=function(_){this.blockedByMe=_},w.prototype.getBlockedByMe=function(){return this.blockedByMe},w.prototype.setHasBlockedMe=function(_){this.hasBlockedMe=_},w.prototype.getHasBlockedMe=function(){return this.hasBlockedMe},w.prototype.setTags=function(_){this.tags=_},w.prototype.getTags=function(){return this.tags},w.prototype.setDeactivatedAt=function(_){this.deactivatedAt=_},w.prototype.getDeactivatedAt=function(){return this.deactivatedAt},w}(),T=function(w){function _(I){var P=w.call(this,I)||this;return P.wsChannel=I.wsChannel,I.jwt&&(P.jwt=I.jwt),P}return p(_,w),_.prototype.getWsChannel=function(){return this.wsChannel},_.prototype.getJWT=function(){return this.jwt},_}(E.User=S);E.Me=T},function(Me,E,i){"use strict";E.__esModule=!0,E.KEYS=E.AUTH=E.MESSAGE=E.PRESENCE=E.RECEIPTS=E.TRANSIENT_MESSAGE=E.TYPING_INDICATOR=E.LOGOUT_REASON=E.LOGOUT_CODE=E.READY_STATE=E.WS=void 0,E.WS={protocol:"wss://"},E.READY_STATE={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3,INVALID_JWT:4},E.LOGOUT_CODE=1e3,E.LOGOUT_REASON="User logged out",E.TYPING_INDICATOR={TYPE:"typing_indicator",ACTION:{STARTED:"started",ENDED:"ended"}},E.TRANSIENT_MESSAGE={TYPE:"transient_message"},E.RECEIPTS={TYPE:"receipts",ACTION:{READ:"read",DELIVERED:"delivered"},RECEIPT_TYPE:{READ_RECEIPT:"read",DELIVERY_RECEIPT:"delivery"}},E.PRESENCE={TYPE:"presence",ACTION:{ONLINE:"online",AVAILABLE:"available",OFFLINE:"offline"}},E.MESSAGE={TYPE:"message"},E.AUTH={TYPE:"auth"},E.KEYS={TYPE:"type",ACTION:"action",APP_ID:"appId",RECEIVER:"receiver",RECEIVER_TYPE:"receiverType",DEVICE_ID:"deviceId",BODY:"body",USER:"user",METADATA:"metadata",MESSAGE_ID:"messageId",TIMESTAMP:"timestamp",STATUS:"status",CODE:"code",SENDER:"sender",MESSAGE_SENDER:"messageSender",PRESENCE_SUBSCRIPTION:"presenceSubscription",AUTH:"auth",PING:"ping",DATA:"data",PARAMS:"params",ACK:"ack",PONG:"pong"}},function(Me,E,i){"use strict";E.__esModule=!0,E.postData=E.makeAdminApiCall=E.makeApiCall=void 0;var y=i(29),p=i(3),v=i(0),C=i(2),h=i(14),S=i(1);function T(w,_,I,P,x){var B;return void 0===w&&(w=""),void 0===_&&(_="GET"),void 0===I&&(I={}),void 0===P&&(P={}),I=v.isFalsy(I)?void 0:("GET"==_&&(w+="?",Object.keys(I).map(function(F,l){w=l===Object.keys(I).length-1?w+F+"="+I[F]:w+F+"="+I[F]+"&"}),I=void 0),x&&(B=new FormData,Object.keys(I).map(function(F){"data"!=F?"tags"==F?B.append(F+"[]",I[F]):"metadata"!=F&&B.append(F,I[F]):B.append(F,JSON.stringify(I[F]))})),JSON.stringify(I)),fetch(w,{method:_,mode:"cors",cache:"no-cache",headers:P,redirect:"follow",referrer:"no-referrer",body:x?B:I})}E.makeApiCall=function(w,_,I,P){void 0===w&&(w=""),void 0===_&&(_={}),void 0===I&&(I={});var x=p.CometChat.getInstance(p.CometChat.getAppId());return new Promise(function(B,F){try{y.getEndPoint(w,_).then(function(l){var ee={resource:p.CometChat.getSessionId(),appId:p.CometChat.getAppId(),Accept:"application/json",sdk:v.format(S.SDKHeader.sdk,S.SDKHeader.platform,S.SDKHeader.sdkVersion)};P||(ee["Content-Type"]="application/json"),l.hasOwnProperty("isAdminApi")&&l.isAdminApi?x.getApiKey()?ee.apiKey=x.getApiKey():F({error:{code:"API_KEY_NOT_SET",message:"An apiKey is needed to use the "+w+" api.",name:"API_KEY_NOT_SET"}}):x.getAuthToken()?ee.authToken=x.getAuthToken():F({error:{code:"USER_NOT_LOGED_IN",message:"An authToken is need to use the "+w+" end-point. PS- We are aware of the spelling mistake, but in order to maintain backward compatibility we cannot change it :(",name:"User not logged-in"}}),T(l.endpoint,l.method,I,ee,P).then(function(X){return X.json()}).then(function(X){if(X.hasOwnProperty("data"))X.data.hasOwnProperty("authToken")&&p.CometChat.setAuthToken(X.data.authToken),B(X);else{if(X.hasOwnProperty("error")){var Ie=X.error;Ie.hasOwnProperty("code")&&Ie.code===S.API_ERROR_CODES.AUTH_ERR_AUTH_TOKEN_NOT_FOUND&&p.CometChat.getInstance().internalLogout().then(function(){v.Logger.log("CometChat: makeApiCall","User logged out")})}F(X)}}).catch(function(X){F({error:h.FETCH_ERROR.ERROR_IN_API_CALL})})}).catch(function(l){return F})}catch(l){F(new C.CometChatException(l))}})},E.makeAdminApiCall=function(w,_,I,P){void 0===w&&(w=""),void 0===_&&(_={}),void 0===I&&(I={});var x=p.CometChat.getInstance(p.CometChat.getAppId());return new Promise(function(B,F){y.getEndPoint(w,_).then(function(l){var ee={appId:p.CometChat.getAppId(),Accept:"application/json",sdk:v.format(S.SDKHeader.sdk,S.SDKHeader.platform,S.SDKHeader.sdkVersion)};P||(ee["Content-Type"]="application/json"),l.hasOwnProperty("isAdminApi")&&l.isAdminApi?x.getApiKey()?ee.apiKey=x.getApiKey():F({error:"An apiKey is need to use the "+w+" api."}):x.getAuthToken()?ee.authToken=x.getAuthToken():F({error:"An authToken is need to use the "+w+" api."}),T(l.endpoint,l.method,I,ee,P).then(function(X){return X.json()}).then(function(X){X.hasOwnProperty("data")?(X.data.hasOwnProperty("authToken")&&p.CometChat.setAuthToken(X.data.authToken),B(X)):F(X)}).catch(function(X){F({error:h.FETCH_ERROR.ERROR_IN_API_CALL})})}).catch(function(l){return F})})},E.postData=T},function(Me,E,i){"use strict";E.__esModule=!0,E.BaseMessage=void 0;var y=function(){function p(v,C,h,S){this.receiverId=v,this.type=C,this.receiverType=h,this.category=S}return p.prototype.getId=function(){return this.id},p.prototype.setId=function(v){this.id=v},p.prototype.getConversationId=function(){return this.conversationId},p.prototype.setConversationId=function(v){this.conversationId=v},p.prototype.getParentMessageId=function(){return this.parentMessageId},p.prototype.setParentMessageId=function(v){this.parentMessageId=v},p.prototype.getMuid=function(){return this.muid},p.prototype.setMuid=function(v){this.muid=v},p.prototype.getSender=function(){return this.sender},p.prototype.setSender=function(v){this.sender=v},p.prototype.getReceiver=function(){return this.receiver},p.prototype.setReceiver=function(v){this.receiver=v},p.prototype.getReceiverId=function(){return this.receiverId},p.prototype.setReceiverId=function(v){this.receiverId=v},p.prototype.getType=function(){return this.type},p.prototype.setType=function(v){this.type=v},p.prototype.getReceiverType=function(){return this.receiverType},p.prototype.setReceiverType=function(v){this.receiverType=v},p.prototype.getSentAt=function(){return this.sentAt},p.prototype.setSentAt=function(v){this.sentAt=v},p.prototype.getStatus=function(){return this.status},p.prototype.setStatus=function(v){this.status=v},p.prototype.getDeliveredAt=function(){return this.deliveredAt},p.prototype.setDeliveredAt=function(v){this.deliveredAt=v},p.prototype.getDeliveredToMeAt=function(){return this.deliveredToMeAt},p.prototype.setDeliveredToMeAt=function(v){this.deliveredToMeAt=v},p.prototype.getReadAt=function(){return this.readAt},p.prototype.setReadAt=function(v){this.readAt=v},p.prototype.getReadByMeAt=function(){return this.readByMeAt},p.prototype.setReadByMeAt=function(v){this.readByMeAt=v},p.prototype.getCategory=function(){return this.category},p.prototype.setCategory=function(v){this.category=v},p.prototype.getEditedAt=function(){return this.editedAt},p.prototype.setEditedAt=function(v){this.editedAt=v},p.prototype.getEditedBy=function(){return this.editedBy},p.prototype.setEditedBy=function(v){this.editedBy=v},p.prototype.getDeletedAt=function(){return this.deletedAt},p.prototype.setDeletedAt=function(v){this.deletedAt=v},p.prototype.getDeletedBy=function(){return this.deletedBy},p.prototype.setDeletedBy=function(v){this.deletedBy=v},p.prototype.getReplyCount=function(){return this.replyCount},p.prototype.setReplyCount=function(v){this.replyCount=v},p.prototype.getRawMessage=function(){return this.rawMessage},p.prototype.setRawMessage=function(v){this.rawMessage=v},p}();E.BaseMessage=y},function(Me,E,i){"use strict";E.__esModule=!0,E.Group=void 0;var y=i(1),p=function(){function v(C,h,S,T,w,_,I){this.hasJoined=!1,this.membersCount=0,this.guid=C,h&&(this.name=h),S&&(this.type=S),!T&&""!==T||"password"!=S||(this.password=T),(w||""===w)&&(this.icon=w),(_||""===_)&&(this.description=_),I&&(this.hasJoined=I)}return v.prototype.getGuid=function(){return this.guid},v.prototype.setGuid=function(C){this.guid=C},v.prototype.getName=function(){return this.name},v.prototype.setName=function(C){C&&(this.name=C)},v.prototype.getType=function(){return this.type},v.prototype.setType=function(C){this.type=C},v.prototype.getPassword=function(){return this.password},v.prototype.setPassword=function(C){this.password=C},v.prototype.getIcon=function(){return this.icon},v.prototype.setIcon=function(C){this.icon=C},v.prototype.getDescription=function(){return this.description},v.prototype.setDescription=function(C){this.description=C},v.prototype.getOwner=function(){return this.owner},v.prototype.setOwner=function(C){this.owner=C},v.prototype.getMetadata=function(){return this.metadata},v.prototype.setMetadata=function(C){this.metadata=C},v.prototype.getCreatedAt=function(){return this.createdAt},v.prototype.setCreatedAt=function(C){this.createdAt=C},v.prototype.getUpdatedAt=function(){return this.updatedAt},v.prototype.setUpdatedAt=function(C){this.updatedAt=C},v.prototype.getHasJoined=function(){return this.hasJoined},v.prototype.setHasJoined=function(C){this.hasJoined=C},v.prototype.getWsChannel=function(){return this.wsChannel},v.prototype.setWsChannel=function(C){this.wsChannel=C},v.prototype.setScope=function(C){this.scope=C},v.prototype.getScope=function(){return this.scope},v.prototype.getJoinedAt=function(){return this.joinedAt},v.prototype.setJoinedAt=function(C){this.joinedAt=C},v.prototype.getMembersCount=function(){return this.membersCount},v.prototype.setMembersCount=function(C){this.membersCount=C},v.prototype.setTags=function(C){this.tags=C},v.prototype.getTags=function(){return this.tags},v.Type=v.TYPE=y.GroupType,v}();E.Group=p},function(Me,E,i){"use strict";E.__esModule=!0,E.CometChatEvent=void 0;var y=i(0),p=i(5),v=function(){function C(h,S,T,w,_,I){y.isFalsy(h)||(this.appId=h),y.isFalsy(S)||(this.receiver=S),y.isFalsy(T)||(this.receiverType=T),y.isFalsy(_)||(this.deviceId=_),y.isFalsy(w)||(this.sender=w),y.isFalsy(I)||(this.messageSender=I)}return C.prototype.getAppId=function(){return this.appId},C.prototype.setAppId=function(h){this.appId=h},C.prototype.getReceiver=function(){return this.receiver},C.prototype.setReceiver=function(h){this.receiver=h},C.prototype.getSender=function(){return this.sender},C.prototype.setSender=function(h){this.sender=h},C.prototype.getReceiverType=function(){return this.receiverType},C.prototype.setReceiverType=function(h){this.receiverType=h},C.prototype.getType=function(){return this.type},C.prototype.setType=function(h){this.type=h},C.prototype.getDeviceId=function(){return this.deviceId},C.prototype.setDeviceId=function(h){this.deviceId=h},C.prototype.getMessageSender=function(){return this.messageSender},C.prototype.setMessageSender=function(h){this.messageSender=h},C.prototype.getCometChatEventJSON=function(){var h={};return h[p.KEYS.APP_ID]=this.getAppId(),h[p.KEYS.RECEIVER]=this.getReceiver(),h[p.KEYS.RECEIVER_TYPE]=this.getReceiverType(),h[p.KEYS.DEVICE_ID]=this.getDeviceId(),h[p.KEYS.TYPE]=this.getType(),h[p.KEYS.SENDER]=this.getSender(),y.isFalsy(this.getMessageSender())||(h[p.KEYS.MESSAGE_SENDER]=this.getMessageSender()),h},C}();E.CometChatEvent=v},function(Me,E,i){"use strict";E.__esModule=!0,E.MessageController=void 0;var y=i(7),p=i(16),v=i(17),C=i(0),h=i(1),S=i(20),T=i(21),w=i(22),_=i(2),I=i(18),P=i(19),x=i(3),B=i(11),F=function(){function l(){}return l.trasformJSONMessge=function(ee){try{var X=null;ee.hasOwnProperty("rawMessage")||(X=JSON.parse(JSON.stringify(ee)));var Ie=void 0;switch(ee[h.MessageConstatnts.KEYS.CATEGORY]){case h.MessageConstatnts.CATEGORY.ACTION:Ie=S.Action.actionFromJSON(ee);break;case h.MessageConstatnts.CATEGORY.CALL:Ie=T.Call.callFromJSON(ee);break;case h.MessageConstatnts.CATEGORY.MESSAGE:switch(ee[h.MessageConstatnts.KEYS.TYPE]){case h.MessageConstatnts.TYPE.TEXT:Ie=new p.TextMessage(ee[h.MessageConstatnts.KEYS.RECEIVER],ee[h.MessageConstatnts.KEYS.DATA][h.MessageConstatnts.KEYS.TEXT],ee[h.MessageConstatnts.KEYS.RECEIVER_TYPE]);break;case h.MessageConstatnts.TYPE.CUSTOM:Ie=new P.CustomMessage(ee[h.MessageConstatnts.KEYS.RECEIVER],ee[h.MessageConstatnts.KEYS.DATA][h.MessageConstatnts.KEYS.CUSTOM_DATA],ee[h.MessageConstatnts.KEYS.RECEIVER_TYPE]);break;default:if(Ie=new v.MediaMessage(ee[h.MessageConstatnts.KEYS.RECEIVER],ee[h.MessageConstatnts.KEYS.DATA][h.MessageConstatnts.KEYS.URL],ee[h.MessageConstatnts.KEYS.TYPE],ee[h.MessageConstatnts.KEYS.RECEIVER_TYPE]),ee.hasOwnProperty(h.MessageConstatnts.KEYS.DATA)){var te=ee[h.MessageConstatnts.KEYS.DATA];if(te.hasOwnProperty(h.MessageConstatnts.KEYS.ATTATCHMENTS)){var ae,ie=te[h.MessageConstatnts.KEYS.ATTATCHMENTS];new Array,ie.map(function(pe){ae=new I.Attachment(pe)}),Ie.setAttachment(ae)}te.hasOwnProperty(h.MessageConstatnts.KEYS.TEXT)&&Ie.setCaption(te[h.MessageConstatnts.KEYS.TEXT])}Ie.hasOwnProperty("file")&&delete Ie.file}break;case h.MessageConstatnts.CATEGORY.CUSTOM:Ie=new P.CustomMessage(ee[h.MessageConstatnts.KEYS.RECEIVER],ee[h.MessageConstatnts.KEYS.DATA][h.MessageConstatnts.KEYS.CUSTOM_DATA],ee[h.MessageConstatnts.KEYS.RECEIVER_TYPE],ee.type)}ee[h.MessageConstatnts.KEYS.MY_RECEIPTS]&&(ee[h.MessageConstatnts.KEYS.MY_RECEIPTS]=ee[h.MessageConstatnts.KEYS.MY_RECEIPTS],Object.keys(ee[h.MessageConstatnts.KEYS.MY_RECEIPTS]).map(function(pe){var Oe=new w.MessageReceipt;pe==h.DELIVERY_RECEIPTS.DELIVERED_AT&&(Oe.setReceiptType(Oe.RECEIPT_TYPE.DELIVERY_RECEIPT),Oe.setDeliveredAt(ee[h.MessageConstatnts.KEYS.MY_RECEIPTS][h.DELIVERY_RECEIPTS.DELIVERED_AT]),C.isFalsy(ee[h.MessageConstatnts.KEYS.MY_RECEIPTS][h.DELIVERY_RECEIPTS.RECIPIENT])?ee[h.DELIVERY_RECEIPTS.DELIVERED_TO_ME_AT]=ee[h.MessageConstatnts.KEYS.MY_RECEIPTS][h.DELIVERY_RECEIPTS.DELIVERED_AT]:Oe.setSender(ee[h.MessageConstatnts.KEYS.MY_RECEIPTS][h.DELIVERY_RECEIPTS.RECIPIENT]),Oe.setReceiverType(ee[h.MessageConstatnts.KEYS.RECEIVER_TYPE]),Oe.setReceiver(ee[h.MessageConstatnts.KEYS.RECEIVER])),ee[h.MessageConstatnts.KEYS.MY_RECEIPTS][h.READ_RECEIPTS.READ_AT]&&(Oe.setReceiptType(Oe.RECEIPT_TYPE.READ_RECEIPT),Oe.setReadAt(ee[h.MessageConstatnts.KEYS.MY_RECEIPTS][h.READ_RECEIPTS.READ_AT]),C.isFalsy(ee[h.MessageConstatnts.KEYS.MY_RECEIPTS][h.READ_RECEIPTS.RECIPIENT])?ee[h.READ_RECEIPTS.READ_BY_ME_AT]=ee[h.MessageConstatnts.KEYS.MY_RECEIPTS][h.READ_RECEIPTS.READ_AT]:Oe.setSender(ee[h.MessageConstatnts.KEYS.MY_RECEIPTS][h.READ_RECEIPTS.RECIPIENT]),Oe.setReceiverType(ee[h.MessageConstatnts.KEYS.RECEIVER_TYPE]),Oe.setReceiver(ee[h.MessageConstatnts.KEYS.RECEIVER]))}));try{if(Object.assign(Ie,ee),(ee=Ie).parentId&&(ee.parentMessageId=ee.parentId,delete ee.parentId),ee instanceof y.BaseMessage&&(C.isFalsy(X)||ee.setRawMessage(X)),ee instanceof p.TextMessage)ee.setSender(ee.getSender()),ee.setReceiver(ee.getReceiver()),ee.getData()[h.MessageConstatnts.KEYS.METADATA]&&ee.setMetadata(ee.getData()[h.MessageConstatnts.KEYS.METADATA]);else if(ee instanceof v.MediaMessage)ee.getData()[h.MessageConstatnts.KEYS.METADATA]&&ee.setMetadata(ee.getData()[h.MessageConstatnts.KEYS.METADATA]),ee.setSender(ee.getSender()),ee.setReceiver(ee.getReceiver());else if(ee instanceof S.Action)ee.setSender(ee.getSender()),ee.setReceiver(ee.getActionFor()),ee.setActionBy(ee.getActionBy()),ee.setActionOn(ee.getActionOn()),ee.setActionFor(ee.getActionFor()),ee.setMessage(ee.getMessage());else if(ee instanceof T.Call){try{ee.setSender(ee.getSender())}catch(pe){C.Logger.error("MessageController: trasformJSONMessge: setSender",pe)}try{ee.setCallInitiator(ee.getCallInitiator())}catch(pe){C.Logger.error("MessageController: trasformJSONMessge: setCallInitiator",pe)}try{ee.setReceiver(ee.getCallReceiver()),ee.setCallReceiver(ee.getCallReceiver())}catch(pe){C.Logger.error("MessageController: trasformJSONMessge: setCallreceiver",pe)}}else ee instanceof P.CustomMessage&&(ee.getData()[h.MessageConstatnts.KEYS.METADATA]&&ee.setMetadata(ee.getData()[h.MessageConstatnts.KEYS.METADATA]),ee.setSubType(ee.getData()[h.MessageConstatnts.KEYS.CUSTOM_SUB_TYPE]),ee.setSender(ee.getSender()),ee.setReceiver(ee.getReceiver()))}catch(pe){C.Logger.error("MessageController: trasformJSONMessge: Main",pe),ee=null}return ee}catch(pe){C.Logger.error("MessageController: trasformJSONMessge",pe)}},l.getReceiptsFromJSON=function(ee){return new Promise(function(X,Ie){try{var te=[];x.CometChat.getLoggedInUser().then(function(ae){C.isFalsy(ee.receipts)?X([]):(ee.receipts.data.map(function(ie){var pe=new w.MessageReceipt;ie[h.DELIVERY_RECEIPTS.DELIVERED_AT]&&(pe.setReceiptType(pe.RECEIPT_TYPE.DELIVERY_RECEIPT),pe.setDeliveredAt(ie[h.DELIVERY_RECEIPTS.DELIVERED_AT]),pe.setTimestamp(ie[h.DELIVERY_RECEIPTS.DELIVERED_AT]),C.isFalsy(ie[h.DELIVERY_RECEIPTS.RECIPIENT])?pe.setSender(ae):pe.setSender(B.UsersController.trasformJSONUser(ie[h.DELIVERY_RECEIPTS.RECIPIENT])),pe.setReceiverType(ee[h.MessageConstatnts.KEYS.RECEIVER_TYPE]),pe.setReceiver(ee[h.MessageConstatnts.KEYS.RECEIVER])),ie[h.READ_RECEIPTS.READ_AT]&&(pe.setReceiptType(pe.RECEIPT_TYPE.READ_RECEIPT),pe.setReadAt(ie[h.READ_RECEIPTS.READ_AT]),pe.setTimestamp(ie[ie[h.READ_RECEIPTS.READ_AT]]),C.isFalsy(ie[h.READ_RECEIPTS.RECIPIENT])?pe.setSender(ae):pe.setSender(B.UsersController.trasformJSONUser(ie[h.READ_RECEIPTS.RECIPIENT])),pe.setReceiverType(ee[h.MessageConstatnts.KEYS.RECEIVER_TYPE]),pe.setReceiver(ee[h.MessageConstatnts.KEYS.RECEIVER])),te.push(pe)}),X(te))})}catch(ae){Ie(new _.CometChatException(ae))}})},l}();E.MessageController=F},function(Me,E,i){"use strict";E.__esModule=!0,E.UsersController=void 0;var y=i(4),p=i(0),v=function(){function C(){}return C.trasformJSONUser=function(h){var S;try{h.uid=h.uid.toString(),h.name=h.name.toString(),h.status=h.status&&"offline"!==h.status?"online":"offline",S=new y.User(h),Object.assign(S,h),h=S}catch(T){p.Logger.error("UsersController:transformJSONUser",T)}return h},C}();E.UsersController=v},function(Me,E,i){"use strict";E.__esModule=!0,E.LocalStorage=void 0;var y=i(0),p=i(1),v=i(13),C=i(3),h=i(2),S=function(){function T(w){this.store=p.constants.DEFAULT_STORE,y.isFalsy(w)||(this.store=w),this.localStore=v.createInstance({name:y.format(p.LOCAL_STORE.STORE_STRING,C.CometChat.getAppId(),p.LOCAL_STORE.COMMON_STORE)}),this.localStore.setDriver([v.LOCALSTORAGE,v.INDEXEDDB,v.WEBSQL])}return T.getInstance=function(){return null==T.localStorage&&(T.localStorage=new T),T.localStorage},T.prototype.set=function(w,_){return this.localStore.setItem(w,JSON.stringify(_))},T.prototype.remove=function(w){this.localStore.removeItem(w)},T.prototype.update=function(w,_){this.remove(w),this.set(w,_)},T.prototype.get=function(w){var _=this;return new Promise(function(I,P){try{_.localStore.getItem(w).then(function(x){try{I(JSON.parse(x))}catch{I(x)}},function(x){P(x)})}catch(x){P(new h.CometChatException(x))}})},T.prototype.clearStore=function(){var w=this;return new Promise(function(_,I){try{w.localStore.keys().then(function(P){if(0<P.length)for(var x=0;x<P.length;x++)"appId"!==P[x]&&w.localStore.removeItem(P[x]),x===P.length-1&&_(!0)})}catch(P){I(P)}})},T.prototype.clear=function(w){},T.prototype.selectStore=function(w){this.store=w},T.localStorage=null,T}();E.LocalStorage=S},function(Me,E,i){(function(y){Me.exports=function p(v,C,h){function S(_,I){if(!C[_]){if(!v[_]){if(T)return T(_,!0);var P=new Error("Cannot find module '"+_+"'");throw P.code="MODULE_NOT_FOUND",P}var x=C[_]={exports:{}};v[_][0].call(x.exports,function(B){return S(v[_][1][B]||B)},x,x.exports,p,v,C,h)}return C[_].exports}for(var T=!1,w=0;w<h.length;w++)S(h[w]);return S}({1:[function(p,v,C){(function(h){"use strict";var S,T,w=h.MutationObserver||h.WebKitMutationObserver;if(w){var _=0,I=new w(F),P=h.document.createTextNode("");I.observe(P,{characterData:!0}),S=function(){P.data=_=++_%2}}else if(h.setImmediate||void 0===h.MessageChannel)S="document"in h&&"onreadystatechange"in h.document.createElement("script")?function(){var l=h.document.createElement("script");l.onreadystatechange=function(){F(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},h.document.documentElement.appendChild(l)}:function(){setTimeout(F,0)};else{var x=new h.MessageChannel;x.port1.onmessage=F,S=function(){x.port2.postMessage(0)}}var B=[];function F(){var l,ee;T=!0;for(var X=B.length;X;){for(ee=B,B=[],l=-1;++l<X;)ee[l]();X=B.length}T=!1}v.exports=function(l){1!==B.push(l)||T||S()}}).call(this,void 0!==y?y:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(p,v,C){"use strict";var h=p(1);function S(){}var T={},w=["REJECTED"],_=["FULFILLED"],I=["PENDING"];function P(X){if("function"!=typeof X)throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,X!==S&&l(this,X)}function x(X,Ie,te){this.promise=X,"function"==typeof Ie&&(this.onFulfilled=Ie,this.callFulfilled=this.otherCallFulfilled),"function"==typeof te&&(this.onRejected=te,this.callRejected=this.otherCallRejected)}function B(X,Ie,te){h(function(){var ae;try{ae=Ie(te)}catch(ie){return T.reject(X,ie)}ae===X?T.reject(X,new TypeError("Cannot resolve promise with itself")):T.resolve(X,ae)})}function F(X){var Ie=X&&X.then;if(X&&("object"==typeof X||"function"==typeof X)&&"function"==typeof Ie)return function(){Ie.apply(X,arguments)}}function l(X,Ie){var te=!1;function ae(Oe){te||(te=!0,T.reject(X,Oe))}function ie(Oe){te||(te=!0,T.resolve(X,Oe))}var pe=ee(function(){Ie(ie,ae)});"error"===pe.status&&ae(pe.value)}function ee(X,Ie){var te={};try{te.value=X(Ie),te.status="success"}catch(ae){te.status="error",te.value=ae}return te}(v.exports=P).prototype.catch=function(X){return this.then(null,X)},P.prototype.then=function(X,Ie){if("function"!=typeof X&&this.state===_||"function"!=typeof Ie&&this.state===w)return this;var te=new this.constructor(S);return this.state!==I?B(te,this.state===_?X:Ie,this.outcome):this.queue.push(new x(te,X,Ie)),te},x.prototype.callFulfilled=function(X){T.resolve(this.promise,X)},x.prototype.otherCallFulfilled=function(X){B(this.promise,this.onFulfilled,X)},x.prototype.callRejected=function(X){T.reject(this.promise,X)},x.prototype.otherCallRejected=function(X){B(this.promise,this.onRejected,X)},T.resolve=function(X,Ie){var te=ee(F,Ie);if("error"===te.status)return T.reject(X,te.value);var ae=te.value;if(ae)l(X,ae);else{X.state=_,X.outcome=Ie;for(var ie=-1,pe=X.queue.length;++ie<pe;)X.queue[ie].callFulfilled(Ie)}return X},T.reject=function(X,Ie){X.state=w,X.outcome=Ie;for(var te=-1,ae=X.queue.length;++te<ae;)X.queue[te].callRejected(Ie);return X},P.resolve=function(X){return X instanceof this?X:T.resolve(new this(S),X)},P.reject=function(X){var Ie=new this(S);return T.reject(Ie,X)},P.all=function(X){var Ie=this;if("[object Array]"!==Object.prototype.toString.call(X))return this.reject(new TypeError("must be an array"));var te=X.length,ae=!1;if(!te)return this.resolve([]);for(var ie=new Array(te),pe=0,Oe=-1,Q=new this(S);++Oe<te;)Ee(X[Oe],Oe);return Q;function Ee(He,Se){Ie.resolve(He).then(function(se){ie[Se]=se,++pe!==te||ae||(ae=!0,T.resolve(Q,ie))},function(se){ae||(ae=!0,T.reject(Q,se))})}},P.race=function(X){if("[object Array]"!==Object.prototype.toString.call(X))return this.reject(new TypeError("must be an array"));var te=X.length,ae=!1;if(!te)return this.resolve([]);for(var pe=-1,Oe=new this(S);++pe<te;)this.resolve(X[pe]).then(function(Q){ae||(ae=!0,T.resolve(Oe,Q))},function(Q){ae||(ae=!0,T.reject(Oe,Q))});return Oe}},{1:1}],3:[function(p,v,C){(function(h){"use strict";"function"!=typeof h.Promise&&(h.Promise=p(2))}).call(this,void 0!==y?y:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(p,v,C){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},S=function(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function T(U,k){U=U||[],k=k||{};try{return new Blob(U,k)}catch(he){if("TypeError"!==he.name)throw he;for(var _e=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),Ce=0;Ce<U.length;Ce+=1)_e.append(U[Ce]);return _e.getBlob(k.type)}}typeof Promise>"u"&&p(3);var w=Promise;function _(U,k){k&&U.then(function(q){k(null,q)},function(q){k(q)})}function I(U,k,q){"function"==typeof k&&U.then(k),"function"==typeof q&&U.catch(q)}function P(U){return"string"!=typeof U&&(U=String(U)),U}function x(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var B="local-forage-detect-blob-support",F=void 0,l={},ee=Object.prototype.toString,X="readonly",Ie="readwrite";function ae(U){var k=l[U.name],q={};q.promise=new w(function(_e,Ce){q.resolve=_e,q.reject=Ce}),k.deferredOperations.push(q),k.dbReady=k.dbReady?k.dbReady.then(function(){return q.promise}):q.promise}function ie(U){var q=l[U.name].deferredOperations.pop();if(q)return q.resolve(),q.promise}function pe(U,k){var _e=l[U.name].deferredOperations.pop();if(_e)return _e.reject(k),_e.promise}function Oe(U,k){return new w(function(q,_e){if(l[U.name]=l[U.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},U.db){if(!k)return q(U.db);ae(U),U.db.close()}var Ce=[U.name];k&&Ce.push(U.version);var he=S.open.apply(S,Ce);k&&(he.onupgradeneeded=function(De){var Le=he.result;try{Le.createObjectStore(U.storeName),De.oldVersion<=1&&Le.createObjectStore(B)}catch(Ve){if("ConstraintError"!==Ve.name)throw Ve}}),he.onerror=function(De){De.preventDefault(),_e(he.error)},he.onsuccess=function(){q(he.result),ie(U)}})}function Q(U){return Oe(U,!1)}function Ee(U){return Oe(U,!0)}function He(U,k){if(!U.db)return!0;var q=!U.db.objectStoreNames.contains(U.storeName),Ce=U.version>U.db.version;if(U.version<U.db.version&&(U.version=U.db.version),Ce||q){if(q){var he=U.db.version+1;he>U.version&&(U.version=he)}return!0}return!1}function Se(U){return T([function(q){for(var _e=q.length,Ce=new ArrayBuffer(_e),he=new Uint8Array(Ce),De=0;De<_e;De++)he[De]=q.charCodeAt(De);return Ce}(atob(U.data))],{type:U.type})}function se(U){return U&&U.__local_forage_encoded_blob}function le(U){var k=this,q=k._initReady().then(function(){var _e=l[k._dbInfo.name];if(_e&&_e.dbReady)return _e.dbReady});return I(q,U,U),q}function ne(U,k,q,_e){void 0===_e&&(_e=1);try{var Ce=U.db.transaction(U.storeName,k);q(null,Ce)}catch(he){if(0<_e&&(!U.db||"InvalidStateError"===he.name||"NotFoundError"===he.name))return w.resolve().then(function(){if(!U.db||"NotFoundError"===he.name&&!U.db.objectStoreNames.contains(U.storeName)&&U.version<=U.db.version)return U.db&&(U.version=U.db.version+1),Ee(U)}).then(function(){return function(De){ae(De);for(var Le=l[De.name],Ve=Le.forages,we=0;we<Ve.length;we++){var We=Ve[we];We._dbInfo.db&&(We._dbInfo.db.close(),We._dbInfo.db=null)}return De.db=null,Q(De).then(function(et){return De.db=et,He(De)?Ee(De):et}).then(function(et){De.db=Le.db=et;for(var ut=0;ut<Ve.length;ut++)Ve[ut]._dbInfo.db=et}).catch(function(et){throw pe(De,et),et})}(U).then(function(){ne(U,k,q,_e-1)})}).catch(q);q(he)}}var Fe={_driver:"asyncStorage",_initStorage:function(U){var k=this,q={db:null};if(U)for(var _e in U)q[_e]=U[_e];var Ce=l[q.name];Ce||(l[q.name]=Ce={forages:[],db:null,dbReady:null,deferredOperations:[]}),Ce.forages.push(k),k._initReady||(k._initReady=k.ready,k.ready=le);var he=[];function De(){return w.resolve()}for(var Le=0;Le<Ce.forages.length;Le++){var Ve=Ce.forages[Le];Ve!==k&&he.push(Ve._initReady().catch(De))}var we=Ce.forages.slice(0);return w.all(he).then(function(){return q.db=Ce.db,Q(q)}).then(function(We){return q.db=We,He(q)?Ee(q):We}).then(function(We){q.db=Ce.db=We,k._dbInfo=q;for(var et=0;et<we.length;et++){var ut=we[et];ut!==k&&(ut._dbInfo.db=q.db,ut._dbInfo.version=q.version)}})},_support:function(){try{if(!S)return!1;var U=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),k="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!U||k)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function(U,k){var q=this,_e=new w(function(Ce,he){q.ready().then(function(){ne(q._dbInfo,X,function(De,Le){if(De)return he(De);try{var we=Le.objectStore(q._dbInfo.storeName).openCursor(),We=1;we.onsuccess=function(){var et=we.result;if(et){var ut=et.value;se(ut)&&(ut=Se(ut));var ot=U(ut,et.key,We++);void 0!==ot?Ce(ot):et.continue()}else Ce()},we.onerror=function(){he(we.error)}}catch(et){he(et)}})}).catch(he)});return _(_e,k),_e},getItem:function(U,k){var q=this;U=P(U);var _e=new w(function(Ce,he){q.ready().then(function(){ne(q._dbInfo,X,function(De,Le){if(De)return he(De);try{var we=Le.objectStore(q._dbInfo.storeName).get(U);we.onsuccess=function(){var We=we.result;void 0===We&&(We=null),se(We)&&(We=Se(We)),Ce(We)},we.onerror=function(){he(we.error)}}catch(We){he(We)}})}).catch(he)});return _(_e,k),_e},setItem:function(U,k,q){var _e=this;U=P(U);var Ce=new w(function(he,De){var Le;_e.ready().then(function(){return Le=_e._dbInfo,"[object Blob]"===ee.call(k)?function te(U){return"boolean"==typeof F?w.resolve(F):(k=U,new w(function(q){var _e=k.transaction(B,Ie),Ce=T([""]);_e.objectStore(B).put(Ce,"key"),_e.onabort=function(he){he.preventDefault(),he.stopPropagation(),q(!1)},_e.oncomplete=function(){var he=navigator.userAgent.match(/Chrome\/(\d+)/),De=navigator.userAgent.match(/Edge\//);q(De||!he||43<=parseInt(he[1],10))}}).catch(function(){return!1})).then(function(q){return F=q});var k}(Le.db).then(function(Ve){return Ve?k:(we=k,new w(function(We,et){var ut=new FileReader;ut.onerror=et,ut.onloadend=function(ot){var gt=btoa(ot.target.result||"");We({__local_forage_encoded_blob:!0,data:gt,type:we.type})},ut.readAsBinaryString(we)}));var we}):k}).then(function(Ve){ne(_e._dbInfo,Ie,function(we,We){if(we)return De(we);try{var et=We.objectStore(_e._dbInfo.storeName);null===Ve&&(Ve=void 0);var ut=et.put(Ve,U);We.oncomplete=function(){void 0===Ve&&(Ve=null),he(Ve)},We.onabort=We.onerror=function(){De(ut.error?ut.error:ut.transaction.error)}}catch(ot){De(ot)}})}).catch(De)});return _(Ce,q),Ce},removeItem:function(U,k){var q=this;U=P(U);var _e=new w(function(Ce,he){q.ready().then(function(){ne(q._dbInfo,Ie,function(De,Le){if(De)return he(De);try{var we=Le.objectStore(q._dbInfo.storeName).delete(U);Le.oncomplete=function(){Ce()},Le.onerror=function(){he(we.error)},Le.onabort=function(){he(we.error?we.error:we.transaction.error)}}catch(We){he(We)}})}).catch(he)});return _(_e,k),_e},clear:function(U){var k=this,q=new w(function(_e,Ce){k.ready().then(function(){ne(k._dbInfo,Ie,function(he,De){if(he)return Ce(he);try{var Ve=De.objectStore(k._dbInfo.storeName).clear();De.oncomplete=function(){_e()},De.onabort=De.onerror=function(){Ce(Ve.error?Ve.error:Ve.transaction.error)}}catch(we){Ce(we)}})}).catch(Ce)});return _(q,U),q},length:function(U){var k=this,q=new w(function(_e,Ce){k.ready().then(function(){ne(k._dbInfo,X,function(he,De){if(he)return Ce(he);try{var Ve=De.objectStore(k._dbInfo.storeName).count();Ve.onsuccess=function(){_e(Ve.result)},Ve.onerror=function(){Ce(Ve.error)}}catch(we){Ce(we)}})}).catch(Ce)});return _(q,U),q},key:function(U,k){var q=this,_e=new w(function(Ce,he){U<0?Ce(null):q.ready().then(function(){ne(q._dbInfo,X,function(De,Le){if(De)return he(De);try{var Ve=Le.objectStore(q._dbInfo.storeName),we=!1,We=Ve.openCursor();We.onsuccess=function(){var et=We.result;et?0===U||we?Ce(et.key):(we=!0,et.advance(U)):Ce(null)},We.onerror=function(){he(We.error)}}catch(et){he(et)}})}).catch(he)});return _(_e,k),_e},keys:function(U){var k=this,q=new w(function(_e,Ce){k.ready().then(function(){ne(k._dbInfo,X,function(he,De){if(he)return Ce(he);try{var Ve=De.objectStore(k._dbInfo.storeName).openCursor(),we=[];Ve.onsuccess=function(){var We=Ve.result;We?(we.push(We.key),We.continue()):_e(we)},Ve.onerror=function(){Ce(Ve.error)}}catch(We){Ce(We)}})}).catch(Ce)});return _(q,U),q},dropInstance:function(U,k){k=x.apply(this,arguments);var q,_e=this.config();if((U="function"!=typeof U&&U||{}).name||(U.name=U.name||_e.name,U.storeName=U.storeName||_e.storeName),U.name){var he=U.name===_e.name&&this._dbInfo.db?w.resolve(this._dbInfo.db):Q(U).then(function(De){var Le=l[U.name],Ve=Le.forages;Le.db=De;for(var we=0;we<Ve.length;we++)Ve[we]._dbInfo.db=De;return De});q=he.then(U.storeName?function(De){if(De.objectStoreNames.contains(U.storeName)){var Le=De.version+1;ae(U);var Ve=l[U.name],we=Ve.forages;De.close();for(var We=0;We<we.length;We++){var et=we[We];et._dbInfo.db=null,et._dbInfo.version=Le}return new w(function(ot,gt){var ft=S.open(U.name,Le);ft.onerror=function(Qt){ft.result.close(),gt(Qt)},ft.onupgradeneeded=function(){ft.result.deleteObjectStore(U.storeName)},ft.onsuccess=function(){var Qt=ft.result;Qt.close(),ot(Qt)}}).then(function(ot){Ve.db=ot;for(var gt=0;gt<we.length;gt++){var ft=we[gt];ft._dbInfo.db=ot,ie(ft._dbInfo)}}).catch(function(ot){throw(pe(U,ot)||w.resolve()).catch(function(){}),ot})}}:function(De){ae(U);var Le=l[U.name],Ve=Le.forages;De.close();for(var we=0;we<Ve.length;we++)Ve[we]._dbInfo.db=null;return new w(function(ut,ot){var gt=S.deleteDatabase(U.name);gt.onerror=gt.onblocked=function(ft){var Qt=gt.result;Qt&&Qt.close(),ot(ft)},gt.onsuccess=function(){var ft=gt.result;ft&&ft.close(),ut(ft)}}).then(function(ut){Le.db=ut;for(var ot=0;ot<Ve.length;ot++)ie(Ve[ot]._dbInfo)}).catch(function(ut){throw(pe(U,ut)||w.resolve()).catch(function(){}),ut})})}else q=w.reject("Invalid arguments");return _(q,k),q}},Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ze=/^~~local_forage_type~([^~]+)~/,tt="__lfsc__:",Ct=tt.length,nt="arbf",Et="blob",Mt=Ct+nt.length,je=Object.prototype.toString;function Qe(U){var k,q,_e,Ce,he,De=.75*U.length,Le=U.length,Ve=0;"="===U[U.length-1]&&(De--,"="===U[U.length-2]&&De--);var we=new ArrayBuffer(De),We=new Uint8Array(we);for(k=0;k<Le;k+=4)q=Ge.indexOf(U[k]),_e=Ge.indexOf(U[k+1]),Ce=Ge.indexOf(U[k+2]),he=Ge.indexOf(U[k+3]),We[Ve++]=q<<2|_e>>4,We[Ve++]=(15&_e)<<4|Ce>>2,We[Ve++]=(3&Ce)<<6|63&he;return we}function Pe(U){var k,q=new Uint8Array(U),_e="";for(k=0;k<q.length;k+=3)_e+=Ge[q[k]>>2],_e+=Ge[(3&q[k])<<4|q[k+1]>>4],_e+=Ge[(15&q[k+1])<<2|q[k+2]>>6],_e+=Ge[63&q[k+2]];return q.length%3==2?_e=_e.substring(0,_e.length-1)+"=":q.length%3==1&&(_e=_e.substring(0,_e.length-2)+"=="),_e}var Ye={serialize:function(U,k){var q="";if(U&&(q=je.call(U)),U&&("[object ArrayBuffer]"===q||U.buffer&&"[object ArrayBuffer]"===je.call(U.buffer))){var _e,Ce=tt;U instanceof ArrayBuffer?(_e=U,Ce+=nt):(_e=U.buffer,"[object Int8Array]"===q?Ce+="si08":"[object Uint8Array]"===q?Ce+="ui08":"[object Uint8ClampedArray]"===q?Ce+="uic8":"[object Int16Array]"===q?Ce+="si16":"[object Uint16Array]"===q?Ce+="ur16":"[object Int32Array]"===q?Ce+="si32":"[object Uint32Array]"===q?Ce+="ui32":"[object Float32Array]"===q?Ce+="fl32":"[object Float64Array]"===q?Ce+="fl64":k(new Error("Failed to get type for BinaryArray"))),k(Ce+Pe(_e))}else if("[object Blob]"===q){var he=new FileReader;he.onload=function(){var De="~~local_forage_type~"+U.type+"~"+Pe(this.result);k(tt+Et+De)},he.readAsArrayBuffer(U)}else try{k(JSON.stringify(U))}catch(De){k(null,De)}},deserialize:function(U){if(U.substring(0,Ct)!==tt)return JSON.parse(U);var k,q=U.substring(Mt),_e=U.substring(Ct,Mt);if(_e===Et&&ze.test(q)){var Ce=q.match(ze);k=Ce[1],q=q.substring(Ce[0].length)}var he=Qe(q);switch(_e){case nt:return he;case Et:return T([he],{type:k});case"si08":return new Int8Array(he);case"ui08":return new Uint8Array(he);case"uic8":return new Uint8ClampedArray(he);case"si16":return new Int16Array(he);case"ur16":return new Uint16Array(he);case"si32":return new Int32Array(he);case"ui32":return new Uint32Array(he);case"fl32":return new Float32Array(he);case"fl64":return new Float64Array(he);default:throw new Error("Unkown type: "+_e)}},stringToBuffer:Qe,bufferToString:Pe};function at(U,k,q,_e){U.executeSql("CREATE TABLE IF NOT EXISTS "+k.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],q,_e)}function lt(U,k,q,_e,Ce,he){U.executeSql(q,_e,Ce,function(De,Le){Le.code===Le.SYNTAX_ERR?De.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[k.storeName],function(Ve,we){we.rows.length?he(Ve,Le):at(Ve,k,function(){Ve.executeSql(q,_e,Ce,he)},he)},he):he(De,Le)},he)}function dn(U,k,q,_e){var Ce=this;U=P(U);var he=new w(function(De,Le){Ce.ready().then(function(){void 0===k&&(k=null);var Ve=k,we=Ce._dbInfo;we.serializer.serialize(k,function(We,et){et?Le(et):we.db.transaction(function(ut){lt(ut,we,"INSERT OR REPLACE INTO "+we.storeName+" (key, value) VALUES (?, ?)",[U,We],function(){De(Ve)},function(ot,gt){Le(gt)})},function(ut){if(ut.code===ut.QUOTA_ERR){if(0<_e)return void De(dn.apply(Ce,[U,Ve,q,_e-1]));Le(ut)}})})}).catch(Le)});return _(he,q),he}var Ut={_driver:"webSQLStorage",_initStorage:function(U){var k=this,q={db:null};if(U)for(var _e in U)q[_e]="string"!=typeof U[_e]?U[_e].toString():U[_e];var Ce=new w(function(he,De){try{q.db=openDatabase(q.name,String(q.version),q.description,q.size)}catch(Le){return De(Le)}q.db.transaction(function(Le){at(Le,q,function(){k._dbInfo=q,he()},function(Ve,we){De(we)})},De)});return q.serializer=Ye,Ce},_support:"function"==typeof openDatabase,iterate:function(U,k){var q=this,_e=new w(function(Ce,he){q.ready().then(function(){var De=q._dbInfo;De.db.transaction(function(Le){lt(Le,De,"SELECT * FROM "+De.storeName,[],function(Ve,we){for(var We=we.rows,et=We.length,ut=0;ut<et;ut++){var ot=We.item(ut),gt=ot.value;if(gt&&(gt=De.serializer.deserialize(gt)),void 0!==(gt=U(gt,ot.key,ut+1)))return void Ce(gt)}Ce()},function(Ve,we){he(we)})})}).catch(he)});return _(_e,k),_e},getItem:function(U,k){var q=this;U=P(U);var _e=new w(function(Ce,he){q.ready().then(function(){var De=q._dbInfo;De.db.transaction(function(Le){lt(Le,De,"SELECT * FROM "+De.storeName+" WHERE key = ? LIMIT 1",[U],function(Ve,we){var We=we.rows.length?we.rows.item(0).value:null;We&&(We=De.serializer.deserialize(We)),Ce(We)},function(Ve,we){he(we)})})}).catch(he)});return _(_e,k),_e},setItem:function(U,k,q){return dn.apply(this,[U,k,q,1])},removeItem:function(U,k){var q=this;U=P(U);var _e=new w(function(Ce,he){q.ready().then(function(){var De=q._dbInfo;De.db.transaction(function(Le){lt(Le,De,"DELETE FROM "+De.storeName+" WHERE key = ?",[U],function(){Ce()},function(Ve,we){he(we)})})}).catch(he)});return _(_e,k),_e},clear:function(U){var k=this,q=new w(function(_e,Ce){k.ready().then(function(){var he=k._dbInfo;he.db.transaction(function(De){lt(De,he,"DELETE FROM "+he.storeName,[],function(){_e()},function(Le,Ve){Ce(Ve)})})}).catch(Ce)});return _(q,U),q},length:function(U){var k=this,q=new w(function(_e,Ce){k.ready().then(function(){var he=k._dbInfo;he.db.transaction(function(De){lt(De,he,"SELECT COUNT(key) as c FROM "+he.storeName,[],function(Le,Ve){var we=Ve.rows.item(0).c;_e(we)},function(Le,Ve){Ce(Ve)})})}).catch(Ce)});return _(q,U),q},key:function(U,k){var q=this,_e=new w(function(Ce,he){q.ready().then(function(){var De=q._dbInfo;De.db.transaction(function(Le){lt(Le,De,"SELECT key FROM "+De.storeName+" WHERE id = ? LIMIT 1",[U+1],function(Ve,we){var We=we.rows.length?we.rows.item(0).key:null;Ce(We)},function(Ve,we){he(we)})})}).catch(he)});return _(_e,k),_e},keys:function(U){var k=this,q=new w(function(_e,Ce){k.ready().then(function(){var he=k._dbInfo;he.db.transaction(function(De){lt(De,he,"SELECT key FROM "+he.storeName,[],function(Le,Ve){for(var we=[],We=0;We<Ve.rows.length;We++)we.push(Ve.rows.item(We).key);_e(we)},function(Le,Ve){Ce(Ve)})})}).catch(Ce)});return _(q,U),q},dropInstance:function(U,k){k=x.apply(this,arguments);var q=this.config();(U="function"!=typeof U&&U||{}).name||(U.name=U.name||q.name,U.storeName=U.storeName||q.storeName);var _e,Ce=this;return _(_e=U.name?new w(function(he){var De,Le;De=U.name===q.name?Ce._dbInfo.db:openDatabase(U.name,"","",0),he(U.storeName?{db:De,storeNames:[U.storeName]}:(Le=De,new w(function(Ve,we){Le.transaction(function(We){We.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(et,ut){for(var ot=[],gt=0;gt<ut.rows.length;gt++)ot.push(ut.rows.item(gt).name);Ve({db:Le,storeNames:ot})},function(et,ut){we(ut)})},function(We){we(We)})})))}).then(function(he){return new w(function(De,Le){he.db.transaction(function(Ve){function we(ot){return new w(function(gt,ft){Ve.executeSql("DROP TABLE IF EXISTS "+ot,[],function(){gt()},function(Qt,hn){ft(hn)})})}for(var We=[],et=0,ut=he.storeNames.length;et<ut;et++)We.push(we(he.storeNames[et]));w.all(We).then(function(){De()}).catch(function(ot){Le(ot)})},function(Ve){Le(Ve)})})}):w.reject("Invalid arguments"),k),_e}};function bn(U,k){var q=U.name+"/";return U.storeName!==k.storeName&&(q+=U.storeName+"/"),q}var tn={_driver:"localStorageWrapper",_initStorage:function(U){var k={};if(U)for(var q in U)k[q]=U[q];return k.keyPrefix=bn(U,this._defaultConfig),function Xt(){return!function(){var U="_localforage_support_test";try{return localStorage.setItem(U,!0),localStorage.removeItem(U),!1}catch{return!0}}()||0<localStorage.length}()?((this._dbInfo=k).serializer=Ye,w.resolve()):w.reject()},_support:function(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function(U,k){var q=this,_e=q.ready().then(function(){for(var Ce=q._dbInfo,he=Ce.keyPrefix,De=he.length,Le=localStorage.length,Ve=1,we=0;we<Le;we++){var We=localStorage.key(we);if(0===We.indexOf(he)){var et=localStorage.getItem(We);if(et&&(et=Ce.serializer.deserialize(et)),void 0!==(et=U(et,We.substring(De),Ve++)))return et}}});return _(_e,k),_e},getItem:function(U,k){var q=this;U=P(U);var _e=q.ready().then(function(){var Ce=q._dbInfo,he=localStorage.getItem(Ce.keyPrefix+U);return he&&(he=Ce.serializer.deserialize(he)),he});return _(_e,k),_e},setItem:function(U,k,q){var _e=this;U=P(U);var Ce=_e.ready().then(function(){void 0===k&&(k=null);var he=k;return new w(function(De,Le){var Ve=_e._dbInfo;Ve.serializer.serialize(k,function(we,We){if(We)Le(We);else try{localStorage.setItem(Ve.keyPrefix+U,we),De(he)}catch(et){"QuotaExceededError"!==et.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==et.name||Le(et),Le(et)}})})});return _(Ce,q),Ce},removeItem:function(U,k){var q=this;U=P(U);var _e=q.ready().then(function(){localStorage.removeItem(q._dbInfo.keyPrefix+U)});return _(_e,k),_e},clear:function(U){var k=this,q=k.ready().then(function(){for(var _e=k._dbInfo.keyPrefix,Ce=localStorage.length-1;0<=Ce;Ce--){var he=localStorage.key(Ce);0===he.indexOf(_e)&&localStorage.removeItem(he)}});return _(q,U),q},length:function(U){var k=this.keys().then(function(q){return q.length});return _(k,U),k},key:function(U,k){var q=this,_e=q.ready().then(function(){var Ce,he=q._dbInfo;try{Ce=localStorage.key(U)}catch{Ce=null}return Ce&&(Ce=Ce.substring(he.keyPrefix.length)),Ce});return _(_e,k),_e},keys:function(U){var k=this,q=k.ready().then(function(){for(var _e=k._dbInfo,Ce=localStorage.length,he=[],De=0;De<Ce;De++){var Le=localStorage.key(De);0===Le.indexOf(_e.keyPrefix)&&he.push(Le.substring(_e.keyPrefix.length))}return he});return _(q,U),q},dropInstance:function(U,k){if(k=x.apply(this,arguments),!(U="function"!=typeof U&&U||{}).name){var q=this.config();U.name=U.name||q.name,U.storeName=U.storeName||q.storeName}var _e,Ce=this;return _(_e=U.name?new w(function(he){he(U.storeName?bn(U,Ce._defaultConfig):U.name+"/")}).then(function(he){for(var De=localStorage.length-1;0<=De;De--){var Le=localStorage.key(De);0===Le.indexOf(he)&&localStorage.removeItem(Le)}}):w.reject("Invalid arguments"),k),_e}},rn=function(U,k){for(var q=U.length,_e=0;_e<q;){if((Ce=U[_e])===(he=k)||"number"==typeof Ce&&"number"==typeof he&&isNaN(Ce)&&isNaN(he))return!0;_e++}var Ce,he;return!1},wt=Array.isArray||function(U){return"[object Array]"===Object.prototype.toString.call(U)},Wt={},_t={},O={INDEXEDDB:Fe,WEBSQL:Ut,LOCALSTORAGE:tn},L=[O.INDEXEDDB._driver,O.WEBSQL._driver,O.LOCALSTORAGE._driver],Z=["dropInstance"],ue=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Z),re={description:"",driver:L.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ce(U,k){U[k]=function(){var q=arguments;return U.ready().then(function(){return U[k].apply(U,q)})}}function W(){for(var U=1;U<arguments.length;U++){var k=arguments[U];if(k)for(var q in k)k.hasOwnProperty(q)&&(arguments[0][q]=wt(k[q])?k[q].slice():k[q])}return arguments[0]}var H=function(){function U(k){for(var q in function(he,De){if(!(he instanceof De))throw new TypeError("Cannot call a class as a function")}(this,U),O)if(O.hasOwnProperty(q)){var _e=O[q],Ce=_e._driver;this[q]=Ce,Wt[Ce]||this.defineDriver(_e)}this._defaultConfig=W({},re),this._config=W({},this._defaultConfig,k),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return U.prototype.config=function(k){if("object"!==(void 0===k?"undefined":h(k)))return"string"==typeof k?this._config[k]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var q in k){if("storeName"===q&&(k[q]=k[q].replace(/\W/g,"_")),"version"===q&&"number"!=typeof k[q])return new Error("Database version must be a number.");this._config[q]=k[q]}return!("driver"in k&&k.driver)||this.setDriver(this._config.driver)},U.prototype.defineDriver=function(k,q,_e){var Ce=new w(function(he,De){try{var Le=k._driver,Ve=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!k._driver)return void De(Ve);for(var we=ue.concat("_initStorage"),We=0,et=we.length;We<et;We++){var ut=we[We];if((!rn(Z,ut)||k[ut])&&"function"!=typeof k[ut])return void De(Ve)}!function(){for(var ft=function(Mn){return function(){var Sn=new Error("Method "+Mn+" is not implemented by the current driver"),Un=w.reject(Sn);return _(Un,arguments[arguments.length-1]),Un}},Qt=0,hn=Z.length;Qt<hn;Qt++){var zt=Z[Qt];k[zt]||(k[zt]=ft(zt))}}();var gt=function(ft){Wt[Le]=k,_t[Le]=ft,he()};"_support"in k?k._support&&"function"==typeof k._support?k._support().then(gt,De):gt(!!k._support):gt(!0)}catch(ft){De(ft)}});return I(Ce,q,_e),Ce},U.prototype.driver=function(){return this._driver||null},U.prototype.getDriver=function(k,q,_e){var Ce=Wt[k]?w.resolve(Wt[k]):w.reject(new Error("Driver not found."));return I(Ce,q,_e),Ce},U.prototype.getSerializer=function(k){var q=w.resolve(Ye);return I(q,k),q},U.prototype.ready=function(k){var q=this,_e=q._driverSet.then(function(){return null===q._ready&&(q._ready=q._initDriver()),q._ready});return I(_e,k,k),_e},U.prototype.setDriver=function(k,q,_e){var Ce=this;wt(k)||(k=[k]);var he=this._getSupportedDrivers(k);function De(){Ce._config.driver=Ce.driver()}function Le(we){return Ce._extend(we),De(),Ce._ready=Ce._initStorage(Ce._config),Ce._ready}var Ve=null!==this._driverSet?this._driverSet.catch(function(){return w.resolve()}):w.resolve();return this._driverSet=Ve.then(function(){var we=he[0];return Ce._dbInfo=null,Ce._ready=null,Ce.getDriver(we).then(function(We){var et;Ce._driver=We._driver,De(),Ce._wrapLibraryMethodsWithReady(),Ce._initDriver=(et=he,function(){var ut=0;return function ot(){for(;ut<et.length;){var gt=et[ut];return ut++,Ce._dbInfo=null,Ce._ready=null,Ce.getDriver(gt).then(Le).catch(ot)}De();var ft=new Error("No available storage method found.");return Ce._driverSet=w.reject(ft),Ce._driverSet}()})})}).catch(function(){De();var we=new Error("No available storage method found.");return Ce._driverSet=w.reject(we),Ce._driverSet}),I(this._driverSet,q,_e),this._driverSet},U.prototype.supports=function(k){return!!_t[k]},U.prototype._extend=function(k){W(this,k)},U.prototype._getSupportedDrivers=function(k){for(var q=[],_e=0,Ce=k.length;_e<Ce;_e++){var he=k[_e];this.supports(he)&&q.push(he)}return q},U.prototype._wrapLibraryMethodsWithReady=function(){for(var k=0,q=ue.length;k<q;k++)ce(this,ue[k])},U.prototype.createInstance=function(k){return new U(k)},U}(),$=new H;v.exports=$},{3:3}]},{},[4])(4)}).call(this,i(39))},function(Me,E,i){"use strict";E.__esModule=!0,E.FETCH_ERROR=E.TYPINGNOTIFICATION_CONSTANTS=E.LOGIN_ERROR=E.MESSAGE_ERRORS=E.MESSAGES_REQUEST_ERRORS=E.USERS_REQUEST_ERRORS=E.GROUP_CREATION_ERRORS=E.INIT_ERROR=E.ERRORS=E.SERVER_ERRORS=void 0,E.SERVER_ERRORS={AUTH_ERR:{code:"AUTH_ERR_AUTH_TOKEN_NOT_FOUND",message:"The auth token %s% does not exist. Please make sure you are logged in and have a valid auth token or try login again."}},E.ERRORS={PARAMETER_MISSING:{code:"MISSING_PARAMETERS",name:"Invalid or no parameter passed to the method."}},E.INIT_ERROR={NO_APP_ID:{code:E.ERRORS.PARAMETER_MISSING.code,name:E.ERRORS.PARAMETER_MISSING.name,message:"AppID cannot be empty. Please specify a valid appID.",details:{}}},E.GROUP_CREATION_ERRORS={EMPTY_PASSWORD:{code:"ERR_EMPTY_GROUP_PASS",details:void 0,message:"Password is mandatory to join a group.",name:void 0}},E.USERS_REQUEST_ERRORS={EMPTY_USERS_LIST:{code:"EMPTY_USERS_LIST",name:"EMPTY_USERS_LIST",message:"The users list needs to have atleast one UID.",details:{}}},E.MESSAGES_REQUEST_ERRORS={REQUEST_IN_PROGRESS_ERROR:{code:"REQUEST_IN_PROGRESS",name:"REQUEST_IN_PROGRESS",message:"Request in progress.",details:{}},NOT_ENOUGH_PARAMS:{code:"NOT_ENOUGH_PARAMETERS",name:"NOT_ENOUGH_PARAMETERS",message:"`Timestamp`, `MessageId` or `updatedAfter` is required to use the 'fetchNext()' method.",details:{}}},E.MESSAGE_ERRORS={INVALID_CUSTOM_DATA:{code:"-1",name:"%s_CUSTOM_DATA",message:"",details:{}}},E.LOGIN_ERROR={NOT_INITIALIZED:{code:"-1",name:"COMETCHAT_INITIALIZATION_NOT_DONE",message:"please initialize the cometchat before using login method.",details:{}},UNAUTHORISED:{code:401,name:"USER_NOT_AUTHORISED",message:"The `authToken` of the user is not authorised. Please verify again.",details:{}},WS_CONNECTION_FAIL:{code:-1,name:"WS_CONNECTION_FAIL",message:"WS Connection failed. %s",details:{}},WS_CONNECTION_FAIL_PORT_ERROR:{code:-1,name:"WS_CONNECTION_FAIL",message:"WS Connection failed. Trying to connect with port: %s",details:{}},WS_CONNECTION_FALLBACK_FAIL_PORT_ERROR:{code:-1,name:"WS_CONNECTION_FALLBACK_FAIL",message:"WS Connection fallback failed. Trying to connect with port: %s",details:{}},WS_AUTH_FAIL:{code:-1,name:"WS_AUTH_FAIL",message:"WS username/password not correct.",details:{}},NO_INTERNET:{code:-1,name:"NO_INTERNET_CONNECTION",message:"You do not have internet connection.",details:{}},REQUEST_IN_PROGRESS:{code:-1,name:"LOGIN_IN_PROGRESS",message:"Please wait until the previous login request ends.",details:{}}},E.TYPINGNOTIFICATION_CONSTANTS={TOO_MANY_REQUEST:{code:"TOO_MANY_REQUEST",name:"TOO MANY REQUEST",message:"too many request, wait for `%s` seconds before sending next request.",details:{}}},E.FETCH_ERROR={ERROR_IN_API_CALL:{code:"FAILED_TO_FETCH",name:"FAILED_TO_FETCH",message:"There is an unknown issue with the API request. Please check your internet connection and verify the api call.",details:{}}}},function(Me,E,i){"use strict";E.__esModule=!0,E.GroupsController=void 0;var y=i(8),p=i(1),v=i(0),C=function(){function h(){}return h.trasformJSONGroup=function(S){var T;try{T=new y.Group(S[p.GroupConstants.KEYS.GUID],S[p.GroupConstants.KEYS.NAME],S[p.GroupConstants.KEYS.TYPE]),S.wsChannel&&delete S.wsChannel,Object.assign(T,S),S=T}catch(w){v.Logger.error("GroupsController:transformJSONGroup",w)}return S},h}();E.GroupsController=C},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(I,P){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,B){x.__proto__=B}||function(x,B){for(var F in B)B.hasOwnProperty(F)&&(x[F]=B[F])})(I,P)},function(I,P){function x(){this.constructor=I}y(I,P),I.prototype=null===P?Object.create(P):(x.prototype=P.prototype,new x)}),v=this&&this.__assign||function(){return(v=Object.assign||function(I){for(var P,x=1,B=arguments.length;x<B;x++)for(var F in P=arguments[x])Object.prototype.hasOwnProperty.call(P,F)&&(I[F]=P[F]);return I}).apply(this,arguments)};E.__esModule=!0,E.TextMessage=void 0;var C=i(7),h=i(1),S=i(4),T=i(8),w=i(0),_=function(I){function P(x,B,F){var l=I.call(this,x,"text",F,h.MessageCategory.MESSAGE)||this;return l.type="text",l.data={text:B},l.text=B,l}return p(P,I),P.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},P.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch{return this.receiver}},P.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},P.prototype.setMetadata=function(x){this.metadata=x,this.data=v(v({},this.data),{metadata:x})},P.prototype.getData=function(){return this.data},P.prototype.setData=function(x){this.data=x},P.prototype.getText=function(){return this.text},P.prototype.setText=function(x){this.text=x,this.data.text=x},P.prototype.setProcessedText=function(x){this.processedText=x},P.prototype.getProcessedText=function(){return this.processedText},P.prototype.getTags=function(){return this.tags},P.prototype.setTags=function(x){this.tags=x},P.prototype.getSenderFromData=function(){try{var x=this.getData();if(x[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.SENDER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new S.User(x[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.SENDER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch(B){w.Logger.error("TextMessageModel: getSenderFromData",B)}},P.prototype.getReceiverFromData=function(){try{var x=this.getData(),B=x[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.RECEIVER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(x[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.RECEIVER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new S.User(B);var F=new T.Group(B[h.GroupConstants.KEYS.GUID],B[h.GroupConstants.KEYS.NAME],B[h.MessageConstatnts.KEYS.TYPE]);return Object.assign(F,B)}catch(l){w.Logger.error("TextMessageModel: getReceiverFromData",l)}},P.TYPE=h.MessageConstatnts.TYPE.TEXT,P.RECEIVER_TYPE=h.MessageConstatnts.RECEIVER_TYPE,P.CATEGORY=h.MessageConstatnts.CATEGORY.MESSAGE,P}(C.BaseMessage);E.TextMessage=_},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(P,x){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,F){B.__proto__=F}||function(B,F){for(var l in F)F.hasOwnProperty(l)&&(B[l]=F[l])})(P,x)},function(P,x){function B(){this.constructor=P}y(P,x),P.prototype=null===x?Object.create(x):(B.prototype=x.prototype,new B)}),v=this&&this.__assign||function(){return(v=Object.assign||function(P){for(var x,B=1,F=arguments.length;B<F;B++)for(var l in x=arguments[B])Object.prototype.hasOwnProperty.call(x,l)&&(P[l]=x[l]);return P}).apply(this,arguments)};E.__esModule=!0,E.MediaMessage=void 0;var C=i(7),h=i(1),S=i(4),T=i(18),w=i(8),_=i(0),I=function(P){function x(B,F,l,ee){var X=P.call(this,B,l,ee,h.MessageCategory.MESSAGE)||this;return X.data={},"object"!=typeof F?X.data={url:F}:X.file=F,X}return p(x,P),x.prototype.setCaption=function(B){this.caption=B,this.data[h.MessageConstatnts.KEYS.TEXT]=B},x.prototype.getCaption=function(){return this.data[h.MessageConstatnts.KEYS.TEXT]},x.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},x.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch{return this.receiver}},x.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},x.prototype.setMetadata=function(B){this.metadata=B,this.data=v(v({},this.data),{metadata:B})},x.prototype.getData=function(){return this.data},x.prototype.setData=function(B){this.data=B},x.prototype.getAttachment=function(){return new T.Attachment(this.data.attachments[0])},x.prototype.setAttachment=function(B){this.data.attachments=[B.toJSON(B)]},x.prototype.getURL=function(){try{var B=this.getData();if(B[h.MessageConstatnts.KEYS.URL])return B[h.MessageConstatnts.KEYS.URL]}catch(F){_.Logger.error("MediaMessageModel: getURL",F)}},x.prototype.getTags=function(){return this.tags},x.prototype.setTags=function(B){this.tags=B},x.prototype.getSenderFromData=function(){try{var B=this.getData();if(B[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.SENDER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new S.User(B[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.SENDER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch(F){_.Logger.error("MediaMessageModel: getSenderFromData",F)}},x.prototype.getReceiverFromData=function(){try{var B=this.getData(),F=B[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.RECEIVER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(B[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.RECEIVER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new S.User(F);var l=new w.Group(F[h.GroupConstants.KEYS.GUID],F[h.GroupConstants.KEYS.NAME],F[h.MessageConstatnts.KEYS.TYPE]);return Object.assign(l,F)}catch(ee){_.Logger.error("MediaMessageModel: getReceiverFromData",ee)}},x.TYPE=h.MessageConstatnts.TYPE,x.RECEIVER_TYPE=h.MessageConstatnts.RECEIVER_TYPE,x.CATEGORY=h.MessageConstatnts.CATEGORY,x}(C.BaseMessage);E.MediaMessage=I},function(Me,E,i){"use strict";E.__esModule=!0,E.Attachment=void 0;var y=i(1),p=function(){function v(C){C.hasOwnProperty(y.ATTACHMENTS_CONSTANTS.KEYS.EXTENSION)&&(this.extension=C[y.ATTACHMENTS_CONSTANTS.KEYS.EXTENSION]),C.hasOwnProperty(y.ATTACHMENTS_CONSTANTS.KEYS.MIME_TYPE)&&(this.mimeType=C[y.ATTACHMENTS_CONSTANTS.KEYS.MIME_TYPE]),C.hasOwnProperty(y.ATTACHMENTS_CONSTANTS.KEYS.NAME)&&(this.name=C[y.ATTACHMENTS_CONSTANTS.KEYS.NAME]),C.hasOwnProperty(y.ATTACHMENTS_CONSTANTS.KEYS.SIZE)&&(this.size=C[y.ATTACHMENTS_CONSTANTS.KEYS.SIZE]),C.hasOwnProperty(y.ATTACHMENTS_CONSTANTS.KEYS.URL)&&(this.url=C[y.ATTACHMENTS_CONSTANTS.KEYS.URL])}return v.prototype.createFileFromJSON=function(C){return new v(C)},v.prototype.toJSON=function(C){return{extension:C.getExtension(),mimeType:C.getMimeType(),name:C.getName(),url:C.getUrl(),size:C.getSize()}},v.prototype.getExtension=function(){return this.extension},v.prototype.setExtension=function(C){this.extension=C},v.prototype.getMimeType=function(){return this.mimeType},v.prototype.setMimeType=function(C){this.mimeType=C},v.prototype.getName=function(){return this.name},v.prototype.setName=function(C){this.name=C},v.prototype.getSize=function(){return this.size},v.prototype.setSize=function(C){this.size=C},v.prototype.getUrl=function(){return this.url},v.prototype.setUrl=function(C){this.url=C},v}();E.Attachment=p},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(I,P){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,B){x.__proto__=B}||function(x,B){for(var F in B)B.hasOwnProperty(F)&&(x[F]=B[F])})(I,P)},function(I,P){function x(){this.constructor=I}y(I,P),I.prototype=null===P?Object.create(P):(x.prototype=P.prototype,new x)}),v=this&&this.__assign||function(){return(v=Object.assign||function(I){for(var P,x=1,B=arguments.length;x<B;x++)for(var F in P=arguments[x])Object.prototype.hasOwnProperty.call(P,F)&&(I[F]=P[F]);return I}).apply(this,arguments)};E.__esModule=!0,E.CustomMessage=void 0;var C=i(7),h=i(1),S=i(4),T=i(0),w=i(8),_=function(I){function P(){for(var x=[],B=0;B<arguments.length;B++)x[B]=arguments[B];var F=this;if(3==x.length){var l=x[0],ee=x[1],X=x[2];F=I.call(this,l,h.MessageConstatnts.TYPE.CUSTOM,ee,h.MessageCategory.MESSAGE)||this,("object"!=typeof X||Array.isArray(X))&&(X={}),F.customData=X,T.isFalsy(F.data)&&(F.data={}),F.data[h.MessageConstatnts.KEYS.CUSTOM_DATA]=X}return 4==x.length&&(X=x[3],F=I.call(this,l=x[0],x[2],ee=x[1],h.MessageCategory.CUSTOM)||this,("object"!=typeof X||Array.isArray(X))&&(X={}),F.customData=X,T.isFalsy(F.data)&&(F.data={}),F.data[h.MessageConstatnts.KEYS.CUSTOM_DATA]=X),F}return p(P,I),P.prototype.getCustomData=function(){return this.customData},P.prototype.setCustomData=function(x){this.customData=x,this.data[h.MessageConstatnts.KEYS.CUSTOM_DATA]=x},P.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},P.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch{return this.receiver}},P.prototype.getSubType=function(){return this.subType},P.prototype.setSubType=function(x){this.subType=x,this.data=v(v({},this.data),{subType:x})},P.prototype.getMetadata=function(){return this.metadata},P.prototype.setMetadata=function(x){this.metadata=x,this.data=v(v({},this.data),{metadata:x})},P.prototype.getData=function(){return this.data},P.prototype.getTags=function(){return this.tags},P.prototype.setTags=function(x){this.tags=x},P.prototype.getSenderFromData=function(){try{var x=this.getData();if(x[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.SENDER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new S.User(x[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.SENDER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch(B){T.Logger.error("CustomMessageModel: getSenderFromData",B)}},P.prototype.getReceiverFromData=function(){try{var x=this.getData(),B=x[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.RECEIVER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(x[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][h.MessageConstatnts.KEYS.RECEIVER][h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[h.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new S.User(B);var F=new w.Group(B[h.GroupConstants.KEYS.GUID],B[h.GroupConstants.KEYS.NAME],B[h.MessageConstatnts.KEYS.TYPE]);return Object.assign(F,B)}catch(l){T.Logger.error("CustomMessageModel: getReceiverFromData",l)}},P}(C.BaseMessage);E.CustomMessage=_},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(P,x){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,F){B.__proto__=F}||function(B,F){for(var l in F)F.hasOwnProperty(l)&&(B[l]=F[l])})(P,x)},function(P,x){function B(){this.constructor=P}y(P,x),P.prototype=null===x?Object.create(x):(B.prototype=x.prototype,new B)}),v=this&&this.__assign||function(){return(v=Object.assign||function(P){for(var x,B=1,F=arguments.length;B<F;B++)for(var l in x=arguments[B])Object.prototype.hasOwnProperty.call(x,l)&&(P[l]=x[l]);return P}).apply(this,arguments)};E.__esModule=!0,E.Action=void 0;var C=i(7),h=i(8),S=i(4),T=i(1),w=i(0),_=i(10),I=function(P){function x(){return null!==P&&P.apply(this,arguments)||this}return p(x,P),x.actionFromJSON=function(B){var F=new this(B[T.MessageConstatnts.KEYS.RECEIVER],B[T.MessageConstatnts.KEYS.TYPE],B[T.MessageConstatnts.KEYS.RECEIVER_TYPE],T.MessageCategory.ACTION),l=B[T.MessageConstatnts.KEYS.DATA];if(F.data=l,F.setAction(l[T.MessageConstatnts.KEYS.ACTION]),l[T.ActionConstatnts.ACTION_KEYS.EXTRAS]){var ee=l[T.ActionConstatnts.ACTION_KEYS.EXTRAS];if(ee[T.ActionConstatnts.ACTION_KEYS.SCOPE]){var X=ee[T.ActionConstatnts.ACTION_KEYS.SCOPE];X[T.ActionConstatnts.ACTION_KEYS.NEW]&&X[T.ActionConstatnts.ACTION_KEYS.OLD]&&(F.setOldScope(X[T.ActionConstatnts.ACTION_KEYS.OLD]),F.setNewScope(X[T.ActionConstatnts.ACTION_KEYS.NEW]))}}l[T.MessageConstatnts.KEYS.METADATA]&&F.setMetadata(l[T.MessageConstatnts.KEYS.METADATA]);var Ie=l[T.ActionConstatnts.ACTION_KEYS.ENTITIES];if(Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY])if(Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][T.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==T.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var te=new S.User(Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][T.ActionConstatnts.ACTION_KEYS.ENTITY]);Object.assign(te,Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][T.ActionConstatnts.ACTION_KEYS.ENTITY]),F.actionBy=te,F.setSender(te)}else{var ae=new h.Group("","","");Object.assign(ae,Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][T.ActionConstatnts.ACTION_KEYS.ENTITY]),F.actionBy=ae}if(Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR]&&(Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][T.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==T.ActionConstatnts.ACTION_ENTITY_TYPE.USER?(te=new S.User(Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][T.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(te,Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][T.ActionConstatnts.ACTION_KEYS.ENTITY]),F.actionFor=te):(ae=new h.Group("","",""),Object.assign(ae,Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][T.ActionConstatnts.ACTION_KEYS.ENTITY]),F.actionFor=ae)),Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON])if(Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][T.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==T.ActionConstatnts.ACTION_ENTITY_TYPE.USER)te=new S.User(Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][T.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(te,Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][T.ActionConstatnts.ACTION_KEYS.ENTITY]),F.actionOn=te;else if(Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][T.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==T.ActionConstatnts.ACTION_ENTITY_TYPE.GROUP)ae=new h.Group("","",""),Object.assign(ae,Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][T.ActionConstatnts.ACTION_KEYS.ENTITY]),F.actionOn=ae;else if(Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][T.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==T.ActionConstatnts.ACTION_ENTITY_TYPE.MESSAGE){var ie=_.MessageController.trasformJSONMessge(Ie[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][T.ActionConstatnts.ACTION_KEYS.ENTITY]);F.actionOn=ie}return F.setMessage(F.getActionMessage(F)),F},x.prototype.getOldScope=function(){return this.oldScope},x.prototype.setOldScope=function(B){this.oldScope=B},x.prototype.getNewScope=function(){return this.newScope},x.prototype.setNewScope=function(B){this.newScope=B},x.prototype.getRawData=function(){return this.rawData},x.prototype.setRawData=function(B){this.rawData=B},x.prototype.getMessage=function(){return this.message},x.prototype.setMessage=function(B){this.message=B},x.prototype.getAction=function(){return this.action},x.prototype.setAction=function(B){this.action=B},x.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},x.prototype.getActionBy=function(){return this.actionBy},x.prototype.setActionBy=function(B){this.actionBy=B},x.prototype.getActionOn=function(){return this.actionOn},x.prototype.setActionOn=function(B){this.actionOn=B},x.prototype.getActionFor=function(){return this.actionFor},x.prototype.setActionFor=function(B){this.actionFor=B},x.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},x.prototype.setMetadata=function(B){this.metadata=B,this.data=v(v({},this.data),{metadata:B})},x.prototype.getActionMessage=function(B){var F="";switch(B.getType()){case T.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_USER:case T.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP:B.getAction();break;case T.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP_MEMBER:switch(B.getAction()){case T.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_JOINED:var l=B.getActionBy();F=w.format(T.ActionConstatnts.ActionMessages.ACTION_GROUP_JOINED_MESSAGE,l.getName());break;case T.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_LEFT:l=B.getActionBy(),F=w.format(T.ActionConstatnts.ActionMessages.ACTION_GROUP_LEFT_MESSAGE,l.getName());break;case T.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_KICKED:l=B.getActionBy();var ee=B.getActionOn();F=w.format(T.ActionConstatnts.ActionMessages.ACTION_MEMBER_KICKED_MESSAGE,l.getName(),ee.getName());break;case T.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_BANNED:l=B.getActionBy(),ee=B.getActionOn(),F=w.format(T.ActionConstatnts.ActionMessages.ACTION_MEMBER_BANNED_MESSAGE,l.getName(),ee.getName());break;case T.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_UNBANNED:l=B.getActionBy(),ee=B.getActionOn(),F=w.format(T.ActionConstatnts.ActionMessages.ACTION_MEMBER_UNBANNED_MESSAGE,l.getName(),ee.getName());break;case T.ActionConstatnts.ACTION_KEYS.ACTION_SCOPE_CHANGED:l=B.getActionBy(),ee=B.getActionOn();var X=B.getNewScope();F=w.format(T.ActionConstatnts.ActionMessages.ACTION_MEMBER_SCOPE_CHANGED,l.getName(),ee.getName(),X);break;case T.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_ADDED:l=B.getActionBy(),ee=B.getActionOn(),F=w.format(T.ActionConstatnts.ActionMessages.ACTION_MEMBER_ADDED_TO_GROUP,l.getName(),ee.getName());break;case T.ActionConstatnts.ACTION_KEYS.TYPE_MESSAGE_EDITED:F=w.format(T.ActionConstatnts.ActionMessages.ACTION_MESSAGE_EDITED_MESSAGE,"");break;case T.ActionConstatnts.ACTION_KEYS.TYPE_MESSAGE_DELETED:F=w.format(T.ActionConstatnts.ActionMessages.ACTION_MESSAGE_DELETED_MESSAGE,"")}}return F},x.prototype.getSenderFromData=function(){var B=this.data[T.ActionConstatnts.ACTION_KEYS.ENTITIES];if(B[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY]&&B[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][T.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==T.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var F=new S.User(B[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][T.ActionConstatnts.ACTION_KEYS.ENTITY]);return Object.assign(F,B[T.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][T.ActionConstatnts.ACTION_KEYS.ENTITY]),F}},x.TYPE=T.MessageConstatnts.TYPE,x.RECEIVER_TYPE=T.MessageConstatnts.RECEIVER_TYPE,x.CATEGORY=T.MessageConstatnts.CATEGORY,x.ACTION_TYPE=T.ActionConstatnts.ACTION_TYPE,x}(C.BaseMessage);E.Action=I},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(I,P){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,B){x.__proto__=B}||function(x,B){for(var F in B)B.hasOwnProperty(F)&&(x[F]=B[F])})(I,P)},function(I,P){function x(){this.constructor=I}y(I,P),I.prototype=null===P?Object.create(P):(x.prototype=P.prototype,new x)}),v=this&&this.__assign||function(){return(v=Object.assign||function(I){for(var P,x=1,B=arguments.length;x<B;x++)for(var F in P=arguments[x])Object.prototype.hasOwnProperty.call(P,F)&&(I[F]=P[F]);return I}).apply(this,arguments)};E.__esModule=!0,E.Call=void 0;var C=i(7),h=i(8),S=i(1),T=i(0),w=i(4),_=function(I){function P(x,B,F,l){return T.isFalsy(l)?I.call(this,x,B,F,S.MessageCategory.CALL)||this:I.call(this,x,B,F,l)||this}return p(P,I),P.prototype.getCallInitiator=function(){return this.getCallInitiatedByFromData()},P.prototype.setCallInitiator=function(x){this.callInitiator=x},P.prototype.getCallReceiver=function(){return this.getCallReceivedByFromData()},P.prototype.setCallReceiver=function(x){this.callReceiver=x},P.prototype.getData=function(){return this.data},P.prototype.setData=function(x){this.data=x},P.prototype.getSessionId=function(){return this.sessionId},P.prototype.setSessionId=function(x){this.sessionId=x},P.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},P.prototype.setMetadata=function(x){this.metadata=x,this.data=v(v({},this.data),{metadata:x})},P.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},P.prototype.getAction=function(){return this.action},P.prototype.setAction=function(x){this.action=x},P.prototype.getInitiatedAt=function(){return this.initiatedAt},P.prototype.setInitiatedAt=function(x){this.initiatedAt=x},P.prototype.getJoinedAt=function(){return this.joinedAt},P.prototype.setJoinedAt=function(x){this.joinedAt=x},P.prototype.getRawData=function(){return this.rawData},P.prototype.setRawData=function(x){this.rawData=x},P.callFromJSON=function(x){try{var B=new this(x[S.MessageConstatnts.KEYS.RECEIVER],x[S.MessageConstatnts.KEYS.TYPE],x[S.MessageConstatnts.KEYS.RECEIVER_TYPE],S.MessageCategory.CALL),F=x[S.MessageConstatnts.KEYS.DATA];B.setAction(F[S.MessageConstatnts.KEYS.ACTION]),F[S.MessageConstatnts.KEYS.METADATA]&&B.setMetadata(F[S.MessageConstatnts.KEYS.METADATA]);var l=F[S.ActionConstatnts.ACTION_KEYS.ENTITIES];if(l[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON]){var ee=l[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON];if(ee[S.CallConstants.CALL_KEYS.CALL_ENTITY]){var X=ee[S.CallConstants.CALL_KEYS.CALL_ENTITY];if(X[S.CallConstants.CALL_KEYS.CALL_SESSION_ID]&&(B.sessionId=X[S.CallConstants.CALL_KEYS.CALL_SESSION_ID]),X[S.CallConstants.CALL_KEYS.CALL_STATUS]&&(B.status=X[S.CallConstants.CALL_KEYS.CALL_STATUS]),X[S.CallConstants.CALL_KEYS.CALL_DATA]){var Ie=X[S.CallConstants.CALL_KEYS.CALL_DATA];Ie[S.CallConstants.CALL_KEYS.CALL_METADATA]&&(B.metadata=Ie[S.CallConstants.CALL_KEYS.CALL_METADATA])}X[S.CallConstants.CALL_KEYS.CALL_INITIATED_AT]&&(B.initiatedAt=X[S.CallConstants.CALL_KEYS.CALL_INITIATED_AT]),X[S.CallConstants.CALL_KEYS.CALL_JOINED_AT]&&(B.joinedAt=X[S.CallConstants.CALL_KEYS.CALL_JOINED_AT]),X[S.CallConstants.CALL_KEYS.CALL_LEFT_AT]&&(B.joinedAt=X[S.CallConstants.CALL_KEYS.CALL_LEFT_AT])}}return B}catch(te){T.Logger.error("CallModel: callFromJSON",te)}},P.prototype.getSenderFromData=function(){try{var x=this.getData();if((x=x[S.ActionConstatnts.ACTION_KEYS.ENTITIES])[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][S.CallConstants.CALL_KEYS.CALL_ENTITY])return new w.User(x[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][S.CallConstants.CALL_KEYS.CALL_ENTITY])}catch(B){T.Logger.error("CallModel:getSenderFromData",B)}},P.prototype.getCallInitiatedByFromData=function(){try{var x=this.getData();if((x=x[S.ActionConstatnts.ACTION_KEYS.ENTITIES])[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][S.CallConstants.CALL_KEYS.CALL_ENTITY][S.CallConstants.CALL_KEYS.CALL_DATA][S.ActionConstatnts.ACTION_KEYS.ENTITIES][S.CallConstants.CALL_KEYS.CALL_SENDER])return new w.User(x[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][S.CallConstants.CALL_KEYS.CALL_ENTITY][S.CallConstants.CALL_KEYS.CALL_DATA][S.ActionConstatnts.ACTION_KEYS.ENTITIES][S.CallConstants.CALL_KEYS.CALL_SENDER][S.CallConstants.CALL_KEYS.CALL_ENTITY])}catch(B){T.Logger.error("CallModel:getCallInitiatedByFromData",B)}},P.prototype.getCallReceivedByFromData=function(){try{var x=this.getData();if((x=x[S.ActionConstatnts.ACTION_KEYS.ENTITIES])[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][S.CallConstants.CALL_KEYS.CALL_ENTITY]){if(x[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][S.CallConstants.CALL_KEYS.CALL_ENTITY_TYPE]==S.CallConstants.CALL_KEYS.CALL_ENTITY_USER)return new w.User(x[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][S.CallConstants.CALL_KEYS.CALL_ENTITY]);var B=new h.Group(x[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][S.CallConstants.CALL_KEYS.CALL_ENTITY][S.GroupConstants.KEYS.GUID],x[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][S.CallConstants.CALL_KEYS.CALL_ENTITY][S.GroupConstants.KEYS.NAME],x[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][S.CallConstants.CALL_KEYS.CALL_ENTITY][S.GroupConstants.KEYS.TYPE]);return Object.assign(B,x[S.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][S.CallConstants.CALL_KEYS.CALL_ENTITY])}}catch(F){T.Logger.error("CallModel:getCallReceivedByFromData",F)}},P.TYPE=S.MessageConstatnts.TYPE,P.RECEIVER_TYPE=S.MessageConstatnts.RECEIVER_TYPE,P.CATEGORY=S.MessageConstatnts.CATEGORY,P.ACTION_TYPE=S.ActionConstatnts.ACTION_TYPE,P}(C.BaseMessage);E.Call=_},function(Me,E,i){"use strict";E.__esModule=!0,E.MessageReceipt=void 0;var y=function(){function p(){this.RECEIPT_TYPE={READ_RECEIPT:"read",DELIVERY_RECEIPT:"delivery"},this.receiptType=this.RECEIPT_TYPE.DELIVERY_RECEIPT}return p.prototype.getReceiverType=function(){return this.receiverType},p.prototype.setReceiverType=function(v){this.receiverType=v},p.prototype.getSender=function(){return this.sender},p.prototype.setSender=function(v){this.sender=v},p.prototype.getReceiver=function(){return this.receiver},p.prototype.setReceiver=function(v){this.receiver=v},p.prototype.getTimestamp=function(){return this.timestamp},p.prototype.setTimestamp=function(v){this.timestamp=v},p.prototype.setReadAt=function(v){this.readAt=v},p.prototype.getReadAt=function(){return this.readAt},p.prototype.setDeliveredAt=function(v){this.deliveredAt=v},p.prototype.getDeliveredAt=function(){return this.deliveredAt},p.prototype.getMessageId=function(){return this.messageId},p.prototype.setMessageId=function(v){this.messageId=v},p.prototype.getReceiptType=function(){return this.receiptType},p.prototype.setReceiptType=function(v){void 0===v&&(v=this.RECEIPT_TYPE.DELIVERY_RECEIPT),this.receiptType=v},p}();E.MessageReceipt=y},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(te,ae){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,pe){ie.__proto__=pe}||function(ie,pe){for(var Oe in pe)pe.hasOwnProperty(Oe)&&(ie[Oe]=pe[Oe])})(te,ae)},function(te,ae){function ie(){this.constructor=te}y(te,ae),te.prototype=null===ae?Object.create(ae):(ie.prototype=ae.prototype,new ie)});E.__esModule=!0,E.WSConnectionListener=E.UserLoginListener=E.CallsListener=E.UserCallListener=E.GroupsListener=E.UsersListener=E.MessagesListener=E.Listener=E.ConnectionListener=E.LoginListener=E.OngoingCallListener=E.GroupListener=E.UserListener=E.CallListener=E.MessageListener=void 0;var v=i(0);E.MessageListener=function(){for(var te=[],ae=0;ae<arguments.length;ae++)te[ae]=arguments[ae];this.onTextMessageReceived=void 0,this.onMediaMessageReceived=void 0,this.onCustomMessageReceived=void 0,this.onTypingStarted=void 0,this.onTypingEnded=void 0,this.onMessagesDelivered=void 0,this.onMessagesRead=void 0,this.onMessageEdited=void 0,this.onMessageDeleted=void 0,this.onTransientMessageReceived=void 0,v.isFalsy(te[0].onTextMessageReceived)||(this.onTextMessageReceived=te[0].onTextMessageReceived),v.isFalsy(te[0].onMediaMessageReceived)||(this.onMediaMessageReceived=te[0].onMediaMessageReceived),v.isFalsy(te[0].onTypingStarted)||(this.onTypingStarted=te[0].onTypingStarted),v.isFalsy(te[0].onTypingEnded)||(this.onTypingEnded=te[0].onTypingEnded),v.isFalsy(te[0].onMessagesDelivered)||(this.onMessagesDelivered=te[0].onMessagesDelivered),v.isFalsy(te[0].onMessagesRead)||(this.onMessagesRead=te[0].onMessagesRead),v.isFalsy(te[0].onCustomMessageReceived)||(this.onCustomMessageReceived=te[0].onCustomMessageReceived),v.isFalsy(te[0].onMessageEdited)||(this.onMessageEdited=te[0].onMessageEdited),v.isFalsy(te[0].onMessageDeleted)||(this.onMessageDeleted=te[0].onMessageDeleted),v.isFalsy(te[0].onTransientMessageReceived)||(this.onTransientMessageReceived=te[0].onTransientMessageReceived)};E.CallListener=function(){for(var te=[],ae=0;ae<arguments.length;ae++)te[ae]=arguments[ae];this.onIncomingCallReceived=void 0,this.onOutgoingCallAccepted=void 0,this.onOutgoingCallRejected=void 0,this.onIncomingCallCancelled=void 0,v.isFalsy(te[0].onIncomingCallReceived)||(this.onIncomingCallReceived=te[0].onIncomingCallReceived),v.isFalsy(te[0].onOutgoingCallAccepted)||(this.onOutgoingCallAccepted=te[0].onOutgoingCallAccepted),v.isFalsy(te[0].onOutgoingCallRejected)||(this.onOutgoingCallRejected=te[0].onOutgoingCallRejected),v.isFalsy(te[0].onIncomingCallCancelled)||(this.onIncomingCallCancelled=te[0].onIncomingCallCancelled)};E.UserListener=function(){for(var te=[],ae=0;ae<arguments.length;ae++)te[ae]=arguments[ae];v.isFalsy(te[0].onUserOnline)||(this.onUserOnline=te[0].onUserOnline),v.isFalsy(te[0].onUserOffline)||(this.onUserOffline=te[0].onUserOffline)};E.GroupListener=function(){for(var te=[],ae=0;ae<arguments.length;ae++)te[ae]=arguments[ae];v.isFalsy(te[0].onGroupMemberJoined)||(this.onGroupMemberJoined=te[0].onGroupMemberJoined),v.isFalsy(te[0].onGroupMemberLeft)||(this.onGroupMemberLeft=te[0].onGroupMemberLeft),v.isFalsy(te[0].onGroupMemberKicked)||(this.onGroupMemberKicked=te[0].onGroupMemberKicked),v.isFalsy(te[0].onGroupMemberBanned)||(this.onGroupMemberBanned=te[0].onGroupMemberBanned),v.isFalsy(te[0].onGroupMemberUnbanned)||(this.onGroupMemberUnbanned=te[0].onGroupMemberUnbanned),v.isFalsy(te[0].onGroupMemberScopeChanged)||(this.onGroupMemberScopeChanged=te[0].onGroupMemberScopeChanged),v.isFalsy(te[0].onMemberAddedToGroup)||(this.onGroupMemberAddedToGroup=te[0].onMemberAddedToGroup)};E.OngoingCallListener=function(){for(var te=[],ae=0;ae<arguments.length;ae++)te[ae]=arguments[ae];v.isFalsy(te[0].onYouLeft)||(this.onYouLeft=te[0].onYouLeft),v.isFalsy(te[0].onYouJoined)||(this.onYouJoined=te[0].onYouJoined),v.isFalsy(te[0].onUserJoined)||(this.onUserJoined=te[0].onUserJoined),v.isFalsy(te[0].onUserLeft)||(this.onUserLeft=te[0].onUserLeft),v.isFalsy(te[0].onUserListUpdated)||(this.onUserListUpdated=te[0].onUserListUpdated),v.isFalsy(te[0].onMediaDeviceListUpdated)||(this.onMediaDeviceListUpdated=te[0].onMediaDeviceListUpdated),v.isFalsy(te[0].onRecordingStarted)||(this.onRecordingStarted=te[0].onRecordingStarted),v.isFalsy(te[0].onRecordingStopped)||(this.onRecordingStopped=te[0].onRecordingStopped),v.isFalsy(te[0].onScreenShareStarted)||(this.onScreenShareStarted=te[0].onScreenShareStarted),v.isFalsy(te[0].onScreenShareStopped)||(this.onScreenShareStopped=te[0].onScreenShareStopped),v.isFalsy(te[0].onUserMuted)||(this.onUserMuted=te[0].onUserMuted),v.isFalsy(te[0].onCallEnded)||(this.onCallEnded=te[0].onCallEnded),v.isFalsy(te[0].onError)||(this.onError=te[0].onError)};E.LoginListener=function(){for(var te=[],ae=0;ae<arguments.length;ae++)te[ae]=arguments[ae];v.isFalsy(te[0].loginSuccess)||(this.loginSuccess=te[0].loginSuccess),v.isFalsy(te[0].loginFailure)||(this.loginFailure=te[0].loginFailure),v.isFalsy(te[0].logoutSuccess)||(this.logoutSuccess=te[0].logoutSuccess),v.isFalsy(te[0].logoutFailure)||(this.logoutFailure=te[0].logoutFailure)};E.ConnectionListener=function(){for(var te=[],ae=0;ae<arguments.length;ae++)te[ae]=arguments[ae];this.onConnected=void 0,this.inConnecting=void 0,this.onDisconnected=void 0,this.onFeatureThrottled=void 0,v.isFalsy(te[0].onConnected)||(this.onConnected=te[0].onConnected),v.isFalsy(te[0].inConnecting)||(this.inConnecting=te[0].inConnecting),v.isFalsy(te[0].onDisconnected)||(this.onDisconnected=te[0].onDisconnected),v.isFalsy(te[0].onFeatureThrottled)||(this.onFeatureThrottled=te[0].onFeatureThrottled)};var P=function(te,ae){this._name=te,this._callback=ae},x=function(te){function ae(ie,pe,Oe,Q){var Ee=te.call(this,ie,Q)||this;return Ee._eventListener=pe,Oe&&(Ee._cursor=Oe),Ee}return p(ae,te),ae}(E.Listener=P);E.MessagesListener=x;var B=function(te){function ae(ie,pe,Oe,Q){var Ee=te.call(this,ie,Q)||this;return Ee._eventListener=pe,Oe&&(Ee._cursor=Oe),Ee}return p(ae,te),ae}(P);E.UsersListener=B;var F=function(te){function ae(ie,pe,Oe,Q){var Ee=te.call(this,ie,Q)||this;return Ee._eventListener=pe,Oe&&(Ee._cursor=Oe),Ee}return p(ae,te),ae}(P);E.GroupsListener=F;var l=function(te){function ae(ie,pe,Oe){var Q=te.call(this,"callListner",Oe)||this;return Q._eventListener=ie,Q}return p(ae,te),ae}(P);E.UserCallListener=l;var ee=function(te){function ae(ie,pe,Oe,Q){var Ee=te.call(this,ie,Q)||this;return Ee._eventListener=pe,Ee}return p(ae,te),ae}(P);E.CallsListener=ee;var X=function(te){function ae(ie,pe,Oe,Q){var Ee=te.call(this,ie,Q)||this;return Ee._eventListener=pe,Oe&&(Ee._cursor=Oe),Ee}return p(ae,te),ae}(P);E.UserLoginListener=X;var Ie=function(te){function ae(ie,pe,Oe,Q){var Ee=te.call(this,ie,Q)||this;return Ee._eventListener=pe,Oe&&(Ee._cursor=Oe),Ee}return p(ae,te),ae}(P);E.WSConnectionListener=Ie},function(Me,E,i){"use strict";E.__esModule=!0,E.ConversationController=void 0;var y=i(35),p=i(0),v=function(){function C(){}return C.trasformJSONConversation=function(h,S,T,w,_,I){var P;try{P=new y.Conversation(h,S,T,w,_,I)}catch(x){p.Logger.error("ConversationController:transformJSONConversation",x)}return P},C}();E.ConversationController=v},function(Me,E,i){"use strict";E.__esModule=!0,E.MessageListnerMaping=void 0;var y=i(0),p=i(1),v=i(13),C=i(3),h=function(){function S(T){this.store=p.constants.DEFAULT_STORE,y.isFalsy(T)||(this.store=T),this.settingsStore=v.createInstance({name:y.format(p.LOCAL_STORE.STORE_STRING,C.CometChat.getAppId(),p.LOCAL_STORE.MESSAGE_LISTENERS_LIST)}),this.settingsStore.setDriver([v.LOCALSTORAGE,v.INDEXEDDB,v.WEBSQL])}return S.getInstance=function(){return null==S.settingsStore&&(S.settingsStore=new S),S.settingsStore},S.prototype.set=function(T,w){return this.settingsStore.setItem(T,w)},S.prototype.remove=function(T){this.settingsStore.removeItem(T)},S.prototype.get=function(T){return this.settingsStore.getItem(T)},S.prototype.clearStore=function(){return this.settingsStore.clear()},S.prototype.clear=function(T){},S.prototype.selectStore=function(T){this.store=T},S.settingsStore=null,S}();E.MessageListnerMaping=h},function(Me,E,i){"use strict";E.__esModule=!0,E.TypingIndicator=void 0;var y=function(){function p(v,C,h){this.receiverId=v,this.receiverType=C,this.metadata=h}return p.prototype.getReceiverType=function(){return this.receiverType},p.prototype.setReceiverType=function(v){this.receiverType=v},p.prototype.getReceiverId=function(){return this.receiverId},p.prototype.setReceiverId=function(v){this.receiverId=v},p.prototype.getMetadata=function(){return this.metadata},p.prototype.setMetadata=function(v){this.metadata=v},p.prototype.getSender=function(){return this.sender},p.prototype.setSender=function(v){this.sender=v},p}();E.TypingIndicator=y},function(Me,E,i){"use strict";E.__esModule=!0,E.TransientMessage=void 0;var y=function(){function p(v,C,h){this.receiverId=v,this.receiverType=C,this.data=h||{}}return p.prototype.getReceiverId=function(){return this.receiverId},p.prototype.setReceiverId=function(v){this.receiverId=v},p.prototype.getReceiverType=function(){return this.receiverType},p.prototype.setReceiverType=function(v){this.receiverType=v},p.prototype.getData=function(){return this.data},p.prototype.setData=function(v){this.data=v},p.prototype.getSender=function(){return this.sender},p.prototype.setSender=function(v){this.sender=v},p}();E.TransientMessage=y},function(Me,E,i){"use strict";E.__esModule=!0,E.EndpointFactory=void 0;var y=i(0),p=i(1),v=i(12),C=i(3),h=i(2),S=function(){function T(){this.baseUrl="https://%s.apiclient-%s.cometchat.io/",this.apiVersion=p.APPINFO.apiVersion,this.adminApiUrl="https://%s.api-%s.cometchat.io/",this.adminApiVersion=p.APPINFO.apiVersion,this.extensionApi="https://%s-%s.cometchat.io/%s",this.prosodyApi="https://%s.%s/%s",this.wsApi="https://%s/%s",this.uriEndpoints={authToken:{endpoint:"users/{{uid}}/auth_tokens",method:"POST",data:{uid:"string|max:100"},isAdminApi:!0},appSettings:{endpoint:"settings",method:"GET"},login:{endpoint:"admin/users/auth",method:"POST",data:{uid:"string|max:100"}},logout:{endpoint:"admin/users/auth/{{authToken}}",method:"DELETE"},getMyDetails:{endpoint:"me",method:"GET"},updateMyDetails:{endpoint:"me",method:"PUT"},getJWT:{endpoint:"me/jwt",method:"POST"},users:{endpoint:"users",method:"GET"},user:{endpoint:"users/{{uid}}",method:"GET"},blockUsers:{endpoint:"blockedusers",method:"POST"},blockedUsersList:{endpoint:"blockedusers",method:"GET"},unblockUsers:{endpoint:"blockedusers",method:"DELETE"},userLogout:{endpoint:"me",method:"DELETE"},createUser:{endpoint:"users",method:"POST",isAdminApi:!0},updateUser:{endpoint:"users/{{uid}}",method:"PUT",isAdminApi:!0},sendFriendRequests:{endpoint:"user/friends",method:"POST",data:{uids:"array<string|max:100>"}},getFriends:{endpoint:"user/friends",method:"GET"},unfriend:{endpoint:"user/friends/{{uid}}/{{gid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},acceptFriendRequest:{endpoint:"user/friends/{{uid}}/accept",method:"PUT",data:{uids:"array<string|max:100>"}},rejectFriendRequest:{endpoint:"user/friends/{{uid}}/reject",method:"DELETE",data:{uids:"array<string|max:100>"}},createGroup:{endpoint:"groups",method:"POST",data:{guid:"required|string|max:100",name:"required|string|max:100",type:"enum|public,protected,password",password:"filled|string|max:100"}},getGroups:{endpoint:"groups",method:"GET"},getGroup:{endpoint:"groups/{{guid}}",method:"GET"},updateGroup:{endpoint:"groups/{{guid}}",method:"PUT"},deleteGroup:{endpoint:"groups/{{guid}}",method:"DELETE"},addGroupMembers:{endpoint:"groups/{{guid}}/members",method:"POST",data:{uids:"array<string|max:100>"}},getGroupMembers:{endpoint:"groups/{{guid}}/members",method:"GET"},joinGroup:{endpoint:"groups/{{guid}}/members",method:"POST"},leaveGroup:{endpoint:"groups/{{guid}}/members",method:"DELETE"},kickGroupMembers:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},changeScopeOfMember:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"PUT",data:{uids:"array<string|max:100>"}},banGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"POST",data:{uids:"array<string|max:100>"}},unbanGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},addMemebersToGroup:{endpoint:"groups/{{guid}}/members",method:"PUT"},getBannedGroupMembers:{endpoint:"groups/{{guid}}/bannedusers",method:"GET"},promotemoteGroupMember:{endpoint:"groups/{{guid}}/promote",method:"PUT",data:{uids:"array<string|max:100>"}},demoteGroupMember:{endpoint:"groups/{{guid}}/demote",method:"DELETE",data:{uids:"array<string|max:100>"}},transferOwnership:{endpoint:"groups/{{guid}}/owner",method:"PATCH"},sendMessage:{endpoint:"messages",method:"POST",data:{sender:"array:string:max:100>",isGroupMember:"filled|boolean|bail",data:"required|json"}},sendMessageInThread:{endpoint:"messages/{{parentId}}/thread",method:"POST",data:{sender:"array:string:max:100>",isGroupMember:"filled|boolean|bail",data:"required|json"}},getMessages:{endpoint:"messages",method:"GET"},getMessageDetails:{endpoint:"messages/{{messageId}}",method:"GET"},getUserMessages:{endpoint:"users/{{listId}}/messages",method:"GET"},getGroupMessages:{endpoint:"groups/{{listId}}/messages",method:"GET"},getThreadMessages:{endpoint:"messages/{{listId}}/thread",method:"GET"},getMessage:{endpoint:"user/messages/{{muid}}",method:"GET"},updateMessage:{endpoint:"messages/{{messageId}}",method:"PUT"},deleteMessage:{endpoint:"messages/{{messageId}}",method:"DELETE"},createCallSession:{endpoint:"calls",method:"POST",data:{}},updateCallSession:{endpoint:"calls/{{sessionid}}",method:"put",data:{}},getConversations:{endpoint:"conversations",method:"GET"},getUserConversation:{endpoint:"users/{{uid}}/conversation",method:"GET"},getGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"GET"},deleteUserConversation:{endpoint:"users/{{uid}}/conversation",method:"DELETE"},deleteGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"DELETE"},updateUserConversation:{endpoint:"users/{{uid}}/conversation",method:"PUT"},updateGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"PUT"}}}return T.prototype.getEndpointData=function(w){return new Promise(function(_,I){try{v.LocalStorage.getInstance().get(p.LOCAL_STORE.KEY_APP_SETTINGS).then(function(P){if(y.isFalsy(P)){var x={};if((new T).uriEndpoints.hasOwnProperty(w))if((x=(new T).uriEndpoints[w]).hasOwnProperty("isAdminApi")){var B=y.format((new T).adminApiUrl,C.CometChat.getAppId(),C.CometChat.appSettings.getRegion())+(new T).adminApiVersion+"/"+x.endpoint;x.endpoint=B}else B=y.format((new T).baseUrl,C.CometChat.getAppId(),C.CometChat.appSettings.getRegion())+(new T).apiVersion+"/"+x.endpoint,x.endpoint=B;_(x)}else x={},(new T).uriEndpoints.hasOwnProperty(w)&&((x=(new T).uriEndpoints[w]).hasOwnProperty("isAdminApi")?x.endpoint="https://"+P[p.APP_SETTINGS.KEYS.ADMIN_API_HOST]+"/"+(new T).adminApiVersion+"/"+x.endpoint:(B="https://"+P[p.APP_SETTINGS.KEYS.CLIENT_API_HOST]+"/"+(new T).apiVersion+"/"+x.endpoint,x.endpoint=B)),_(x)},function(P){var x;(new T).uriEndpoints.hasOwnProperty(w)&&(x.endpoint=(x=(new T).uriEndpoints[w]).hasOwnProperty(["isAdminApi"])?y.format((new T).adminApiUrl,C.CometChat.getAppId(),C.CometChat.appSettings.getRegion())+(new T).adminApiVersion+"/"+x.endpoint:y.format((new T).baseUrl,C.CometChat.getAppId(),C.CometChat.appSettings.getRegion())+(new T).apiVersion+"/"+x.endpoint),_(x)})}catch(P){I(new h.CometChatException(P))}})},T}();E.EndpointFactory=S},function(Me,E,i){"use strict";E.__esModule=!0,E.getEndPoint=void 0;var y=i(28),p=i(2);E.getEndPoint=function(v,C){void 0===v&&(v=""),void 0===C&&(C={});var h=new y.EndpointFactory;return new Promise(function(S,T){try{h.getEndpointData(v).then(function(w){var _=w;if(_){for(var I in C)_.endpoint=_.endpoint.replace("{{"+I+"}}",C[I]);S(_)}else T({error:"Unknown endPoint name."})})}catch(w){T(new p.CometChatException(w))}})}},function(Me,E,i){"use strict";E.__esModule=!0,E.KeyStore=void 0;var y=i(3),p=i(0),v=i(1),C=i(13),h=i(2),S=function(){function T(w){this.store=v.constants.DEFAULT_STORE,p.isFalsy(w)||(this.store=w),this.keyStore=C.createInstance({name:p.format(v.LOCAL_STORE.STORE_STRING,y.CometChat.getAppId(),v.LOCAL_STORE.KEYS_STORE)}),this.keyStore.setDriver([C.LOCALSTORAGE,C.INDEXEDDB,C.WEBSQL])}return T.getInstance=function(){return null==T.KeyStore&&(T.KeyStore=new T),T.KeyStore},T.prototype.set=function(w,_){return this.keyStore.setItem(w,_)},T.prototype.remove=function(w){this.keyStore.removeItem(w)},T.prototype.get=function(w){var _=this;return new Promise(function(I,P){try{_.keyStore.getItem(w).then(function(x){try{I(JSON.parse(x))}catch{I(x)}},function(x){P(x)})}catch(x){P(new h.CometChatException(x))}})},T.prototype.clearStore=function(){return this.keyStore.clear()},T}();E.KeyStore=S},function(Me,E,i){"use strict";E.__esModule=!0,E.CallController=void 0;var y=i(1),p=i(0),v=i(3),C=i(2),h=i(23),S=i(12),T=i(32),w=i(4),_=function(){function I(){this.TAG="calling Log",this.CALL_NO_ANSWER_INTERVAL=45e3,this.view=void 0,this.isDev=!1}return I.prototype.getCallListner=function(){return I.callListner},I.prototype.setCallListner=function(P){I.callListner=new h.UserCallListener(P)},I.getInstance=function(){try{return null!=this.callController&&null!=this.callController||(this.callController=new I),this.callController}catch(P){p.Logger.error("CallController: getInstance",P)}},I.prototype.getActiveCall=function(){try{return p.isFalsy(this.call)?null:this.call}catch(P){p.Logger.error("CallController: getActiveCall",P)}},I.prototype.initiateCall=function(P){var x=this;return new Promise(function(B,F){try{p.isFalsy(x.call)?null!=P&&null!=P?(x.call=P,x.startCallTimer(),B(P)):F(new C.CometChatException(y.CALL_ERROR.ERROR_IN_CALLING)):F(new C.CometChatException(y.CALL_ERROR.CALL_ALREADY_INITIATED))}catch(l){F(new C.CometChatException(l))}})},I.prototype.endCall=function(P){var x=this;try{document.getElementsByName("frame").forEach(function(B){x.view&&(x.view.removeChild(B),x.view=void 0)}),this.endCallSession()}catch(B){p.Logger.error("CallController: endCall",B)}},I.prototype.onCallStarted=function(P){var x=this;return new Promise(function(B,F){try{p.isFalsy(x.call)?null!=P&&null!=P?B(x.call=P):F(new C.CometChatException(y.CALL_ERROR.ERROR_IN_CALLING)):F(new C.CometChatException(y.CALL_ERROR.CALL_ALREADY_INITIATED))}catch(l){F(new C.CometChatException(l))}})},I.prototype.endCallSession=function(){try{this.call=void 0,I.callController=void 0,this.timer&&this.stopCallTimer(),this.view=void 0,this.removeListener(),I.callScreen=null,I.callSettings=null}catch(P){p.Logger.error("CallController:EndCallSession",{e:P})}},I.prototype.startCallTimer=function(){var P=this;try{this.timer=setTimeout(function(){P.call?v.CometChat.sendUnansweredResponse(P.call.getSessionId()).then(function(x){P.endCallSession()},function(x){P.endCallSession()}):P.endCallSession()},this.CALL_NO_ANSWER_INTERVAL)}catch(x){p.Logger.error("CallController: startCallTimer",x)}},I.prototype.stopCallTimer=function(){try{clearTimeout(this.timer)}catch(P){p.Logger.error("CallController: stopCallTimer",P)}},I.prototype.startCall=function(P,x){var B=this;try{this.timer&&this.stopCallTimer();var F=document.createElement("iframe");this.getCallUrl().then(function(l){F.src=l+"",F.name="frame",F.setAttribute("allow","camera; microphone; display-capture;"),F.setAttribute("width","100%"),F.setAttribute("height","100%"),I.callScreen=F,I.callSettings=P,x&&(B.view=x),x.appendChild(F),B.addListener()})}catch(l){p.Logger.error("CallController: startCall",l)}},I.prototype.addListener=function(){window.addEventListener("message",this.handler,!0)},I.prototype.removeListener=function(){window.removeEventListener("message",this.handler,!0)},I.prototype.handler=function(P){var x,B=this,F=I.callSettings,l=I.callScreen,ee=I.getInstance().getActiveCall();try{if(void 0!==(x=JSON.parse(P.data))&&x.type==y.CallConstants.POST_MESSAGES.TYPES.HANGUP)I.deviceList=null,ee?(p.Logger.info(this.TAG,I.callListner),window.setTimeout(function(){v.CometChat.endCall(ee.getSessionId(),!0).then(function(He){p.Logger.info(B.TAG,{call:He})}).catch(function(He){p.Logger.info(B.TAG,"The Call Was Already Ended")})},1e3)):v.CometChat.endCall(F.getSessionId(),!0).then(function(He){p.Logger.info(B.TAG,{call:He})}).catch(function(He){p.Logger.info(B.TAG,"The Call Was Already Ended")});else if(void 0!==x&&x.type==y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&x.action==y.CallConstants.POST_MESSAGES.ACTIONS.USER_JOINED){if(x.value){var X=void 0,Ie=x.value;p.isFalsy(Ie.uid)||p.isFalsy(Ie.name)||((X=new w.User(Ie)).setStatus("online"),v.CometChat.user.getUid().toLowerCase()!=X.getUid().toLowerCase()&&I.callListner&&(p.isFalsy(I.callListner._eventListener.onUserJoined)||I.callListner._eventListener.onUserJoined(X)))}}else if(void 0!==x&&x.type==y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&x.action==y.CallConstants.POST_MESSAGES.ACTIONS.USER_LEFT)x.value&&(X=void 0,p.isFalsy((Ie=x.value).uid)||p.isFalsy(Ie.name)||((X=new w.User(Ie)).setStatus("online"),v.CometChat.user.getUid().toLowerCase()!=X.getUid().toLowerCase()&&I.callListner&&(p.isFalsy(I.callListner._eventListener.onUserLeft)||I.callListner._eventListener.onUserLeft(X))));else if(void 0!==x&&x.type==y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&x.action==y.CallConstants.POST_MESSAGES.ACTIONS.USER_LIST_CHANGED){var te=[];x.value&&0<x.value.length&&(x.value.map(function(He){if(!p.isFalsy(He.uid)&&!p.isFalsy(He.name)){var Se=new w.User(He);Se.setStatus("online"),te.push(Se)}}),I.callListner&&(p.isFalsy(I.callListner._eventListener.onUserListUpdated)||I.callListner._eventListener.onUserListUpdated(te)))}else if(void 0!==x&&x.type==y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&x.action==y.CallConstants.POST_MESSAGES.ACTIONS.INITIAL_DEVICE_LIST)p.Logger.info("initialDeviceList received in SDK = ",x),x.value&&(I.deviceList=x.value);else if(void 0!==x&&x.type==y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&x.action==y.CallConstants.POST_MESSAGES.ACTIONS.DEVICE_CHANGE){if(p.Logger.info("onDeviceChange received in SDK = ",x),x.value){var ae=I.getAvailableDeviceObject(I.deviceList=x.value);I.callListner&&(p.isFalsy(I.callListner._eventListener.onMediaDeviceListUpdated)||I.callListner._eventListener.onMediaDeviceListUpdated(ae))}}else if(void 0!==x&&x.type==y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&x.action==y.CallConstants.POST_MESSAGES.ACTIONS.RECORDING_TOGGLED){if(p.Logger.info("onRecordingToggled received in SDK = ",x),x.value&&(Oe=x.value).hasOwnProperty("user")&&Oe.hasOwnProperty("recordingStarted")&&!p.isFalsy(Oe.user.uid)&&!p.isFalsy(Oe.user.name)){var ie=new w.User(Oe.user);ie.setStatus("online"),I.callListner&&(Oe.recordingStarted?p.isFalsy(I.callListner._eventListener.onRecordingStarted)||I.callListner._eventListener.onRecordingStarted(ie):p.isFalsy(I.callListner._eventListener.onRecordingStopped)||I.callListner._eventListener.onRecordingStopped(ie))}}else if(void 0!==x&&x.type==y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&x.action==y.CallConstants.POST_MESSAGES.ACTIONS.USER_MUTED){var Oe;if(p.Logger.info("onUserMuted received in SDK = ",x),x.value&&(Oe=x.value).hasOwnProperty("muted")&&Oe.hasOwnProperty("mutedBy")&&!p.isFalsy(Oe.muted.uid)&&!p.isFalsy(Oe.muted.name)&&!p.isFalsy(Oe.mutedBy.uid)&&!p.isFalsy(Oe.mutedBy.name)){var Q=new w.User(Oe.muted);Q.setStatus("online");var Ee=new w.User(Oe.mutedBy);Ee.setStatus("online"),I.callListner&&(p.isFalsy(I.callListner._eventListener.onUserMuted)||I.callListner._eventListener.onUserMuted(Q,Ee))}}else void 0!==x&&x.type==y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&x.action==y.CallConstants.POST_MESSAGES.ACTIONS.SCREEN_SHARE_STARTED?I.callListner&&(p.isFalsy(I.callListner._eventListener.onScreenShareStarted)||I.callListner._eventListener.onScreenShareStarted(null)):void 0!==x&&x.type==y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&x.action==y.CallConstants.POST_MESSAGES.ACTIONS.SCREEN_SHARE_STOPPED?I.callListner&&(p.isFalsy(I.callListner._eventListener.onScreenShareStopped)||I.callListner._eventListener.onScreenShareStopped(null)):void 0!==x&&x.type&&x.action&&x.type==y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&x.action==y.CallConstants.POST_MESSAGES.ACTIONS.LOAD&&null!=l.contentWindow&&l.contentWindow.postMessage({type:y.CallConstants.POST_MESSAGES.TYPES.COMETCHAT_RTC_SETTINGS,callsettings:JSON.stringify(F)},"*")}catch(He){x=void 0,p.Logger.error("CallController: startCall",He)}},I.prototype.getCallUrl=function(){var P=this;return new Promise(function(B,F){try{P.isDev?B("http://localhost:3000/?v="+y.CALLING_COMPONENT_VERSION):S.LocalStorage.getInstance().get(y.LOCAL_STORE.KEY_APP_SETTINGS).then(function(l){if(p.isFalsy(l))p.getAppSettings().then(function(X){var Ie="rtc-web"+X[y.APP_SETTINGS.KEYS.WEBRTC_HOST].slice(3);B("https://"+Ie+"/?v="+y.CALLING_COMPONENT_VERSION)});else{var ee="rtc-web"+l[y.APP_SETTINGS.KEYS.WEBRTC_HOST].slice(3);B("https://"+ee+"/?v="+y.CALLING_COMPONENT_VERSION)}})}catch(l){F(new C.CometChatException(l))}})},I.getAvailableDeviceArray=function(P){var x=[];try{return P&&0<P.length&&P.map(function(B){x.push(new T.MediaDevice(B.deviceId,B.label,B.active))}),x}catch(B){return p.Logger.error("CallController: getAvailableDeviceArray",B),x}},I.getAvailableDeviceObject=function(P){var x=[],B=[],F=[];try{return p.isFalsy(P)||p.isFalsy(P[y.CallConstants.AUDIO_INPUT_DEVICES])||(x=I.getAvailableDeviceArray(P[y.CallConstants.AUDIO_INPUT_DEVICES])),p.isFalsy(P)||p.isFalsy(P[y.CallConstants.AUDIO_OUTPUT_DEVICES])||(B=I.getAvailableDeviceArray(P[y.CallConstants.AUDIO_OUTPUT_DEVICES])),p.isFalsy(P)||p.isFalsy(P[y.CallConstants.VIDEO_INPUT_DEVICES])||(F=I.getAvailableDeviceArray(P[y.CallConstants.VIDEO_INPUT_DEVICES])),{audioInputDevices:x,audioOutputDevices:B,videoInputDevices:F}}catch(l){return p.Logger.error("CallController: getAvailableDeviceObject",l),{audioInputDevices:x,audioOutputDevices:B,videoInputDevices:F}}},I.prototype.getAudioInputDevices=function(){var P=[];try{return p.isFalsy(I.deviceList)||p.isFalsy(I.deviceList[y.CallConstants.AUDIO_INPUT_DEVICES])||(P=I.getAvailableDeviceArray(I.deviceList[y.CallConstants.AUDIO_INPUT_DEVICES])),P}catch(x){return p.Logger.error("CallController: getAudioInputDevices",x),P}},I.prototype.getAudioOutputDevices=function(){var P=[];try{return p.isFalsy(I.deviceList)||p.isFalsy(I.deviceList[y.CallConstants.AUDIO_OUTPUT_DEVICES])||(P=I.getAvailableDeviceArray(I.deviceList[y.CallConstants.AUDIO_OUTPUT_DEVICES])),P}catch(x){return p.Logger.error("CallController: getAudioOutputDevices",x),P}},I.prototype.getVideoInputDevices=function(){var P=[];try{return p.isFalsy(I.deviceList)||p.isFalsy(I.deviceList[y.CallConstants.VIDEO_INPUT_DEVICES])||(P=I.getAvailableDeviceArray(I.deviceList[y.CallConstants.VIDEO_INPUT_DEVICES])),P}catch(x){return p.Logger.error("CallController: getVideoInputDevices",x),P}},I.prototype.setAudioInputDevice=function(P){try{if(I.callScreen&&!p.isFalsy(P)){var x=I.getAvailableDeviceArray(I.deviceList[y.CallConstants.AUDIO_INPUT_DEVICES]).filter(function(B){return B[y.CallConstants.MEDIA_DEVICE.ID]===P&&!B[y.CallConstants.MEDIA_DEVICE.ACTIVE]});x&&0<x.length&&I.callScreen.contentWindow.postMessage({type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_AUDIO_INPUT,value:P},"*")}}catch(B){p.Logger.error("CallController: setAudioInputDevice",B)}},I.prototype.setAudioOutputDevice=function(P){try{if(I.callScreen&&!p.isFalsy(P)){var x=I.getAvailableDeviceArray(I.deviceList[y.CallConstants.AUDIO_OUTPUT_DEVICES]).filter(function(B){return B[y.CallConstants.MEDIA_DEVICE.ID]===P&&!B[y.CallConstants.MEDIA_DEVICE.ACTIVE]});x&&0<x.length&&I.callScreen.contentWindow.postMessage({type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_AUDIO_OUTPUT,value:P},"*")}}catch(B){p.Logger.error("CallController: setAudioOutputDevice",B)}},I.prototype.setVideoInputDevice=function(P){try{if(I.callScreen&&!p.isFalsy(P)){var x=I.getAvailableDeviceArray(I.deviceList[y.CallConstants.VIDEO_INPUT_DEVICES]).filter(function(B){return B[y.CallConstants.MEDIA_DEVICE.ID]===P&&!B[y.CallConstants.MEDIA_DEVICE.ACTIVE]});x&&0<x.length&&I.callScreen.contentWindow.postMessage({type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_VIDEO_INPUT,value:P},"*")}}catch(B){p.Logger.error("CallController: setVideoInputDevice",B)}},I.prototype.muteAudio=function(P){try{I.callScreen&&I.callScreen.contentWindow.postMessage(P?{type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.MUTE_AUDIO}:{type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.UNMUTE_AUDIO},"*")}catch(x){p.Logger.error("CallController: muteAudio",x)}},I.prototype.pauseVideo=function(P){try{I.callScreen&&I.callScreen.contentWindow.postMessage(P?{type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.PAUSE_VIDEO}:{type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.UNPAUSE_VIDEO},"*")}catch(x){p.Logger.error("CallController: pauseVideo",x)}},I.prototype.setMode=function(P){try{I.callScreen&&!p.isFalsy(P)&&(P=P.toUpperCase(),-1<Object.values(y.CallConstants.CALL_MODE).indexOf(P)&&P!=y.CallConstants.CALL_MODE.SINGLE&&I.callScreen.contentWindow.postMessage({type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.SWITCH_MODE,value:P},"*"))}catch(x){p.Logger.error("CallController: setMode",x)}},I.prototype.startScreenShare=function(){try{I.callScreen&&I.callScreen.contentWindow.postMessage({type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.START_SCREENSHARE},"*")}catch(P){p.Logger.error("CallController: startScreenShare",P)}},I.prototype.stopScreenShare=function(){try{I.callScreen&&I.callScreen.contentWindow.postMessage({type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.STOP_SCREENSHARE},"*")}catch(P){p.Logger.error("CallController: stopScreenShare",P)}},I.prototype.startRecording=function(){try{I.callScreen&&I.callScreen.contentWindow.postMessage({type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.START_RECORDING},"*")}catch(P){p.Logger.error("CallController: startRecording",P)}},I.prototype.stopRecording=function(){try{I.callScreen&&I.callScreen.contentWindow.postMessage({type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.STOP_RECORDING},"*")}catch(P){p.Logger.error("CallController: stopRecording",P)}},I.prototype.endSession=function(){try{I.callScreen&&I.callScreen.contentWindow.postMessage({type:y.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:y.CallConstants.POST_MESSAGES.ACTIONS.END_CALL},"*")}catch(P){p.Logger.error("CallController: endSession",P)}},I.callController=void 0,I.callListner=void 0,I}();E.CallController=_},function(Me,E,i){"use strict";E.__esModule=!0,E.MediaDevice=void 0;var y=i(0),p=function(){function v(C,h,S){this.id="",this.name="",this.active=!1,y.isFalsy(C)||(this.id=C),y.isFalsy(h)||(this.name=h),this.active=!!S}return v.prototype.getId=function(){return this.id},v.prototype.setId=function(C){this.id=C||""},v.prototype.getName=function(){return this.name},v.prototype.setName=function(C){this.name=C||""},v.prototype.getIsActive=function(){return this.active},v.prototype.setIsActive=function(C){this.active=!!C},v}();E.MediaDevice=p},function(Me,E,i){"use strict";E.__esModule=!0,E.GroupMembersController=void 0;var y=i(34),p=i(1),v=i(0),C=function(){function h(){}return h.trasformJSONGroupMember=function(S){var T;try{return S.status=S.status&&"offline"!==S.status?"online":"offline",T=new y.GroupMember(S[p.GroupMemersConstans.KEYS.UID]),Object.assign(T,S),T}catch(w){return v.Logger.error("GroupMembersController:trasformJSONGroupMember",{e:w,groupMember:S}),S}},h}();E.GroupMembersController=C},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(S,T){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,_){w.__proto__=_}||function(w,_){for(var I in _)_.hasOwnProperty(I)&&(w[I]=_[I])})(S,T)},function(S,T){function w(){this.constructor=S}y(S,T),S.prototype=null===T?Object.create(T):(w.prototype=T.prototype,new w)});E.__esModule=!0,E.GroupMember=void 0;var v=i(4),C=i(1),h=function(S){function T(w,_){var I=S.call(this,w)||this;return I.joinedAt=0,_&&(I.scope=_),I}return p(T,S),T.prototype.setScope=function(w){this.scope=w},T.prototype.setJoinedAt=function(w){this.joinedAt=w},T.prototype.setGuid=function(w){this.guid=w},T.prototype.getScope=function(){return this.scope},T.prototype.getJoinedAt=function(){return this.joinedAt},T.prototype.getGuid=function(){return this.guid},T.GroupMemberScope=C.GroupMemberScope,T}(v.User);E.GroupMember=h},function(Me,E,i){"use strict";E.__esModule=!0,E.Conversation=void 0;var y=i(10),p=i(1),v=i(11),C=i(15),h=function(){function S(T,w,_,I,P,x){this.conversationId=T,this.conversationType=w,this.tags=x,void 0!==_&&void 0!==(this.lastMessage=_).id&&(this.lastMessage=y.MessageController.trasformJSONMessge(_)),this.conversationWith=this.conversationType==p.MessageConstatnts.RECEIVER_TYPE.USER?v.UsersController.trasformJSONUser(I):C.GroupsController.trasformJSONGroup(I),this.unreadMessageCount=void 0!==P?P:0}return S.prototype.setConversationId=function(T){this.conversationId=T},S.prototype.setConversationType=function(T){this.conversationType=T},S.prototype.setLastMessage=function(T){this.lastMessage=T},S.prototype.setConversationWith=function(T){this.conversationWith=T},S.prototype.setUnreadMessageCount=function(T){this.unreadMessageCount=T},S.prototype.getConversationId=function(){return this.conversationId},S.prototype.getConversationType=function(){return this.conversationType},S.prototype.getLastMessage=function(){return this.lastMessage},S.prototype.getConversationWith=function(){return this.conversationWith},S.prototype.getUnreadMessageCount=function(){return this.unreadMessageCount},S.prototype.getTags=function(){return this.tags},S}();E.Conversation=h},function(Me,E,i){"use strict";E.__esModule=!0,E.TypingNotificationController=void 0;var y=i(0),p=function(){function v(){}return v.addTypingStarted=function(C){this.TYPING_STARTED_MAP[C]=y.getCurrentTime()},v.removeTypingStarted=function(C){delete this.TYPING_STARTED_MAP[C]},v.getTypingStartedMap=function(C){if(C)return this.TYPING_STARTED_MAP[C]},v.addTypingEnded=function(C){this.TYPING_ENDED_MAP[C]=y.getCurrentTime()},v.removeTypingEnded=function(C){delete this.TYPING_ENDED_MAP[C]},v.getTypingEndedMap=function(C){if(C)return this.TYPING_ENDED_MAP[C]},v.addIncomingTypingStarted=function(C){this.INCOMING_TYPING_STARTED_MAP[C.getReceiverId()]={typingNotification:C,timestamp:y.getCurrentTime()}},v.removeIncomingTypingStarted=function(C){delete this.INCOMING_TYPING_STARTED_MAP[C.getReceiverId()]},v.TYPING_STARTED_MAP={},v.TYPING_ENDED_MAP={},v.INCOMING_TYPING_STARTED_MAP={},v}();E.TypingNotificationController=p},function(Me,E,i){"use strict";var y=this&&this.__spreadArrays||function(){for(var h=0,S=0,T=arguments.length;S<T;S++)h+=arguments[S].length;var w=Array(h),_=0;for(S=0;S<T;S++)for(var I=arguments[S],P=0,x=I.length;P<x;P++,_++)w[_]=I[P];return w};E.__esModule=!0,E.ListenerHandlers=void 0;var p=i(0),v=i(23),C=function(){function h(){this.connectionHandlers=[],this.loginHandlers=[],this.messageHandlers=[],this.userHandlers=[],this.groupHandlers=[],this.callHandlers=[]}return h.getInstance=function(){return null!=this.listenerHandlers&&null!=this.listenerHandlers||(this.listenerHandlers=new h),this.listenerHandlers},h.prototype.addConnectionEventListener=function(S,T){try{this.connectionHandlers=this.connectionHandlers.filter(function(w){return w._name!=S}),this.connectionHandlers=y(this.connectionHandlers,[new v.WSConnectionListener(S,T)])}catch(w){p.Logger.error("ListenerHandlers: addWSConnectionEventListener",w)}},h.prototype.removeConnectionEventListener=function(S){try{this.connectionHandlers=this.connectionHandlers.filter(function(T){return T._name!==S})}catch(T){p.Logger.error("ListenerHandlers: removeWSConnectionEventListener",T)}},h.prototype.addLoginEventListener=function(S,T){try{this.loginHandlers=this.loginHandlers.filter(function(w){return w._name!=S}),this.loginHandlers=y(this.loginHandlers,[new v.UserLoginListener(S,T)])}catch(w){p.Logger.error("ListenerHandlers: addLoginEventListener",w)}},h.prototype.removeLoginEventListener=function(S){try{this.loginHandlers=this.loginHandlers.filter(function(T){return T._name!==S})}catch(T){p.Logger.error("ListenerHandlers: removeLoginEventListener",T)}},h.prototype.addMessageEventListener=function(S,T){try{this.messageHandlers=this.messageHandlers.filter(function(w){return w._name!=S}),this.messageHandlers=y(this.messageHandlers,[new v.MessagesListener(S,T)])}catch(w){p.Logger.error("ListenerHandlers: addMessageEventListener",w)}},h.prototype.removeMessageEventListener=function(S){try{this.messageHandlers=this.messageHandlers.filter(function(T){return T._name!==S})}catch(T){p.Logger.error("ListenerHandlers: removeMessageEventListener",T)}},h.prototype.addUserEventListener=function(S,T){try{this.userHandlers=this.userHandlers.filter(function(w){return w._name!=S}),this.userHandlers=y(this.userHandlers,[new v.UsersListener(S,T)])}catch(w){p.Logger.error("ListenerHandlers: addUserEventListener",w)}},h.prototype.removeUserEventListener=function(S){try{this.userHandlers=this.userHandlers.filter(function(T){return T._name!==S})}catch(T){p.Logger.error("ListenerHandlers: removeUserEventListener",T)}},h.prototype.addGroupEventListener=function(S,T){try{this.groupHandlers=this.groupHandlers.filter(function(w){return w._name!=S}),this.groupHandlers=y(this.groupHandlers,[new v.GroupsListener(S,T)])}catch(w){p.Logger.error("ListenerHandlers: addGroupEventListener",w)}},h.prototype.removeGroupEventListener=function(S){try{this.groupHandlers=this.groupHandlers.filter(function(T){return T._name!==S})}catch(T){p.Logger.error("ListenerHandlers: removeGroupEventListener",T)}},h.prototype.addCallEventListener=function(S,T){try{this.callHandlers=this.callHandlers.filter(function(w){return w._name!=S}),this.callHandlers=y(this.callHandlers,[new v.CallsListener(S,T)])}catch(w){p.Logger.error("ListenerHandlers: addCallEventListener",w)}},h.prototype.removeCallEventListener=function(S){try{this.callHandlers=this.callHandlers.filter(function(T){return T._name!==S})}catch(T){p.Logger.error("ListenerHandlers: removeCallEventListener",T)}},h.listenerHandlers=new h,h}();E.ListenerHandlers=C},function(Me,E,i){"use strict";E.__esModule=!0,E.CometChat=E.init=void 0;var y=i(3);E.init=function(p){return y.CometChat.getInstance(p)},E.CometChat=y.CometChat},function(Me,E){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{"object"==typeof window&&(i=window)}Me.exports=i},function(Me,E,i){"use strict";E.__esModule=!0,E.GroupsRequestBuilder=E.GroupsRequest=void 0;var y=i(6),p=i(0),v=i(2),C=i(15),h=i(1),S=function(){function w(_){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.hasJoined=0,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},p.isFalsy(_)||(p.isFalsy(_.limit)||(this.limit=_.limit),p.isFalsy(_.searchKeyword)||(this.searchKeyword=_.searchKeyword),p.isFalsy(_.hasJoined)||(this.hasJoined=1),p.isFalsy(_.tags)||(this.tags=_.tags),p.isFalsy(_.showTags)||(this.withTags=_.showTags))}return w.prototype.validateGroupBuilder=function(){if(void 0===this.limit)return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>h.DEFAULT_VALUES.GROUPS_MAX_LIMIT)return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",h.DEFAULT_VALUES.GROUPS_MAX_LIMIT)));if(this.limit<h.DEFAULT_VALUES.ZERO)return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==h.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(p.isFalsy(this.searchKeyword.trim()))return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.withTags){if(typeof this.withTags!==h.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()")));this.withTags=1==this.withTags}return void 0===this.tags||Array.isArray(this.tags)?void 0:new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"TAGS","TAGS","setTags()")))},w.prototype.fetchNext=function(){var _=this;return new Promise(function(I,P){try{var x=_.validateGroupBuilder();if(x instanceof v.CometChatException)return void P(x);y.makeApiCall("getGroups",{},_.getNextData()).then(function(B){if(B.meta&&(_.total_pages=B.meta.pagination.total_pages),0<B.data.length){_.pagination=B.meta.pagination;var F=[];B.data.map(function(l,ee){F.push(C.GroupsController.trasformJSONGroup(l))}),I(F)}I([])},function(B){P(new v.CometChatException(B.error))})}catch(B){P(new v.CometChatException(B))}})},w.prototype.getNextData=function(){var _={};if(_.per_page=this.limit,p.isFalsy(this.searchKeyword)||(_.searchKey=this.searchKeyword),p.isFalsy(this.hasJoined)||(_.hasJoined=1),p.isFalsy(this.tags)||(_.tags=this.tags),p.isFalsy(this.withTags)||(_.withTags=1),1==this.current_page)_.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return _.page=this.next_page,_;_.page=this.next_page++}return _},w.MAX_LIMIT=100,w.DEFAULT_LIMIT=30,w}();E.GroupsRequest=S;var T=function(){function w(){}return w.prototype.setLimit=function(_){return this.limit=_,this},w.prototype.setSearchKeyword=function(_){return this.searchKeyword=_,this},w.prototype.joinedOnly=function(_){return this.hasJoined=_,this},w.prototype.setTags=function(_){return this.tags=_,this},w.prototype.withTags=function(_){return this.showTags=_,this},w.prototype.build=function(){return new S(this)},w}();E.GroupsRequestBuilder=T},function(Me,E,i){"use strict";E.__esModule=!0,E.GroupMembersRequestBuilder=E.GroupMembersRequest=void 0;var y=i(6),p=i(0),v=i(12),C=i(2),h=i(33),S=i(1),T=function(){function _(I){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},this.store=v.LocalStorage.getInstance(),p.isFalsy(I)||(this.limit=I.limit,this.guid=I.guid,p.isFalsy(I.searchKeyword)||(this.searchKeyword=I.searchKeyword),p.isFalsy(I.scopes)||(this.scopes=I.scopes))}return _.prototype.validateGroupMembersBuilder=function(){if(void 0===this.limit)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>S.DEFAULT_VALUES.USERS_MAX_LIMIT)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",S.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<S.DEFAULT_VALUES.ZERO)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(p.isFalsy(this.searchKeyword.trim()))return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.guid){if(typeof this.guid!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","GroupMembersRequestBuilder()")));if(p.isFalsy(this.guid))return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}return void 0===this.scopes||Array.isArray(this.scopes)?void 0:new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_SCOPES","SET_SCOPES","setScopes()")))},_.prototype.fetchNext=function(){var I=this;return new Promise(function(P,x){try{var B=I.validateGroupMembersBuilder();if(B instanceof C.CometChatException)return void x(B);y.makeApiCall("getGroupMembers",{guid:I.guid},I.getNextData()).then(function(F){if(F.meta&&(I.total_pages=F.meta.pagination.total_pages),0<F.data.length){I.pagination=F.meta.pagination;var l=[];F.data.map(function(ee){ee.guid=I.guid,l.push(h.GroupMembersController.trasformJSONGroupMember(ee))}),P(l)}else P([])},function(F){x(new C.CometChatException(F.error))})}catch(F){x(new C.CometChatException(F))}})},_.prototype.getNextData=function(){var I={};if(I.per_page=this.limit,p.isFalsy(this.searchKeyword)||(I.searchKey=this.searchKeyword),p.isFalsy(this.scopes)||(I.scopes=this.scopes),1==this.current_page)I.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return I.page=this.next_page,I;I.page=this.next_page++}return I},_.MAX_LIMIT=2,_.DEFAULT_LIMIT=1,_}();E.GroupMembersRequest=T;var w=function(){function _(I){this.guid=I}return _.prototype.setLimit=function(I){return this.limit=I,this},_.prototype.setSearchKeyword=function(I){return this.searchKeyword=I,this},_.prototype.setScopes=function(I){return this.scopes=I,this},_.prototype.build=function(){return new T(this)},_}();E.GroupMembersRequestBuilder=w},function(Me,E,i){"use strict";E.__esModule=!0,E.BannedMembersRequestBuilder=E.BannedMembersRequest=void 0;var y=i(6),p=i(0),v=i(2),C=i(33),h=i(1),S=function(){function w(_){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},p.isFalsy(_)||(this.limit=_.limit,this.guid=_.guid,p.isFalsy(_.searchKeyword)||(this.searchKeyword=_.searchKeyword),p.isFalsy(_.scopes)||(this.scopes=_.scopes))}return w.prototype.validateBannedMembersBuilder=function(){if(void 0===this.limit)return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>h.DEFAULT_VALUES.USERS_MAX_LIMIT)return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",h.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<h.DEFAULT_VALUES.ZERO)return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==h.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(p.isFalsy(this.searchKeyword.trim()))return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.guid){if(typeof this.guid!==h.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","GroupMembersRequestBuilder()")));if(p.isFalsy(this.guid))return new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}return void 0===this.scopes||Array.isArray(this.scopes)?void 0:new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_SCOPES","SET_SCOPES","setScopes()")))},w.prototype.fetchNext=function(){var _=this;return new Promise(function(I,P){try{var x=_.validateBannedMembersBuilder();if(x instanceof v.CometChatException)return void P(x);y.makeApiCall("getBannedGroupMembers",{guid:_.guid},_.getNextData()).then(function(B){if(B.meta&&(_.total_pages=B.meta.pagination.total_pages),0<B.data.length){_.pagination=B.meta.pagination;var F=[];B.data.map(function(l){l.guid=_.guid,F.push(C.GroupMembersController.trasformJSONGroupMember(l))}),I(F)}else I([])},function(B){P(new v.CometChatException(B.error))})}catch(B){P(new v.CometChatException(B))}})},w.prototype.getNextData=function(){var _={};if(_.per_page=this.limit,p.isFalsy(this.searchKeyword)||(_.searchKey=this.searchKeyword),p.isFalsy(this.scopes)||(_.scopes=this.scopes),1==this.current_page)_.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return _.page=this.next_page,_;_.page=this.next_page++}return _},w.MAX_LIMIT=2,w.DEFAULT_LIMIT=1,w}();E.BannedMembersRequest=S;var T=function(){function w(_){this.guid=_}return w.prototype.setLimit=function(_){return this.limit=_,this},w.prototype.setSearchKeyword=function(_){return this.searchKeyword=_,this},w.prototype.setScopes=function(_){return this.scopes=_,this},w.prototype.build=function(){return new S(this)},w}();E.BannedMembersRequestBuilder=T},function(Me,E,i){"use strict";E.__esModule=!0,E.UsersRequestBuilder=E.UsersRequest=void 0;var y=i(6),p=i(0),v=i(11),C=i(2),h=i(44),S=i(1),T=function(){function _(I){this.next_page=1,this.current_page=1,this.total_pages=-1,this.hideBlockedUsers=!1,this.friendsOnly=!1,this.fetchingInProgress=!1,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},_.userStore=h.UserStore.getInstance(),p.isFalsy(I)||(this.limit=I.limit,p.isFalsy(I.searchKeyword)||(this.searchKeyword=I.searchKeyword),p.isFalsy(I.status)||(this.status=I.status==_.USER_STATUS.ONLINE?S.PresenceConstatnts.STATUS.AVAILABLE:I.status),p.isFalsy(I.shouldHideBlockedUsers)||(this.hideBlockedUsers=I.shouldHideBlockedUsers),p.isFalsy(I.showFriendsOnly)||(this.friendsOnly=I.showFriendsOnly),p.isFalsy(I.showTags)||(this.withTags=I.showTags),p.isFalsy(I.role)||(this.role=I.role),p.isFalsy(I.roles)||(this.roles=I.roles),p.isFalsy(I.tags)||(this.tags=I.tags),p.isFalsy(I.UIDs)||(this.UIDs=I.UIDs))}return _.prototype.validateUserBuilder=function(){if(void 0===this.limit)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>S.DEFAULT_VALUES.USERS_MAX_LIMIT)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",S.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<S.DEFAULT_VALUES.ZERO)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(p.isFalsy(this.searchKeyword.trim()))return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(this.status){if(typeof this.status!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_STATUS","SET_STATUS","setStatus()")));if("available"!=this.status.toLowerCase()&&"offline"!=this.status.toLowerCase())return new C.CometChatException(S.UserErrors.INVALID_STATUS)}if(void 0!==this.hideBlockedUsers){if(typeof this.hideBlockedUsers!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_BLOCKED_USERS","HIDE_BLOCKED_USERS","hideBlockedUsers()")));this.hideBlockedUsers=1==this.hideBlockedUsers}if(void 0!==this.friendsOnly){if(typeof this.friendsOnly!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"FRIENDS_ONLY","FRIENDS_ONLY","friendsOnly()")));this.friendsOnly=1==this.friendsOnly}if(void 0!==this.withTags){if(typeof this.withTags!==S.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()")));this.withTags=1==this.withTags}return void 0===this.roles||Array.isArray(this.roles)?void 0===this.tags||Array.isArray(this.tags)?void 0===this.UIDs||Array.isArray(this.UIDs)?void 0:new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"UIDs","UIDs","setUIDs()"))):new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"TAGS","TAGS","setTags()"))):new C.CometChatException(JSON.parse(p.format(JSON.stringify(S.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"ROLES","ROLES","setRoles()")))},_.prototype.fetchNext=function(){var I=this;return new Promise(function(P,x){try{if(I.fetchingInProgress)I.fetchingInProgress=!1,P([]);else{I.fetchingInProgress=!0;var B=I.validateUserBuilder();if(B instanceof C.CometChatException)return void x(B);y.makeApiCall("users",{},I.getNextData()).then(function(F){if(F.meta&&(I.total_pages=F.meta.pagination.total_pages),0<F.data.length){I.pagination=F.meta.pagination;var l=[];F.data.map(function(ee){l.push(v.UsersController.trasformJSONUser(ee))}),P(l)}else P([]);I.fetchingInProgress=!1},function(F){I.fetchingInProgress=!1,x(new C.CometChatException(F.error))})}}catch(F){I.fetchingInProgress=!1,x(new C.CometChatException(F))}})},_.prototype.getNextData=function(){var I={};if(I.per_page=this.limit,p.isFalsy(this.searchKeyword)||(I.searchKey=this.searchKeyword),p.isFalsy(this.status)||(I.status=this.status),p.isFalsy(this.hideBlockedUsers)||(I.hideBlockedUsers=1),p.isFalsy(this.role)||(I.roles=this.role),p.isFalsy(this.roles)||(I.roles=this.roles),p.isFalsy(this.tags)||(I.tags=this.tags),p.isFalsy(this.friendsOnly)||(I.friendsOnly=1),p.isFalsy(this.withTags)||(I.withTags=1),p.isFalsy(this.UIDs)||(I.uids=this.UIDs),1==this.current_page)I.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return I.page=this.next_page,I;I.page=this.next_page++}return I},_.USER_STATUS={ONLINE:S.PresenceConstatnts.STATUS.ONLINE,OFFLINE:S.PresenceConstatnts.STATUS.OFFLINE},_}();E.UsersRequest=T;var w=function(){function _(){this.shouldHideBlockedUsers=!1}return _.prototype.setLimit=function(I){return this.limit=I,this},_.prototype.setStatus=function(I){return this.status=I,this},_.prototype.setSearchKeyword=function(I){return this.searchKeyword=I,this},_.prototype.hideBlockedUsers=function(I){return this.shouldHideBlockedUsers=I,this},_.prototype.setRole=function(I){return this.role=I,this},_.prototype.setRoles=function(I){return this.roles=I,this},_.prototype.friendsOnly=function(I){return this.showFriendsOnly=I,this},_.prototype.setTags=function(I){return this.tags=I,this},_.prototype.withTags=function(I){return this.showTags=I,this},_.prototype.setUIDs=function(I){return this.UIDs=I,this},_.prototype.build=function(){return this.role&&this.roles&&this.roles.push(this.role),new T(this)},_}();E.UsersRequestBuilder=w},function(Me,E,i){"use strict";E.__esModule=!0,E.UserStore=void 0;var y=i(3),p=i(0),v=i(1),C=i(13),h=function(){function S(T){this.store=v.constants.DEFAULT_STORE,p.isFalsy(T)||(this.store=T),this.userStore=C.createInstance({name:p.format(v.LOCAL_STORE.STORE_STRING,y.CometChat.getAppId(),v.LOCAL_STORE.USERS_STORE)}),this.userStore.setDriver([C.LOCALSTORAGE,C.INDEXEDDB,C.WEBSQL])}return S.getInstance=function(){return null==S.UserStore&&(S.UserStore=new S),S.UserStore},S.prototype.set=function(T,w){return this.userStore.setItem(T,w)},S.prototype.remove=function(T){this.userStore.removeItem(T)},S.prototype.get=function(T){return this.userStore.getItem(T)},S.prototype.clearStore=function(){var T=this;return new Promise(function(w,_){T.userStore.clear().then(function(){w(!0)}).catch(function(I){_(I)})})},S.prototype.clear=function(T){},S.prototype.selectStore=function(T){this.store=T},S.prototype.storeUsers=function(T){var w=this;return T.map(function(_){w.set(_.getUid(),_)}),!0},S.prototype.storeUser=function(T){return this.set(T.getUid(),T),!0},S}();E.UserStore=h},function(Me,E,i){"use strict";E.__esModule=!0,E.ConversationsRequestBuilder=E.ConversationsRequest=void 0;var y=i(6),p=i(0),v=i(2),C=i(24),h=i(1),S=function(){function w(_){this.limit=100,this.next_page=1,this.current_page=1,this.total_pages=-1,this.fetchingInProgress=!1,this.getUserAndGroupTags=!1,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},p.isFalsy(_)||(this.limit=_.limit,p.isFalsy(_.conversationType)||(this.conversationType=_.conversationType),p.isFalsy(_.getUserAndGroupTags)||(this.getUserAndGroupTags=_.getUserAndGroupTags),_.tags&&(this.tags=_.tags),p.isFalsy(_.WithTags)||(this.withTags=_.WithTags))}return w.prototype.validateConversationBuilder=function(){return void 0===this.limit?new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit"))):isNaN(this.limit)?new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))):this.limit>h.DEFAULT_VALUES.CONVERSATION_MAX_LIMIT?new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",h.DEFAULT_VALUES.CONVERSATION_MAX_LIMIT))):this.limit<h.DEFAULT_VALUES.ZERO?new v.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))):void 0},w.prototype.fetchNext=function(){var _=this;return new Promise(function(I,P){try{if(_.fetchingInProgress)_.fetchingInProgress=!1,I([]);else{_.fetchingInProgress=!0;var x=_.validateConversationBuilder();if(x instanceof v.CometChatException)return void P(x);y.makeApiCall("getConversations",{},_.getNextData()).then(function(B){if(B.meta&&(_.total_pages=B.meta.pagination.total_pages),0<B.data.length){_.pagination=B.meta.pagination;var F=[];B.data.map(function(l){F.push(C.ConversationController.trasformJSONConversation(l.conversationId,l.conversationType,l.lastMessage,l.conversationWith,parseInt(l.unreadMessageCount),l.tags?l.tags:[]))}),I(F)}else I([]);_.fetchingInProgress=!1},function(B){_.fetchingInProgress=!1,P(new v.CometChatException(B.error))})}}catch(B){_.fetchingInProgress=!1,P(new v.CometChatException(B))}})},w.prototype.getNextData=function(){var _={};if(_.per_page=this.limit,p.isFalsy(this.conversationType)||(_.conversationType=this.conversationType),p.isFalsy(this.getUserAndGroupTags)||(_.withUserAndGroupTags=this.getUserAndGroupTags),p.isFalsy(this.tags)||(_.tags=this.tags),p.isFalsy(this.withTags)||(_.withTags=this.withTags),1==this.current_page)_.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return _.page=this.next_page,_;_.page=this.next_page++}return _},w}();E.ConversationsRequest=S;var T=function(){function w(){this.WithTags=!1}return w.prototype.setLimit=function(_){return this.limit=_,this},w.prototype.setConversationType=function(_){return this.conversationType=_,this},w.prototype.withUserAndGroupTags=function(_){return"boolean"==typeof _&&(this.getUserAndGroupTags=_),this},w.prototype.setTags=function(_){return this.tags=_,this},w.prototype.withTags=function(_){return this.WithTags=_,this},w.prototype.build=function(){return new S(this)},w}();E.ConversationsRequestBuilder=T},function(Me,E,i){"use strict";var y=this&&this.__awaiter||function(F,l,ee,X){return new(ee||(ee=Promise))(function(Ie,te){function ae(Oe){try{pe(X.next(Oe))}catch(Q){te(Q)}}function ie(Oe){try{pe(X.throw(Oe))}catch(Q){te(Q)}}function pe(Oe){var Q;Oe.done?Ie(Oe.value):(Q=Oe.value,Q instanceof ee?Q:new ee(function(Ee){Ee(Q)})).then(ae,ie)}pe((X=X.apply(F,l||[])).next())})},p=this&&this.__generator||function(F,l){var ee,X,Ie,te,ae={label:0,sent:function(){if(1&Ie[0])throw Ie[1];return Ie[1]},trys:[],ops:[]};return te={next:ie(0),throw:ie(1),return:ie(2)},"function"==typeof Symbol&&(te[Symbol.iterator]=function(){return this}),te;function ie(pe){return function(Oe){return function(Q){if(ee)throw new TypeError("Generator is already executing.");for(;ae;)try{if(ee=1,X&&(Ie=2&Q[0]?X.return:Q[0]?X.throw||((Ie=X.return)&&Ie.call(X),0):X.next)&&!(Ie=Ie.call(X,Q[1])).done)return Ie;switch(X=0,Ie&&(Q=[2&Q[0],Ie.value]),Q[0]){case 0:case 1:Ie=Q;break;case 4:return ae.label++,{value:Q[1],done:!1};case 5:ae.label++,X=Q[1],Q=[0];continue;case 7:Q=ae.ops.pop(),ae.trys.pop();continue;default:if(!(Ie=0<(Ie=ae.trys).length&&Ie[Ie.length-1])&&(6===Q[0]||2===Q[0])){ae=0;continue}if(3===Q[0]&&(!Ie||Q[1]>Ie[0]&&Q[1]<Ie[3])){ae.label=Q[1];break}if(6===Q[0]&&ae.label<Ie[1]){ae.label=Ie[1],Ie=Q;break}if(Ie&&ae.label<Ie[2]){ae.label=Ie[2],ae.ops.push(Q);break}Ie[2]&&ae.ops.pop(),ae.trys.pop();continue}Q=l.call(F,ae)}catch(Ee){Q=[6,Ee],X=0}finally{ee=Ie=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([pe,Oe])}}},v=this&&this.__spreadArrays||function(){for(var F=0,l=0,ee=arguments.length;l<ee;l++)F+=arguments[l].length;var X=Array(F),Ie=0;for(l=0;l<ee;l++)for(var te=arguments[l],ae=0,ie=te.length;ae<ie;ae++,Ie++)X[Ie]=te[ae];return X};E.__esModule=!0,E.MessagesRequestBuilder=E.MessagesRequest=void 0;var C=i(2),h=i(6),S=i(10),T=i(0),w=i(47),_=i(1),I=i(14),P=i(25),x=function(){function F(l){this.limit=_.DEFAULT_VALUES.MSGS_LIMIT,this.timestamp=0,this.id=_.DEFAULT_VALUES.DEFAULT_MSG_ID,this.messageStore=w.MessagesStore.getInstance(),this.endpointName="getUserMessages",this.listId="",this.totalPages=0,this.unread=!1,this.inProgress=!1,this.hideMessagesFromBlockedUsers=!1,this.updatedAt=0,this.onlyUpdates=0,this.paginationMeta={},this.WithTags=!1,this.hideDeletedMessages=!1,this.limit=l.limit,this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.PER_PAGE]=this.limit,this.uid=l.uid,this.guid=l.guid,this.parentMessageId=l.parentMessageId,this.timestamp=l.timestamp,this.timestamp&&(this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.SENT_AT]=this.timestamp),this.id=l.id,this.id!=_.DEFAULT_VALUES.DEFAULT_MSG_ID&&(this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.ID]=this.id),this.hideMessagesFromBlockedUsers=l.HideMessagesFromBlockedUsers,this.hideMessagesFromBlockedUsers&&(this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.HIDE_MESSAGES_FROM_BLOCKED_USER]=this.hideMessagesFromBlockedUsers),this.unread=l.unread,this.unread&&(this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.UNREAD]=this.unread),l.searchKey&&(this.searchKey=l.searchKey,this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY]=this.searchKey),l.onlyUpdate&&(this.onlyUpdates=l.onlyUpdate,this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.ONLY_UPDATES]=this.onlyUpdates),l.updatedAt&&(this.updatedAt=l.updatedAt,this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.UPDATED_AT]=this.updatedAt),l.category&&(this.category=l.category),l.categories&&(this.categories=l.categories),l.type&&(this.type=l.type),l.types&&(this.types=l.types),l.WithTags&&(this.WithTags=l.WithTags),l.tags&&(this.tags=l.tags),l.HideReplies&&(this.hideReplies=l.HideReplies,this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.HIDE_REPLIES]=this.hideReplies),this.hideDeletedMessages=l.HideDeletedMessages,this.hideDeletedMessages&&(this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.HIDE_DELETED_MESSAGES]=this.hideDeletedMessages)}return F.prototype.fetchNext=function(){var l=this;return new Promise(function(ee,X){return y(l,void 0,void 0,function(){var Ie,te,ae;return p(this,function(ie){switch(ie.label){case 0:if(ie.trys.push([0,5,,6]),this.inProgress)return this.inProgress=!1,X(new C.CometChatException(I.MESSAGES_REQUEST_ERRORS.REQUEST_IN_PROGRESS_ERROR)),[2];if(this.inProgress=!0,this.onlyUpdates){if(0==this.updatedAt)return this.inProgress=!1,X(new C.CometChatException(I.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2]}else if(0==this.timestamp&&0==this.id&&0==this.updatedAt)return this.inProgress=!1,X(new C.CometChatException(I.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2];this.affix=_.MessageConstatnts.PAGINATION.AFFIX.APPEND,this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,this.currentMethod=_.MessageConstatnts.PAGINATION.AFFIX.APPEND,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,this.makeAPICall()];case 2:return Ie=ie.sent(),ee(Ie),this.inProgress=!1,[3,4];case 3:return te=ie.sent(),this.inProgress=!1,X(new C.CometChatException(te)),[3,4];case 4:return[3,6];case 5:return ae=ie.sent(),this.inProgress=!1,X(new C.CometChatException(ae)),[3,6];case 6:return[2]}})})})},F.prototype.fetchPrevious=function(){var l=this;return new Promise(function(ee,X){return y(l,void 0,void 0,function(){var Ie,te,ae;return p(this,function(ie){switch(ie.label){case 0:if(ie.trys.push([0,5,,6]),this.inProgress)return X(new C.CometChatException(I.MESSAGES_REQUEST_ERRORS.REQUEST_IN_PROGRESS_ERROR)),this.inProgress=!1,[2];if(this.inProgress=!0,this.onlyUpdates&&0==this.updatedAt)return this.inProgress=!1,X(new C.CometChatException(I.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2];this.affix=_.MessageConstatnts.PAGINATION.AFFIX.PREPEND,this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,this.currentMethod=_.MessageConstatnts.PAGINATION.AFFIX.PREPEND,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,this.makeAPICall()];case 2:return Ie=ie.sent(),ee(Ie),this.inProgress=!1,[3,4];case 3:return te=ie.sent(),this.inProgress=!1,X(new C.CometChatException(te)),[3,4];case 4:return[3,6];case 5:return ae=ie.sent(),this.inProgress=!1,X(new C.CometChatException(ae)),[3,6];case 6:return[2]}})})})},F.prototype.makeAPICall=function(){var l=this;return new Promise(function(ee,X){try{var Ie=l.uid;if(void 0!==Ie){if(typeof Ie!==_.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"UID","UID","setUID()"))));if(T.isFalsy(Ie.trim()))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.INVALID),"UID","UID","UID","UID"))));l.uid=Ie.trim()}var te=l.guid;if(void 0!==te){if(typeof te!==_.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","setGUID()"))));if(T.isFalsy(te.trim()))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID"))));l.guid=te.trim()}var ae=l.parentMessageId;if(void 0!==ae){if(isNaN(ae))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"PARENT_MESSAGE_ID","PARENT_MESSAGE_ID","setParentMessageId()"))));if(ae<_.DEFAULT_VALUES.ZERO)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"PARENT_MESSAGE_ID","PARENT_MESSAGE_ID","setParentMessageId()"))))}var ie=l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.PER_PAGE];if(void 0===ie)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit"))));if(isNaN(ie))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))));if(ie>_.DEFAULT_VALUES.MSGS_MAX_LIMIT)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",_.DEFAULT_VALUES.MSGS_MAX_LIMIT))));if(ie<_.DEFAULT_VALUES.ZERO)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))));var pe=l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY];if(void 0!==pe){if(typeof pe!==_.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()"))));if(T.isFalsy(pe.trim()))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword"))));l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY]=pe.trim()}var Oe=l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.ID];if(void 0!==Oe){if(isNaN(Oe))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"MESSAGE_ID","MESSAGE_ID","setMessageId()"))));if(Oe<_.DEFAULT_VALUES.ZERO)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"MESSAGE_ID","MESSAGE_ID","setMessageId()"))))}var Q=l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.SENT_AT];if(void 0!==Q){if(isNaN(Q))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"TIMESTAMP","TIMESTAMP","setTimestamp()"))));if(Q<_.DEFAULT_VALUES.ZERO)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"TIMESTAMP","TIMESTAMP","setTimestamp()"))))}var Ee=l.hideMessagesFromBlockedUsers;if(void 0!==Ee){if(typeof Ee!==_.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_MESSAGES_FROM_BLOCKED_USERS","HIDE_MESSAGES_FROM_BLOCKED_USERS","hideMessagesFromBlockedUsers()"))));l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.HIDE_MESSAGES_FROM_BLOCKED_USER]=1==Ee?1:0}var He=l.unread;if(void 0!==He){if(typeof He!==_.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"UNREAD","UNREAD","setUnread()"))));l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.UNREAD]=1==He?1:0}var Se=l.category;if(void 0!==Se){if(typeof Se!==_.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_CATEGORY","SET_CATEGORY","setCategory()"))));if(T.isFalsy(Se.trim()))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.INVALID),"SET_CATEGORY","SET_CATEGORY","category","category"))));l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.CATEGORIES]=Se.trim()}var se=l.categories;if(void 0!==se){if(!Array.isArray(se))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_CATEGORIES","SET_CATEGORIES","setCategories()"))));0<se.length&&(l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.CATEGORIES]=se)}var le=l.type;if(void 0!==le){if(typeof le!==_.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_TYPE","SET_TYPE","setType()"))));if(T.isFalsy(le.trim()))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.INVALID),"SET_TYPE","SET_TYPE","type","type"))));l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.TYPES]=le.trim()}var ne=l.types;if(void 0!==ne){if(!Array.isArray(ne))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_TYPES","SET_TYPES","setTypes()"))));0<ne.length&&(l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.TYPES]=ne)}var Fe=l.tags;if(void 0!==Fe){if(!Array.isArray(Fe))return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_TAGS","SET_TAGS","setTags()"))));0<Fe.length&&(l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.TAGS]=Fe)}var Ge=l.WithTags;if(void 0!==Ge){if(typeof Ge!==_.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()"))));l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.WITH_TAGS]=1==Ge?1:0}var ze=l.hideDeletedMessages;if(void 0!==ze){if(typeof ze!==_.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void X(new C.CometChatException(JSON.parse(T.format(JSON.stringify(_.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_DELETED_MESSAGES","HIDE_DELETED_MESSAGES","hideDeletedMessages()"))));l.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.HIDE_DELETED_MESSAGES]=1==ze?1:0}if(l.createEndpoint(),l.totalPages&&1==l.totalPages&&l.lastAffix==l.affix)return void ee([]);h.makeApiCall(l.endpointName,{listId:l.listId},l.paginationMeta).then(function(tt){return y(l,void 0,void 0,function(){var Ct,nt=this;return p(this,function(Et){return Ct=[],tt[_.ResponseConstants.RESPONSE_KEYS.KEY_META][_.ResponseConstants.RESPONSE_KEYS.KEY_CURSOR].hasOwnProperty(_.MessageConstatnts.PAGINATION.KEYS.ID)&&0==this.id&&(this.id=parseInt(tt.meta.cursor[_.MessageConstatnts.PAGINATION.KEYS.ID])),tt[_.ResponseConstants.RESPONSE_KEYS.KEY_META][_.ResponseConstants.RESPONSE_KEYS.KEY_CURSOR].hasOwnProperty(_.MessageConstatnts.PAGINATION.KEYS.SENT_AT)&&0==this.timestamp&&(this.timestamp=tt.meta.cursor[_.MessageConstatnts.PAGINATION.KEYS.SENT_AT]),tt.meta.pagination.hasOwnProperty("total_pages")&&(this.totalPages=tt.meta.pagination.total_pages),tt.meta.cursor.hasOwnProperty("affix")&&(this.lastAffix=tt.meta.cursor.affix),tt.data[0]?(0<this.id&&(this.id=parseInt(tt.data[0].id)),0<this.timestamp&&(this.timestamp=tt.data[0].sentAt),tt.data.map(function(Mt){P.MessageListnerMaping.getInstance().get(_.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST).then(function(je){parseInt(Mt.id)>je&&P.MessageListnerMaping.getInstance().set(_.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST,parseInt(Mt.id))},function(je){P.MessageListnerMaping.getInstance().set(_.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST,parseInt(Mt.id))}),nt.affix==_.MessageConstatnts.PAGINATION.AFFIX.APPEND?(nt.id<parseInt(Mt.id)&&0<nt.id&&(nt.id=parseInt(Mt.id)),nt.timestamp<Mt.sentAt&&0<nt.timestamp&&(nt.timestamp=Mt.sentAt),nt.updatedAt<Mt.updatedAt&&0<nt.updatedAt&&(nt.updatedAt=Mt.updatedAt)):(nt.id>parseInt(Mt.id)&&(nt.id=parseInt(Mt.id)),nt.timestamp>Mt.sentAt&&(nt.timestamp=Mt.sentAt),nt.updatedAt>Mt.updatedAt&&(nt.updatedAt=Mt.updatedAt)),nt.id&&(nt.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.ID]=nt.id),nt.timestamp&&(nt.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.SENT_AT]=nt.timestamp),nt.updatedAt&&(nt.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.UPDATED_AT]=nt.updatedAt),Ct.push(S.MessageController.trasformJSONMessge(Mt))})):Ct=[],ee(Ct),[2]})})},function(tt){X(new C.CometChatException(tt.error))})}catch(tt){X(new C.CometChatException(tt))}})},F.prototype.createEndpoint=function(){this.parentMessageId?(this.endpointName="getThreadMessages",this.listId=this.parentMessageId.toString(),this.hideReplies&&(this.hideReplies=!1,delete this.paginationMeta[_.MessageConstatnts.PAGINATION.KEYS.HIDE_REPLIES])):(T.isFalsy(this.guid)||T.isFalsy(this.uid))&&T.isFalsy(this.guid)?(this.endpointName=T.isFalsy(this.uid)?"getMessages":"getUserMessages",this.listId=this.uid):(this.endpointName="getGroupMessages",this.listId=this.guid)},F.prototype.makeData=function(){var l={};l[_.MessageConstatnts.PAGINATION.KEYS.PER_PAGE]=this.limit,l[_.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,(T.isFalsy(this.guid)||T.isFalsy(this.uid))&&T.isFalsy(this.guid)&&T.isFalsy(this.uid)},F.prototype.getFilteredPreviousDataByReceiverId=function(l){return y(this,void 0,void 0,function(){var ee,X=this;return p(this,function(Ie){switch(Ie.label){case 0:switch(ee=[],l){case"user":return[3,1];case"group":return[3,3];case"both":return[3,5]}return[3,7];case 1:return[4,w.MessagesStore.getInstance().get(this.uid).then(function(te){Object.keys(te).filter(function(ae){return parseInt(ae)>X.id}).map(function(ae){ee=v(ee,[te[ae]])})})];case 2:return Ie.sent(),[3,9];case 3:return[4,w.MessagesStore.getInstance().get(this.guid).then(function(te){Object.keys(te).filter(function(ae){return parseInt(ae)>X.id}).map(function(ae){ee=v(ee,[te[ae]])})})];case 4:Ie.sent(),Ie.label=5;case 5:return[4,w.MessagesStore.getInstance().get(this.guid).then(function(te){Object.keys(te).filter(function(ae){return parseInt(ae)>X.id}).filter(function(ae){return te[ae].sender.uid==X.uid}).map(function(ae){ee=v(ee,[te[ae]])})})];case 6:return Ie.sent(),[3,9];case 7:return[4,w.MessagesStore.getInstance().getAllMessages().then(function(te){Object.keys(te).filter(function(ae){return parseInt(ae)>X.id}).map(function(ae){ee=v(ee,[te[ae]])})})];case 8:return Ie.sent(),[3,9];case 9:return[2,ee]}})})},F.prototype.getFilteredNextDataByReceiverId=function(l){return y(this,void 0,void 0,function(){var ee,X=this;return p(this,function(Ie){switch(Ie.label){case 0:switch(ee=[],l){case"user":return[3,1];case"group":return[3,3];case"both":return[3,5]}return[3,7];case 1:return[4,w.MessagesStore.getInstance().get(this.uid).then(function(te){Object.keys(te).filter(function(ae){return parseInt(ae)>X.id}).map(function(ae){ee=v(ee,[te[ae]])})})];case 2:return Ie.sent(),[3,9];case 3:return[4,w.MessagesStore.getInstance().get(this.guid).then(function(te){Object.keys(te).filter(function(ae){return parseInt(ae)>X.id}).map(function(ae){ee=v(ee,[te[ae]])})})];case 4:Ie.sent(),Ie.label=5;case 5:return[4,w.MessagesStore.getInstance().get(this.guid).then(function(te){Object.keys(te).filter(function(ae){return parseInt(ae)>X.id}).filter(function(ae){return te[ae].sender.uid==X.uid}).map(function(ae){ee=v(ee,[te[ae]])})})];case 6:return Ie.sent(),[3,9];case 7:return[4,w.MessagesStore.getInstance().getAllMessages().then(function(te){Object.keys(te).filter(function(ae){return parseInt(ae)>X.id}).map(function(ae){ee=v(ee,[te[ae]])})})];case 8:return Ie.sent(),[3,9];case 9:return[2,ee]}})})},F}();E.MessagesRequest=x;var B=function(){function F(){this.maxLimit=_.DEFAULT_VALUES.MSGS_MAX_LIMIT,this.timestamp=0,this.id=_.DEFAULT_VALUES.DEFAULT_MSG_ID,this.unread=!1,this.HideMessagesFromBlockedUsers=!1,this.onlyUpdate=0,this.HideDeletedMessages=!1,this.WithTags=!1}return F.prototype.setLimit=function(l){return this.limit=l,this},F.prototype.setGUID=function(l){return this.guid=l,this},F.prototype.setUID=function(l){return this.uid=l,this},F.prototype.setParentMessageId=function(l){return this.parentMessageId=l,this},F.prototype.setTimestamp=function(l){return void 0===l&&(l=T.getCurrentTime()),this.timestamp=l,this},F.prototype.setMessageId=function(l){return void 0===l&&(l=_.DEFAULT_VALUES.DEFAULT_MSG_ID),this.id=l,this},F.prototype.setUnread=function(l){return void 0===l&&(l=!1),this.unread=l,this},F.prototype.hideMessagesFromBlockedUsers=function(l){return void 0===l&&(l=!1),this.HideMessagesFromBlockedUsers=l,this},F.prototype.setSearchKeyword=function(l){return this.searchKey=l,this},F.prototype.setUpdatedAfter=function(l){return this.updatedAt=l,this},F.prototype.updatesOnly=function(l){return l&&(this.onlyUpdate=1),this},F.prototype.setCategory=function(l){return this.category=l,this},F.prototype.setCategories=function(l){return this.categories=l,this},F.prototype.setType=function(l){return this.type=l,this},F.prototype.setTypes=function(l){return this.types=l,this},F.prototype.hideReplies=function(l){return this.HideReplies=l,this},F.prototype.hideDeletedMessages=function(l){return this.HideDeletedMessages=l,this},F.prototype.setTags=function(l){return this.tags=l,this},F.prototype.withTags=function(l){return this.WithTags=l,this},F.prototype.build=function(){return this.category&&this.categories&&this.categories.push(this.category),this.type&&this.types&&this.types.push(this.type),new x(this)},F}();E.MessagesRequestBuilder=B},function(Me,E,i){"use strict";var y=this&&this.__assign||function(){return(y=Object.assign||function(T){for(var w,_=1,I=arguments.length;_<I;_++)for(var P in w=arguments[_])Object.prototype.hasOwnProperty.call(w,P)&&(T[P]=w[P]);return T}).apply(this,arguments)};E.__esModule=!0,E.MessagesStore=void 0;var p=i(3),v=i(0),C=i(1),h=i(13),S=function(){function T(w){this.store=C.constants.DEFAULT_STORE,v.isFalsy(w)||(this.store=w),this.messagesStore=h.createInstance({name:v.format(C.LOCAL_STORE.STORE_STRING,p.CometChat.getAppId(),C.LOCAL_STORE.MESSAGES_STORE)}),this.messagesStore.setDriver([h.LOCALSTORAGE,h.INDEXEDDB,h.WEBSQL])}return T.getInstance=function(){return null==T.MessagesStore&&(T.MessagesStore=new T),T.MessagesStore},T.prototype.set=function(w,_){return this.messagesStore.setItem(w,_)},T.prototype.remove=function(w){this.messagesStore.removeItem(w)},T.prototype.get=function(w){return this.messagesStore.getItem(w)},T.prototype.clearStore=function(){var w=this;return new Promise(function(_,I){w.messagesStore.clear().then(function(){_(!0)}).catch(function(P){I(P)})})},T.prototype.getAllMessages=function(){var w=this,_={};return new Promise(function(I,P){w.messagesStore.iterate(function(x,B,F){B!=C.constants.MSG_VER_POST&&B!=C.constants.MSG_VER_POST&&(_=y(y({},_),x))}).then(function(){I(_)})})},T.prototype.clear=function(w){},T.prototype.selectStore=function(w){this.store=w},T.prototype.storeMessages=function(w){var _=this;if(p.CometChat.user.getUid()){var I=p.CometChat.user.getUid(),P={},x=0;return this.get(C.constants.MSG_VER_POST).then(function(B){w.map(function(F){var l;if(!v.isFalsy(F)){0==x&&(x=parseInt(F.getId().toString())),x>F.getId()&&(x=parseInt(F.getId().toString())),B<F.getId()&&(B=parseInt(F.getId().toString()));var ee=void 0;ee=F.getSender()instanceof Object?F.getSender().getUid():F.getSender(),F.getReceiverType()==C.MessageConstatnts.RECEIVER_TYPE.GROUP&&(ee=F.getReceiver()),F.getSender()instanceof Object?F.getSender().getUid()==I&&(ee=F.getReceiver()):F.getSender()==I&&(ee=F.getReceiver()),P[ee]||(P[ee]={}),P[ee]=y(y({},P[ee]),((l={})[F.getId()]=F,l))}}),_.get(C.constants.MSG_VER_PRE).then(function(F){(0<x&&x<F||null==F)&&_.set(C.constants.MSG_VER_PRE,x)})&&0<B&&_.set(C.constants.MSG_VER_POST,B),Object.keys(P).map(function(F){_.get(F).then(function(l){null==l&&(l={}),_.set(F,y(y({},P[F]),l))})})}),!0}},T}();E.MessagesStore=S},function(Me,E,i){"use strict";E.__esModule=!0,E.BlockedUsersRequestBuilder=E.BlockedUsersRequest=void 0;var y=i(6),p=i(0),v=i(11),C=i(2),h=i(1),S=function(){function w(_){this.next_page=1,this.current_page=1,this.total_pages=-1,this.fetchingInProgress=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},p.isFalsy(_)||(this.limit=_.limit,p.isFalsy(_.searchKeyword)||(this.searchKeyword=_.searchKeyword),p.isFalsy(_.direction)||(this.direction=_.direction))}return w.prototype.validateBlockedUsersBuilder=function(){if(void 0===this.limit)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new C.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>h.DEFAULT_VALUES.USERS_MAX_LIMIT)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",h.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<h.DEFAULT_VALUES.ZERO)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==h.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(p.isFalsy(this.searchKeyword.trim()))return new C.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.direction){if(typeof this.direction!==h.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new C.CometChatException(JSON.parse(p.format(JSON.stringify(h.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_DIRECTION","SET_DIRECTION","setDirection()")));if(this.direction!=h.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BOTH&&this.direction!=h.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BLOCKED_BY_ME&&this.direction!=h.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.HAS_BLOCKED_ME)return new C.CometChatException(h.UserErrors.INVALID_DIRECTION)}},w.prototype.fetchNext=function(){var _=this;return new Promise(function(I,P){try{if(_.fetchingInProgress)_.fetchingInProgress=!1,I([]);else{_.fetchingInProgress=!0;var x=_.validateBlockedUsersBuilder();if(x instanceof C.CometChatException)return void P(x);y.makeApiCall("blockedUsersList",{},_.getNextData()).then(function(B){if(B.meta&&(_.total_pages=B.meta.pagination.total_pages),0<B.data.length){_.pagination=B.meta.pagination;var F=[];B.data.map(function(l){F.push(v.UsersController.trasformJSONUser(l))}),I(F)}else I([]);_.fetchingInProgress=!1},function(B){_.fetchingInProgress=!1,P(new C.CometChatException(B.error))})}}catch(B){_.fetchingInProgress=!1,P(new C.CometChatException(B))}})},w.prototype.getNextData=function(){var _={};if(_.per_page=this.limit,p.isFalsy(this.direction)||(_.direction=this.direction),p.isFalsy(this.searchKeyword)||(_.searchKey=this.searchKeyword),1==this.current_page)_.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return _.page=this.next_page,_;_.page=this.next_page++}return _},w.MAX_LIMIT=2,w.DEFAULT_LIMIT=1,w.directions=h.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS,w}();E.BlockedUsersRequest=S;var T=function(){function w(){}return w.prototype.setLimit=function(_){return this.limit=_,this},w.prototype.setSearchKeyword=function(_){return this.searchKeyword=_,this},w.prototype.setDirection=function(_){return this.direction=_,this},w.prototype.blockedByMe=function(){return this.direction=h.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BLOCKED_BY_ME,this},w.prototype.hasBlockedMe=function(){return this.direction=h.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.HAS_BLOCKED_ME,this},w.prototype.build=function(){return new S(this)},w}();E.BlockedUsersRequestBuilder=T},function(Me,E,i){"use strict";E.__esModule=!0,E.AppSettingsBuilder=E.AppSettings=void 0;var y=i(1),p=function(){function C(h){this.subscriptionType=C.SUBSCRIPTION_TYPE_NONE,this.roles=null,this.region=y.DEFAULT_VALUES.REGION_DEFAULT,this.autoJoinGroup=!0,this.establishSocketConnection=!0,this.subscriptionType=h.subscriptionType,this.roles=h.roles,this.region=h.region,this.autoJoinGroup=h.autoJoinGroup,this.establishSocketConnection=h.establishSocketConnection}return C.prototype.getSubscriptionType=function(){return this.subscriptionType},C.prototype.getRoles=function(){return this.roles},C.prototype.getRegion=function(){return this.region},C.prototype.getIsAutoJoinEnabled=function(){return this.autoJoinGroup},C.prototype.shouldAutoEstablishSocketConnection=function(){return this.establishSocketConnection},C.SUBSCRIPTION_TYPE_NONE="NONE",C.SUBSCRIPTION_TYPE_ALL_USERS="ALL_USERS",C.SUBSCRIPTION_TYPE_ROLES="ROLES",C.SUBSCRIPTION_TYPE_FRIENDS="FRIENDS",C.REGION_EU=y.DEFAULT_VALUES.REGION_DEFAULT_EU,C.REGION_US=y.DEFAULT_VALUES.REGION_DEFAULT_US,C.REGION_IN=y.DEFAULT_VALUES.REGION_DEFAULT_IN,C.REGION_PRIVATE=y.DEFAULT_VALUES.REGION_DEFAULT_PRIVATE,C}();E.AppSettings=p;var v=function(){function C(){this.subscriptionType=p.SUBSCRIPTION_TYPE_NONE,this.roles=null,this.region=y.DEFAULT_VALUES.REGION_DEFAULT,this.autoJoinGroup=!0,this.establishSocketConnection=!0}return C.prototype.subscribePresenceForAllUsers=function(){return this.subscriptionType=p.SUBSCRIPTION_TYPE_ALL_USERS,this},C.prototype.subscribePresenceForRoles=function(h){return this.subscriptionType=p.SUBSCRIPTION_TYPE_ROLES,this.roles=h,this},C.prototype.subscribePresenceForFriends=function(){return this.subscriptionType=p.SUBSCRIPTION_TYPE_FRIENDS,this},C.prototype.setRegion=function(h){return void 0===h&&(h=y.DEFAULT_VALUES.REGION_DEFAULT),this.region=h.toLowerCase(),this},C.prototype.enableAutoJoinForGroups=function(h){return void 0===h&&(h=!0),this.autoJoinGroup=h,this},C.prototype.autoEstablishSocketConnection=function(h){return void 0===h&&(h=!0),this.establishSocketConnection=h,this},C.prototype.build=function(){return new p(this)},C}();E.AppSettingsBuilder=v},function(Me,E,i){"use strict";E.__esModule=!0,E.CometChatHelper=void 0;var y=i(10),p=i(1),v=i(11),C=i(15),h=i(24),S=i(3),T=i(2),w=i(0),_=function(){function I(){}return I.processMessage=function(P){try{return y.MessageController.trasformJSONMessge(P)}catch(x){w.Logger.error("CometChatHelper: processMessage",x)}},I.getConversationFromMessage=function(P){return new Promise(function(x,B){try{S.CometChat.getLoggedinUser().then(function(F){if(null!==F){var l=y.MessageController.trasformJSONMessge(P),ee=l.receiverType,X=l.conversationId,Ie=void 0,te=y.MessageController.trasformJSONMessge(P);if(ee==p.MessageConstatnts.RECEIVER_TYPE.USER){var ae=v.UsersController.trasformJSONUser(l[p.MessageConstatnts.KEYS.SENDER]);Ie=ae.getUid()==F.getUid()?v.UsersController.trasformJSONUser(l[p.MessageConstatnts.KEYS.RECEIVER]):ae}else Ie=C.GroupsController.trasformJSONGroup(l[p.MessageConstatnts.KEYS.RECEIVER]);var ie=h.ConversationController.trasformJSONConversation(X,ee,te,Ie,0,[]);x(ie)}else B(p.UserErrors.USER_NOT_LOGGED_IN)},function(F){B(new T.CometChatException(F.error))})}catch(F){B(new T.CometChatException(F))}})},I}();E.CometChatHelper=_},function(Me,E,i){"use strict";E.__esModule=!0,E.CallSettingsBuilder=E.CallSettings=void 0;var y=i(1),p=function(){function C(h){this.sessionID=h.sessionID,this.defaultLayout=h.defaultLayout,this.isAudioOnly=h.isAudioOnly,this.region=h.region,this.user=h.user,this.mode=h.mode,this.domain=h.domain,this.ShowEndCallButton=h.ShowEndCallButton,this.ShowMuteAudioButton=h.ShowMuteAudioButton,this.ShowPauseVideoButton=h.ShowPauseVideoButton,this.ShowScreenShareButton=h.ShowScreenShareButton,this.ShowSwitchModeButton=h.ShowSwitchModeButton,this.StartAudioMuted=h.StartAudioMuted,this.StartVideoMuted=h.StartVideoMuted,this.localizedObject=h.localizedObject,this.analyticsSettings=h.analyticsSettings,this.appId=h.appId,this.customCSS=h.customCSS,this.ShowRecordingButton=h.ShowRecordingButton,this.StartRecordingOnCallStart=h.StartRecordingOnCallStart,this.useLegacyUI=h.useLegacyUI}return C.prototype.shouldUseLegacyUI=function(){return this.useLegacyUI},C.prototype.isRecordingButtonEnabled=function(){return this.ShowRecordingButton},C.prototype.shouldStartRecordingOnCallStart=function(){return this.StartRecordingOnCallStart},C.prototype.getCustomCSS=function(){return this.customCSS},C.prototype.getSessionId=function(){return this.sessionID},C.prototype.isAudioOnlyCall=function(){return this.isAudioOnly},C.prototype.getUser=function(){return this.user},C.prototype.getRegion=function(){return this.region},C.prototype.getAppId=function(){return this.appId},C.prototype.getDomain=function(){return this.domain},C.prototype.isDefaultLayoutEnabled=function(){return this.defaultLayout},C.prototype.getMode=function(){return this.mode},C.prototype.getStartWithAudioMuted=function(){return this.StartAudioMuted},C.prototype.getStartWithVideoMuted=function(){return this.StartVideoMuted},C.prototype.isEndCallButtonEnabled=function(){return this.ShowEndCallButton},C.prototype.isMuteAudioButtonEnabled=function(){return this.ShowMuteAudioButton},C.prototype.isPauseVideoButtonEnabled=function(){return this.ShowPauseVideoButton},C.prototype.isScreenShareButtonEnabled=function(){return this.ShowScreenShareButton},C.prototype.isModeButtonEnabled=function(){return this.ShowSwitchModeButton},C.prototype.getLocalizedStringObject=function(){return this.localizedObject},C.prototype.getAnalyticsSettings=function(){return this.analyticsSettings},C}();E.CallSettings=p;var v=function(){function C(){this.defaultLayout=!0,this.isAudioOnly=!1,this.mode=y.CallConstants.CALL_MODE.DEFAULT,this.ShowEndCallButton=!0,this.ShowMuteAudioButton=!0,this.ShowPauseVideoButton=!0,this.ShowScreenShareButton=!0,this.ShowSwitchModeButton=!0,this.StartAudioMuted=!1,this.StartVideoMuted=!1,this.localizedObject={},this.analyticsSettings={},this.ShowRecordingButton=!1,this.StartRecordingOnCallStart=!1,this.useLegacyUI=!1}return C.prototype.setSessionID=function(h){return this.sessionID=h,this},C.prototype.enableDefaultLayout=function(h){return this.defaultLayout=h,this},C.prototype.setIsAudioOnlyCall=function(h){return this.isAudioOnly=h,this},C.prototype.setRegion=function(h){return this.region=h,this},C.prototype.setDomain=function(h){return this.domain=h,this},C.prototype.setUser=function(h){return this.user=h,this},C.prototype.setMode=function(h){return this.mode=h,this},C.prototype.showEndCallButton=function(h){return this.ShowEndCallButton=h,this},C.prototype.showMuteAudioButton=function(h){return this.ShowMuteAudioButton=h,this},C.prototype.showPauseVideoButton=function(h){return this.ShowPauseVideoButton=h,this},C.prototype.showScreenShareButton=function(h){return this.ShowScreenShareButton=h,this},C.prototype.showModeButton=function(h){return this.ShowSwitchModeButton=h,this},C.prototype.setLocalizedStringObject=function(h){return this.localizedObject=h,this},C.prototype.setAnalyticsSettings=function(h){return this.analyticsSettings=h,this},C.prototype.setAppId=function(h){return this.appId=h,this},C.prototype.startWithAudioMuted=function(h){return this.StartAudioMuted=h,this},C.prototype.startWithVideoMuted=function(h){return this.StartVideoMuted=h,this},C.prototype.setCustomCSS=function(h){return this.customCSS=h,this},C.prototype.showRecordingButton=function(h){return this.ShowRecordingButton=h,this},C.prototype.startRecordingOnCallStart=function(h){return this.StartRecordingOnCallStart=h,this},C.prototype.forceLegacyUI=function(h){return this.useLegacyUI=h,this},C.prototype.build=function(){return new p(this)},C}();E.CallSettingsBuilder=v},function(Me,E,i){"use strict";E.__esModule=!0,E.RTCUser=void 0;var y=i(0),p=function(){function v(C){this.avatar="",y.isFalsy(C)||(this.uid=C.toString())}return v.prototype.setUID=function(C){this.uid=C?C.toString():""},v.prototype.getUID=function(){return this.uid.toString()},v.prototype.setName=function(C){this.name=C?C.toString():""},v.prototype.getName=function(){return this.name.toString()},v.prototype.setAvatar=function(C){this.avatar=C?C.toString():""},v.prototype.getAvatar=function(){return this.avatar.toString()},v.prototype.setJWT=function(C){this.jwt=C?C.toString():""},v.prototype.getJWT=function(){return this.jwt.toString()},v.prototype.setResource=function(C){this.resource=C?C.toString():""},v.prototype.getResource=function(){return this.resource.toString()},v}();E.RTCUser=p},function(Me,E,i){"use strict";var y=this&&this.__awaiter||function(Se,se,le,ne){return new(le||(le=Promise))(function(Fe,Ge){function ze(nt){try{Ct(ne.next(nt))}catch(Et){Ge(Et)}}function tt(nt){try{Ct(ne.throw(nt))}catch(Et){Ge(Et)}}function Ct(nt){var Et;nt.done?Fe(nt.value):(Et=nt.value,Et instanceof le?Et:new le(function(Mt){Mt(Et)})).then(ze,tt)}Ct((ne=ne.apply(Se,se||[])).next())})},p=this&&this.__generator||function(Se,se){var le,ne,Fe,Ge,ze={label:0,sent:function(){if(1&Fe[0])throw Fe[1];return Fe[1]},trys:[],ops:[]};return Ge={next:tt(0),throw:tt(1),return:tt(2)},"function"==typeof Symbol&&(Ge[Symbol.iterator]=function(){return this}),Ge;function tt(Ct){return function(nt){return function(Et){if(le)throw new TypeError("Generator is already executing.");for(;ze;)try{if(le=1,ne&&(Fe=2&Et[0]?ne.return:Et[0]?ne.throw||((Fe=ne.return)&&Fe.call(ne),0):ne.next)&&!(Fe=Fe.call(ne,Et[1])).done)return Fe;switch(ne=0,Fe&&(Et=[2&Et[0],Fe.value]),Et[0]){case 0:case 1:Fe=Et;break;case 4:return ze.label++,{value:Et[1],done:!1};case 5:ze.label++,ne=Et[1],Et=[0];continue;case 7:Et=ze.ops.pop(),ze.trys.pop();continue;default:if(!(Fe=0<(Fe=ze.trys).length&&Fe[Fe.length-1])&&(6===Et[0]||2===Et[0])){ze=0;continue}if(3===Et[0]&&(!Fe||Et[1]>Fe[0]&&Et[1]<Fe[3])){ze.label=Et[1];break}if(6===Et[0]&&ze.label<Fe[1]){ze.label=Fe[1],Fe=Et;break}if(Fe&&ze.label<Fe[2]){ze.label=Fe[2],ze.ops.push(Et);break}Fe[2]&&ze.ops.pop(),ze.trys.pop();continue}Et=se.call(Se,ze)}catch(Mt){Et=[6,Mt],ne=0}finally{le=Fe=0}if(5&Et[0])throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}([Ct,nt])}}};E.__esModule=!0,E.WSConnectionHelper=void 0;var v=i(3),C=i(1),h=i(31),S=i(36),T=i(0),w=i(37),_=i(30),I=i(25),P=i(20),x=i(21),B=i(54),F=i(55),l=i(56),ee=i(57),X=i(58),Ie=i(59),te=i(60),ae=i(22),ie=i(27),pe=i(26),Oe=i(5),Q=i(61),Ee=w.ListenerHandlers.getInstance(),He=function(){function Se(){}return Se.getInstance=function(){try{return null!=this.wsConnectionHelper&&null!=this.wsConnectionHelper||(this.wsConnectionHelper=new Se),this.wsConnectionHelper}catch(se){T.Logger.error("WSConnectionHelper: getInstance",se)}},Se.prototype.WSLogin=function(se,le){var ne=this;try{Q.getWSURL().then(function(Fe){ne.connection=new WebSocket(Fe),le&&ne.connection&&ne.connection.readyState==Oe.READY_STATE.CONNECTING&&le(ne.connection.readyState),ne.connection.onopen=function(Ge){ne.onOpen(Ge,le),ne.authenticateUser(se)},ne.connection.onclose=function(Ge){ne.onClose(Ge,le)},ne.connection.onmessage=function(Ge){ne.onMessage(Ge)}},function(Fe){T.Logger.error("WSConnectionHelper :: WSLogin",Fe)})}catch(Fe){T.Logger.error("WSConnectionHelper: WSLogin",Fe)}},Se.prototype.onOpen=function(se,le){try{le&&this.connection&&le(this.connection.readyState)}catch(ne){T.Logger.error("WSConnectionHelper: onOpen",ne)}},Se.prototype.onClose=function(se,le){try{le&&this.connection&&le(this.connection.readyState)}catch(ne){T.Logger.error("WSConnectionHelper: onClose",ne)}},Se.prototype.onMessage=function(se){if(se.data&&"string"==typeof se.data)try{var le=JSON.parse(se.data);if(le&&le.action&&le.action===Oe.KEYS.PONG)return;var ne=this.getCometChatEventFromMessage(JSON.parse(se.data));if(ne.getDeviceId()===v.CometChat.getSessionId()&&ne.getType()!==Oe.AUTH.TYPE)return;switch(ne.getType()){case Oe.TYPING_INDICATOR.TYPE:this.publishTypingIndicator(ne);break;case Oe.RECEIPTS.TYPE:this.publishReceipts(ne);break;case Oe.PRESENCE.TYPE:this.publishPresence(ne);break;case Oe.AUTH.TYPE:this.authResponseReceived(ne);break;case Oe.MESSAGE.TYPE:this.publishMessages(ne);break;case Oe.TRANSIENT_MESSAGE.TYPE:this.publishTransientMessage(ne);break;default:T.Logger.log("WSHelper: onMessage :: unknown type",se.data)}}catch(Fe){T.Logger.error("WSHelper: onMessage",Fe)}else T.Logger.log("WSHelper: onMessage :: object data",se.data)},Se.prototype.authenticateUser=function(se){var le=this;try{v.CometChat.getLoggedinUser().then(function(ne){ne?_.KeyStore.getInstance().get("deviceId").then(function(Fe){var Ge=null;window&&window.location&&window.location.origin&&(Ge=window.location.origin);var ze="",tt=Fe,Ct={version:C.SDKHeader.sdkVersion,apiVersion:C.APPINFO.apiVersion,origin:Ge,uts:(new Date).getTime()};T.isFalsy(v.CometChat.resource)||(Ct.resource=v.CometChat.resource),T.isFalsy(v.CometChat.platform)||(Ct.platform=v.CometChat.platform),T.isFalsy(v.CometChat.language)||(Ct.language=v.CometChat.language),navigator&&(ze=navigator.userAgent);var nt={appInfo:Ct,userAgent:ze,deviceId:tt,platform:C.SDKHeader.platform},Et=new B.CometChatAuthEvent(v.CometChat.getAppId(),"","",ne.getUid(),v.CometChat.getSessionId());if(Et.setAuth(se),Et.setPresenceSubscription(v.CometChat.appSettings.getSubscriptionType()),Et.setDeviceId(v.CometChat.getSessionId()),Et.setExtraParmaeters(nt),Q.checkConnection(le.connection)){var Mt=Et.getAsString();le.connection.send(Mt)}}):T.Logger.log("no logged-in user","null")},function(ne){T.Logger.log("error in fetching logged-in user",ne)})}catch(ne){T.Logger.error("WSConnectionHelper: startTypingIndicator",ne)}},Se.prototype.authResponseReceived=function(se){try{"200"===se.getCode()&&"OK"===se.getStatus()&&this.startPingingWS()}catch(le){T.Logger.error("WSConnectionHelper: authResponseReceived",le)}},Se.prototype.WSLogout=function(){try{this.clearPingTimer(),Q.checkConnection(this.connection)&&this.connection.close(Oe.LOGOUT_CODE,Oe.LOGOUT_REASON)}catch(se){T.Logger.error("WSConnectionHelper: WSLogout",se)}},Se.prototype.startPingingWS=function(){var se=this;try{Se.pingTimer||(Se.pingTimer=setInterval(function(){return y(se,void 0,void 0,function(){var le,ne;return p(this,function(Fe){switch(Fe.label){case 0:return Q.checkConnection(this.connection)?(le=new l.CometChatPingEvent("","","","",""),ne=le.getAsString(),this.connection.send(ne),[4,this.listenForPong()]):[3,2];case 1:Fe.sent()?(T.Logger.log("WSConnectionHelper :: startPingingWS","pong success"),v.CometChat.getConnectionStatus()!=C.CONNECTION_STATUS.CONNECTED&&(this.WSLogout(),this.connection=null,v.CometChat.getInstance().makeWSConnection())):(T.Logger.log("WSConnectionHelper :: startPingingWS","pong failure"),this.WSLogout(),this.connection=null,v.CometChat.getInstance().setConnectionStatus(C.CONNECTION_STATUS.DISCONNECTED),Ee.connectionHandlers.map(function(Ge){try{Ge._eventListener&&(T.isFalsy(Ge._eventListener.onDisconnected)||Ge._eventListener.onDisconnected())}catch(ze){T.Logger.error("WSConnectionHandlers: Disconnected Status",ze)}}),v.CometChat.getInstance().accidentallyDisconnected()),Fe.label=2;case 2:return[2]}})})},15e3))}catch(le){T.Logger.error("WSConnectionHelper: startPingingWS",le)}},Se.prototype.listenForPong=function(){var se=this;return new Promise(function(le,ne){var Fe=setTimeout(function(){le(!1)},3e3);se.connection.addEventListener("message",function(Ge){Ge&&Ge.data&&"string"==typeof Ge.data&&JSON.parse(Ge.data).action===Oe.KEYS.PONG&&(clearTimeout(Fe),le(!0))})})},Se.prototype.clearPingTimer=function(){Se.pingTimer&&(clearInterval(Se.pingTimer),Se.pingTimer=void 0)},Se.prototype.sendOnlineEvent=function(){var se=this;try{Q.checkConnection(this.connection)&&v.CometChat.getLoggedinUser().then(function(le){if(le){var ne={appId:v.CometChat.getAppId(),deviceId:v.CometChat.getSessionId(),type:Oe.PRESENCE.TYPE,body:{action:Oe.PRESENCE.ACTION.ONLINE,timestamp:Math.floor((new Date).getTime()/1e3),user:le}};if(Q.checkConnection(se.connection)){var Fe=Q.stringifyMessage(ne);se.connection.send(Fe)}}else T.Logger.log("no logged-in user","null")},function(le){T.Logger.log("error in fetching logged-in user",le)})}catch(le){T.Logger.error("WSConnectionHelper: sendOnlineEvent",le)}},Se.prototype.sendOfflineEvent=function(){var se=this;try{Q.checkConnection(this.connection)&&v.CometChat.getLoggedinUser().then(function(le){if(le){var ne={appId:v.CometChat.getAppId(),deviceId:v.CometChat.getSessionId(),type:Oe.PRESENCE.TYPE,body:{action:Oe.PRESENCE.ACTION.OFFLINE,timestamp:Math.floor((new Date).getTime()/1e3),user:le}};if(Q.checkConnection(se.connection)){var Fe=Q.stringifyMessage(ne);se.connection.send(Fe)}}else T.Logger.log("no logged-in user","null")},function(le){T.Logger.log("error in fetching logged-in user",le)})}catch(le){T.Logger.error("WSConnectionHelper: sendOfflineEvent",le)}},Se.prototype.startTypingIndicator=function(se,le,ne){var Fe=this;try{v.CometChat.getLoggedinUser().then(function(Ge){if(Ge){var ze=new pe.TypingIndicator(se,le);ze.setSender(Ge),ne&&ze.setMetadata(ne);var tt=new te.CometChatTypingEvent(v.CometChat.getAppId(),se,le,Ge.getUid(),v.CometChat.getSessionId());if(tt.setAction(Oe.TYPING_INDICATOR.ACTION.STARTED),tt.setTypingIndicator(ze),Q.checkConnection(Fe.connection)){var Ct=tt.getAsString();Fe.connection.send(Ct)}}else T.Logger.log("no logged-in user","null")},function(Ge){T.Logger.log("error in fetching logged-in user",Ge)})}catch(Ge){T.Logger.error("WSConnectionHelper: startTypingIndicator",Ge)}},Se.prototype.pauseTypingIndicator=function(se,le,ne){var Fe=this;try{v.CometChat.getLoggedinUser().then(function(Ge){if(Ge){var ze=new pe.TypingIndicator(se,le);ze.setSender(Ge),ne&&ze.setMetadata(ne);var tt=new te.CometChatTypingEvent(v.CometChat.getAppId(),se,le,Ge.getUid(),v.CometChat.getSessionId());if(tt.setAction(Oe.TYPING_INDICATOR.ACTION.ENDED),tt.setTypingIndicator(ze),Q.checkConnection(Fe.connection)){var Ct=tt.getAsString();Fe.connection.send(Ct)}}else T.Logger.log("no logged-in user","null")},function(Ge){T.Logger.log("error in fetching logged-in user",Ge)})}catch(Ge){T.Logger.error("WSConnectionHelper: pauseTypingIndicator",Ge)}},Se.prototype.markAsRead=function(se,le,ne,Fe){var Ge=this;try{v.CometChat.getMode(),v.CometChat.getLoggedinUser().then(function(ze){if(ze){var tt=new X.CometChatReceiptEvent(v.CometChat.getAppId(),se,le,ze.getUid(),v.CometChat.getSessionId(),Fe);tt.setAction(Oe.RECEIPTS.ACTION.READ);var Ct=new ae.MessageReceipt;if(Ct.setSender(ze),Ct.setReceiverType(le),Ct.setReceiver(se),Ct.setReceiptType(Oe.RECEIPTS.RECEIPT_TYPE.READ_RECEIPT),Ct.setMessageId(ne),Ct.setTimestamp(Math.floor((new Date).getTime()/1e3).toString()),tt.setMessageReceipt(Ct),Q.checkConnection(Ge.connection)){var nt=tt.getAsString();Ge.connection.send(nt)}}else T.Logger.log("no logged-in user","null")},function(ze){T.Logger.log("error in fetching logged-in user",ze)})}catch(ze){T.Logger.error("WSConnectionHelper: markAsRead",ze)}},Se.prototype.markAsDelivered=function(se,le,ne,Fe){var Ge=this;try{v.CometChat.getMode(),v.CometChat.getLoggedinUser().then(function(ze){if(ze){var tt=new X.CometChatReceiptEvent(v.CometChat.getAppId(),se,le,ze.getUid(),v.CometChat.getSessionId(),Fe);tt.setAction(Oe.RECEIPTS.ACTION.DELIVERED);var Ct=new ae.MessageReceipt;if(Ct.setSender(ze),Ct.setReceiverType(le),Ct.setReceiver(se),Ct.setReceiptType(Oe.RECEIPTS.RECEIPT_TYPE.DELIVERY_RECEIPT),Ct.setMessageId(ne),Ct.setTimestamp(Math.floor((new Date).getTime()/1e3).toString()),tt.setMessageReceipt(Ct),Q.checkConnection(Ge.connection)){var nt=tt.getAsString();Ge.connection.send(nt)}}else T.Logger.log("no logged-in user","null")},function(ze){T.Logger.log("error in fetching logged-in user",ze)})}catch(ze){T.Logger.error("WSConnectionHelper: markAsDelivered",ze)}},Se.prototype.sendTransientMessage=function(se,le,ne){var Fe=this;try{v.CometChat.getLoggedinUser().then(function(Ge){if(Ge){var ze=new ie.TransientMessage(se,le,ne);ze.setSender(Ge);var tt=new Ie.CometChatTransientEvent(v.CometChat.getAppId(),se,le,Ge.getUid(),v.CometChat.getSessionId());if(tt.setTransientMessage(ze),Q.checkConnection(Fe.connection)){var Ct=tt.getAsString();Fe.connection.send(Ct)}}else T.Logger.log("no logged-in user","null")},function(Ge){T.Logger.log("error in fetching logged-in user",Ge)})}catch(Ge){T.Logger.error("WSConnectionHelper: sendTransientMessage",Ge)}},Se.prototype.publishTypingIndicator=function(se){try{var le=se.getTypingIndicator();switch(se.getAction()){case Oe.TYPING_INDICATOR.ACTION.STARTED:Ee.messageHandlers.map(function(ne){ne._eventListener.onTypingStarted&&ne._eventListener.onTypingStarted(le)}),S.TypingNotificationController.addIncomingTypingStarted(le);break;case Oe.TYPING_INDICATOR.ACTION.ENDED:Ee.messageHandlers.map(function(ne){ne._eventListener.onTypingEnded&&ne._eventListener.onTypingEnded(le)}),S.TypingNotificationController.removeIncomingTypingStarted(le)}}catch(ne){T.Logger.error("WSHelper: publishTypingIndicator",ne)}},Se.prototype.publishReceipts=function(se){try{var le=se.getMessageReceipt();switch(se.getAction()){case Oe.RECEIPTS.ACTION.DELIVERED:Ee.messageHandlers.map(function(ne){ne._eventListener.onMessagesDelivered&&ne._eventListener.onMessagesDelivered(le)});break;case Oe.RECEIPTS.ACTION.READ:Ee.messageHandlers.map(function(ne){ne._eventListener.onMessagesRead&&ne._eventListener.onMessagesRead(le)})}}catch(ne){T.Logger.error("WSHelper: publishReceipts",ne)}},Se.prototype.publishPresence=function(se){try{var le=se.getUser();switch(le.setLastActiveAt(se.getTimestamp()),se.getAction()){case Oe.PRESENCE.ACTION.ONLINE:case Oe.PRESENCE.ACTION.AVAILABLE:le.setStatus(C.PresenceConstatnts.STATUS.ONLINE),Ee.userHandlers.map(function(ne){T.isFalsy(ne._eventListener.onUserOnline)||ne._eventListener.onUserOnline(le)});break;case Oe.PRESENCE.ACTION.OFFLINE:le.setStatus(C.PresenceConstatnts.STATUS.OFFLINE),Ee.userHandlers.map(function(ne){T.isFalsy(ne._eventListener.onUserOffline)||ne._eventListener.onUserOffline(le)})}}catch(ne){T.Logger.error("WSHelper: publishPresence",ne)}},Se.prototype.publishMessages=function(se){try{var le=se.getMessage();le&&le.getId()&&I.MessageListnerMaping.getInstance().set("all",le.getId()),le instanceof x.Call?this.publishCallMessage(le):le instanceof P.Action?this.publishActionMessage(le):this.publishMessage(le)}catch(ne){T.Logger.error("WSHelper: publishMessages",ne)}},Se.prototype.publishMessage=function(se){try{Ee.messageHandlers.map(function(le){if(le._eventListener){var ne=se;switch(ne.getType()){case C.MessageConstatnts.TYPE.TEXT:T.isFalsy(le._eventListener.onTextMessageReceived)||le._eventListener.onTextMessageReceived(se);break;case C.MessageConstatnts.TYPE.CUSTOM:T.isFalsy(le._eventListener.onCustomMessageReceived)||le._eventListener.onCustomMessageReceived(se);break;default:ne.getCategory()==C.MessageCategory.CUSTOM?T.isFalsy(le._eventListener.onCustomMessageReceived)||le._eventListener.onCustomMessageReceived(se):T.isFalsy(le._eventListener.onMediaMessageReceived)||le._eventListener.onMediaMessageReceived(se)}}})}catch(le){T.Logger.error("WSHelper: publishMessage",le)}},Se.prototype.publishCallMessage=function(se){try{var le=h.CallController.getInstance().getActiveCall();switch(se.getStatus()){case C.CallConstants.CALL_STATUS.INITIATED:se.getReceiverType()==C.CallConstants.RECEIVER_TYPE_GROUP?Ee.callHandlers.map(function(ne){se.getCallInitiator().getUid().toLocaleLowerCase()!=v.CometChat.user.getUid().toLocaleLowerCase()&&(T.isFalsy(ne._eventListener.onIncomingCallReceived)||ne._eventListener.onIncomingCallReceived(se))}):Ee.callHandlers.map(function(ne){T.isFalsy(ne._eventListener.onIncomingCallReceived)||ne._eventListener.onIncomingCallReceived(se)});break;case C.CallConstants.CALL_STATUS.ONGOING:se.getReceiverType()==C.CallConstants.RECEIVER_TYPE_GROUP?se.getCallInitiator().getUid().toLocaleLowerCase()==v.CometChat.user.getUid().toLocaleLowerCase()&&Ee.callHandlers.map(function(ne){T.isFalsy(ne._eventListener.onOutgoingCallAccepted)||ne._eventListener.onOutgoingCallAccepted(se)}):Ee.callHandlers.map(function(ne){T.isFalsy(ne._eventListener.onOutgoingCallAccepted)||ne._eventListener.onOutgoingCallAccepted(se)});break;case C.CallConstants.CALL_STATUS.UNANSWERED:if(se.getCallInitiator().getUid().toLocaleLowerCase()==v.CometChat.user.getUid().toLocaleLowerCase())Ee.callHandlers.map(function(ne){T.isFalsy(ne._eventListener.onOutgoingCallRejected)||ne._eventListener.onOutgoingCallRejected(se)});else{if(null!==le&&le.getSessionId()===se.getSessionId())try{h.CallController.getInstance().endCall()}catch(ne){T.Logger.error("CallError",ne)}Ee.callHandlers.map(function(ne){T.isFalsy(ne._eventListener.onIncomingCallCancelled)||ne._eventListener.onIncomingCallCancelled(se)})}break;case C.CallConstants.CALL_STATUS.REJECTED:if(se.getReceiverType()==C.CallConstants.RECEIVER_TYPE_GROUP)se.getCallInitiator().getUid().toLocaleLowerCase()==v.CometChat.user.getUid().toLocaleLowerCase()&&Ee.callHandlers.map(function(ne){T.isFalsy(ne._eventListener.onOutgoingCallRejected)||ne._eventListener.onOutgoingCallRejected(se)});else{if(null!==le&&le.getSessionId()===se.getSessionId())try{h.CallController.getInstance().endCall()}catch(ne){T.Logger.error("CallError",ne)}Ee.callHandlers.map(function(ne){T.isFalsy(ne._eventListener.onOutgoingCallRejected)||ne._eventListener.onOutgoingCallRejected(se)})}break;case C.CallConstants.CALL_STATUS.BUSY:se.getReceiverType()==C.CallConstants.RECEIVER_TYPE_GROUP?se.getCallInitiator().getUid().toLocaleLowerCase()==v.CometChat.user.getUid().toLocaleLowerCase()&&Ee.callHandlers.map(function(ne){T.isFalsy(ne._eventListener.onOutgoingCallRejected)||ne._eventListener.onOutgoingCallRejected(se)}):Ee.callHandlers.map(function(ne){if(null!==le&&le.getSessionId()===se.getSessionId())try{h.CallController.getInstance().endCall()}catch(Fe){T.Logger.error("CallError",Fe)}T.isFalsy(ne._eventListener.onOutgoingCallRejected)||ne._eventListener.onOutgoingCallRejected(se)});break;case C.CallConstants.CALL_STATUS.CANCELLED:if(Ee.callHandlers.map(function(ne){T.isFalsy(ne._eventListener.onIncomingCallCancelled)||ne._eventListener.onIncomingCallCancelled(se)}),null!==le&&le.getSessionId()===se.getSessionId())try{h.CallController.getInstance().endCall()}catch(ne){T.Logger.error("CallError",ne)}break;case C.CallConstants.CALL_STATUS.ENDED:if(h.CallController.getInstance().getCallListner()&&h.CallController.getInstance().getCallListner()._eventListener.onCallEnded(se),null!==le&&le.getSessionId()===se.getSessionId())try{h.CallController.getInstance().endCall()}catch(ne){T.Logger.error("CallError",ne)}break;default:T.Logger.log("WSHelper: publishCallMessage :: unknown status",se)}}catch(ne){T.Logger.error("WSHelper: publishCallMessage",ne)}},Se.prototype.publishActionMessage=function(se){try{switch(se.getAction()){case C.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_JOINED:case C.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_INVITED:Ee.groupHandlers.map(function(le){T.isFalsy(le._eventListener.onGroupMemberJoined)||le._eventListener.onGroupMemberJoined(se,se.getActionBy(),se.getActionFor())});break;case C.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_LEFT:Ee.groupHandlers.map(function(le){T.isFalsy(le._eventListener.onGroupMemberLeft)||le._eventListener.onGroupMemberLeft(se,se.getActionBy(),se.getActionFor())});break;case C.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_BANNED:Ee.groupHandlers.map(function(le){T.isFalsy(le._eventListener.onGroupMemberBanned)||le._eventListener.onGroupMemberBanned(se,se.getActionOn(),se.getActionBy(),se.getActionFor())});break;case C.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_KICKED:Ee.groupHandlers.map(function(le){T.isFalsy(le._eventListener.onGroupMemberKicked)||le._eventListener.onGroupMemberKicked(se,se.getActionOn(),se.getActionBy(),se.getActionFor())});break;case C.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_UNBANNED:Ee.groupHandlers.map(function(le){T.isFalsy(le._eventListener.onGroupMemberUnbanned)||le._eventListener.onGroupMemberUnbanned(se,se.getActionOn(),se.getActionBy(),se.getActionFor())});break;case C.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_SCOPE_CHANGED:Ee.groupHandlers.map(function(le){T.isFalsy(le._eventListener.onGroupMemberScopeChanged)||le._eventListener.onGroupMemberScopeChanged(se,se.getActionOn(),se.getNewScope(),se.getOldScope(),se.getActionFor())});break;case C.ActionConstatnts.ACTION_TYPE.TYPE_MESSAGE_EDITED:Ee.messageHandlers.map(function(le){T.isFalsy(le._eventListener.onMessageEdited)||le._eventListener.onMessageEdited(se.getActionOn())});break;case C.ActionConstatnts.ACTION_TYPE.TYPE_MESSAGE_DELETED:Ee.messageHandlers.map(function(le){T.isFalsy(le._eventListener.onMessageDeleted)||le._eventListener.onMessageDeleted(se.getActionOn())});break;case C.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_ADDED:Ee.groupHandlers.map(function(le){T.isFalsy(le._eventListener.onGroupMemberAddedToGroup)||le._eventListener.onGroupMemberAddedToGroup(se,se.getActionOn(),se.getActionBy(),se.getActionFor())});break;default:T.Logger.log("WSHelper: publishActionMessage :: unknown action",se)}}catch(le){T.Logger.error("WSHelper: publishActionMessage",le)}},Se.prototype.publishTransientMessage=function(se){try{var le=se.getTransientMessage();Ee.messageHandlers.map(function(ne){ne._eventListener.onTransientMessageReceived&&ne._eventListener.onTransientMessageReceived(le)})}catch(ne){T.Logger.error("WSHelper: publishTransientMessage",ne)}},Se.prototype.getCometChatEventFromMessage=function(se){try{if(se.hasOwnProperty(Oe.KEYS.TYPE))switch(se.type){case Oe.TYPING_INDICATOR.TYPE:return te.CometChatTypingEvent.getTypingEventFromJSON(se);case Oe.RECEIPTS.TYPE:return X.CometChatReceiptEvent.getReceiptEventFromJSON(se);case Oe.PRESENCE.TYPE:return ee.CometChatPresenceEvent.getPresenceEventFromJSON(se);case Oe.MESSAGE.TYPE:return F.CometChatMessageEvent.getMessageEventFromJSON(se);case Oe.AUTH.TYPE:return B.CometChatAuthEvent.getAuthEventFromJSON(se);case Oe.TRANSIENT_MESSAGE.TYPE:return Ie.CometChatTransientEvent.getTransientEventFromJSON(se)}}catch(le){T.Logger.error("WSConnectionHelper: getCometChatEventFromMessage",le)}},Se.wsConnectionHelper=new Se,Se}();E.WSConnectionHelper=He},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(h,S){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,w){T.__proto__=w}||function(T,w){for(var _ in w)w.hasOwnProperty(_)&&(T[_]=w[_])})(h,S)},function(h,S){function T(){this.constructor=h}y(h,S),h.prototype=null===S?Object.create(S):(T.prototype=S.prototype,new T)});E.__esModule=!0,E.CometChatAuthEvent=void 0;var v=i(5),C=function(h){function S(T,w,_,I,P){var x=h.call(this,T,w,_,I,P)||this;return x.setType(v.AUTH.TYPE),x}return p(S,h),S.prototype.getStatus=function(){return this.status},S.prototype.setStatus=function(T){this.status=T},S.prototype.getCode=function(){return this.code},S.prototype.setCode=function(T){this.code=T},S.prototype.setAuth=function(T){this.auth=T},S.prototype.getAuth=function(){return this.auth},S.prototype.setPresenceSubscription=function(T){this.presenceSubscription=T},S.prototype.getPresenceSubscription=function(){return this.presenceSubscription},S.prototype.setDeviceId=function(T){this.deviceId=T},S.prototype.getdeviceId=function(){return this.deviceId},S.prototype.setExtraParmaeters=function(T){this.params=T},S.prototype.getExtraParameters=function(){return this.params},S.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},S.prototype.getAsJSONObject=function(){var T=this.getCometChatEventJSON(),w={};return w[v.KEYS.AUTH]=this.auth,w[v.KEYS.DEVICE_ID]=this.deviceId,w[v.KEYS.PRESENCE_SUBSCRIPTION]=this.presenceSubscription,w[v.KEYS.PARAMS]=this.params,T[v.KEYS.BODY]=w,T},S.getAuthEventFromJSON=function(T){var B=T[v.KEYS.BODY],F=B[v.KEYS.STATUS],l=B[v.KEYS.CODE],ee=new S(T[v.KEYS.APP_ID],T[v.KEYS.RECEIVER],T[v.KEYS.RECEIVER_TYPE],T[v.KEYS.SENDER],T[v.KEYS.DEVICE_ID]);return ee.setStatus(F),ee.setCode(l),ee},S}(i(9).CometChatEvent);E.CometChatAuthEvent=C},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(S,T){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,_){w.__proto__=_}||function(w,_){for(var I in _)_.hasOwnProperty(I)&&(w[I]=_[I])})(S,T)},function(S,T){function w(){this.constructor=S}y(S,T),S.prototype=null===T?Object.create(T):(w.prototype=T.prototype,new w)});E.__esModule=!0,E.CometChatMessageEvent=void 0;var v=i(10),C=i(5),h=function(S){function T(w,_,I,P,x){var B=S.call(this,w,_,I,P,x)||this;return B.setType(C.MESSAGE.TYPE),B}return p(T,S),T.prototype.getMessage=function(){return this.message},T.prototype.setMessage=function(w){this.message=w},T.getMessageEventFromJSON=function(w){var F=w[C.KEYS.BODY],l=new T(w[C.KEYS.APP_ID],w[C.KEYS.RECEIVER],w[C.KEYS.RECEIVER_TYPE],w[C.KEYS.SENDER],w[C.KEYS.DEVICE_ID]),ee=v.MessageController.trasformJSONMessge(F);return l.setMessage(ee),l},T}(i(9).CometChatEvent);E.CometChatMessageEvent=h},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(h,S){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,w){T.__proto__=w}||function(T,w){for(var _ in w)w.hasOwnProperty(_)&&(T[_]=w[_])})(h,S)},function(h,S){function T(){this.constructor=h}y(h,S),h.prototype=null===S?Object.create(S):(T.prototype=S.prototype,new T)});E.__esModule=!0,E.CometChatPingEvent=void 0;var v=i(5),C=function(h){function S(T,w,_,I,P){return h.call(this,T,w,_,I,P)||this}return p(S,h),S.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},S.prototype.getAsJSONObject=function(){var T={};return T[v.KEYS.ACTION]=v.KEYS.PING,T[v.KEYS.ACK]="true",T},S}(i(9).CometChatEvent);E.CometChatPingEvent=C},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(T,w){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,I){_.__proto__=I}||function(_,I){for(var P in I)I.hasOwnProperty(P)&&(_[P]=I[P])})(T,w)},function(T,w){function _(){this.constructor=T}y(T,w),T.prototype=null===w?Object.create(w):(_.prototype=w.prototype,new _)});E.__esModule=!0,E.CometChatPresenceEvent=void 0;var v=i(5),C=i(9),h=i(4),S=function(T){function w(_,I,P,x,B){var F=T.call(this,_,I,P,x,B)||this;return F.setType(v.PRESENCE.TYPE),F}return p(w,T),w.prototype.getAction=function(){return this.action},w.prototype.setAction=function(_){this.action=_},w.prototype.getUser=function(){return this.user},w.prototype.setUser=function(_){this.user=_},w.prototype.getTimestamp=function(){return this.timestamp},w.prototype.setTimestamp=function(_){this.timestamp=_},w.getPresenceEventFromJSON=function(_){var B=_[v.KEYS.BODY],F=B[v.KEYS.ACTION],l=B[v.KEYS.USER],ee=B[v.KEYS.TIMESTAMP],X=new w(_[v.KEYS.APP_ID],"","",_[v.KEYS.SENDER],_[v.KEYS.DEVICE_ID]);return X.setAction(F),X.setUser(new h.User(l)),X.setTimestamp(ee),X},w}(C.CometChatEvent);E.CometChatPresenceEvent=S},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(w,_){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var x in P)P.hasOwnProperty(x)&&(I[x]=P[x])})(w,_)},function(w,_){function I(){this.constructor=w}y(w,_),w.prototype=null===_?Object.create(_):(I.prototype=_.prototype,new I)});E.__esModule=!0,E.CometChatReceiptEvent=void 0;var v=i(5),C=i(9),h=i(22),S=i(4),T=function(w){function _(I,P,x,B,F,l){var ee=w.call(this,I,P,x,B,F,l)||this;return ee.setType(v.RECEIPTS.TYPE),ee}return p(_,w),_.prototype.getAction=function(){return this.action},_.prototype.setAction=function(I){this.action=I},_.prototype.getMessageReceipt=function(){return this.receipt},_.prototype.setMessageReceipt=function(I){this.receipt=I},_.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},_.prototype.getAsJSONObject=function(){var I=this.getCometChatEventJSON(),P={};return P[v.KEYS.ACTION]=this.action,P[v.KEYS.MESSAGE_ID]=this.receipt.getMessageId(),P[v.KEYS.USER]=this.receipt.getSender(),I[v.KEYS.BODY]=P,I},_.getReceiptEventFromJSON=function(I){var x=I[v.KEYS.RECEIVER],B=I[v.KEYS.RECEIVER_TYPE],ee=I[v.KEYS.BODY],X=ee[v.KEYS.ACTION],Ie=ee[v.KEYS.USER],te=ee[v.KEYS.MESSAGE_ID],ae=ee[v.KEYS.TIMESTAMP],ie=new _(I[v.KEYS.APP_ID],x,B,I[v.KEYS.SENDER],I[v.KEYS.DEVICE_ID]);ie.setAction(X);var pe=new h.MessageReceipt;return pe.setSender(new S.User(Ie)),pe.setReceiverType(B),pe.setReceiver(x),X===v.RECEIPTS.ACTION.DELIVERED&&(pe.setReceiptType(v.RECEIPTS.RECEIPT_TYPE.DELIVERY_RECEIPT),pe.setDeliveredAt(ae)),X===v.RECEIPTS.ACTION.READ&&(pe.setReceiptType(v.RECEIPTS.RECEIPT_TYPE.READ_RECEIPT),pe.setReadAt(ae)),pe.setMessageId(te.toString()),pe.setTimestamp(ae),ie.setMessageReceipt(pe),ie},_}(C.CometChatEvent);E.CometChatReceiptEvent=T},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(w,_){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var x in P)P.hasOwnProperty(x)&&(I[x]=P[x])})(w,_)},function(w,_){function I(){this.constructor=w}y(w,_),w.prototype=null===_?Object.create(_):(I.prototype=_.prototype,new I)});E.__esModule=!0,E.CometChatTransientEvent=void 0;var v=i(5),C=i(9),h=i(27),S=i(4),T=function(w){function _(I,P,x,B,F){var l=w.call(this,I,P,x,B,F)||this;return l.setType(v.TRANSIENT_MESSAGE.TYPE),l}return p(_,w),_.prototype.getTransientMessage=function(){return this.transientMessage},_.prototype.setTransientMessage=function(I){this.transientMessage=I},_.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},_.prototype.getAsJSONObject=function(){var I=this.getCometChatEventJSON(),P={};return P[v.KEYS.USER]=this.transientMessage.getSender(),this.transientMessage.getData()&&(P[v.KEYS.DATA]=this.transientMessage.getData()),I[v.KEYS.BODY]=P,I},_.getTransientEventFromJSON=function(I){var x=I[v.KEYS.RECEIVER],B=I[v.KEYS.RECEIVER_TYPE],ee=I[v.KEYS.BODY],X=ee[v.KEYS.USER],Ie=ee[v.KEYS.DATA],te=new _(I[v.KEYS.APP_ID],x,B,I[v.KEYS.SENDER],I[v.KEYS.DEVICE_ID]),ae=new h.TransientMessage(x,B,Ie);return ae.setSender(new S.User(X)),ee.hasOwnProperty(v.KEYS.DATA)&&ee[v.KEYS.DATA]&&ae.setData(Ie),te.setTransientMessage(ae),te},_}(C.CometChatEvent);E.CometChatTransientEvent=T},function(Me,E,i){"use strict";var y,p=this&&this.__extends||(y=function(w,_){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var x in P)P.hasOwnProperty(x)&&(I[x]=P[x])})(w,_)},function(w,_){function I(){this.constructor=w}y(w,_),w.prototype=null===_?Object.create(_):(I.prototype=_.prototype,new I)});E.__esModule=!0,E.CometChatTypingEvent=void 0;var v=i(5),C=i(9),h=i(26),S=i(4),T=function(w){function _(I,P,x,B,F){var l=w.call(this,I,P,x,B,F)||this;return l.setType(v.TYPING_INDICATOR.TYPE),l}return p(_,w),_.prototype.getAction=function(){return this.action},_.prototype.setAction=function(I){this.action=I},_.prototype.getTypingIndicator=function(){return this.typingIndicator},_.prototype.setTypingIndicator=function(I){this.typingIndicator=I},_.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},_.prototype.getAsJSONObject=function(){var I=this.getCometChatEventJSON(),P={};return P[v.KEYS.ACTION]=this.action,P[v.KEYS.USER]=this.typingIndicator.getSender(),this.typingIndicator.getMetadata()&&(P[v.KEYS.METADATA]=this.typingIndicator.getMetadata()),I[v.KEYS.BODY]=P,I},_.getTypingEventFromJSON=function(I){var x=I[v.KEYS.RECEIVER],B=I[v.KEYS.RECEIVER_TYPE],ee=I[v.KEYS.BODY],X=ee[v.KEYS.ACTION],Ie=ee[v.KEYS.USER],te=ee[v.KEYS.METADATA],ae=new _(I[v.KEYS.APP_ID],x,B,I[v.KEYS.SENDER],I[v.KEYS.DEVICE_ID]);ae.setAction(X);var ie=new h.TypingIndicator(x,B);return ie.setSender(new S.User(Ie)),ee.hasOwnProperty(v.KEYS.METADATA)&&ee[v.KEYS.METADATA]&&ie.setMetadata(te),ae.setTypingIndicator(ie),ae},_}(C.CometChatEvent);E.CometChatTypingEvent=T},function(Me,E,i){"use strict";E.__esModule=!0,E.getWSURL=E.stringifyMessage=E.checkConnection=void 0;var y=i(1),p=i(0),v=i(5);E.checkConnection=function(C){return C&&C.readyState===v.READY_STATE.OPEN},E.stringifyMessage=function(C){return JSON.stringify(C)},E.getWSURL=function(){return new Promise(function(C,h){p.getAppSettings().then(function(S){var T=v.WS.protocol+p.getChatHost(S)+":"+S[y.APP_SETTINGS.KEYS.CHAT_WSS_PORT];C(T)},function(S){p.Logger.error("WSHelper :: getWSURL",S)})})}},function(Me,E,i){"use strict";E.__esModule=!0,E.CCExtension=void 0;var y=i(0),p=function(){function v(C){this.id="",this.name="",C&&(y.isFalsy(C.id)||(this.id=C.id),y.isFalsy(C.name)||(this.name=C.name))}return v.prototype.getId=function(){return this.id},v.prototype.getName=function(){return this.name},v}();E.CCExtension=p},function(Me,E,i){var y=i(64),p=i(65);Me.exports=function(v,C,h){var S=C&&h||0;"string"==typeof v&&(C="binary"===v?new Array(16):null,v=null);var T=(v=v||{}).random||(v.rng||y)();if(T[6]=15&T[6]|64,T[8]=63&T[8]|128,C)for(var w=0;w<16;++w)C[S+w]=T[w];return C||p(T)}},function(Me,E){var i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var y=new Uint8Array(16);Me.exports=function(){return i(y),y}}else{var p=new Array(16);Me.exports=function(){for(var v,C=0;C<16;C++)0==(3&C)&&(v=4294967296*Math.random()),p[C]=v>>>((3&C)<<3)&255;return p}}},function(Me,E){for(var i=[],y=0;y<256;++y)i[y]=(y+256).toString(16).substr(1);Me.exports=function(p,v){var C=v||0;return[i[p[C++]],i[p[C++]],i[p[C++]],i[p[C++]],"-",i[p[C++]],i[p[C++]],"-",i[p[C++]],i[p[C++]],"-",i[p[C++]],i[p[C++]],"-",i[p[C++]],i[p[C++]],i[p[C++]],i[p[C++]],i[p[C++]],i[p[C++]]].join("")}}])},294:(Tt,Me,E)=>{"use strict";E.d(Me,{I:()=>h});var i=E(6895),y=E(529),p=E(3790),v=E(2682),C=E(8256);let h=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275mod=C.oAB({type:S}),S.\u0275inj=C.cJS({providers:[{provide:y.TP,useClass:p.a,multi:!0},{provide:y.TP,useClass:p.k,multi:!0},v.sM,v.a1,v.Tj],imports:[i.ez,y.JF]}),S})()},3825:(Tt,Me,E)=>{"use strict";E.d(Me,{KD:()=>y.KD,a1:()=>y.a1}),E(294);var y=E(2682);E(3790)},3790:(Tt,Me,E)=>{"use strict";E.d(Me,{a:()=>h,k:()=>p});var i=E(8256),y=E(2682);let p=(()=>{class S{constructor(w){this.jwtService=w}intercept(w,_){const I={"Content-Type":"application/json",Accept:"application/json"},P=this.jwtService.getToken();if(P&&(I.Authorization=`Token ${P}`),w.headers.has("no-header-file"))return _.handle(w);const x=w.clone({setHeaders:I});return _.handle(x)}}return S.\u0275fac=function(w){return new(w||S)(i.LFG(y.Tj))},S.\u0275prov=i.Yz7({token:S,factory:S.\u0275fac}),S})();var v=E(2843),C=E(262);let h=(()=>{class S{constructor(w){this.userService=w}intercept(w,_){return _.handle(w).pipe((0,C.K)(I=>(-1!==[401,403].indexOf(I.status)&&this.userService.purgeAuth(),(0,v._)(I.error))))}}return S.\u0275fac=function(w){return new(w||S)(i.LFG(y.KD))},S.\u0275prov=i.Yz7({token:S,factory:S.\u0275fac}),S})()},2682:(Tt,Me,E)=>{"use strict";E.d(Me,{sM:()=>S,a1:()=>ie,Tj:()=>h,KD:()=>ae});var i=E(2340),y=E(529),p=E(2843),v=E(262),C=E(8256);let h=(()=>{class pe{getToken(){return localStorage.getItem("jwtToken")}saveToken(Q){localStorage.setItem("jwtToken",Q)}destroyToken(){localStorage.removeItem("jwtToken")}}return pe.\u0275fac=function(Q){return new(Q||pe)},pe.\u0275prov=C.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),S=(()=>{class pe{constructor(Q,Ee){this.http=Q,this.jwtService=Ee}formatErrors(Q){return(0,p._)(Q)}get(Q,Ee=new y.LE){return this.http.get(`${i.N.api_url}${Q}`,{params:Ee}).pipe((0,v.K)(this.formatErrors))}put(Q,Ee={}){return this.http.put(`${i.N.api_url}${Q}`,JSON.stringify(Ee)).pipe((0,v.K)(this.formatErrors))}post(Q,Ee={}){return this.http.post(`${i.N.api_url}${Q}`,JSON.stringify(Ee)).pipe((0,v.K)(this.formatErrors))}postFd(Q,Ee={}){return this.http.post(`${i.N.api_url}${Q}`,Ee,{headers:new y.WM({"no-header-file":"yes"})}).pipe((0,v.K)(this.formatErrors))}delete(Q,Ee={}){return this.http.delete(`${i.N.api_url}${Q}`,{body:JSON.stringify(Ee)}).pipe((0,v.K)(this.formatErrors))}}return pe.\u0275fac=function(Q){return new(Q||pe)(C.LFG(y.eN),C.LFG(h))},pe.\u0275prov=C.Yz7({token:pe,factory:pe.\u0275fac}),pe})();var T=E(5698),w=E(4564),_=E(1135),I=E(7579);const P={now:()=>(P.delegate||Date).now(),delegate:void 0};class x extends I.x{constructor(Oe=1/0,Q=1/0,Ee=P){super(),this._bufferSize=Oe,this._windowTime=Q,this._timestampProvider=Ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Q===1/0,this._bufferSize=Math.max(1,Oe),this._windowTime=Math.max(1,Q)}next(Oe){const{isStopped:Q,_buffer:Ee,_infiniteTimeWindow:He,_timestampProvider:Se,_windowTime:se}=this;Q||(Ee.push(Oe),!He&&Ee.push(Se.now()+se)),this._trimBuffer(),super.next(Oe)}_subscribe(Oe){this._throwIfClosed(),this._trimBuffer();const Q=this._innerSubscribe(Oe),{_infiniteTimeWindow:Ee,_buffer:He}=this,Se=He.slice();for(let se=0;se<Se.length&&!Oe.closed;se+=Ee?1:2)Oe.next(Se[se]);return this._checkFinalizedStatuses(Oe),Q}_trimBuffer(){const{_bufferSize:Oe,_timestampProvider:Q,_buffer:Ee,_infiniteTimeWindow:He}=this,Se=(He?1:2)*Oe;if(Oe<1/0&&Se<Ee.length&&Ee.splice(0,Ee.length-Se),!He){const se=Q.now();let le=0;for(let ne=1;ne<Ee.length&&Ee[ne]<=se;ne+=2)le=ne;le&&Ee.splice(0,le+1)}}}var B=E(4671),F=E(4482),l=E(5403);function X(pe,Oe){return pe===Oe}var Ie=E(4004),te=E(7185);let ae=(()=>{class pe{constructor(Q,Ee,He,Se,se){this.apiService=Q,this.http=Ee,this.jwtService=He,this.router=Se,this.toaster=se,this.currentUserSubject=new _.X({}),this.currentUser=this.currentUserSubject.asObservable().pipe(function ee(pe,Oe=B.y){return pe=pe??X,(0,F.e)((Q,Ee)=>{let He,Se=!0;Q.subscribe((0,l.x)(Ee,se=>{const le=Oe(se);(Se||!pe(He,le))&&(Se=!1,He=le,Ee.next(se))}))})}()),this.isAuthenticatedSubject=new x(1),this.isAuthenticated=this.isAuthenticatedSubject.asObservable(),this.isAdminSubject=new x(1),this.isAdmin=this.isAdminSubject.asObservable()}addToast(Q="",Ee="",He=""){"success"===Q?this.toaster.success(He,Ee):"error"===Q?this.toaster.error(He,Ee):"warning"===Q?this.toaster.warning(He,Ee):this.toaster.info(He,Ee)}populate(){"undefined"!==localStorage.getItem("profile")&&null!==localStorage.getItem("profile")?this.setAuth(JSON.parse(String(localStorage.getItem("profile")))):this.jwtService.getToken()&&typeof this.jwtService.getToken()<"u"?this.apiService.post("/Identity/AuthPing").subscribe(Q=>this.setAuth(Q.user),Q=>this.purgeAuth()):this.purgeAuth()}Membersquery(Q){const Ee={};return Object.keys(Q.filters).forEach(He=>{Ee[He]=Q.filters[He]}),this.apiService.get("/members",new y.LE({fromObject:Ee}))}GroupUsersquery(Q){const Ee={};return Object.keys(Q.filters1).forEach(He=>{Ee[He]=Q.filters1[He]}),this.apiService.get("/forum_chat_group/finduser",new y.LE({fromObject:Ee}))}setAuth(Q){localStorage.setItem("profile",JSON.stringify(Q)),Q.token&&this.jwtService.saveToken(Q.token),this.currentUserSubject.next(Q),this.isAuthenticatedSubject.next(!0)}setToken(Q){this.jwtService.saveToken(Q),this.populate()}purgeAuth(){this.jwtService.destroyToken(),localStorage.removeItem("profile"),this.currentUserSubject.next({}),this.isAuthenticatedSubject.next(!1),this.isAdminSubject.next(!1),null!=window.location.href.match("/account")&&this.router.navigateByUrl("/login")}attemptAuth(Q,Ee){return this.apiService.post("/Identity"+("login"===Q?"/login":""),{...Ee}).pipe((0,Ie.U)(Se=>(null!==Se.data&&this.setAuth({...Se.data,token:Se.token}),Se)))}getCurrentUser(){return this.currentUserSubject.value}signup(Q){return this.apiService.post("/Identity/SignUp",Q)}verifyEmail(Q,Ee){return this.apiService.post("/Identity/ConfirmEmail",{email:Q,emailToken:Ee})}getServices(){return this.apiService.get("/api/Service/GetAll")}getUserProfile(Q){return this.apiService.get("/api/UserProfile/Profile?ProfileId="+Q)}updateProfile(Q){return this.apiService.put("/api/UserProfile/Update",Q)}saveNoOfPets(Q,Ee){return this.apiService.put("/api/UserProfile/Update",{numberOfPet:Q,id:Ee})}saveProviderServices(Q,Ee){return this.apiService.post("/api/Service/AddService",{serviceIds:Q,profileId:Ee})}getPets(Q){return this.apiService.get("/api/Pet/Pets?PetLoverId="+Q)}addPet(Q,Ee){return""!==Ee?this.apiService.put("/api/Pet/Update?PetId="+Ee,{...Q,id:Ee}):this.apiService.post("/api/Pet/Add",Q)}removePet(Q){return this.apiService.delete("/api/Pet/Remove?PetId="+Q)}getProviderServices(Q){return this.apiService.get("/api/Service/ProviderServices?ProfileId="+Q)}getRequestsFromPetLovers(Q){return this.apiService.get("/api/UserFriends/Requests?ProfileId="+Q)}getConnectedPetLovers(Q){return this.apiService.get("/api/UserFriends/ServiceProviders/Added?ServiceProviderId="+Q)}getConnectedServiceProviders(Q){return this.apiService.get("/api/UserFriends/PetLovers/Added?PetLoverId="+Q)}approveRequest(Q){return this.apiService.put("/api/UserFriends/Requests/Accept",Q)}sendRequest(Q){return this.apiService.post("/api/UserFriends/Requests/Send",Q)}rejectRequest(Q){return this.apiService.put("/api/UserFriends/Requests/Decline",Q)}getServiceProviders(){return this.apiService.get("/api/UserFriends/PetLovers/Suggestion")}assignPetToProvider(Q){return this.apiService.post("/api/Pet/Assign",Q)}removeFriend(Q){return this.apiService.delete("/api/UserFriends/Requests/Remove",Q)}uploadPicture(Q){return this.apiService.postFd("/api/UserProfile/Picture/Upload",Q)}addComment(Q){return this.apiService.post("/api/PetComment/Add",Q)}getComment(Q,Ee){return this.apiService.get("/api/PetComment/Get?PetId="+Q+"&ServiceProviderId="+Ee)}}return pe.\u0275fac=function(Q){return new(Q||pe)(C.LFG(S),C.LFG(y.eN),C.LFG(h),C.LFG(w.F0),C.LFG(te._W))},pe.\u0275prov=C.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),ie=(()=>{class pe{constructor(Q,Ee){this.router=Q,this.userService=Ee}canActivate(Q,Ee){if(void 0!==localStorage.getItem("jwtToken"))return this.userService.isAuthenticated.pipe((0,T.q)(1)),!0;this.router.navigateByUrl("/")}}return pe.\u0275fac=function(Q){return new(Q||pe)(C.LFG(w.F0),C.LFG(ae))},pe.\u0275prov=C.Yz7({token:pe,factory:pe.\u0275fac}),pe})()},2340:(Tt,Me,E)=>{"use strict";E.d(Me,{N:()=>i});const i={production:!0,api_url:"https://vetschedapi.herokuapp.com",APP_ID:"223580d7f529d8ea",REGION:"us",AUTH_KEY:"b9dd1cde5160f8bc3545aab3458361432cac0f53"}},1250:(Tt,Me,E)=>{"use strict";var i=E(1481),y=E(8256),p=E(7185),v=E(4564),C=E(3825);const h=function(){return["/"]},S=function(){return["/login"]},w=[{path:"",loadChildren:()=>Promise.all([E.e(433),E.e(823)]).then(E.bind(E,5823)).then(Y=>Y.LoginModule)},{path:"login",loadChildren:()=>Promise.all([E.e(433),E.e(823)]).then(E.bind(E,5823)).then(Y=>Y.LoginModule)},{path:"signup",loadChildren:()=>Promise.all([E.e(433),E.e(202)]).then(E.bind(E,3202)).then(Y=>Y.SignUpModule)},{path:"account",loadChildren:()=>Promise.all([E.e(433),E.e(167)]).then(E.bind(E,3167)).then(Y=>Y.AccountModule)},{path:"email-verification",component:(()=>{class Y{constructor(d,N,K){this.route=d,this.router=N,this.service=K}ngOnInit(){this.route.queryParams.subscribe(d=>{null!=d.EmailToken&&null!=d.Email?this.service.verifyEmail(d.Email,d.EmailToken).subscribe(N=>{200==N.statusCode?(this.service.addToast("success","Email Verified successfully!"),this.router.navigate(["/login"])):(this.service.addToast("error",N.statusMessage||"No Verification Token!"),this.router.navigate(["/login"]))}):(this.service.addToast("error","No Verification Token!"),this.router.navigate(["/login"]))})}}return Y.\u0275fac=function(d){return new(d||Y)(y.Y36(v.gz),y.Y36(v.F0),y.Y36(C.KD))},Y.\u0275cmp=y.Xpm({type:Y,selectors:[["app-email-verification"]],decls:22,vars:4,consts:[[1,"loginArea"],[1,"container"],[1,"loginHeader","hideXs"],[1,"row"],[1,"col-12","col-sm-6","col-md-6"],[3,"routerLink"],["src","assets/images/logo.png","alt",""],[1,"col-12","col-sm-6","col-md-6","text-right"],[1,"myBtn",3,"routerLink"],[1,"col-12","col-md-6"],[1,"formDesing"],[1,"text-center"],[1,"fa","fa-spin","fa-spinner","fa-2x"],[1,"col-12","col-md-6","hideSm"],["src","assets/images/loginIllustration.png","alt","",1,"loginIllustration"]],template:function(d,N){1&d&&(y.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),y._UZ(6,"img",6),y.qZA()(),y.TgZ(7,"div",7)(8,"a",8),y._uU(9,"Login"),y.qZA()()()(),y.TgZ(10,"div",3)(11,"div",9)(12,"form",10)(13,"div",11)(14,"h2"),y._uU(15,"Email Verification"),y.qZA(),y.TgZ(16,"p"),y._uU(17,"We are verifying your email address"),y.qZA(),y._UZ(18,"br")(19,"i",12),y.qZA()()(),y.TgZ(20,"div",13),y._UZ(21,"img",14),y.qZA()()()()),2&d&&(y.xp6(5),y.Q6J("routerLink",y.DdM(2,h)),y.xp6(3),y.Q6J("routerLink",y.DdM(3,S)))},dependencies:[v.yS]}),Y})()}];let _=(()=>{class Y{}return Y.\u0275fac=function(d){return new(d||Y)},Y.\u0275mod=y.oAB({type:Y}),Y.\u0275inj=y.cJS({imports:[v.Bz.forRoot(w,{scrollPositionRestoration:"top",preloadingStrategy:v.wm,initialNavigation:"enabledBlocking"}),v.Bz]}),Y})();var I=E(9177),P=E(2340);const x=["class","root"];let B=(()=>{class Y{constructor(d){this.userService=d,this.title="vetsched",this.userService.populate()}ngOnInit(){const d=P.N.APP_ID,N=P.N.REGION,K=(new I.CometChat.AppSettingsBuilder).subscribePresenceForAllUsers().setRegion(N).build();I.CometChat.init(d,K).then(()=>{console.log("Initialization completed successfully")},oe=>{console.log("Initialization failed with error:",oe)})}}return Y.\u0275fac=function(d){return new(d||Y)(y.Y36(C.KD))},Y.\u0275cmp=y.Xpm({type:Y,selectors:[["",8,"root"]],attrs:x,decls:2,vars:0,consts:[["calss","main","id","root"]],template:function(d,N){1&d&&(y.TgZ(0,"div",0),y._UZ(1,"router-outlet"),y.qZA())},dependencies:[v.lC]}),Y})();var F=E(294),l=E(6895),ee=E(529),X=E(7340);function te(Y){return new y.vHH(3e3,!1)}function Z(){return typeof window<"u"&&typeof window.document<"u"}function ue(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function re(Y){switch(Y.length){case 0:return new X.ZN;case 1:return Y[0];default:return new X.ZE(Y)}}function ce(Y,a,d,N,K=new Map,oe=new Map){const Te=[],ve=[];let xe=-1,$e=null;if(N.forEach(dt=>{const mt=dt.get("offset"),Ht=mt==xe,Gt=Ht&&$e||new Map;dt.forEach((It,xt)=>{let $t=xt,sn=It;if("offset"!==xt)switch($t=a.normalizePropertyName($t,Te),sn){case X.k1:sn=K.get(xt);break;case X.l3:sn=oe.get(xt);break;default:sn=a.normalizeStyleValue(xt,$t,sn,Te)}Gt.set($t,sn)}),Ht||ve.push(Gt),$e=Gt,xe=mt}),Te.length)throw function at(Y){return new y.vHH(3502,!1)}();return ve}function W(Y,a,d,N){switch(a){case"start":Y.onStart(()=>N(d&&H(d,"start",Y)));break;case"done":Y.onDone(()=>N(d&&H(d,"done",Y)));break;case"destroy":Y.onDestroy(()=>N(d&&H(d,"destroy",Y)))}}function H(Y,a,d){const oe=$(Y.element,Y.triggerName,Y.fromState,Y.toState,a||Y.phaseName,d.totalTime??Y.totalTime,!!d.disabled),Te=Y._data;return null!=Te&&(oe._data=Te),oe}function $(Y,a,d,N,K="",oe=0,Te){return{element:Y,triggerName:a,fromState:d,toState:N,phaseName:K,totalTime:oe,disabled:!!Te}}function U(Y,a,d){let N=Y.get(a);return N||Y.set(a,N=d),N}function k(Y){const a=Y.indexOf(":");return[Y.substring(1,a),Y.slice(a+1)]}let q=(Y,a)=>!1,_e=(Y,a,d)=>[],Ce=null;function he(Y){const a=Y.parentNode||Y.host;return a===Ce?null:a}(ue()||typeof Element<"u")&&(Z()?(Ce=(()=>document.documentElement)(),q=(Y,a)=>{for(;a;){if(a===Y)return!0;a=he(a)}return!1}):q=(Y,a)=>Y.contains(a),_e=(Y,a,d)=>{if(d)return Array.from(Y.querySelectorAll(a));const N=Y.querySelector(a);return N?[N]:[]});let Ve=null,we=!1;const ot=q,gt=_e;let Qt=(()=>{class Y{validateStyleProperty(d){return function We(Y){Ve||(Ve=function ut(){return typeof document<"u"?document.body:null}()||{},we=!!Ve.style&&"WebkitAppearance"in Ve.style);let a=!0;return Ve.style&&!function Le(Y){return"ebkit"==Y.substring(1,6)}(Y)&&(a=Y in Ve.style,!a&&we&&(a="Webkit"+Y.charAt(0).toUpperCase()+Y.slice(1)in Ve.style)),a}(d)}matchesElement(d,N){return!1}containsElement(d,N){return ot(d,N)}getParentElement(d){return he(d)}query(d,N,K){return gt(d,N,K)}computeStyle(d,N,K){return K||""}animate(d,N,K,oe,Te,ve=[],xe){return new X.ZN(K,oe)}}return Y.\u0275fac=function(d){return new(d||Y)},Y.\u0275prov=y.Yz7({token:Y,factory:Y.\u0275fac}),Y})(),hn=(()=>{class Y{}return Y.NOOP=new Qt,Y})();const Un="ng-enter",Sr="ng-leave",Tn="ng-trigger",Wn=".ng-trigger",Dr="ng-animating",Cr=".ng-animating";function zn(Y){if("number"==typeof Y)return Y;const a=Y.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:be(parseFloat(a[1]),a[2])}function be(Y,a){return"s"===a?1e3*Y:Y}function Re(Y,a,d){return Y.hasOwnProperty("duration")?Y:function fe(Y,a,d){let K,oe=0,Te="";if("string"==typeof Y){const ve=Y.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ve)return a.push(te()),{duration:0,delay:0,easing:""};K=be(parseFloat(ve[1]),ve[2]);const xe=ve[3];null!=xe&&(oe=be(parseFloat(xe),ve[4]));const $e=ve[5];$e&&(Te=$e)}else K=Y;if(!d){let ve=!1,xe=a.length;K<0&&(a.push(function ae(){return new y.vHH(3100,!1)}()),ve=!0),oe<0&&(a.push(function ie(){return new y.vHH(3101,!1)}()),ve=!0),ve&&a.splice(xe,0,te())}return{duration:K,delay:oe,easing:Te}}(Y,a,d)}function Ne(Y,a={}){return Object.keys(Y).forEach(d=>{a[d]=Y[d]}),a}function Ke(Y){const a=new Map;return Object.keys(Y).forEach(d=>{a.set(d,Y[d])}),a}function kt(Y,a=new Map,d){if(d)for(let[N,K]of d)a.set(N,K);for(let[N,K]of Y)a.set(N,K);return a}function it(Y,a,d){return d?a+":"+d+";":""}function Pt(Y){let a="";for(let d=0;d<Y.style.length;d++){const N=Y.style.item(d);a+=it(0,N,Y.style.getPropertyValue(N))}for(const d in Y.style)Y.style.hasOwnProperty(d)&&!d.startsWith("_")&&(a+=it(0,jr(d),Y.style[d]));Y.setAttribute("style",a)}function jt(Y,a,d){Y.style&&(a.forEach((N,K)=>{const oe=ss(K);d&&!d.has(K)&&d.set(K,Y.style[oe]),Y.style[oe]=N}),ue()&&Pt(Y))}function pn(Y,a){Y.style&&(a.forEach((d,N)=>{const K=ss(N);Y.style[K]=""}),ue()&&Pt(Y))}function nr(Y){return Array.isArray(Y)?1==Y.length?Y[0]:(0,X.vP)(Y):Y}const qn=new RegExp("{{\\s*(.+?)\\s*}}","g");function an(Y){let a=[];if("string"==typeof Y){let d;for(;d=qn.exec(Y);)a.push(d[1]);qn.lastIndex=0}return a}function On(Y,a,d){const N=Y.toString(),K=N.replace(qn,(oe,Te)=>{let ve=a[Te];return null==ve&&(d.push(function Oe(Y){return new y.vHH(3003,!1)}()),ve=""),ve.toString()});return K==N?Y:K}function rr(Y){const a=[];let d=Y.next();for(;!d.done;)a.push(d.value),d=Y.next();return a}const Yt=/-+([a-z0-9])/g;function ss(Y){return Y.replace(Yt,(...a)=>a[1].toUpperCase())}function jr(Y){return Y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qt(Y,a,d){switch(a.type){case 7:return Y.visitTrigger(a,d);case 0:return Y.visitState(a,d);case 1:return Y.visitTransition(a,d);case 2:return Y.visitSequence(a,d);case 3:return Y.visitGroup(a,d);case 4:return Y.visitAnimate(a,d);case 5:return Y.visitKeyframes(a,d);case 6:return Y.visitStyle(a,d);case 8:return Y.visitReference(a,d);case 9:return Y.visitAnimateChild(a,d);case 10:return Y.visitAnimateRef(a,d);case 11:return Y.visitQuery(a,d);case 12:return Y.visitStagger(a,d);default:throw function Q(Y){return new y.vHH(3004,!1)}()}}function Qn(Y,a){return window.getComputedStyle(Y)[a]}function Nr(Y,a){const d=[];return"string"==typeof Y?Y.split(/\s*,\s*/).forEach(N=>function hr(Y,a,d){if(":"==Y[0]){const xe=function Ts(Y,a){switch(Y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,N)=>parseFloat(N)>parseFloat(d);case":decrement":return(d,N)=>parseFloat(N)<parseFloat(d);default:return a.push(function je(Y){return new y.vHH(3016,!1)}()),"* => *"}}(Y,d);if("function"==typeof xe)return void a.push(xe);Y=xe}const N=Y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return d.push(function Mt(Y){return new y.vHH(3015,!1)}()),a;const K=N[1],oe=N[2],Te=N[3];a.push(ks(K,Te));"<"==oe[0]&&!("*"==K&&"*"==Te)&&a.push(ks(Te,K))}(N,d,a)):d.push(Y),d}const or=new Set(["true","1"]),_n=new Set(["false","0"]);function ks(Y,a){const d=or.has(Y)||_n.has(Y),N=or.has(a)||_n.has(a);return(K,oe)=>{let Te="*"==Y||Y==K,ve="*"==a||a==oe;return!Te&&d&&"boolean"==typeof K&&(Te=K?or.has(Y):_n.has(Y)),!ve&&N&&"boolean"==typeof oe&&(ve=oe?or.has(a):_n.has(a)),Te&&ve}}const vn=new RegExp("s*:selfs*,?","g");function $r(Y,a,d,N){return new Gr(Y).build(a,d,N)}class Gr{constructor(a){this._driver=a}build(a,d,N){const K=new ti(d);return this._resetContextStyleTimingState(K),qt(this,nr(a),K)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles=new Map,a.collectedStyles.set("",new Map),a.currentTime=0}visitTrigger(a,d){let N=d.queryCount=0,K=d.depCount=0;const oe=[],Te=[];return"@"==a.name.charAt(0)&&d.errors.push(function He(){return new y.vHH(3006,!1)}()),a.definitions.forEach(ve=>{if(this._resetContextStyleTimingState(d),0==ve.type){const xe=ve,$e=xe.name;$e.toString().split(/\s*,\s*/).forEach(dt=>{xe.name=dt,oe.push(this.visitState(xe,d))}),xe.name=$e}else if(1==ve.type){const xe=this.visitTransition(ve,d);N+=xe.queryCount,K+=xe.depCount,Te.push(xe)}else d.errors.push(function Se(){return new y.vHH(3007,!1)}())}),{type:7,name:a.name,states:oe,transitions:Te,queryCount:N,depCount:K,options:null}}visitState(a,d){const N=this.visitStyle(a.styles,d),K=a.options&&a.options.params||null;if(N.containsDynamicStyles){const oe=new Set,Te=K||{};N.styles.forEach(ve=>{ve instanceof Map&&ve.forEach(xe=>{an(xe).forEach($e=>{Te.hasOwnProperty($e)||oe.add($e)})})}),oe.size&&(rr(oe.values()),d.errors.push(function se(Y,a){return new y.vHH(3008,!1)}()))}return{type:0,name:a.name,style:N,options:K?{params:K}:null}}visitTransition(a,d){d.queryCount=0,d.depCount=0;const N=qt(this,nr(a.animation),d);return{type:1,matchers:Nr(a.expr,d.errors),animation:N,queryCount:d.queryCount,depCount:d.depCount,options:Jr(a.options)}}visitSequence(a,d){return{type:2,steps:a.steps.map(N=>qt(this,N,d)),options:Jr(a.options)}}visitGroup(a,d){const N=d.currentTime;let K=0;const oe=a.steps.map(Te=>{d.currentTime=N;const ve=qt(this,Te,d);return K=Math.max(K,d.currentTime),ve});return d.currentTime=K,{type:3,steps:oe,options:Jr(a.options)}}visitAnimate(a,d){const N=function Oo(Y,a){if(Y.hasOwnProperty("duration"))return Y;if("number"==typeof Y)return Ys(Re(Y,a).duration,0,"");const d=Y;if(d.split(/\s+/).some(oe=>"{"==oe.charAt(0)&&"{"==oe.charAt(1))){const oe=Ys(0,0,"");return oe.dynamic=!0,oe.strValue=d,oe}const K=Re(d,a);return Ys(K.duration,K.delay,K.easing)}(a.timings,d.errors);d.currentAnimateTimings=N;let K,oe=a.styles?a.styles:(0,X.oB)({});if(5==oe.type)K=this.visitKeyframes(oe,d);else{let Te=a.styles,ve=!1;if(!Te){ve=!0;const $e={};N.easing&&($e.easing=N.easing),Te=(0,X.oB)($e)}d.currentTime+=N.duration+N.delay;const xe=this.visitStyle(Te,d);xe.isEmptyStep=ve,K=xe}return d.currentAnimateTimings=null,{type:4,timings:N,style:K,options:null}}visitStyle(a,d){const N=this._makeStyleAst(a,d);return this._validateStyleAst(N,d),N}_makeStyleAst(a,d){const N=[],K=Array.isArray(a.styles)?a.styles:[a.styles];for(let ve of K)"string"==typeof ve?ve===X.l3?N.push(ve):d.errors.push(new y.vHH(3002,!1)):N.push(Ke(ve));let oe=!1,Te=null;return N.forEach(ve=>{if(ve instanceof Map&&(ve.has("easing")&&(Te=ve.get("easing"),ve.delete("easing")),!oe))for(let xe of ve.values())if(xe.toString().indexOf("{{")>=0){oe=!0;break}}),{type:6,styles:N,easing:Te,offset:a.offset,containsDynamicStyles:oe,options:null}}_validateStyleAst(a,d){const N=d.currentAnimateTimings;let K=d.currentTime,oe=d.currentTime;N&&oe>0&&(oe-=N.duration+N.delay),a.styles.forEach(Te=>{"string"!=typeof Te&&Te.forEach((ve,xe)=>{const $e=d.collectedStyles.get(d.currentQuerySelector),dt=$e.get(xe);let mt=!0;dt&&(oe!=K&&oe>=dt.startTime&&K<=dt.endTime&&(d.errors.push(function Fe(Y,a,d,N,K){return new y.vHH(3010,!1)}()),mt=!1),oe=dt.startTime),mt&&$e.set(xe,{startTime:oe,endTime:K}),d.options&&function Cn(Y,a,d){const N=a.params||{},K=an(Y);K.length&&K.forEach(oe=>{N.hasOwnProperty(oe)||d.push(function pe(Y){return new y.vHH(3001,!1)}())})}(ve,d.options,d.errors)})})}visitKeyframes(a,d){const N={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function Ge(){return new y.vHH(3011,!1)}()),N;let oe=0;const Te=[];let ve=!1,xe=!1,$e=0;const dt=a.steps.map(sn=>{const Pn=this._makeStyleAst(sn,d);let Hn=null!=Pn.offset?Pn.offset:function no(Y){if("string"==typeof Y)return null;let a=null;if(Array.isArray(Y))Y.forEach(d=>{if(d instanceof Map&&d.has("offset")){const N=d;a=parseFloat(N.get("offset")),N.delete("offset")}});else if(Y instanceof Map&&Y.has("offset")){const d=Y;a=parseFloat(d.get("offset")),d.delete("offset")}return a}(Pn.styles),An=0;return null!=Hn&&(oe++,An=Pn.offset=Hn),xe=xe||An<0||An>1,ve=ve||An<$e,$e=An,Te.push(An),Pn});xe&&d.errors.push(function ze(){return new y.vHH(3012,!1)}()),ve&&d.errors.push(function tt(){return new y.vHH(3200,!1)}());const mt=a.steps.length;let Ht=0;oe>0&&oe<mt?d.errors.push(function Ct(){return new y.vHH(3202,!1)}()):0==oe&&(Ht=1/(mt-1));const Gt=mt-1,It=d.currentTime,xt=d.currentAnimateTimings,$t=xt.duration;return dt.forEach((sn,Pn)=>{const Hn=Ht>0?Pn==Gt?1:Ht*Pn:Te[Pn],An=Hn*$t;d.currentTime=It+xt.delay+An,xt.duration=An,this._validateStyleAst(sn,d),sn.offset=Hn,N.styles.push(sn)}),N}visitReference(a,d){return{type:8,animation:qt(this,nr(a.animation),d),options:Jr(a.options)}}visitAnimateChild(a,d){return d.depCount++,{type:9,options:Jr(a.options)}}visitAnimateRef(a,d){return{type:10,animation:this.visitReference(a.animation,d),options:Jr(a.options)}}visitQuery(a,d){const N=d.currentQuerySelector,K=a.options||{};d.queryCount++,d.currentQuery=a;const[oe,Te]=function Zn(Y){const a=!!Y.split(/\s*,\s*/).find(d=>":self"==d);return a&&(Y=Y.replace(vn,"")),Y=Y.replace(/@\*/g,Wn).replace(/@\w+/g,d=>Wn+"-"+d.slice(1)).replace(/:animating/g,Cr),[Y,a]}(a.selector);d.currentQuerySelector=N.length?N+" "+oe:oe,U(d.collectedStyles,d.currentQuerySelector,new Map);const ve=qt(this,nr(a.animation),d);return d.currentQuery=null,d.currentQuerySelector=N,{type:11,selector:oe,limit:K.limit||0,optional:!!K.optional,includeSelf:Te,animation:ve,originalSelector:a.selector,options:Jr(a.options)}}visitStagger(a,d){d.currentQuery||d.errors.push(function nt(){return new y.vHH(3013,!1)}());const N="full"===a.timings?{duration:0,delay:0,easing:"full"}:Re(a.timings,d.errors,!0);return{type:12,animation:qt(this,nr(a.animation),d),timings:N,options:null}}}class ti{constructor(a){this.errors=a,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jr(Y){return Y?(Y=Ne(Y)).params&&(Y.params=function Do(Y){return Y?Ne(Y):null}(Y.params)):Y={},Y}function Ys(Y,a,d){return{duration:Y,delay:a,easing:d}}function ro(Y,a,d,N,K,oe,Te=null,ve=!1){return{type:1,element:Y,keyframes:a,preStyleProps:d,postStyleProps:N,duration:K,delay:oe,totalTime:K+oe,easing:Te,subTimeline:ve}}class Bs{constructor(){this._map=new Map}get(a){return this._map.get(a)||[]}append(a,d){let N=this._map.get(a);N||this._map.set(a,N=[]),N.push(...d)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const ri=new RegExp(":enter","g"),si=new RegExp(":leave","g");function Vs(Y,a,d,N,K,oe=new Map,Te=new Map,ve,xe,$e=[]){return(new so).buildKeyframes(Y,a,d,N,K,oe,Te,ve,xe,$e)}class so{buildKeyframes(a,d,N,K,oe,Te,ve,xe,$e,dt=[]){$e=$e||new Bs;const mt=new pr(a,d,$e,K,oe,dt,[]);mt.options=xe;const Ht=xe.delay?zn(xe.delay):0;mt.currentTimeline.delayNextStep(Ht),mt.currentTimeline.setStyles([Te],null,mt.errors,xe),qt(this,N,mt);const Gt=mt.timelines.filter(It=>It.containsAnimation());if(Gt.length&&ve.size){let It;for(let xt=Gt.length-1;xt>=0;xt--){const $t=Gt[xt];if($t.element===d){It=$t;break}}It&&!It.allowOnlyTimelineStyles()&&It.setStyles([ve],null,mt.errors,xe)}return Gt.length?Gt.map(It=>It.buildKeyframes()):[ro(d,[],[],[],0,Ht,"",!1)]}visitTrigger(a,d){}visitState(a,d){}visitTransition(a,d){}visitAnimateChild(a,d){const N=d.subInstructions.get(d.element);if(N){const K=d.createSubContext(a.options),oe=d.currentTimeline.currentTime,Te=this._visitSubInstructions(N,K,K.options);oe!=Te&&d.transformIntoNewTimeline(Te)}d.previousNode=a}visitAnimateRef(a,d){const N=d.createSubContext(a.options);N.transformIntoNewTimeline(),this._applyAnimationRefDelays([a.options,a.animation.options],d,N),this.visitReference(a.animation,N),d.transformIntoNewTimeline(N.currentTimeline.currentTime),d.previousNode=a}_applyAnimationRefDelays(a,d,N){for(const K of a){const oe=K?.delay;if(oe){const Te="number"==typeof oe?oe:zn(On(oe,K?.params??{},d.errors));N.delayNextStep(Te)}}}_visitSubInstructions(a,d,N){let oe=d.currentTimeline.currentTime;const Te=null!=N.duration?zn(N.duration):null,ve=null!=N.delay?zn(N.delay):null;return 0!==Te&&a.forEach(xe=>{const $e=d.appendInstructionToTimeline(xe,Te,ve);oe=Math.max(oe,$e.duration+$e.delay)}),oe}visitReference(a,d){d.updateOptions(a.options,!0),qt(this,a.animation,d),d.previousNode=a}visitSequence(a,d){const N=d.subContextCount;let K=d;const oe=a.options;if(oe&&(oe.params||oe.delay)&&(K=d.createSubContext(oe),K.transformIntoNewTimeline(),null!=oe.delay)){6==K.previousNode.type&&(K.currentTimeline.snapshotCurrentStyles(),K.previousNode=Wr);const Te=zn(oe.delay);K.delayNextStep(Te)}a.steps.length&&(a.steps.forEach(Te=>qt(this,Te,K)),K.currentTimeline.applyStylesToKeyframe(),K.subContextCount>N&&K.transformIntoNewTimeline()),d.previousNode=a}visitGroup(a,d){const N=[];let K=d.currentTimeline.currentTime;const oe=a.options&&a.options.delay?zn(a.options.delay):0;a.steps.forEach(Te=>{const ve=d.createSubContext(a.options);oe&&ve.delayNextStep(oe),qt(this,Te,ve),K=Math.max(K,ve.currentTimeline.currentTime),N.push(ve.currentTimeline)}),N.forEach(Te=>d.currentTimeline.mergeTimelineCollectedStyles(Te)),d.transformIntoNewTimeline(K),d.previousNode=a}_visitTiming(a,d){if(a.dynamic){const N=a.strValue;return Re(d.params?On(N,d.params,d.errors):N,d.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,d){const N=d.currentAnimateTimings=this._visitTiming(a.timings,d),K=d.currentTimeline;N.delay&&(d.incrementTime(N.delay),K.snapshotCurrentStyles());const oe=a.style;5==oe.type?this.visitKeyframes(oe,d):(d.incrementTime(N.duration),this.visitStyle(oe,d),K.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=a}visitStyle(a,d){const N=d.currentTimeline,K=d.currentAnimateTimings;!K&&N.hasCurrentStyleProperties()&&N.forwardFrame();const oe=K&&K.easing||a.easing;a.isEmptyStep?N.applyEmptyStep(oe):N.setStyles(a.styles,oe,d.errors,d.options),d.previousNode=a}visitKeyframes(a,d){const N=d.currentAnimateTimings,K=d.currentTimeline.duration,oe=N.duration,ve=d.createSubContext().currentTimeline;ve.easing=N.easing,a.styles.forEach(xe=>{ve.forwardTime((xe.offset||0)*oe),ve.setStyles(xe.styles,xe.easing,d.errors,d.options),ve.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(ve),d.transformIntoNewTimeline(K+oe),d.previousNode=a}visitQuery(a,d){const N=d.currentTimeline.currentTime,K=a.options||{},oe=K.delay?zn(K.delay):0;oe&&(6===d.previousNode.type||0==N&&d.currentTimeline.hasCurrentStyleProperties())&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Wr);let Te=N;const ve=d.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!K.optional,d.errors);d.currentQueryTotal=ve.length;let xe=null;ve.forEach(($e,dt)=>{d.currentQueryIndex=dt;const mt=d.createSubContext(a.options,$e);oe&&mt.delayNextStep(oe),$e===d.element&&(xe=mt.currentTimeline),qt(this,a.animation,mt),mt.currentTimeline.applyStylesToKeyframe(),Te=Math.max(Te,mt.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(Te),xe&&(d.currentTimeline.mergeTimelineCollectedStyles(xe),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=a}visitStagger(a,d){const N=d.parentContext,K=d.currentTimeline,oe=a.timings,Te=Math.abs(oe.duration),ve=Te*(d.currentQueryTotal-1);let xe=Te*d.currentQueryIndex;switch(oe.duration<0?"reverse":oe.easing){case"reverse":xe=ve-xe;break;case"full":xe=N.currentStaggerTime}const dt=d.currentTimeline;xe&&dt.delayNextStep(xe);const mt=dt.currentTime;qt(this,a.animation,d),d.previousNode=a,N.currentStaggerTime=K.currentTime-mt+(K.startTime-N.currentTimeline.startTime)}}const Wr={};class pr{constructor(a,d,N,K,oe,Te,ve,xe){this._driver=a,this.element=d,this.subInstructions=N,this._enterClassName=K,this._leaveClassName=oe,this.errors=Te,this.timelines=ve,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=xe||new Mr(this._driver,d,0),ve.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,d){if(!a)return;const N=a;let K=this.options;null!=N.duration&&(K.duration=zn(N.duration)),null!=N.delay&&(K.delay=zn(N.delay));const oe=N.params;if(oe){let Te=K.params;Te||(Te=this.options.params={}),Object.keys(oe).forEach(ve=>{(!d||!Te.hasOwnProperty(ve))&&(Te[ve]=On(oe[ve],Te,this.errors))})}}_copyOptions(){const a={};if(this.options){const d=this.options.params;if(d){const N=a.params={};Object.keys(d).forEach(K=>{N[K]=d[K]})}}return a}createSubContext(a=null,d,N){const K=d||this.element,oe=new pr(this._driver,K,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(K,N||0));return oe.previousNode=this.previousNode,oe.currentAnimateTimings=this.currentAnimateTimings,oe.options=this._copyOptions(),oe.updateOptions(a),oe.currentQueryIndex=this.currentQueryIndex,oe.currentQueryTotal=this.currentQueryTotal,oe.parentContext=this,this.subContextCount++,oe}transformIntoNewTimeline(a){return this.previousNode=Wr,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,d,N){const K={duration:d??a.duration,delay:this.currentTimeline.currentTime+(N??0)+a.delay,easing:""},oe=new Hs(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,K,a.stretchStartingKeyframe);return this.timelines.push(oe),K}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,d,N,K,oe,Te){let ve=[];if(K&&ve.push(this.element),a.length>0){a=(a=a.replace(ri,"."+this._enterClassName)).replace(si,"."+this._leaveClassName);let $e=this._driver.query(this.element,a,1!=N);0!==N&&($e=N<0?$e.slice($e.length+N,$e.length):$e.slice(0,N)),ve.push(...$e)}return!oe&&0==ve.length&&Te.push(function Et(Y){return new y.vHH(3014,!1)}()),ve}}class Mr{constructor(a,d,N,K){this._driver=a,this.element=d,this.startTime=N,this._elementTimelineStylesLookup=K,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const d=1===this._keyframes.size&&this._pendingStyles.size;this.duration||d?(this.forwardTime(this.currentTime+a),d&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,d){return this.applyStylesToKeyframe(),new Mr(this._driver,a,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,d){this._localTimelineStyles.set(a,d),this._globalTimelineStyles.set(a,d),this._styleSummary.set(a,{time:this.currentTime,value:d})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&this._previousKeyframe.set("easing",a);for(let[d,N]of this._globalTimelineStyles)this._backFill.set(d,N||X.l3),this._currentKeyframe.set(d,X.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,d,N,K){d&&this._previousKeyframe.set("easing",d);const oe=K&&K.params||{},Te=function oo(Y,a){const d=new Map;let N;return Y.forEach(K=>{if("*"===K){N=N||a.keys();for(let oe of N)d.set(oe,X.l3)}else kt(K,d)}),d}(a,this._globalTimelineStyles);for(let[ve,xe]of Te){const $e=On(xe,oe,N);this._pendingStyles.set(ve,$e),this._localTimelineStyles.has(ve)||this._backFill.set(ve,this._globalTimelineStyles.get(ve)??X.l3),this._updateStyle(ve,$e)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((a,d)=>{this._currentKeyframe.set(d,a)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((a,d)=>{this._currentKeyframe.has(d)||this._currentKeyframe.set(d,a)}))}snapshotCurrentStyles(){for(let[a,d]of this._localTimelineStyles)this._pendingStyles.set(a,d),this._updateStyle(a,d)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let d in this._currentKeyframe)a.push(d);return a}mergeTimelineCollectedStyles(a){a._styleSummary.forEach((d,N)=>{const K=this._styleSummary.get(N);(!K||d.time>K.time)&&this._updateStyle(N,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,d=new Set,N=1===this._keyframes.size&&0===this.duration;let K=[];this._keyframes.forEach((ve,xe)=>{const $e=kt(ve,new Map,this._backFill);$e.forEach((dt,mt)=>{dt===X.k1?a.add(mt):dt===X.l3&&d.add(mt)}),N||$e.set("offset",xe/this.duration),K.push($e)});const oe=a.size?rr(a.values()):[],Te=d.size?rr(d.values()):[];if(N){const ve=K[0],xe=new Map(ve);ve.set("offset",0),xe.set("offset",1),K=[ve,xe]}return ro(this.element,K,oe,Te,this.duration,this.startTime,this.easing,!1)}}class Hs extends Mr{constructor(a,d,N,K,oe,Te,ve=!1){super(a,d,Te.delay),this.keyframes=N,this.preStyleProps=K,this.postStyleProps=oe,this._stretchStartingKeyframe=ve,this.timings={duration:Te.duration,delay:Te.delay,easing:Te.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:d,duration:N,easing:K}=this.timings;if(this._stretchStartingKeyframe&&d){const oe=[],Te=N+d,ve=d/Te,xe=kt(a[0]);xe.set("offset",0),oe.push(xe);const $e=kt(a[0]);$e.set("offset",kr(ve)),oe.push($e);const dt=a.length-1;for(let mt=1;mt<=dt;mt++){let Ht=kt(a[mt]);const Gt=Ht.get("offset");Ht.set("offset",kr((d+Gt*N)/Te)),oe.push(Ht)}N=Te,d=0,K="",a=oe}return ro(this.element,a,this.preStyleProps,this.postStyleProps,N,d,K,!0)}}function kr(Y,a=3){const d=Math.pow(10,a-1);return Math.round(Y*d)/d}class io{}const os=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vs extends io{normalizePropertyName(a,d){return ss(a)}normalizeStyleValue(a,d,N,K){let oe="";const Te=N.toString().trim();if(os.has(d)&&0!==N&&"0"!==N)if("number"==typeof N)oe="px";else{const ve=N.match(/^[+-]?[\d\.]+([a-z]*)$/);ve&&0==ve[1].length&&K.push(function Ee(Y,a){return new y.vHH(3005,!1)}())}return Te+oe}}function is(Y,a,d,N,K,oe,Te,ve,xe,$e,dt,mt,Ht){return{type:0,element:Y,triggerName:a,isRemovalTransition:K,fromState:d,fromStyles:oe,toState:N,toStyles:Te,timelines:ve,queriedElements:xe,preStyleProps:$e,postStyleProps:dt,totalTime:mt,errors:Ht}}const As={};class Is{constructor(a,d,N){this._triggerName=a,this.ast=d,this._stateStyles=N}match(a,d,N,K){return function wo(Y,a,d,N,K){return Y.some(oe=>oe(a,d,N,K))}(this.ast.matchers,a,d,N,K)}buildStyles(a,d,N){let K=this._stateStyles.get("*");return void 0!==a&&(K=this._stateStyles.get(a?.toString())||K),K?K.buildStyles(d,N):new Map}build(a,d,N,K,oe,Te,ve,xe,$e,dt){const mt=[],Ht=this.ast.options&&this.ast.options.params||As,It=this.buildStyles(N,ve&&ve.params||As,mt),xt=xe&&xe.params||As,$t=this.buildStyles(K,xt,mt),sn=new Set,Pn=new Map,Hn=new Map,An="void"===K,Xr={params:Rs(xt,Ht),delay:this.ast.options?.delay},Tr=dt?[]:Vs(a,d,this.ast.animation,oe,Te,It,$t,Xr,$e,mt);let Kn=0;if(Tr.forEach(Vr=>{Kn=Math.max(Vr.duration+Vr.delay,Kn)}),mt.length)return is(d,this._triggerName,N,K,An,It,$t,[],[],Pn,Hn,Kn,mt);Tr.forEach(Vr=>{const lr=Vr.element,mo=U(Pn,lr,new Set);Vr.preStyleProps.forEach(br=>mo.add(br));const hs=U(Hn,lr,new Set);Vr.postStyleProps.forEach(br=>hs.add(br)),lr!==d&&sn.add(lr)});const Br=rr(sn.values());return is(d,this._triggerName,N,K,An,It,$t,Tr,Br,Pn,Hn,Kn)}}function Rs(Y,a){const d=Ne(a);for(const N in Y)Y.hasOwnProperty(N)&&null!=Y[N]&&(d[N]=Y[N]);return d}class uo{constructor(a,d,N){this.styles=a,this.defaultParams=d,this.normalizer=N}buildStyles(a,d){const N=new Map,K=Ne(this.defaultParams);return Object.keys(a).forEach(oe=>{const Te=a[oe];null!==Te&&(K[oe]=Te)}),this.styles.styles.forEach(oe=>{"string"!=typeof oe&&oe.forEach((Te,ve)=>{Te&&(Te=On(Te,K,d));const xe=this.normalizer.normalizePropertyName(ve,d);Te=this.normalizer.normalizeStyleValue(ve,xe,Te,d),N.set(xe,Te)})}),N}}class Gn{constructor(a,d,N){this.name=a,this.ast=d,this._normalizer=N,this.transitionFactories=[],this.states=new Map,d.states.forEach(K=>{this.states.set(K.name,new uo(K.style,K.options&&K.options.params||{},N))}),Ks(this.states,"true","1"),Ks(this.states,"false","0"),d.transitions.forEach(K=>{this.transitionFactories.push(new Is(a,K,this.states))}),this.fallbackTransition=function as(Y,a,d){return new Is(Y,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Te,ve)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,d,N,K){return this.transitionFactories.find(Te=>Te.match(a,d,N,K))||null}matchStyles(a,d,N){return this.fallbackTransition.buildStyles(a,d,N)}}function Ks(Y,a,d){Y.has(a)?Y.has(d)||Y.set(d,Y.get(a)):Y.has(d)&&Y.set(a,Y.get(d))}const js=new Bs;class co{constructor(a,d,N){this.bodyNode=a,this._driver=d,this._normalizer=N,this._animations=new Map,this._playersById=new Map,this.players=[]}register(a,d){const N=[],oe=$r(this._driver,d,N,[]);if(N.length)throw function lt(Y){return new y.vHH(3503,!1)}();this._animations.set(a,oe)}_buildPlayer(a,d,N){const K=a.element,oe=ce(0,this._normalizer,0,a.keyframes,d,N);return this._driver.animate(K,oe,a.duration,a.delay,a.easing,[],!0)}create(a,d,N={}){const K=[],oe=this._animations.get(a);let Te;const ve=new Map;if(oe?(Te=Vs(this._driver,d,oe,Un,Sr,new Map,new Map,N,js,K),Te.forEach(dt=>{const mt=U(ve,dt.element,new Map);dt.postStyleProps.forEach(Ht=>mt.set(Ht,null))})):(K.push(function dn(){return new y.vHH(3300,!1)}()),Te=[]),K.length)throw function Ut(Y){return new y.vHH(3504,!1)}();ve.forEach((dt,mt)=>{dt.forEach((Ht,Gt)=>{dt.set(Gt,this._driver.computeStyle(mt,Gt,X.l3))})});const $e=re(Te.map(dt=>{const mt=ve.get(dt.element);return this._buildPlayer(dt,new Map,mt)}));return this._playersById.set(a,$e),$e.onDestroy(()=>this.destroy(a)),this.players.push($e),$e}destroy(a){const d=this._getPlayer(a);d.destroy(),this._playersById.delete(a);const N=this.players.indexOf(d);N>=0&&this.players.splice(N,1)}_getPlayer(a){const d=this._playersById.get(a);if(!d)throw function bn(Y){return new y.vHH(3301,!1)}();return d}listen(a,d,N,K){const oe=$(d,"","","");return W(this._getPlayer(a),N,oe,K),()=>{}}command(a,d,N,K){if("register"==N)return void this.register(a,K[0]);if("create"==N)return void this.create(a,d,K[0]||{});const oe=this._getPlayer(a);switch(N){case"play":oe.play();break;case"pause":oe.pause();break;case"reset":oe.reset();break;case"restart":oe.restart();break;case"finish":oe.finish();break;case"init":oe.init();break;case"setPosition":oe.setPosition(parseFloat(K[0]));break;case"destroy":this.destroy(a)}}}const oi="ng-animate-queued",us="ng-animate-disabled",Js=[],cs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Os={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fn="__ng_removed";class Lo{constructor(a,d=""){this.namespaceId=d;const N=a&&a.hasOwnProperty("value");if(this.value=function er(Y){return Y??null}(N?a.value:a),N){const oe=Ne(a);delete oe.value,this.options=oe}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(a){const d=a.params;if(d){const N=this.options.params;Object.keys(d).forEach(K=>{null==N[K]&&(N[K]=d[K])})}}}const Yr="void",ls=new Lo(Yr);class wr{constructor(a,d,N){this.id=a,this.hostElement=d,this._engine=N,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+a,kn(d,this._hostClassName)}listen(a,d,N,K){if(!this._triggers.has(d))throw function Xt(Y,a){return new y.vHH(3302,!1)}();if(null==N||0==N.length)throw function tn(Y){return new y.vHH(3303,!1)}();if(!function Ms(Y){return"start"==Y||"done"==Y}(N))throw function rn(Y,a){return new y.vHH(3400,!1)}();const oe=U(this._elementListeners,a,[]),Te={name:d,phase:N,callback:K};oe.push(Te);const ve=U(this._engine.statesByElement,a,new Map);return ve.has(d)||(kn(a,Tn),kn(a,Tn+"-"+d),ve.set(d,ls)),()=>{this._engine.afterFlush(()=>{const xe=oe.indexOf(Te);xe>=0&&oe.splice(xe,1),this._triggers.has(d)||ve.delete(d)})}}register(a,d){return!this._triggers.has(a)&&(this._triggers.set(a,d),!0)}_getTrigger(a){const d=this._triggers.get(a);if(!d)throw function wt(Y){return new y.vHH(3401,!1)}();return d}trigger(a,d,N,K=!0){const oe=this._getTrigger(d),Te=new fs(this.id,d,a);let ve=this._engine.statesByElement.get(a);ve||(kn(a,Tn),kn(a,Tn+"-"+d),this._engine.statesByElement.set(a,ve=new Map));let xe=ve.get(d);const $e=new Lo(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&xe&&$e.absorbOptions(xe.options),ve.set(d,$e),xe||(xe=ls),$e.value!==Yr&&xe.value===$e.value){if(!function fo(Y,a){const d=Object.keys(Y),N=Object.keys(a);if(d.length!=N.length)return!1;for(let K=0;K<d.length;K++){const oe=d[K];if(!a.hasOwnProperty(oe)||Y[oe]!==a[oe])return!1}return!0}(xe.params,$e.params)){const xt=[],$t=oe.matchStyles(xe.value,xe.params,xt),sn=oe.matchStyles($e.value,$e.params,xt);xt.length?this._engine.reportError(xt):this._engine.afterFlush(()=>{pn(a,$t),jt(a,sn)})}return}const Ht=U(this._engine.playersByElement,a,[]);Ht.forEach(xt=>{xt.namespaceId==this.id&&xt.triggerName==d&&xt.queued&&xt.destroy()});let Gt=oe.matchTransition(xe.value,$e.value,a,$e.params),It=!1;if(!Gt){if(!K)return;Gt=oe.fallbackTransition,It=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:d,transition:Gt,fromState:xe,toState:$e,player:Te,isFallbackTransition:It}),It||(kn(a,oi),Te.onStart(()=>{Qr(a,oi)})),Te.onDone(()=>{let xt=this.players.indexOf(Te);xt>=0&&this.players.splice(xt,1);const $t=this._engine.playersByElement.get(a);if($t){let sn=$t.indexOf(Te);sn>=0&&$t.splice(sn,1)}}),this.players.push(Te),Ht.push(Te),Te}deregister(a){this._triggers.delete(a),this._engine.statesByElement.forEach(d=>d.delete(a)),this._elementListeners.forEach((d,N)=>{this._elementListeners.set(N,d.filter(K=>K.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const d=this._engine.playersByElement.get(a);d&&(d.forEach(N=>N.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,d){const N=this._engine.driver.query(a,Wn,!0);N.forEach(K=>{if(K[fn])return;const oe=this._engine.fetchNamespacesByElement(K);oe.size?oe.forEach(Te=>Te.triggerLeaveAnimation(K,d,!1,!0)):this.clearElementCache(K)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(K=>this.clearElementCache(K)))}triggerLeaveAnimation(a,d,N,K){const oe=this._engine.statesByElement.get(a),Te=new Map;if(oe){const ve=[];if(oe.forEach((xe,$e)=>{if(Te.set($e,xe.value),this._triggers.has($e)){const dt=this.trigger(a,$e,Yr,K);dt&&ve.push(dt)}}),ve.length)return this._engine.markElementAsRemoved(this.id,a,!0,d,Te),N&&re(ve).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const d=this._elementListeners.get(a),N=this._engine.statesByElement.get(a);if(d&&N){const K=new Set;d.forEach(oe=>{const Te=oe.name;if(K.has(Te))return;K.add(Te);const xe=this._triggers.get(Te).fallbackTransition,$e=N.get(Te)||ls,dt=new Lo(Yr),mt=new fs(this.id,Te,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:Te,transition:xe,fromState:$e,toState:dt,player:mt,isFallbackTransition:!0})})}}removeNode(a,d){const N=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,d),this.triggerLeaveAnimation(a,d,!0))return;let K=!1;if(N.totalAnimations){const oe=N.players.length?N.playersByQueriedElement.get(a):[];if(oe&&oe.length)K=!0;else{let Te=a;for(;Te=Te.parentNode;)if(N.statesByElement.get(Te)){K=!0;break}}}if(this.prepareLeaveAnimationListeners(a),K)N.markElementAsRemoved(this.id,a,!1,d);else{const oe=a[fn];(!oe||oe===cs)&&(N.afterFlush(()=>this.clearElementCache(a)),N.destroyInnerAnimations(a),N._onRemovalComplete(a,d))}}insertNode(a,d){kn(a,this._hostClassName)}drainQueuedTransitions(a){const d=[];return this._queue.forEach(N=>{const K=N.player;if(K.destroyed)return;const oe=N.element,Te=this._elementListeners.get(oe);Te&&Te.forEach(ve=>{if(ve.name==N.triggerName){const xe=$(oe,N.triggerName,N.fromState.value,N.toState.value);xe._data=a,W(N.player,ve.phase,xe,ve.callback)}}),K.markedForDestroy?this._engine.afterFlush(()=>{K.destroy()}):d.push(N)}),this._queue=[],d.sort((N,K)=>{const oe=N.transition.ast.depCount,Te=K.transition.ast.depCount;return 0==oe||0==Te?oe-Te:this._engine.driver.containsElement(N.element,K.element)?1:-1})}destroy(a){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}elementContainsData(a){let d=!1;return this._elementListeners.has(a)&&(d=!0),d=!!this._queue.find(N=>N.element===a)||d,d}}class ds{constructor(a,d,N){this.bodyNode=a,this.driver=d,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(K,oe)=>{}}_onRemovalComplete(a,d){this.onRemovalComplete(a,d)}get queuedPlayers(){const a=[];return this._namespaceList.forEach(d=>{d.players.forEach(N=>{N.queued&&a.push(N)})}),a}createNamespace(a,d){const N=new wr(a,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(N,d):(this.newHostElements.set(d,N),this.collectEnterElement(d)),this._namespaceLookup[a]=N}_balanceNamespaceList(a,d){const N=this._namespaceList,K=this.namespacesByHostElement;if(N.length-1>=0){let Te=!1,ve=this.driver.getParentElement(d);for(;ve;){const xe=K.get(ve);if(xe){const $e=N.indexOf(xe);N.splice($e+1,0,a),Te=!0;break}ve=this.driver.getParentElement(ve)}Te||N.unshift(a)}else N.push(a);return K.set(d,a),a}register(a,d){let N=this._namespaceLookup[a];return N||(N=this.createNamespace(a,d)),N}registerTrigger(a,d,N){let K=this._namespaceLookup[a];K&&K.register(d,N)&&this.totalAnimations++}destroy(a,d){if(!a)return;const N=this._fetchNamespace(a);this.afterFlush(()=>{this.namespacesByHostElement.delete(N.hostElement),delete this._namespaceLookup[a];const K=this._namespaceList.indexOf(N);K>=0&&this._namespaceList.splice(K,1)}),this.afterFlushAnimationsDone(()=>N.destroy(d))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const d=new Set,N=this.statesByElement.get(a);if(N)for(let K of N.values())if(K.namespaceId){const oe=this._fetchNamespace(K.namespaceId);oe&&d.add(oe)}return d}trigger(a,d,N,K){if(Ns(d)){const oe=this._fetchNamespace(a);if(oe)return oe.trigger(d,N,K),!0}return!1}insertNode(a,d,N,K){if(!Ns(d))return;const oe=d[fn];if(oe&&oe.setForRemoval){oe.setForRemoval=!1,oe.setForMove=!0;const Te=this.collectedLeaveElements.indexOf(d);Te>=0&&this.collectedLeaveElements.splice(Te,1)}if(a){const Te=this._fetchNamespace(a);Te&&Te.insertNode(d,N)}K&&this.collectEnterElement(d)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,d){d?this.disabledNodes.has(a)||(this.disabledNodes.add(a),kn(a,us)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),Qr(a,us))}removeNode(a,d,N,K){if(Ns(d)){const oe=a?this._fetchNamespace(a):null;if(oe?oe.removeNode(d,K):this.markElementAsRemoved(a,d,!1,K),N){const Te=this.namespacesByHostElement.get(d);Te&&Te.id!==a&&Te.removeNode(d,K)}}else this._onRemovalComplete(d,K)}markElementAsRemoved(a,d,N,K,oe){this.collectedLeaveElements.push(d),d[fn]={namespaceId:a,setForRemoval:K,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:oe}}listen(a,d,N,K,oe){return Ns(d)?this._fetchNamespace(a).listen(d,N,K,oe):()=>{}}_buildInstruction(a,d,N,K,oe){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,N,K,a.fromState.options,a.toState.options,d,oe)}destroyInnerAnimations(a){let d=this.driver.query(a,Wn,!0);d.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(a,Cr,!0),d.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(a){const d=this.playersByElement.get(a);d&&d.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(a){const d=this.playersByQueriedElement.get(a);d&&d.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return re(this.players).onDone(()=>a());a()})}processLeaveNode(a){const d=a[fn];if(d&&d.setForRemoval){if(a[fn]=cs,d.namespaceId){this.destroyInnerAnimations(a);const N=this._fetchNamespace(d.namespaceId);N&&N.clearElementCache(a)}this._onRemovalComplete(a,d.setForRemoval)}a.classList?.contains(us)&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(a=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,K)=>this._balanceNamespaceList(N,K)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)kn(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{d=this._flushAnimations(N,a)}finally{for(let K=0;K<N.length;K++)N[K]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],d.length?re(d).onDone(()=>{N.forEach(K=>K())}):N.forEach(K=>K())}}reportError(a){throw function Wt(Y){return new y.vHH(3402,!1)}()}_flushAnimations(a,d){const N=new Bs,K=[],oe=new Map,Te=[],ve=new Map,xe=new Map,$e=new Map,dt=new Set;this.disabledNodes.forEach(St=>{dt.add(St);const Dt=this.driver.query(St,".ng-animate-queued",!0);for(let Rt=0;Rt<Dt.length;Rt++)dt.add(Dt[Rt])});const mt=this.bodyNode,Ht=Array.from(this.statesByElement.keys()),Gt=ws(Ht,this.collectedEnterElements),It=new Map;let xt=0;Gt.forEach((St,Dt)=>{const Rt=Un+xt++;It.set(Dt,Rt),St.forEach(Jt=>kn(Jt,Rt))});const $t=[],sn=new Set,Pn=new Set;for(let St=0;St<this.collectedLeaveElements.length;St++){const Dt=this.collectedLeaveElements[St],Rt=Dt[fn];Rt&&Rt.setForRemoval&&($t.push(Dt),sn.add(Dt),Rt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(Jt=>sn.add(Jt)):Pn.add(Dt))}const Hn=new Map,An=ws(Ht,Array.from(sn));An.forEach((St,Dt)=>{const Rt=Sr+xt++;Hn.set(Dt,Rt),St.forEach(Jt=>kn(Jt,Rt))}),a.push(()=>{Gt.forEach((St,Dt)=>{const Rt=It.get(Dt);St.forEach(Jt=>Qr(Jt,Rt))}),An.forEach((St,Dt)=>{const Rt=Hn.get(Dt);St.forEach(Jt=>Qr(Jt,Rt))}),$t.forEach(St=>{this.processLeaveNode(St)})});const Xr=[],Tr=[];for(let St=this._namespaceList.length-1;St>=0;St--)this._namespaceList[St].drainQueuedTransitions(d).forEach(Rt=>{const Jt=Rt.player,En=Rt.element;if(Xr.push(Jt),this.collectedEnterElements.length){const In=En[fn];if(In&&In.setForMove){if(In.previousTriggersValues&&In.previousTriggersValues.has(Rt.triggerName)){const gr=In.previousTriggersValues.get(Rt.triggerName),$n=this.statesByElement.get(Rt.element);if($n&&$n.has(Rt.triggerName)){const Hr=$n.get(Rt.triggerName);Hr.value=gr,$n.set(Rt.triggerName,Hr)}}return void Jt.destroy()}}const Ur=!mt||!this.driver.containsElement(mt,En),jn=Hn.get(En),es=It.get(En),mn=this._buildInstruction(Rt,N,es,jn,Ur);if(mn.errors&&mn.errors.length)return void Tr.push(mn);if(Ur)return Jt.onStart(()=>pn(En,mn.fromStyles)),Jt.onDestroy(()=>jt(En,mn.toStyles)),void K.push(Jt);if(Rt.isFallbackTransition)return Jt.onStart(()=>pn(En,mn.fromStyles)),Jt.onDestroy(()=>jt(En,mn.toStyles)),void K.push(Jt);const vr=[];mn.timelines.forEach(In=>{In.stretchStartingKeyframe=!0,this.disabledNodes.has(In.element)||vr.push(In)}),mn.timelines=vr,N.append(En,mn.timelines),Te.push({instruction:mn,player:Jt,element:En}),mn.queriedElements.forEach(In=>U(ve,In,[]).push(Jt)),mn.preStyleProps.forEach((In,gr)=>{if(In.size){let $n=xe.get(gr);$n||xe.set(gr,$n=new Set),In.forEach((Hr,ts)=>$n.add(ts))}}),mn.postStyleProps.forEach((In,gr)=>{let $n=$e.get(gr);$n||$e.set(gr,$n=new Set),In.forEach((Hr,ts)=>$n.add(ts))})});if(Tr.length){const St=[];Tr.forEach(Dt=>{St.push(function O(Y,a){return new y.vHH(3505,!1)}())}),Xr.forEach(Dt=>Dt.destroy()),this.reportError(St)}const Kn=new Map,Br=new Map;Te.forEach(St=>{const Dt=St.element;N.has(Dt)&&(Br.set(Dt,Dt),this._beforeAnimationBuild(St.player.namespaceId,St.instruction,Kn))}),K.forEach(St=>{const Dt=St.element;this._getPreviousPlayers(Dt,!1,St.namespaceId,St.triggerName,null).forEach(Jt=>{U(Kn,Dt,[]).push(Jt),Jt.destroy()})});const Vr=$t.filter(St=>yn(St,xe,$e)),lr=new Map;bo(lr,this.driver,Pn,$e,X.l3).forEach(St=>{yn(St,xe,$e)&&Vr.push(St)});const hs=new Map;Gt.forEach((St,Dt)=>{bo(hs,this.driver,new Set(St),xe,X.k1)}),Vr.forEach(St=>{const Dt=lr.get(St),Rt=hs.get(St);lr.set(St,new Map([...Array.from(Dt?.entries()??[]),...Array.from(Rt?.entries()??[])]))});const br=[],Fo=[],xo={};Te.forEach(St=>{const{element:Dt,player:Rt,instruction:Jt}=St;if(N.has(Dt)){if(dt.has(Dt))return Rt.onDestroy(()=>jt(Dt,Jt.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(Jt.totalTime),void K.push(Rt);let En=xo;if(Br.size>1){let jn=Dt;const es=[];for(;jn=jn.parentNode;){const mn=Br.get(jn);if(mn){En=mn;break}es.push(jn)}es.forEach(mn=>Br.set(mn,En))}const Ur=this._buildAnimation(Rt.namespaceId,Jt,Kn,oe,hs,lr);if(Rt.setRealPlayer(Ur),En===xo)br.push(Rt);else{const jn=this.playersByElement.get(En);jn&&jn.length&&(Rt.parentPlayer=re(jn)),K.push(Rt)}}else pn(Dt,Jt.fromStyles),Rt.onDestroy(()=>jt(Dt,Jt.toStyles)),Fo.push(Rt),dt.has(Dt)&&K.push(Rt)}),Fo.forEach(St=>{const Dt=oe.get(St.element);if(Dt&&Dt.length){const Rt=re(Dt);St.setRealPlayer(Rt)}}),K.forEach(St=>{St.parentPlayer?St.syncPlayerEvents(St.parentPlayer):St.destroy()});for(let St=0;St<$t.length;St++){const Dt=$t[St],Rt=Dt[fn];if(Qr(Dt,Sr),Rt&&Rt.hasAnimation)continue;let Jt=[];if(ve.size){let Ur=ve.get(Dt);Ur&&Ur.length&&Jt.push(...Ur);let jn=this.driver.query(Dt,Cr,!0);for(let es=0;es<jn.length;es++){let mn=ve.get(jn[es]);mn&&mn.length&&Jt.push(...mn)}}const En=Jt.filter(Ur=>!Ur.destroyed);En.length?Ze(this,Dt,En):this.processLeaveNode(Dt)}return $t.length=0,br.forEach(St=>{this.players.push(St),St.onDone(()=>{St.destroy();const Dt=this.players.indexOf(St);this.players.splice(Dt,1)}),St.play()}),br}elementContainsData(a,d){let N=!1;const K=d[fn];return K&&K.setForRemoval&&(N=!0),this.playersByElement.has(d)&&(N=!0),this.playersByQueriedElement.has(d)&&(N=!0),this.statesByElement.has(d)&&(N=!0),this._fetchNamespace(a).elementContainsData(d)||N}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,d,N,K,oe){let Te=[];if(d){const ve=this.playersByQueriedElement.get(a);ve&&(Te=ve)}else{const ve=this.playersByElement.get(a);if(ve){const xe=!oe||oe==Yr;ve.forEach($e=>{$e.queued||!xe&&$e.triggerName!=K||Te.push($e)})}}return(N||K)&&(Te=Te.filter(ve=>!(N&&N!=ve.namespaceId||K&&K!=ve.triggerName))),Te}_beforeAnimationBuild(a,d,N){const oe=d.element,Te=d.isRemovalTransition?void 0:a,ve=d.isRemovalTransition?void 0:d.triggerName;for(const xe of d.timelines){const $e=xe.element,dt=$e!==oe,mt=U(N,$e,[]);this._getPreviousPlayers($e,dt,Te,ve,d.toState).forEach(Gt=>{const It=Gt.getRealPlayer();It.beforeDestroy&&It.beforeDestroy(),Gt.destroy(),mt.push(Gt)})}pn(oe,d.fromStyles)}_buildAnimation(a,d,N,K,oe,Te){const ve=d.triggerName,xe=d.element,$e=[],dt=new Set,mt=new Set,Ht=d.timelines.map(It=>{const xt=It.element;dt.add(xt);const $t=xt[fn];if($t&&$t.removedBeforeQueried)return new X.ZN(It.duration,It.delay);const sn=xt!==xe,Pn=function Vt(Y){const a=[];return Pr(Y,a),a}((N.get(xt)||Js).map(Kn=>Kn.getRealPlayer())).filter(Kn=>!!Kn.element&&Kn.element===xt),Hn=oe.get(xt),An=Te.get(xt),Xr=ce(0,this._normalizer,0,It.keyframes,Hn,An),Tr=this._buildPlayer(It,Xr,Pn);if(It.subTimeline&&K&&mt.add(xt),sn){const Kn=new fs(a,ve,xt);Kn.setRealPlayer(Tr),$e.push(Kn)}return Tr});$e.forEach(It=>{U(this.playersByQueriedElement,It.element,[]).push(It),It.onDone(()=>function Nt(Y,a,d){let N=Y.get(a);if(N){if(N.length){const K=N.indexOf(d);N.splice(K,1)}0==N.length&&Y.delete(a)}return N}(this.playersByQueriedElement,It.element,It))}),dt.forEach(It=>kn(It,Dr));const Gt=re(Ht);return Gt.onDestroy(()=>{dt.forEach(It=>Qr(It,Dr)),jt(xe,d.toStyles)}),mt.forEach(It=>{U(K,It,[]).push(Gt)}),Gt}_buildPlayer(a,d,N){return d.length>0?this.driver.animate(a.element,d,a.duration,a.delay,a.easing,N):new X.ZN(a.duration,a.delay)}}class fs{constructor(a,d,N){this.namespaceId=a,this.triggerName=d,this.element=N,this._player=new X.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(a){this._containsRealPlayer||(this._player=a,this._queuedCallbacks.forEach((d,N)=>{d.forEach(K=>W(a,N,void 0,K))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const d=this._player;d.triggerCallback&&a.onStart(()=>d.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,d){U(this._queuedCallbacks,a,[]).push(d)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const d=this._player;d.triggerCallback&&d.triggerCallback(a)}}function Ns(Y){return Y&&1===Y.nodeType}function lo(Y,a){const d=Y.style.display;return Y.style.display=a??"none",d}function bo(Y,a,d,N,K){const oe=[];d.forEach(xe=>oe.push(lo(xe)));const Te=[];N.forEach((xe,$e)=>{const dt=new Map;xe.forEach(mt=>{const Ht=a.computeStyle($e,mt,K);dt.set(mt,Ht),(!Ht||0==Ht.length)&&($e[fn]=Os,Te.push($e))}),Y.set($e,dt)});let ve=0;return d.forEach(xe=>lo(xe,oe[ve++])),Te}function ws(Y,a){const d=new Map;if(Y.forEach(ve=>d.set(ve,[])),0==a.length)return d;const K=new Set(a),oe=new Map;function Te(ve){if(!ve)return 1;let xe=oe.get(ve);if(xe)return xe;const $e=ve.parentNode;return xe=d.has($e)?$e:K.has($e)?1:Te($e),oe.set(ve,xe),xe}return a.forEach(ve=>{const xe=Te(ve);1!==xe&&d.get(xe).push(ve)}),d}function kn(Y,a){Y.classList?.add(a)}function Qr(Y,a){Y.classList?.remove(a)}function Ze(Y,a,d){re(d).onDone(()=>Y.processLeaveNode(a))}function Pr(Y,a){for(let d=0;d<Y.length;d++){const N=Y[d];N instanceof X.ZE?Pr(N.players,a):a.push(N)}}function yn(Y,a,d){const N=d.get(Y);if(!N)return!1;let K=a.get(Y);return K?N.forEach(oe=>K.add(oe)):a.set(Y,N),d.delete(Y),!0}class ir{constructor(a,d,N){this.bodyNode=a,this._driver=d,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(K,oe)=>{},this._transitionEngine=new ds(a,d,N),this._timelineEngine=new co(a,d,N),this._transitionEngine.onRemovalComplete=(K,oe)=>this.onRemovalComplete(K,oe)}registerTrigger(a,d,N,K,oe){const Te=a+"-"+K;let ve=this._triggerCache[Te];if(!ve){const xe=[],dt=$r(this._driver,oe,xe,[]);if(xe.length)throw function Ye(Y,a){return new y.vHH(3404,!1)}();ve=function Po(Y,a,d){return new Gn(Y,a,d)}(K,dt,this._normalizer),this._triggerCache[Te]=ve}this._transitionEngine.registerTrigger(d,K,ve)}register(a,d){this._transitionEngine.register(a,d)}destroy(a,d){this._transitionEngine.destroy(a,d)}onInsert(a,d,N,K){this._transitionEngine.insertNode(a,d,N,K)}onRemove(a,d,N,K){this._transitionEngine.removeNode(a,d,K||!1,N)}disableAnimations(a,d){this._transitionEngine.markElementAsDisabled(a,d)}process(a,d,N,K){if("@"==N.charAt(0)){const[oe,Te]=k(N);this._timelineEngine.command(oe,d,Te,K)}else this._transitionEngine.trigger(a,d,N,K)}listen(a,d,N,K,oe){if("@"==N.charAt(0)){const[Te,ve]=k(N);return this._timelineEngine.listen(Te,d,ve,oe)}return this._transitionEngine.listen(a,d,N,K,oe)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ar=(()=>{class Y{constructor(d,N,K){this._element=d,this._startStyles=N,this._endStyles=K,this._state=0;let oe=Y.initialStylesByElement.get(d);oe||Y.initialStylesByElement.set(d,oe=new Map),this._initialStyles=oe}start(){this._state<1&&(this._startStyles&&jt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jt(this._element,this._initialStyles),this._endStyles&&(jt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Y.initialStylesByElement.delete(this._element),this._startStyles&&(pn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pn(this._element,this._endStyles),this._endStyles=null),jt(this._element,this._initialStyles),this._state=3)}}return Y.initialStylesByElement=new WeakMap,Y})();function Zr(Y){let a=null;return Y.forEach((d,N)=>{(function ho(Y){return"display"===Y||"position"===Y})(N)&&(a=a||new Map,a.set(N,d))}),a}class ii{constructor(a,d,N,K){this.element=a,this.keyframes=d,this.options=N,this._specialStyles=K,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(a){const d=[];return a.forEach(N=>{d.push(Object.fromEntries(N))}),d}_triggerWebAnimation(a,d,N){return a.animate(this._convertKeyframesToObject(d),N)}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a=new Map;this.hasStarted()&&this._finalKeyframe.forEach((N,K)=>{"offset"!==K&&a.set(K,this._finished?N:Qn(this.element,K))}),this.currentSnapshot=a}triggerCallback(a){const d="start"===a?this._onStartFns:this._onDoneFns;d.forEach(N=>N()),d.length=0}}class ai{validateStyleProperty(a){return!0}validateAnimatableStyleProperty(a){return!0}matchesElement(a,d){return!1}containsElement(a,d){return ot(a,d)}getParentElement(a){return he(a)}query(a,d,N){return gt(a,d,N)}computeStyle(a,d,N){return window.getComputedStyle(a)[d]}animate(a,d,N,K,oe,Te=[]){const xe={duration:N,delay:K,fill:0==K?"both":"forwards"};oe&&(xe.easing=oe);const $e=new Map,dt=Te.filter(Gt=>Gt instanceof ii);(function ys(Y,a){return 0===Y||0===a})(N,K)&&dt.forEach(Gt=>{Gt.currentSnapshot.forEach((It,xt)=>$e.set(xt,It))});let mt=function vt(Y){return Y.length?Y[0]instanceof Map?Y:Y.map(a=>Ke(a)):[]}(d).map(Gt=>kt(Gt));mt=function sr(Y,a,d){if(d.size&&a.length){let N=a[0],K=[];if(d.forEach((oe,Te)=>{N.has(Te)||K.push(Te),N.set(Te,oe)}),K.length)for(let oe=1;oe<a.length;oe++){let Te=a[oe];K.forEach(ve=>Te.set(ve,Qn(Y,ve)))}}return a}(a,mt,$e);const Ht=function Vn(Y,a){let d=null,N=null;return Array.isArray(a)&&a.length?(d=Zr(a[0]),a.length>1&&(N=Zr(a[a.length-1]))):a instanceof Map&&(d=Zr(a)),d||N?new ar(Y,d,N):null}(a,mt);return new ii(a,mt,xe,Ht)}}let Vi=(()=>{class Y extends X._j{constructor(d,N){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(N.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(d){const N=this._nextAnimationId.toString();this._nextAnimationId++;const K=Array.isArray(d)?(0,X.vP)(d):d;return ur(this._renderer,null,N,"register",[K]),new ui(N,this._renderer)}}return Y.\u0275fac=function(d){return new(d||Y)(y.LFG(y.FYo),y.LFG(l.K0))},Y.\u0275prov=y.Yz7({token:Y,factory:Y.\u0275fac}),Y})();class ui extends X.LC{constructor(a,d){super(),this._id=a,this._renderer=d}create(a,d){return new Yn(this._id,a,d||{},this._renderer)}}class Yn{constructor(a,d,N,K){this.id=a,this.element=d,this._renderer=K,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(a,d){return this._renderer.listen(this.element,`@@${this.id}:${a}`,d)}_command(a,...d){return ur(this._renderer,this.element,this.id,a,d)}onDone(a){this._listen("done",a)}onStart(a){this._listen("start",a)}onDestroy(a){this._listen("destroy",a)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(a){this._command("setPosition",a)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ur(Y,a,d,N,K){return Y.setProperty(a,`@@${d}:${N}`,K)}const cr="@.disabled";let yr=(()=>{class Y{constructor(d,N,K){this.delegate=d,this.engine=N,this._zone=K,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),N.onRemovalComplete=(oe,Te)=>{const ve=Te?.parentNode(oe);ve&&Te.removeChild(ve,oe)}}createRenderer(d,N){const oe=this.delegate.createRenderer(d,N);if(!(d&&N&&N.data&&N.data.animation)){let dt=this._rendererCache.get(oe);return dt||(dt=new po("",oe,this.engine),this._rendererCache.set(oe,dt)),dt}const Te=N.id,ve=N.id+"-"+this._currentId;this._currentId++,this.engine.register(ve,d);const xe=dt=>{Array.isArray(dt)?dt.forEach(xe):this.engine.registerTrigger(Te,ve,d,dt.name,dt)};return N.data.animation.forEach(xe),new Uo(this,ve,oe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(d,N,K){d>=0&&d<this._microtaskId?this._zone.run(()=>N(K)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(oe=>{const[Te,ve]=oe;Te(ve)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,K]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Y.\u0275fac=function(d){return new(d||Y)(y.LFG(y.FYo),y.LFG(ir),y.LFG(y.R0b))},Y.\u0275prov=y.Yz7({token:Y,factory:Y.\u0275fac}),Y})();class po{constructor(a,d,N){this.namespaceId=a,this.delegate=d,this.engine=N,this.destroyNode=this.delegate.destroyNode?K=>d.destroyNode(K):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(a,d){return this.delegate.createElement(a,d)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,d){this.delegate.appendChild(a,d),this.engine.onInsert(this.namespaceId,d,a,!1)}insertBefore(a,d,N,K=!0){this.delegate.insertBefore(a,d,N),this.engine.onInsert(this.namespaceId,d,a,K)}removeChild(a,d,N){this.engine.onRemove(this.namespaceId,d,this.delegate,N)}selectRootElement(a,d){return this.delegate.selectRootElement(a,d)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,d,N,K){this.delegate.setAttribute(a,d,N,K)}removeAttribute(a,d,N){this.delegate.removeAttribute(a,d,N)}addClass(a,d){this.delegate.addClass(a,d)}removeClass(a,d){this.delegate.removeClass(a,d)}setStyle(a,d,N,K){this.delegate.setStyle(a,d,N,K)}removeStyle(a,d,N){this.delegate.removeStyle(a,d,N)}setProperty(a,d,N){"@"==d.charAt(0)&&d==cr?this.disableAnimations(a,!!N):this.delegate.setProperty(a,d,N)}setValue(a,d){this.delegate.setValue(a,d)}listen(a,d,N){return this.delegate.listen(a,d,N)}disableAnimations(a,d){this.engine.disableAnimations(a,d)}}class Uo extends po{constructor(a,d,N,K){super(d,N,K),this.factory=a,this.namespaceId=d}setProperty(a,d,N){"@"==d.charAt(0)?"."==d.charAt(1)&&d==cr?this.disableAnimations(a,N=void 0===N||!!N):this.engine.process(this.namespaceId,a,d.slice(1),N):this.delegate.setProperty(a,d,N)}listen(a,d,N){if("@"==d.charAt(0)){const K=function ci(Y){switch(Y){case"body":return document.body;case"document":return document;case"window":return window;default:return Y}}(a);let oe=d.slice(1),Te="";return"@"!=oe.charAt(0)&&([oe,Te]=function li(Y){const a=Y.indexOf(".");return[Y.substring(0,a),Y.slice(a+1)]}(oe)),this.engine.listen(this.namespaceId,K,oe,Te,ve=>{this.factory.scheduleListenerCallback(ve._data||-1,N,ve)})}return this.delegate.listen(a,d,N)}}const V=[{provide:X._j,useClass:Vi},{provide:io,useFactory:function Eo(){return new vs}},{provide:ir,useClass:(()=>{class Y extends ir{constructor(d,N,K,oe){super(d.body,N,K)}ngOnDestroy(){this.flush()}}return Y.\u0275fac=function(d){return new(d||Y)(y.LFG(l.K0),y.LFG(hn),y.LFG(io),y.LFG(y.z2F))},Y.\u0275prov=y.Yz7({token:Y,factory:Y.\u0275fac}),Y})()},{provide:y.FYo,useFactory:function D(Y,a,d){return new yr(Y,a,d)},deps:[i.se,ir,y.R0b]}],M=[{provide:hn,useFactory:()=>new ai},{provide:y.QbO,useValue:"BrowserAnimations"},...V],z=[{provide:hn,useClass:Qt},{provide:y.QbO,useValue:"NoopAnimations"},...V];let ye=(()=>{class Y{static withConfig(d){return{ngModule:Y,providers:d.disableAnimations?z:M}}}return Y.\u0275fac=function(d){return new(d||Y)},Y.\u0275mod=y.oAB({type:Y}),Y.\u0275inj=y.cJS({providers:M,imports:[i.b2]}),Y})(),en=(()=>{class Y{}return Y.\u0275fac=function(d){return new(d||Y)},Y.\u0275mod=y.oAB({type:Y}),Y.\u0275inj=y.cJS({imports:[l.ez,i.b2,ye,ee.JF,i.b2,ye,ee.JF,l.ez]}),Y})(),Zt=(()=>{class Y{}return Y.\u0275fac=function(d){return new(d||Y)},Y.\u0275mod=y.oAB({type:Y,bootstrap:[B]}),Y.\u0275inj=y.cJS({providers:[C.KD],imports:[i.b2.withServerTransition({appId:"serverApp"}),_,en,F.I,p.Rh.forRoot({positionClass:"toast-top-right"})]}),Y})();function nn(){i.q6().bootstrapModule(Zt).catch(Y=>console.error(Y))}P.N.production&&(0,y.G48)(),"complete"===document.readyState?nn():document.addEventListener("DOMContentLoaded",nn)},1135:(Tt,Me,E)=>{"use strict";E.d(Me,{X:()=>y});var i=E(7579);class y extends i.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const C=super._subscribe(v);return!C.closed&&v.next(this._value),C}getValue(){const{hasError:v,thrownError:C,_value:h}=this;if(v)throw C;return this._throwIfClosed(),h}next(v){super.next(this._value=v)}}},9751:(Tt,Me,E)=>{"use strict";E.d(Me,{y:()=>T});var i=E(2961),y=E(727),p=E(8822),v=E(9635),C=E(2416),h=E(576),S=E(2806);let T=(()=>{class P{constructor(B){B&&(this._subscribe=B)}lift(B){const F=new P;return F.source=this,F.operator=B,F}subscribe(B,F,l){const ee=function I(P){return P&&P instanceof i.Lv||function _(P){return P&&(0,h.m)(P.next)&&(0,h.m)(P.error)&&(0,h.m)(P.complete)}(P)&&(0,y.Nn)(P)}(B)?B:new i.Hp(B,F,l);return(0,S.x)(()=>{const{operator:X,source:Ie}=this;ee.add(X?X.call(ee,Ie):Ie?this._subscribe(ee):this._trySubscribe(ee))}),ee}_trySubscribe(B){try{return this._subscribe(B)}catch(F){B.error(F)}}forEach(B,F){return new(F=w(F))((l,ee)=>{const X=new i.Hp({next:Ie=>{try{B(Ie)}catch(te){ee(te),X.unsubscribe()}},error:ee,complete:l});this.subscribe(X)})}_subscribe(B){var F;return null===(F=this.source)||void 0===F?void 0:F.subscribe(B)}[p.L](){return this}pipe(...B){return(0,v.U)(B)(this)}toPromise(B){return new(B=w(B))((F,l)=>{let ee;this.subscribe(X=>ee=X,X=>l(X),()=>F(ee))})}}return P.create=x=>new P(x),P})();function w(P){var x;return null!==(x=P??C.v.Promise)&&void 0!==x?x:Promise}},7579:(Tt,Me,E)=>{"use strict";E.d(Me,{x:()=>S});var i=E(9751),y=E(727);const v=(0,E(3888).d)(w=>function(){w(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var C=E(8737),h=E(2806);let S=(()=>{class w extends i.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(I){const P=new T(this,this);return P.operator=I,P}_throwIfClosed(){if(this.closed)throw new v}next(I){(0,h.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const P of this.currentObservers)P.next(I)}})}error(I){(0,h.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=I;const{observers:P}=this;for(;P.length;)P.shift().error(I)}})}complete(){(0,h.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:I}=this;for(;I.length;)I.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var I;return(null===(I=this.observers)||void 0===I?void 0:I.length)>0}_trySubscribe(I){return this._throwIfClosed(),super._trySubscribe(I)}_subscribe(I){return this._throwIfClosed(),this._checkFinalizedStatuses(I),this._innerSubscribe(I)}_innerSubscribe(I){const{hasError:P,isStopped:x,observers:B}=this;return P||x?y.Lc:(this.currentObservers=null,B.push(I),new y.w0(()=>{this.currentObservers=null,(0,C.P)(B,I)}))}_checkFinalizedStatuses(I){const{hasError:P,thrownError:x,isStopped:B}=this;P?I.error(x):B&&I.complete()}asObservable(){const I=new i.y;return I.source=this,I}}return w.create=(_,I)=>new T(_,I),w})();class T extends S{constructor(_,I){super(),this.destination=_,this.source=I}next(_){var I,P;null===(P=null===(I=this.destination)||void 0===I?void 0:I.next)||void 0===P||P.call(I,_)}error(_){var I,P;null===(P=null===(I=this.destination)||void 0===I?void 0:I.error)||void 0===P||P.call(I,_)}complete(){var _,I;null===(I=null===(_=this.destination)||void 0===_?void 0:_.complete)||void 0===I||I.call(_)}_subscribe(_){var I,P;return null!==(P=null===(I=this.source)||void 0===I?void 0:I.subscribe(_))&&void 0!==P?P:y.Lc}}},2961:(Tt,Me,E)=>{"use strict";E.d(Me,{Hp:()=>l,Lv:()=>P});var i=E(576),y=E(727),p=E(2416),v=E(7849);function C(){}const h=w("C",void 0,void 0);function w(ae,ie,pe){return{kind:ae,value:ie,error:pe}}var _=E(3410),I=E(2806);class P extends y.w0{constructor(ie){super(),this.isStopped=!1,ie?(this.destination=ie,(0,y.Nn)(ie)&&ie.add(this)):this.destination=te}static create(ie,pe,Oe){return new l(ie,pe,Oe)}next(ie){this.isStopped?Ie(function T(ae){return w("N",ae,void 0)}(ie),this):this._next(ie)}error(ie){this.isStopped?Ie(function S(ae){return w("E",void 0,ae)}(ie),this):(this.isStopped=!0,this._error(ie))}complete(){this.isStopped?Ie(h,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ie){this.destination.next(ie)}_error(ie){try{this.destination.error(ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const x=Function.prototype.bind;function B(ae,ie){return x.call(ae,ie)}class F{constructor(ie){this.partialObserver=ie}next(ie){const{partialObserver:pe}=this;if(pe.next)try{pe.next(ie)}catch(Oe){ee(Oe)}}error(ie){const{partialObserver:pe}=this;if(pe.error)try{pe.error(ie)}catch(Oe){ee(Oe)}else ee(ie)}complete(){const{partialObserver:ie}=this;if(ie.complete)try{ie.complete()}catch(pe){ee(pe)}}}class l extends P{constructor(ie,pe,Oe){let Q;if(super(),(0,i.m)(ie)||!ie)Q={next:ie??void 0,error:pe??void 0,complete:Oe??void 0};else{let Ee;this&&p.v.useDeprecatedNextContext?(Ee=Object.create(ie),Ee.unsubscribe=()=>this.unsubscribe(),Q={next:ie.next&&B(ie.next,Ee),error:ie.error&&B(ie.error,Ee),complete:ie.complete&&B(ie.complete,Ee)}):Q=ie}this.destination=new F(Q)}}function ee(ae){p.v.useDeprecatedSynchronousErrorHandling?(0,I.O)(ae):(0,v.h)(ae)}function Ie(ae,ie){const{onStoppedNotification:pe}=p.v;pe&&_.z.setTimeout(()=>pe(ae,ie))}const te={closed:!0,next:C,error:function X(ae){throw ae},complete:C}},727:(Tt,Me,E)=>{"use strict";E.d(Me,{Lc:()=>h,w0:()=>C,Nn:()=>S});var i=E(576);const p=(0,E(3888).d)(w=>function(I){w(this),this.message=I?`${I.length} errors occurred during unsubscription:\n${I.map((P,x)=>`${x+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=I});var v=E(8737);class C{constructor(_){this.initialTeardown=_,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _;if(!this.closed){this.closed=!0;const{_parentage:I}=this;if(I)if(this._parentage=null,Array.isArray(I))for(const B of I)B.remove(this);else I.remove(this);const{initialTeardown:P}=this;if((0,i.m)(P))try{P()}catch(B){_=B instanceof p?B.errors:[B]}const{_finalizers:x}=this;if(x){this._finalizers=null;for(const B of x)try{T(B)}catch(F){_=_??[],F instanceof p?_=[..._,...F.errors]:_.push(F)}}if(_)throw new p(_)}}add(_){var I;if(_&&_!==this)if(this.closed)T(_);else{if(_ instanceof C){if(_.closed||_._hasParent(this))return;_._addParent(this)}(this._finalizers=null!==(I=this._finalizers)&&void 0!==I?I:[]).push(_)}}_hasParent(_){const{_parentage:I}=this;return I===_||Array.isArray(I)&&I.includes(_)}_addParent(_){const{_parentage:I}=this;this._parentage=Array.isArray(I)?(I.push(_),I):I?[I,_]:_}_removeParent(_){const{_parentage:I}=this;I===_?this._parentage=null:Array.isArray(I)&&(0,v.P)(I,_)}remove(_){const{_finalizers:I}=this;I&&(0,v.P)(I,_),_ instanceof C&&_._removeParent(this)}}C.EMPTY=(()=>{const w=new C;return w.closed=!0,w})();const h=C.EMPTY;function S(w){return w instanceof C||w&&"closed"in w&&(0,i.m)(w.remove)&&(0,i.m)(w.add)&&(0,i.m)(w.unsubscribe)}function T(w){(0,i.m)(w)?w():w.unsubscribe()}},2416:(Tt,Me,E)=>{"use strict";E.d(Me,{v:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Tt,Me,E)=>{"use strict";E.d(Me,{E:()=>y});const y=new(E(9751).y)(C=>C.complete())},2076:(Tt,Me,E)=>{"use strict";E.d(Me,{D:()=>Oe});var i=E(8421),y=E(9672),p=E(4482),v=E(5403);function C(Q,Ee=0){return(0,p.e)((He,Se)=>{He.subscribe((0,v.x)(Se,se=>(0,y.f)(Se,Q,()=>Se.next(se),Ee),()=>(0,y.f)(Se,Q,()=>Se.complete(),Ee),se=>(0,y.f)(Se,Q,()=>Se.error(se),Ee)))})}function h(Q,Ee=0){return(0,p.e)((He,Se)=>{Se.add(Q.schedule(()=>He.subscribe(Se),Ee))})}var w=E(9751),I=E(2202),P=E(576);function B(Q,Ee){if(!Q)throw new Error("Iterable cannot be null");return new w.y(He=>{(0,y.f)(He,Ee,()=>{const Se=Q[Symbol.asyncIterator]();(0,y.f)(He,Ee,()=>{Se.next().then(se=>{se.done?He.complete():He.next(se.value)})},0,!0)})})}var F=E(3670),l=E(8239),ee=E(1144),X=E(6495),Ie=E(2206),te=E(4532),ae=E(3260);function Oe(Q,Ee){return Ee?function pe(Q,Ee){if(null!=Q){if((0,F.c)(Q))return function S(Q,Ee){return(0,i.Xf)(Q).pipe(h(Ee),C(Ee))}(Q,Ee);if((0,ee.z)(Q))return function _(Q,Ee){return new w.y(He=>{let Se=0;return Ee.schedule(function(){Se===Q.length?He.complete():(He.next(Q[Se++]),He.closed||this.schedule())})})}(Q,Ee);if((0,l.t)(Q))return function T(Q,Ee){return(0,i.Xf)(Q).pipe(h(Ee),C(Ee))}(Q,Ee);if((0,Ie.D)(Q))return B(Q,Ee);if((0,X.T)(Q))return function x(Q,Ee){return new w.y(He=>{let Se;return(0,y.f)(He,Ee,()=>{Se=Q[I.h](),(0,y.f)(He,Ee,()=>{let se,le;try{({value:se,done:le}=Se.next())}catch(ne){return void He.error(ne)}le?He.complete():He.next(se)},0,!0)}),()=>(0,P.m)(Se?.return)&&Se.return()})}(Q,Ee);if((0,ae.L)(Q))return function ie(Q,Ee){return B((0,ae.Q)(Q),Ee)}(Q,Ee)}throw(0,te.z)(Q)}(Q,Ee):(0,i.Xf)(Q)}},8421:(Tt,Me,E)=>{"use strict";E.d(Me,{Xf:()=>x});var i=E(655),y=E(1144),p=E(8239),v=E(9751),C=E(3670),h=E(2206),S=E(4532),T=E(6495),w=E(3260),_=E(576),I=E(7849),P=E(8822);function x(ae){if(ae instanceof v.y)return ae;if(null!=ae){if((0,C.c)(ae))return function B(ae){return new v.y(ie=>{const pe=ae[P.L]();if((0,_.m)(pe.subscribe))return pe.subscribe(ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,y.z)(ae))return function F(ae){return new v.y(ie=>{for(let pe=0;pe<ae.length&&!ie.closed;pe++)ie.next(ae[pe]);ie.complete()})}(ae);if((0,p.t)(ae))return function l(ae){return new v.y(ie=>{ae.then(pe=>{ie.closed||(ie.next(pe),ie.complete())},pe=>ie.error(pe)).then(null,I.h)})}(ae);if((0,h.D)(ae))return X(ae);if((0,T.T)(ae))return function ee(ae){return new v.y(ie=>{for(const pe of ae)if(ie.next(pe),ie.closed)return;ie.complete()})}(ae);if((0,w.L)(ae))return function Ie(ae){return X((0,w.Q)(ae))}(ae)}throw(0,S.z)(ae)}function X(ae){return new v.y(ie=>{(function te(ae,ie){var pe,Oe,Q,Ee;return(0,i.mG)(this,void 0,void 0,function*(){try{for(pe=(0,i.KL)(ae);!(Oe=yield pe.next()).done;)if(ie.next(Oe.value),ie.closed)return}catch(He){Q={error:He}}finally{try{Oe&&!Oe.done&&(Ee=pe.return)&&(yield Ee.call(pe))}finally{if(Q)throw Q.error}}ie.complete()})})(ae,ie).catch(pe=>ie.error(pe))})}},9646:(Tt,Me,E)=>{"use strict";E.d(Me,{of:()=>p});var i=E(7669),y=E(2076);function p(...v){const C=(0,i.yG)(v);return(0,y.D)(v,C)}},2843:(Tt,Me,E)=>{"use strict";E.d(Me,{_:()=>p});var i=E(9751),y=E(576);function p(v,C){const h=(0,y.m)(v)?v:()=>v,S=T=>T.error(h());return new i.y(C?T=>C.schedule(S,0,T):S)}},5403:(Tt,Me,E)=>{"use strict";E.d(Me,{x:()=>y});var i=E(2961);function y(v,C,h,S,T){return new p(v,C,h,S,T)}class p extends i.Lv{constructor(C,h,S,T,w,_){super(C),this.onFinalize=w,this.shouldUnsubscribe=_,this._next=h?function(I){try{h(I)}catch(P){C.error(P)}}:super._next,this._error=T?function(I){try{T(I)}catch(P){C.error(P)}finally{this.unsubscribe()}}:super._error,this._complete=S?function(){try{S()}catch(I){C.error(I)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var C;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:h}=this;super.unsubscribe(),!h&&(null===(C=this.onFinalize)||void 0===C||C.call(this))}}}},262:(Tt,Me,E)=>{"use strict";E.d(Me,{K:()=>v});var i=E(8421),y=E(5403),p=E(4482);function v(C){return(0,p.e)((h,S)=>{let _,T=null,w=!1;T=h.subscribe((0,y.x)(S,void 0,void 0,I=>{_=(0,i.Xf)(C(I,v(C)(h))),T?(T.unsubscribe(),T=null,_.subscribe(S)):w=!0})),w&&(T.unsubscribe(),T=null,_.subscribe(S))})}},4351:(Tt,Me,E)=>{"use strict";E.d(Me,{b:()=>p});var i=E(5577),y=E(576);function p(v,C){return(0,y.m)(C)?(0,i.z)(v,C,1):(0,i.z)(v,1)}},9300:(Tt,Me,E)=>{"use strict";E.d(Me,{h:()=>p});var i=E(4482),y=E(5403);function p(v,C){return(0,i.e)((h,S)=>{let T=0;h.subscribe((0,y.x)(S,w=>v.call(C,w,T++)&&S.next(w)))})}},4004:(Tt,Me,E)=>{"use strict";E.d(Me,{U:()=>p});var i=E(4482),y=E(5403);function p(v,C){return(0,i.e)((h,S)=>{let T=0;h.subscribe((0,y.x)(S,w=>{S.next(v.call(C,w,T++))}))})}},8189:(Tt,Me,E)=>{"use strict";E.d(Me,{J:()=>p});var i=E(5577),y=E(4671);function p(v=1/0){return(0,i.z)(y.y,v)}},5577:(Tt,Me,E)=>{"use strict";E.d(Me,{z:()=>T});var i=E(4004),y=E(8421),p=E(4482),v=E(9672),C=E(5403),S=E(576);function T(w,_,I=1/0){return(0,S.m)(_)?T((P,x)=>(0,i.U)((B,F)=>_(P,B,x,F))((0,y.Xf)(w(P,x))),I):("number"==typeof _&&(I=_),(0,p.e)((P,x)=>function h(w,_,I,P,x,B,F,l){const ee=[];let X=0,Ie=0,te=!1;const ae=()=>{te&&!ee.length&&!X&&_.complete()},ie=Oe=>X<P?pe(Oe):ee.push(Oe),pe=Oe=>{B&&_.next(Oe),X++;let Q=!1;(0,y.Xf)(I(Oe,Ie++)).subscribe((0,C.x)(_,Ee=>{x?.(Ee),B?ie(Ee):_.next(Ee)},()=>{Q=!0},void 0,()=>{if(Q)try{for(X--;ee.length&&X<P;){const Ee=ee.shift();F?(0,v.f)(_,F,()=>pe(Ee)):pe(Ee)}ae()}catch(Ee){_.error(Ee)}}))};return w.subscribe((0,C.x)(_,ie,()=>{te=!0,ae()})),()=>{l?.()}}(P,x,w,I)))}},5698:(Tt,Me,E)=>{"use strict";E.d(Me,{q:()=>v});var i=E(515),y=E(4482),p=E(5403);function v(C){return C<=0?()=>i.E:(0,y.e)((h,S)=>{let T=0;h.subscribe((0,p.x)(S,w=>{++T<=C&&(S.next(w),C<=T&&S.complete())}))})}},3410:(Tt,Me,E)=>{"use strict";E.d(Me,{z:()=>i});const i={setTimeout(y,p,...v){const{delegate:C}=i;return C?.setTimeout?C.setTimeout(y,p,...v):setTimeout(y,p,...v)},clearTimeout(y){const{delegate:p}=i;return(p?.clearTimeout||clearTimeout)(y)},delegate:void 0}},2202:(Tt,Me,E)=>{"use strict";E.d(Me,{h:()=>y});const y=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Tt,Me,E)=>{"use strict";E.d(Me,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Tt,Me,E)=>{"use strict";E.d(Me,{_6:()=>h,jO:()=>v,yG:()=>C});var i=E(576);function p(S){return S[S.length-1]}function v(S){return(0,i.m)(p(S))?S.pop():void 0}function C(S){return function y(S){return S&&(0,i.m)(S.schedule)}(p(S))?S.pop():void 0}function h(S,T){return"number"==typeof p(S)?S.pop():T}},4742:(Tt,Me,E)=>{"use strict";E.d(Me,{D:()=>C});const{isArray:i}=Array,{getPrototypeOf:y,prototype:p,keys:v}=Object;function C(S){if(1===S.length){const T=S[0];if(i(T))return{args:T,keys:null};if(function h(S){return S&&"object"==typeof S&&y(S)===p}(T)){const w=v(T);return{args:w.map(_=>T[_]),keys:w}}}return{args:S,keys:null}}},8737:(Tt,Me,E)=>{"use strict";function i(y,p){if(y){const v=y.indexOf(p);0<=v&&y.splice(v,1)}}E.d(Me,{P:()=>i})},3888:(Tt,Me,E)=>{"use strict";function i(y){const v=y(C=>{Error.call(C),C.stack=(new Error).stack});return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v}E.d(Me,{d:()=>i})},1810:(Tt,Me,E)=>{"use strict";function i(y,p){return y.reduce((v,C,h)=>(v[C]=p[h],v),{})}E.d(Me,{n:()=>i})},2806:(Tt,Me,E)=>{"use strict";E.d(Me,{O:()=>v,x:()=>p});var i=E(2416);let y=null;function p(C){if(i.v.useDeprecatedSynchronousErrorHandling){const h=!y;if(h&&(y={errorThrown:!1,error:null}),C(),h){const{errorThrown:S,error:T}=y;if(y=null,S)throw T}}else C()}function v(C){i.v.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=C)}},9672:(Tt,Me,E)=>{"use strict";function i(y,p,v,C=0,h=!1){const S=p.schedule(function(){v(),h?y.add(this.schedule(null,C)):this.unsubscribe()},C);if(y.add(S),!h)return S}E.d(Me,{f:()=>i})},4671:(Tt,Me,E)=>{"use strict";function i(y){return y}E.d(Me,{y:()=>i})},1144:(Tt,Me,E)=>{"use strict";E.d(Me,{z:()=>i});const i=y=>y&&"number"==typeof y.length&&"function"!=typeof y},2206:(Tt,Me,E)=>{"use strict";E.d(Me,{D:()=>y});var i=E(576);function y(p){return Symbol.asyncIterator&&(0,i.m)(p?.[Symbol.asyncIterator])}},576:(Tt,Me,E)=>{"use strict";function i(y){return"function"==typeof y}E.d(Me,{m:()=>i})},3670:(Tt,Me,E)=>{"use strict";E.d(Me,{c:()=>p});var i=E(8822),y=E(576);function p(v){return(0,y.m)(v[i.L])}},6495:(Tt,Me,E)=>{"use strict";E.d(Me,{T:()=>p});var i=E(2202),y=E(576);function p(v){return(0,y.m)(v?.[i.h])}},8239:(Tt,Me,E)=>{"use strict";E.d(Me,{t:()=>y});var i=E(576);function y(p){return(0,i.m)(p?.then)}},3260:(Tt,Me,E)=>{"use strict";E.d(Me,{L:()=>v,Q:()=>p});var i=E(655),y=E(576);function p(C){return(0,i.FC)(this,arguments,function*(){const S=C.getReader();try{for(;;){const{value:T,done:w}=yield(0,i.qq)(S.read());if(w)return yield(0,i.qq)(void 0);yield yield(0,i.qq)(T)}}finally{S.releaseLock()}})}function v(C){return(0,y.m)(C?.getReader)}},4482:(Tt,Me,E)=>{"use strict";E.d(Me,{A:()=>y,e:()=>p});var i=E(576);function y(v){return(0,i.m)(v?.lift)}function p(v){return C=>{if(y(C))return C.lift(function(h){try{return v(h,this)}catch(S){this.error(S)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Tt,Me,E)=>{"use strict";E.d(Me,{Z:()=>v});var i=E(4004);const{isArray:y}=Array;function v(C){return(0,i.U)(h=>function p(C,h){return y(h)?C(...h):C(h)}(C,h))}},9635:(Tt,Me,E)=>{"use strict";E.d(Me,{U:()=>p,z:()=>y});var i=E(4671);function y(...v){return p(v)}function p(v){return 0===v.length?i.y:1===v.length?v[0]:function(h){return v.reduce((S,T)=>T(S),h)}}},7849:(Tt,Me,E)=>{"use strict";E.d(Me,{h:()=>p});var i=E(2416),y=E(3410);function p(v){y.z.setTimeout(()=>{const{onUnhandledError:C}=i.v;if(!C)throw v;C(v)})}},4532:(Tt,Me,E)=>{"use strict";function i(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(Me,{z:()=>i})},655:(Tt,Me,E)=>{"use strict";function T(Se,se,le,ne){return new(le||(le=Promise))(function(Ge,ze){function tt(Et){try{nt(ne.next(Et))}catch(Mt){ze(Mt)}}function Ct(Et){try{nt(ne.throw(Et))}catch(Mt){ze(Mt)}}function nt(Et){Et.done?Ge(Et.value):function Fe(Ge){return Ge instanceof le?Ge:new le(function(ze){ze(Ge)})}(Et.value).then(tt,Ct)}nt((ne=ne.apply(Se,se||[])).next())})}function ee(Se){return this instanceof ee?(this.v=Se,this):new ee(Se)}function X(Se,se,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ne=le.apply(Se,se||[]),Ge=[];return Fe={},ze("next"),ze("throw"),ze("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function ze(je){ne[je]&&(Fe[je]=function(Qe){return new Promise(function(Pe,Ye){Ge.push([je,Qe,Pe,Ye])>1||tt(je,Qe)})})}function tt(je,Qe){try{!function Ct(je){je.value instanceof ee?Promise.resolve(je.value.v).then(nt,Et):Mt(Ge[0][2],je)}(ne[je](Qe))}catch(Pe){Mt(Ge[0][3],Pe)}}function nt(je){tt("next",je)}function Et(je){tt("throw",je)}function Mt(je,Qe){je(Qe),Ge.shift(),Ge.length&&tt(Ge[0][0],Ge[0][1])}}function te(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,se=Se[Symbol.asyncIterator];return se?se.call(Se):(Se=function P(Se){var se="function"==typeof Symbol&&Symbol.iterator,le=se&&Se[se],ne=0;if(le)return le.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&ne>=Se.length&&(Se=void 0),{value:Se&&Se[ne++],done:!Se}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),le={},ne("next"),ne("throw"),ne("return"),le[Symbol.asyncIterator]=function(){return this},le);function ne(Ge){le[Ge]=Se[Ge]&&function(ze){return new Promise(function(tt,Ct){!function Fe(Ge,ze,tt,Ct){Promise.resolve(Ct).then(function(nt){Ge({value:nt,done:tt})},ze)}(tt,Ct,(ze=Se[Ge](ze)).done,ze.value)})}}}E.d(Me,{FC:()=>X,KL:()=>te,mG:()=>T,qq:()=>ee})},7340:(Tt,Me,E)=>{"use strict";E.d(Me,{LC:()=>y,SB:()=>w,X$:()=>v,ZE:()=>Ie,ZN:()=>X,_j:()=>i,eR:()=>I,jt:()=>C,k1:()=>te,l3:()=>p,oB:()=>T,vP:()=>S});class i{}class y{}const p="*";function v(ae,ie){return{type:7,name:ae,definitions:ie,options:{}}}function C(ae,ie=null){return{type:4,styles:ie,timings:ae}}function S(ae,ie=null){return{type:2,steps:ae,options:ie}}function T(ae){return{type:6,styles:ae,offset:null}}function w(ae,ie,pe){return{type:0,name:ae,styles:ie,options:pe}}function I(ae,ie,pe=null){return{type:1,expr:ae,animation:ie,options:pe}}function ee(ae){Promise.resolve().then(ae)}class X{constructor(ie=0,pe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ie+pe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ie=>ie()),this._onDoneFns=[])}onStart(ie){this._originalOnStartFns.push(ie),this._onStartFns.push(ie)}onDone(ie){this._originalOnDoneFns.push(ie),this._onDoneFns.push(ie)}onDestroy(ie){this._onDestroyFns.push(ie)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ee(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ie=>ie()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ie=>ie()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ie){this._position=this.totalTime?ie*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ie){const pe="start"==ie?this._onStartFns:this._onDoneFns;pe.forEach(Oe=>Oe()),pe.length=0}}class Ie{constructor(ie){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ie;let pe=0,Oe=0,Q=0;const Ee=this.players.length;0==Ee?ee(()=>this._onFinish()):this.players.forEach(He=>{He.onDone(()=>{++pe==Ee&&this._onFinish()}),He.onDestroy(()=>{++Oe==Ee&&this._onDestroy()}),He.onStart(()=>{++Q==Ee&&this._onStart()})}),this.totalTime=this.players.reduce((He,Se)=>Math.max(He,Se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ie=>ie()),this._onDoneFns=[])}init(){this.players.forEach(ie=>ie.init())}onStart(ie){this._onStartFns.push(ie)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ie=>ie()),this._onStartFns=[])}onDone(ie){this._onDoneFns.push(ie)}onDestroy(ie){this._onDestroyFns.push(ie)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ie=>ie.play())}pause(){this.players.forEach(ie=>ie.pause())}restart(){this.players.forEach(ie=>ie.restart())}finish(){this._onFinish(),this.players.forEach(ie=>ie.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ie=>ie.destroy()),this._onDestroyFns.forEach(ie=>ie()),this._onDestroyFns=[])}reset(){this.players.forEach(ie=>ie.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ie){const pe=ie*this.totalTime;this.players.forEach(Oe=>{const Q=Oe.totalTime?Math.min(1,pe/Oe.totalTime):1;Oe.setPosition(Q)})}getPosition(){const ie=this.players.reduce((pe,Oe)=>null===pe||Oe.totalTime>pe.totalTime?Oe:pe,null);return null!=ie?ie.getPosition():0}beforeDestroy(){this.players.forEach(ie=>{ie.beforeDestroy&&ie.beforeDestroy()})}triggerCallback(ie){const pe="start"==ie?this._onStartFns:this._onDoneFns;pe.forEach(Oe=>Oe()),pe.length=0}}const te="!"},6895:(Tt,Me,E)=>{"use strict";E.d(Me,{Do:()=>te,EM:()=>Po,HT:()=>C,JF:()=>co,K0:()=>S,Mx:()=>jr,NF:()=>Is,O5:()=>on,Ov:()=>no,PC:()=>Nn,RF:()=>Nr,S$:()=>ee,V_:()=>_,Ye:()=>ae,b0:()=>Ie,bD:()=>os,ez:()=>qr,mk:()=>ys,n9:()=>hr,q:()=>p,rS:()=>Ys,sg:()=>wn,uU:()=>No,w_:()=>h});var i=E(8256);let y=null;function p(){return y}function C(D){y||(y=D)}class h{}const S=new i.OlP("DocumentToken");let T=(()=>{class D{historyGo(M){throw new Error("Not implemented")}}return D.\u0275fac=function(M){return new(M||D)},D.\u0275prov=i.Yz7({token:D,factory:function(){return function w(){return(0,i.LFG)(I)}()},providedIn:"platform"}),D})();const _=new i.OlP("Location Initialized");let I=(()=>{class D extends T{constructor(M){super(),this._doc=M,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return p().getBaseHref(this._doc)}onPopState(M){const z=p().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",M,!1),()=>z.removeEventListener("popstate",M)}onHashChange(M){const z=p().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",M,!1),()=>z.removeEventListener("hashchange",M)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(M){this.location.pathname=M}pushState(M,z,ye){P()?this._history.pushState(M,z,ye):this.location.hash=ye}replaceState(M,z,ye){P()?this._history.replaceState(M,z,ye):this.location.hash=ye}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return D.\u0275fac=function(M){return new(M||D)(i.LFG(S))},D.\u0275prov=i.Yz7({token:D,factory:function(){return function x(){return new I((0,i.LFG)(S))}()},providedIn:"platform"}),D})();function P(){return!!window.history.pushState}function B(D,V){if(0==D.length)return V;if(0==V.length)return D;let M=0;return D.endsWith("/")&&M++,V.startsWith("/")&&M++,2==M?D+V.substring(1):1==M?D+V:D+"/"+V}function F(D){const V=D.match(/#|\?|$/),M=V&&V.index||D.length;return D.slice(0,M-("/"===D[M-1]?1:0))+D.slice(M)}function l(D){return D&&"?"!==D[0]?"?"+D:D}let ee=(()=>{class D{historyGo(M){throw new Error("Not implemented")}}return D.\u0275fac=function(M){return new(M||D)},D.\u0275prov=i.Yz7({token:D,factory:function(){return(0,i.f3M)(Ie)},providedIn:"root"}),D})();const X=new i.OlP("appBaseHref");let Ie=(()=>{class D extends ee{constructor(M,z){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=z??this._platformLocation.getBaseHrefFromDOM()??(0,i.f3M)(S).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return B(this._baseHref,M)}path(M=!1){const z=this._platformLocation.pathname+l(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&M?`${z}${ye}`:z}pushState(M,z,ye,Be){const qe=this.prepareExternalUrl(ye+l(Be));this._platformLocation.pushState(M,z,qe)}replaceState(M,z,ye,Be){const qe=this.prepareExternalUrl(ye+l(Be));this._platformLocation.replaceState(M,z,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return D.\u0275fac=function(M){return new(M||D)(i.LFG(T),i.LFG(X,8))},D.\u0275prov=i.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),te=(()=>{class D extends ee{constructor(M,z){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(M){const z=B(this._baseHref,M);return z.length>0?"#"+z:z}pushState(M,z,ye,Be){let qe=this.prepareExternalUrl(ye+l(Be));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.pushState(M,z,qe)}replaceState(M,z,ye,Be){let qe=this.prepareExternalUrl(ye+l(Be));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.replaceState(M,z,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return D.\u0275fac=function(M){return new(M||D)(i.LFG(T),i.LFG(X,8))},D.\u0275prov=i.Yz7({token:D,factory:D.\u0275fac}),D})(),ae=(()=>{class D{constructor(M){this._subject=new i.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const z=this._locationStrategy.getBaseHref();this._baseHref=F(Oe(z)),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,z=""){return this.path()==this.normalize(M+l(z))}normalize(M){return D.stripTrailingSlash(function pe(D,V){return D&&V.startsWith(D)?V.substring(D.length):V}(this._baseHref,Oe(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,z="",ye=null){this._locationStrategy.pushState(ye,"",M,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+l(z)),ye)}replaceState(M,z="",ye=null){this._locationStrategy.replaceState(ye,"",M,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+l(z)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)})),()=>{const z=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",z){this._urlChangeListeners.forEach(ye=>ye(M,z))}subscribe(M,z,ye){return this._subject.subscribe({next:M,error:z,complete:ye})}}return D.normalizeQueryParams=l,D.joinWithSlash=B,D.stripTrailingSlash=F,D.\u0275fac=function(M){return new(M||D)(i.LFG(ee))},D.\u0275prov=i.Yz7({token:D,factory:function(){return function ie(){return new ae((0,i.LFG)(ee))}()},providedIn:"root"}),D})();function Oe(D){return D.replace(/\/index.html$/,"")}var Se=(()=>((Se=Se||{})[Se.Format=0]="Format",Se[Se.Standalone=1]="Standalone",Se))(),se=(()=>((se=se||{})[se.Narrow=0]="Narrow",se[se.Abbreviated=1]="Abbreviated",se[se.Wide=2]="Wide",se[se.Short=3]="Short",se))(),le=(()=>((le=le||{})[le.Short=0]="Short",le[le.Medium=1]="Medium",le[le.Long=2]="Long",le[le.Full=3]="Full",le))(),ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Group=1]="Group",ne[ne.List=2]="List",ne[ne.PercentSign=3]="PercentSign",ne[ne.PlusSign=4]="PlusSign",ne[ne.MinusSign=5]="MinusSign",ne[ne.Exponential=6]="Exponential",ne[ne.SuperscriptingExponent=7]="SuperscriptingExponent",ne[ne.PerMille=8]="PerMille",ne[ne.Infinity=9]="Infinity",ne[ne.NaN=10]="NaN",ne[ne.TimeSeparator=11]="TimeSeparator",ne[ne.CurrencyDecimal=12]="CurrencyDecimal",ne[ne.CurrencyGroup=13]="CurrencyGroup",ne))();function je(D,V){return _t((0,i.cg1)(D)[i.wAp.DateFormat],V)}function Qe(D,V){return _t((0,i.cg1)(D)[i.wAp.TimeFormat],V)}function Pe(D,V){return _t((0,i.cg1)(D)[i.wAp.DateTimeFormat],V)}function Ye(D,V){const M=(0,i.cg1)(D),z=M[i.wAp.NumberSymbols][V];if(typeof z>"u"){if(V===ne.CurrencyDecimal)return M[i.wAp.NumberSymbols][ne.Decimal];if(V===ne.CurrencyGroup)return M[i.wAp.NumberSymbols][ne.Group]}return z}function tn(D){if(!D[i.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${D[i.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _t(D,V){for(let M=V;M>-1;M--)if(typeof D[M]<"u")return D[M];throw new Error("Locale data API: locale data undefined")}function O(D){const[V,M]=D.split(":");return{hours:+V,minutes:+M}}const re=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ce={},W=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var H=(()=>((H=H||{})[H.Short=0]="Short",H[H.ShortGMT=1]="ShortGMT",H[H.Long=2]="Long",H[H.Extended=3]="Extended",H))(),$=(()=>(($=$||{})[$.FullYear=0]="FullYear",$[$.Month=1]="Month",$[$.Date=2]="Date",$[$.Hours=3]="Hours",$[$.Minutes=4]="Minutes",$[$.Seconds=5]="Seconds",$[$.FractionalSeconds=6]="FractionalSeconds",$[$.Day=7]="Day",$))(),U=(()=>((U=U||{})[U.DayPeriods=0]="DayPeriods",U[U.Days=1]="Days",U[U.Months=2]="Months",U[U.Eras=3]="Eras",U))();function k(D,V,M,z){let ye=function Tn(D){if(Dr(D))return D;if("number"==typeof D&&!isNaN(D))return new Date(D);if("string"==typeof D){if(D=D.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(D)){const[ye,Be=1,qe=1]=D.split("-").map(ht=>+ht);return q(ye,Be-1,qe)}const M=parseFloat(D);if(!isNaN(D-M))return new Date(M);let z;if(z=D.match(re))return function Wn(D){const V=new Date(0);let M=0,z=0;const ye=D[8]?V.setUTCFullYear:V.setFullYear,Be=D[8]?V.setUTCHours:V.setHours;D[9]&&(M=Number(D[9]+D[10]),z=Number(D[9]+D[11])),ye.call(V,Number(D[1]),Number(D[2])-1,Number(D[3]));const qe=Number(D[4]||0)-M,ht=Number(D[5]||0)-z,en=Number(D[6]||0),Zt=Math.floor(1e3*parseFloat("0."+(D[7]||0)));return Be.call(V,qe,ht,en,Zt),V}(z)}const V=new Date(D);if(!Dr(V))throw new Error(`Unable to convert "${D}" into a date`);return V}(D);V=_e(M,V)||V;let ht,qe=[];for(;V;){if(ht=W.exec(V),!ht){qe.push(V);break}{qe=qe.concat(ht.slice(1));const nn=qe.pop();if(!nn)break;V=nn}}let en=ye.getTimezoneOffset();z&&(en=Sn(z,en),ye=function Sr(D,V,M){const z=M?-1:1,ye=D.getTimezoneOffset();return function Un(D,V){return(D=new Date(D.getTime())).setMinutes(D.getMinutes()+V),D}(D,z*(Sn(V,ye)-ye))}(ye,z,!0));let Zt="";return qe.forEach(nn=>{const Y=function Mn(D){if(zt[D])return zt[D];let V;switch(D){case"G":case"GG":case"GGG":V=we(U.Eras,se.Abbreviated);break;case"GGGG":V=we(U.Eras,se.Wide);break;case"GGGGG":V=we(U.Eras,se.Narrow);break;case"y":V=Le($.FullYear,1,0,!1,!0);break;case"yy":V=Le($.FullYear,2,0,!0,!0);break;case"yyy":V=Le($.FullYear,3,0,!1,!0);break;case"yyyy":V=Le($.FullYear,4,0,!1,!0);break;case"Y":V=hn(1);break;case"YY":V=hn(2,!0);break;case"YYY":V=hn(3);break;case"YYYY":V=hn(4);break;case"M":case"L":V=Le($.Month,1,1);break;case"MM":case"LL":V=Le($.Month,2,1);break;case"MMM":V=we(U.Months,se.Abbreviated);break;case"MMMM":V=we(U.Months,se.Wide);break;case"MMMMM":V=we(U.Months,se.Narrow);break;case"LLL":V=we(U.Months,se.Abbreviated,Se.Standalone);break;case"LLLL":V=we(U.Months,se.Wide,Se.Standalone);break;case"LLLLL":V=we(U.Months,se.Narrow,Se.Standalone);break;case"w":V=Qt(1);break;case"ww":V=Qt(2);break;case"W":V=Qt(1,!0);break;case"d":V=Le($.Date,1);break;case"dd":V=Le($.Date,2);break;case"c":case"cc":V=Le($.Day,1);break;case"ccc":V=we(U.Days,se.Abbreviated,Se.Standalone);break;case"cccc":V=we(U.Days,se.Wide,Se.Standalone);break;case"ccccc":V=we(U.Days,se.Narrow,Se.Standalone);break;case"cccccc":V=we(U.Days,se.Short,Se.Standalone);break;case"E":case"EE":case"EEE":V=we(U.Days,se.Abbreviated);break;case"EEEE":V=we(U.Days,se.Wide);break;case"EEEEE":V=we(U.Days,se.Narrow);break;case"EEEEEE":V=we(U.Days,se.Short);break;case"a":case"aa":case"aaa":V=we(U.DayPeriods,se.Abbreviated);break;case"aaaa":V=we(U.DayPeriods,se.Wide);break;case"aaaaa":V=we(U.DayPeriods,se.Narrow);break;case"b":case"bb":case"bbb":V=we(U.DayPeriods,se.Abbreviated,Se.Standalone,!0);break;case"bbbb":V=we(U.DayPeriods,se.Wide,Se.Standalone,!0);break;case"bbbbb":V=we(U.DayPeriods,se.Narrow,Se.Standalone,!0);break;case"B":case"BB":case"BBB":V=we(U.DayPeriods,se.Abbreviated,Se.Format,!0);break;case"BBBB":V=we(U.DayPeriods,se.Wide,Se.Format,!0);break;case"BBBBB":V=we(U.DayPeriods,se.Narrow,Se.Format,!0);break;case"h":V=Le($.Hours,1,-12);break;case"hh":V=Le($.Hours,2,-12);break;case"H":V=Le($.Hours,1);break;case"HH":V=Le($.Hours,2);break;case"m":V=Le($.Minutes,1);break;case"mm":V=Le($.Minutes,2);break;case"s":V=Le($.Seconds,1);break;case"ss":V=Le($.Seconds,2);break;case"S":V=Le($.FractionalSeconds,1);break;case"SS":V=Le($.FractionalSeconds,2);break;case"SSS":V=Le($.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":V=et(H.Short);break;case"ZZZZZ":V=et(H.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":V=et(H.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":V=et(H.Long);break;default:return null}return zt[D]=V,V}(nn);Zt+=Y?Y(ye,M,en):"''"===nn?"'":nn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Zt}function q(D,V,M){const z=new Date(0);return z.setFullYear(D,V,M),z.setHours(0,0,0),z}function _e(D,V){const M=function Ge(D){return(0,i.cg1)(D)[i.wAp.LocaleId]}(D);if(ce[M]=ce[M]||{},ce[M][V])return ce[M][V];let z="";switch(V){case"shortDate":z=je(D,le.Short);break;case"mediumDate":z=je(D,le.Medium);break;case"longDate":z=je(D,le.Long);break;case"fullDate":z=je(D,le.Full);break;case"shortTime":z=Qe(D,le.Short);break;case"mediumTime":z=Qe(D,le.Medium);break;case"longTime":z=Qe(D,le.Long);break;case"fullTime":z=Qe(D,le.Full);break;case"short":const ye=_e(D,"shortTime"),Be=_e(D,"shortDate");z=Ce(Pe(D,le.Short),[ye,Be]);break;case"medium":const qe=_e(D,"mediumTime"),ht=_e(D,"mediumDate");z=Ce(Pe(D,le.Medium),[qe,ht]);break;case"long":const en=_e(D,"longTime"),Zt=_e(D,"longDate");z=Ce(Pe(D,le.Long),[en,Zt]);break;case"full":const nn=_e(D,"fullTime"),Y=_e(D,"fullDate");z=Ce(Pe(D,le.Full),[nn,Y])}return z&&(ce[M][V]=z),z}function Ce(D,V){return V&&(D=D.replace(/\{([^}]+)}/g,function(M,z){return null!=V&&z in V?V[z]:M})),D}function he(D,V,M="-",z,ye){let Be="";(D<0||ye&&D<=0)&&(ye?D=1-D:(D=-D,Be=M));let qe=String(D);for(;qe.length<V;)qe="0"+qe;return z&&(qe=qe.slice(qe.length-V)),Be+qe}function Le(D,V,M=0,z=!1,ye=!1){return function(Be,qe){let ht=function Ve(D,V){switch(D){case $.FullYear:return V.getFullYear();case $.Month:return V.getMonth();case $.Date:return V.getDate();case $.Hours:return V.getHours();case $.Minutes:return V.getMinutes();case $.Seconds:return V.getSeconds();case $.FractionalSeconds:return V.getMilliseconds();case $.Day:return V.getDay();default:throw new Error(`Unknown DateType value "${D}".`)}}(D,Be);if((M>0||ht>-M)&&(ht+=M),D===$.Hours)0===ht&&-12===M&&(ht=12);else if(D===$.FractionalSeconds)return function De(D,V){return he(D,3).substring(0,V)}(ht,V);const en=Ye(qe,ne.MinusSign);return he(ht,V,en,z,ye)}}function we(D,V,M=Se.Format,z=!1){return function(ye,Be){return function We(D,V,M,z,ye,Be){switch(M){case U.Months:return function Ct(D,V,M){const z=(0,i.cg1)(D),Be=_t([z[i.wAp.MonthsFormat],z[i.wAp.MonthsStandalone]],V);return _t(Be,M)}(V,ye,z)[D.getMonth()];case U.Days:return function tt(D,V,M){const z=(0,i.cg1)(D),Be=_t([z[i.wAp.DaysFormat],z[i.wAp.DaysStandalone]],V);return _t(Be,M)}(V,ye,z)[D.getDay()];case U.DayPeriods:const qe=D.getHours(),ht=D.getMinutes();if(Be){const Zt=function rn(D){const V=(0,i.cg1)(D);return tn(V),(V[i.wAp.ExtraData][2]||[]).map(z=>"string"==typeof z?O(z):[O(z[0]),O(z[1])])}(V),nn=function wt(D,V,M){const z=(0,i.cg1)(D);tn(z);const Be=_t([z[i.wAp.ExtraData][0],z[i.wAp.ExtraData][1]],V)||[];return _t(Be,M)||[]}(V,ye,z),Y=Zt.findIndex(a=>{if(Array.isArray(a)){const[d,N]=a,K=qe>=d.hours&&ht>=d.minutes,oe=qe<N.hours||qe===N.hours&&ht<N.minutes;if(d.hours<N.hours){if(K&&oe)return!0}else if(K||oe)return!0}else if(a.hours===qe&&a.minutes===ht)return!0;return!1});if(-1!==Y)return nn[Y]}return function ze(D,V,M){const z=(0,i.cg1)(D),Be=_t([z[i.wAp.DayPeriodsFormat],z[i.wAp.DayPeriodsStandalone]],V);return _t(Be,M)}(V,ye,z)[qe<12?0:1];case U.Eras:return function nt(D,V){return _t((0,i.cg1)(D)[i.wAp.Eras],V)}(V,z)[D.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${M}`)}}(ye,Be,D,V,M,z)}}function et(D){return function(V,M,z){const ye=-1*z,Be=Ye(M,ne.MinusSign),qe=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(D){case H.Short:return(ye>=0?"+":"")+he(qe,2,Be)+he(Math.abs(ye%60),2,Be);case H.ShortGMT:return"GMT"+(ye>=0?"+":"")+he(qe,1,Be);case H.Long:return"GMT"+(ye>=0?"+":"")+he(qe,2,Be)+":"+he(Math.abs(ye%60),2,Be);case H.Extended:return 0===z?"Z":(ye>=0?"+":"")+he(qe,2,Be)+":"+he(Math.abs(ye%60),2,Be);default:throw new Error(`Unknown zone width "${D}"`)}}}function ft(D){return q(D.getFullYear(),D.getMonth(),D.getDate()+(4-D.getDay()))}function Qt(D,V=!1){return function(M,z){let ye;if(V){const Be=new Date(M.getFullYear(),M.getMonth(),1).getDay()-1,qe=M.getDate();ye=1+Math.floor((qe+Be)/7)}else{const Be=ft(M),qe=function gt(D){const V=q(D,0,1).getDay();return q(D,0,1+(V<=4?4:11)-V)}(Be.getFullYear()),ht=Be.getTime()-qe.getTime();ye=1+Math.round(ht/6048e5)}return he(ye,D,Ye(z,ne.MinusSign))}}function hn(D,V=!1){return function(M,z){return he(ft(M).getFullYear(),D,Ye(z,ne.MinusSign),V)}}const zt={};function Sn(D,V){D=D.replace(/:/g,"");const M=Date.parse("Jan 01, 1970 00:00:00 "+D)/6e4;return isNaN(M)?V:M}function Dr(D){return D instanceof Date&&!isNaN(D.valueOf())}function jr(D,V){V=encodeURIComponent(V);for(const M of D.split(";")){const z=M.indexOf("="),[ye,Be]=-1==z?[M,""]:[M.slice(0,z),M.slice(z+1)];if(ye.trim()===V)return decodeURIComponent(Be)}return null}let ys=(()=>{class D{constructor(M,z,ye,Be){this._iterableDiffers=M,this._keyValueDiffers=z,this._ngEl=ye,this._renderer=Be,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(M){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof M?M.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(M){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof M?M.split(/\s+/):M,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const M=this._iterableDiffer.diff(this._rawClass);M&&this._applyIterableChanges(M)}else if(this._keyValueDiffer){const M=this._keyValueDiffer.diff(this._rawClass);M&&this._applyKeyValueChanges(M)}}_applyKeyValueChanges(M){M.forEachAddedItem(z=>this._toggleClass(z.key,z.currentValue)),M.forEachChangedItem(z=>this._toggleClass(z.key,z.currentValue)),M.forEachRemovedItem(z=>{z.previousValue&&this._toggleClass(z.key,!1)})}_applyIterableChanges(M){M.forEachAddedItem(z=>{if("string"!=typeof z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(z.item)}`);this._toggleClass(z.item,!0)}),M.forEachRemovedItem(z=>this._toggleClass(z.item,!1))}_applyClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(z=>this._toggleClass(z,!0)):Object.keys(M).forEach(z=>this._toggleClass(z,!!M[z])))}_removeClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(z=>this._toggleClass(z,!1)):Object.keys(M).forEach(z=>this._toggleClass(z,!1)))}_toggleClass(M,z){(M=M.trim())&&M.split(/\s+/g).forEach(ye=>{z?this._renderer.addClass(this._ngEl.nativeElement,ye):this._renderer.removeClass(this._ngEl.nativeElement,ye)})}}return D.\u0275fac=function(M){return new(M||D)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},D.\u0275dir=i.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),D})();class fr{constructor(V,M,z,ye){this.$implicit=V,this.ngForOf=M,this.index=z,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wn=(()=>{class D{constructor(M,z,ye){this._viewContainer=M,this._template=z,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const z=this._viewContainer;M.forEachOperation((ye,Be,qe)=>{if(null==ye.previousIndex)z.createEmbeddedView(this._template,new fr(ye.item,this._ngForOf,-1,-1),null===qe?void 0:qe);else if(null==qe)z.remove(null===Be?void 0:Be);else if(null!==Be){const ht=z.get(Be);z.move(ht,qe),Or(ht,ye)}});for(let ye=0,Be=z.length;ye<Be;ye++){const ht=z.get(ye).context;ht.index=ye,ht.count=Be,ht.ngForOf=this._ngForOf}M.forEachIdentityChange(ye=>{Or(z.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(M,z){return!0}}return D.\u0275fac=function(M){return new(M||D)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},D.\u0275dir=i.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function Or(D,V){D.context.$implicit=V.item}let on=(()=>{class D{constructor(M,z){this._viewContainer=M,this._context=new ei,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){to("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){to("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,z){return!0}}return D.\u0275fac=function(M){return new(M||D)(i.Y36(i.s_b),i.Y36(i.Rgc))},D.\u0275dir=i.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class ei{constructor(){this.$implicit=null,this.ngIf=null}}function to(D,V){if(V&&!V.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,i.AaK)(V)}'.`)}class _r{constructor(V,M){this._viewContainerRef=V,this._templateRef=M,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(V){V&&!this._created?this.create():!V&&this._created&&this.destroy()}}let Nr=(()=>{class D{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(M){this._ngSwitch=M,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(M){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(M)}_matchCase(M){const z=M==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||z,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),z}_updateDefaultCases(M){if(this._defaultViews&&M!==this._defaultUsed){this._defaultUsed=M;for(let z=0;z<this._defaultViews.length;z++)this._defaultViews[z].enforceState(M)}}}return D.\u0275fac=function(M){return new(M||D)},D.\u0275dir=i.lG2({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),D})(),hr=(()=>{class D{constructor(M,z,ye){this.ngSwitch=ye,ye._addCase(),this._view=new _r(M,z)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return D.\u0275fac=function(M){return new(M||D)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(Nr,9))},D.\u0275dir=i.lG2({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),D})(),Nn=(()=>{class D{constructor(M,z,ye){this._ngEl=M,this._differs=z,this._renderer=ye,this._ngStyle=null,this._differ=null}set ngStyle(M){this._ngStyle=M,!this._differ&&M&&(this._differ=this._differs.find(M).create())}ngDoCheck(){if(this._differ){const M=this._differ.diff(this._ngStyle);M&&this._applyChanges(M)}}_setStyle(M,z){const[ye,Be]=M.split("."),qe=-1===ye.indexOf("-")?void 0:i.JOm.DashCase;null!=z?this._renderer.setStyle(this._ngEl.nativeElement,ye,Be?`${z}${Be}`:z,qe):this._renderer.removeStyle(this._ngEl.nativeElement,ye,qe)}_applyChanges(M){M.forEachRemovedItem(z=>this._setStyle(z.key,null)),M.forEachAddedItem(z=>this._setStyle(z.key,z.currentValue)),M.forEachChangedItem(z=>this._setStyle(z.key,z.currentValue))}}return D.\u0275fac=function(M){return new(M||D)(i.Y36(i.SBq),i.Y36(i.aQg),i.Y36(i.Qsj))},D.\u0275dir=i.lG2({type:D,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),D})();function gn(D,V){return new i.vHH(2100,!1)}class Gr{createSubscription(V,M){return V.subscribe({next:M,error:z=>{throw z}})}dispose(V){V.unsubscribe()}}class Zn{createSubscription(V,M){return V.then(M,z=>{throw z})}dispose(V){}}const Do=new Zn,ti=new Gr;let no=(()=>{class D{constructor(M){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=M}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(M){return this._obj?M!==this._obj?(this._dispose(),this.transform(M)):this._latestValue:(M&&this._subscribe(M),this._latestValue)}_subscribe(M){this._obj=M,this._strategy=this._selectStrategy(M),this._subscription=this._strategy.createSubscription(M,z=>this._updateLatestValue(M,z))}_selectStrategy(M){if((0,i.QGY)(M))return Do;if((0,i.F4k)(M))return ti;throw gn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(M,z){M===this._obj&&(this._latestValue=z,this._ref.markForCheck())}}return D.\u0275fac=function(M){return new(M||D)(i.Y36(i.sBO,16))},D.\u0275pipe=i.Yjl({name:"async",type:D,pure:!1,standalone:!0}),D})();const Jr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ys=(()=>{class D{transform(M){if(null==M)return null;if("string"!=typeof M)throw gn();return M.replace(Jr,z=>z[0].toUpperCase()+z.slice(1).toLowerCase())}}return D.\u0275fac=function(M){return new(M||D)},D.\u0275pipe=i.Yjl({name:"titlecase",type:D,pure:!0,standalone:!0}),D})();const Bs=new i.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let No=(()=>{class D{constructor(M,z){this.locale=M,this.defaultTimezone=z}transform(M,z="mediumDate",ye,Be){if(null==M||""===M||M!=M)return null;try{return k(M,z,Be||this.locale,ye??this.defaultTimezone??void 0)}catch(qe){throw gn()}}}return D.\u0275fac=function(M){return new(M||D)(i.Y36(i.soG,16),i.Y36(Bs,24))},D.\u0275pipe=i.Yjl({name:"date",type:D,pure:!0,standalone:!0}),D})(),qr=(()=>{class D{}return D.\u0275fac=function(M){return new(M||D)},D.\u0275mod=i.oAB({type:D}),D.\u0275inj=i.cJS({}),D})();const os="browser";function Is(D){return D===os}let Po=(()=>{class D{}return D.\u0275prov=(0,i.Yz7)({token:D,providedIn:"root",factory:()=>new Gn((0,i.LFG)(S),window)}),D})();class Gn{constructor(V,M){this.document=V,this.window=M,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const M=function Ks(D,V){const M=D.getElementById(V)||D.getElementsByName(V)[0];if(M)return M;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const z=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let ye=z.currentNode;for(;ye;){const Be=ye.shadowRoot;if(Be){const qe=Be.getElementById(V)||Be.querySelector(`[name="${V}"]`);if(qe)return qe}ye=z.nextNode()}}return null}(this.document,V);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(V){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=V)}}scrollToElement(V){const M=V.getBoundingClientRect(),z=M.left+this.window.pageXOffset,ye=M.top+this.window.pageYOffset,Be=this.offset();this.window.scrollTo(z-Be[0],ye-Be[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const V=as(this.window.history)||as(Object.getPrototypeOf(this.window.history));return!(!V||!V.writable&&!V.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function as(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class co{}},529:(Tt,Me,E)=>{"use strict";E.d(Me,{JF:()=>ue,LE:()=>X,TP:()=>tt,WM:()=>_,eN:()=>Ge});var i=E(6895),y=E(8256),p=E(9646),v=E(9751),C=E(4351),h=E(9300),S=E(4004);class T{}class w{}class _{constructor(H){this.normalizedNames=new Map,this.lazyUpdate=null,H?this.lazyInit="string"==typeof H?()=>{this.headers=new Map,H.split("\n").forEach($=>{const U=$.indexOf(":");if(U>0){const k=$.slice(0,U),q=k.toLowerCase(),_e=$.slice(U+1).trim();this.maybeSetNormalizedName(k,q),this.headers.has(q)?this.headers.get(q).push(_e):this.headers.set(q,[_e])}})}:()=>{this.headers=new Map,Object.keys(H).forEach($=>{let U=H[$];const k=$.toLowerCase();"string"==typeof U&&(U=[U]),U.length>0&&(this.headers.set(k,U),this.maybeSetNormalizedName($,k))})}:this.headers=new Map}has(H){return this.init(),this.headers.has(H.toLowerCase())}get(H){this.init();const $=this.headers.get(H.toLowerCase());return $&&$.length>0?$[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(H){return this.init(),this.headers.get(H.toLowerCase())||null}append(H,$){return this.clone({name:H,value:$,op:"a"})}set(H,$){return this.clone({name:H,value:$,op:"s"})}delete(H,$){return this.clone({name:H,value:$,op:"d"})}maybeSetNormalizedName(H,$){this.normalizedNames.has($)||this.normalizedNames.set($,H)}init(){this.lazyInit&&(this.lazyInit instanceof _?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(H=>this.applyUpdate(H)),this.lazyUpdate=null))}copyFrom(H){H.init(),Array.from(H.headers.keys()).forEach($=>{this.headers.set($,H.headers.get($)),this.normalizedNames.set($,H.normalizedNames.get($))})}clone(H){const $=new _;return $.lazyInit=this.lazyInit&&this.lazyInit instanceof _?this.lazyInit:this,$.lazyUpdate=(this.lazyUpdate||[]).concat([H]),$}applyUpdate(H){const $=H.name.toLowerCase();switch(H.op){case"a":case"s":let U=H.value;if("string"==typeof U&&(U=[U]),0===U.length)return;this.maybeSetNormalizedName(H.name,$);const k=("a"===H.op?this.headers.get($):void 0)||[];k.push(...U),this.headers.set($,k);break;case"d":const q=H.value;if(q){let _e=this.headers.get($);if(!_e)return;_e=_e.filter(Ce=>-1===q.indexOf(Ce)),0===_e.length?(this.headers.delete($),this.normalizedNames.delete($)):this.headers.set($,_e)}else this.headers.delete($),this.normalizedNames.delete($)}}forEach(H){this.init(),Array.from(this.normalizedNames.keys()).forEach($=>H(this.normalizedNames.get($),this.headers.get($)))}}class P{encodeKey(H){return l(H)}encodeValue(H){return l(H)}decodeKey(H){return decodeURIComponent(H)}decodeValue(H){return decodeURIComponent(H)}}const B=/%(\d[a-f0-9])/gi,F={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function l(W){return encodeURIComponent(W).replace(B,(H,$)=>F[$]??H)}function ee(W){return`${W}`}class X{constructor(H={}){if(this.updates=null,this.cloneFrom=null,this.encoder=H.encoder||new P,H.fromString){if(H.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function x(W,H){const $=new Map;return W.length>0&&W.replace(/^\?/,"").split("&").forEach(k=>{const q=k.indexOf("="),[_e,Ce]=-1==q?[H.decodeKey(k),""]:[H.decodeKey(k.slice(0,q)),H.decodeValue(k.slice(q+1))],he=$.get(_e)||[];he.push(Ce),$.set(_e,he)}),$}(H.fromString,this.encoder)}else H.fromObject?(this.map=new Map,Object.keys(H.fromObject).forEach($=>{const U=H.fromObject[$],k=Array.isArray(U)?U.map(ee):[ee(U)];this.map.set($,k)})):this.map=null}has(H){return this.init(),this.map.has(H)}get(H){this.init();const $=this.map.get(H);return $?$[0]:null}getAll(H){return this.init(),this.map.get(H)||null}keys(){return this.init(),Array.from(this.map.keys())}append(H,$){return this.clone({param:H,value:$,op:"a"})}appendAll(H){const $=[];return Object.keys(H).forEach(U=>{const k=H[U];Array.isArray(k)?k.forEach(q=>{$.push({param:U,value:q,op:"a"})}):$.push({param:U,value:k,op:"a"})}),this.clone($)}set(H,$){return this.clone({param:H,value:$,op:"s"})}delete(H,$){return this.clone({param:H,value:$,op:"d"})}toString(){return this.init(),this.keys().map(H=>{const $=this.encoder.encodeKey(H);return this.map.get(H).map(U=>$+"="+this.encoder.encodeValue(U)).join("&")}).filter(H=>""!==H).join("&")}clone(H){const $=new X({encoder:this.encoder});return $.cloneFrom=this.cloneFrom||this,$.updates=(this.updates||[]).concat(H),$}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(H=>this.map.set(H,this.cloneFrom.map.get(H))),this.updates.forEach(H=>{switch(H.op){case"a":case"s":const $=("a"===H.op?this.map.get(H.param):void 0)||[];$.push(ee(H.value)),this.map.set(H.param,$);break;case"d":if(void 0===H.value){this.map.delete(H.param);break}{let U=this.map.get(H.param)||[];const k=U.indexOf(ee(H.value));-1!==k&&U.splice(k,1),U.length>0?this.map.set(H.param,U):this.map.delete(H.param)}}}),this.cloneFrom=this.updates=null)}}class te{constructor(){this.map=new Map}set(H,$){return this.map.set(H,$),this}get(H){return this.map.has(H)||this.map.set(H,H.defaultValue()),this.map.get(H)}delete(H){return this.map.delete(H),this}has(H){return this.map.has(H)}keys(){return this.map.keys()}}function ie(W){return typeof ArrayBuffer<"u"&&W instanceof ArrayBuffer}function pe(W){return typeof Blob<"u"&&W instanceof Blob}function Oe(W){return typeof FormData<"u"&&W instanceof FormData}class Ee{constructor(H,$,U,k){let q;if(this.url=$,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=H.toUpperCase(),function ae(W){switch(W){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||k?(this.body=void 0!==U?U:null,q=k):q=U,q&&(this.reportProgress=!!q.reportProgress,this.withCredentials=!!q.withCredentials,q.responseType&&(this.responseType=q.responseType),q.headers&&(this.headers=q.headers),q.context&&(this.context=q.context),q.params&&(this.params=q.params)),this.headers||(this.headers=new _),this.context||(this.context=new te),this.params){const _e=this.params.toString();if(0===_e.length)this.urlWithParams=$;else{const Ce=$.indexOf("?");this.urlWithParams=$+(-1===Ce?"?":Ce<$.length-1?"&":"")+_e}}else this.params=new X,this.urlWithParams=$}serializeBody(){return null===this.body?null:ie(this.body)||pe(this.body)||Oe(this.body)||function Q(W){return typeof URLSearchParams<"u"&&W instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof X?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Oe(this.body)?null:pe(this.body)?this.body.type||null:ie(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof X?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(H={}){const $=H.method||this.method,U=H.url||this.url,k=H.responseType||this.responseType,q=void 0!==H.body?H.body:this.body,_e=void 0!==H.withCredentials?H.withCredentials:this.withCredentials,Ce=void 0!==H.reportProgress?H.reportProgress:this.reportProgress;let he=H.headers||this.headers,De=H.params||this.params;const Le=H.context??this.context;return void 0!==H.setHeaders&&(he=Object.keys(H.setHeaders).reduce((Ve,we)=>Ve.set(we,H.setHeaders[we]),he)),H.setParams&&(De=Object.keys(H.setParams).reduce((Ve,we)=>Ve.set(we,H.setParams[we]),De)),new Ee($,U,q,{params:De,headers:he,context:Le,reportProgress:Ce,responseType:k,withCredentials:_e})}}var He=(()=>((He=He||{})[He.Sent=0]="Sent",He[He.UploadProgress=1]="UploadProgress",He[He.ResponseHeader=2]="ResponseHeader",He[He.DownloadProgress=3]="DownloadProgress",He[He.Response=4]="Response",He[He.User=5]="User",He))();class Se{constructor(H,$=200,U="OK"){this.headers=H.headers||new _,this.status=void 0!==H.status?H.status:$,this.statusText=H.statusText||U,this.url=H.url||null,this.ok=this.status>=200&&this.status<300}}class se extends Se{constructor(H={}){super(H),this.type=He.ResponseHeader}clone(H={}){return new se({headers:H.headers||this.headers,status:void 0!==H.status?H.status:this.status,statusText:H.statusText||this.statusText,url:H.url||this.url||void 0})}}class le extends Se{constructor(H={}){super(H),this.type=He.Response,this.body=void 0!==H.body?H.body:null}clone(H={}){return new le({body:void 0!==H.body?H.body:this.body,headers:H.headers||this.headers,status:void 0!==H.status?H.status:this.status,statusText:H.statusText||this.statusText,url:H.url||this.url||void 0})}}class ne extends Se{constructor(H){super(H,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${H.url||"(unknown url)"}`:`Http failure response for ${H.url||"(unknown url)"}: ${H.status} ${H.statusText}`,this.error=H.error||null}}function Fe(W,H){return{body:H,headers:W.headers,context:W.context,observe:W.observe,params:W.params,reportProgress:W.reportProgress,responseType:W.responseType,withCredentials:W.withCredentials}}let Ge=(()=>{class W{constructor($){this.handler=$}request($,U,k={}){let q;if($ instanceof Ee)q=$;else{let he,De;he=k.headers instanceof _?k.headers:new _(k.headers),k.params&&(De=k.params instanceof X?k.params:new X({fromObject:k.params})),q=new Ee($,U,void 0!==k.body?k.body:null,{headers:he,context:k.context,params:De,reportProgress:k.reportProgress,responseType:k.responseType||"json",withCredentials:k.withCredentials})}const _e=(0,p.of)(q).pipe((0,C.b)(he=>this.handler.handle(he)));if($ instanceof Ee||"events"===k.observe)return _e;const Ce=_e.pipe((0,h.h)(he=>he instanceof le));switch(k.observe||"body"){case"body":switch(q.responseType){case"arraybuffer":return Ce.pipe((0,S.U)(he=>{if(null!==he.body&&!(he.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return he.body}));case"blob":return Ce.pipe((0,S.U)(he=>{if(null!==he.body&&!(he.body instanceof Blob))throw new Error("Response is not a Blob.");return he.body}));case"text":return Ce.pipe((0,S.U)(he=>{if(null!==he.body&&"string"!=typeof he.body)throw new Error("Response is not a string.");return he.body}));default:return Ce.pipe((0,S.U)(he=>he.body))}case"response":return Ce;default:throw new Error(`Unreachable: unhandled observe type ${k.observe}}`)}}delete($,U={}){return this.request("DELETE",$,U)}get($,U={}){return this.request("GET",$,U)}head($,U={}){return this.request("HEAD",$,U)}jsonp($,U){return this.request("JSONP",$,{params:(new X).append(U,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options($,U={}){return this.request("OPTIONS",$,U)}patch($,U,k={}){return this.request("PATCH",$,Fe(k,U))}post($,U,k={}){return this.request("POST",$,Fe(k,U))}put($,U,k={}){return this.request("PUT",$,Fe(k,U))}}return W.\u0275fac=function($){return new($||W)(y.LFG(T))},W.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac}),W})();class ze{constructor(H,$){this.next=H,this.interceptor=$}handle(H){return this.interceptor.intercept(H,this.next)}}const tt=new y.OlP("HTTP_INTERCEPTORS");let Ct=(()=>{class W{intercept($,U){return U.handle($)}}return W.\u0275fac=function($){return new($||W)},W.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac}),W})();const dn=/^\)\]\}',?\n/;let bn=(()=>{class W{constructor($){this.xhrFactory=$}handle($){if("JSONP"===$.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new v.y(U=>{const k=this.xhrFactory.build();if(k.open($.method,$.urlWithParams),$.withCredentials&&(k.withCredentials=!0),$.headers.forEach((We,et)=>k.setRequestHeader(We,et.join(","))),$.headers.has("Accept")||k.setRequestHeader("Accept","application/json, text/plain, */*"),!$.headers.has("Content-Type")){const We=$.detectContentTypeHeader();null!==We&&k.setRequestHeader("Content-Type",We)}if($.responseType){const We=$.responseType.toLowerCase();k.responseType="json"!==We?We:"text"}const q=$.serializeBody();let _e=null;const Ce=()=>{if(null!==_e)return _e;const We=k.statusText||"OK",et=new _(k.getAllResponseHeaders()),ut=function Ut(W){return"responseURL"in W&&W.responseURL?W.responseURL:/^X-Request-URL:/m.test(W.getAllResponseHeaders())?W.getResponseHeader("X-Request-URL"):null}(k)||$.url;return _e=new se({headers:et,status:k.status,statusText:We,url:ut}),_e},he=()=>{let{headers:We,status:et,statusText:ut,url:ot}=Ce(),gt=null;204!==et&&(gt=typeof k.response>"u"?k.responseText:k.response),0===et&&(et=gt?200:0);let ft=et>=200&&et<300;if("json"===$.responseType&&"string"==typeof gt){const Qt=gt;gt=gt.replace(dn,"");try{gt=""!==gt?JSON.parse(gt):null}catch(hn){gt=Qt,ft&&(ft=!1,gt={error:hn,text:gt})}}ft?(U.next(new le({body:gt,headers:We,status:et,statusText:ut,url:ot||void 0})),U.complete()):U.error(new ne({error:gt,headers:We,status:et,statusText:ut,url:ot||void 0}))},De=We=>{const{url:et}=Ce(),ut=new ne({error:We,status:k.status||0,statusText:k.statusText||"Unknown Error",url:et||void 0});U.error(ut)};let Le=!1;const Ve=We=>{Le||(U.next(Ce()),Le=!0);let et={type:He.DownloadProgress,loaded:We.loaded};We.lengthComputable&&(et.total=We.total),"text"===$.responseType&&!!k.responseText&&(et.partialText=k.responseText),U.next(et)},we=We=>{let et={type:He.UploadProgress,loaded:We.loaded};We.lengthComputable&&(et.total=We.total),U.next(et)};return k.addEventListener("load",he),k.addEventListener("error",De),k.addEventListener("timeout",De),k.addEventListener("abort",De),$.reportProgress&&(k.addEventListener("progress",Ve),null!==q&&k.upload&&k.upload.addEventListener("progress",we)),k.send(q),U.next({type:He.Sent}),()=>{k.removeEventListener("error",De),k.removeEventListener("abort",De),k.removeEventListener("load",he),k.removeEventListener("timeout",De),$.reportProgress&&(k.removeEventListener("progress",Ve),null!==q&&k.upload&&k.upload.removeEventListener("progress",we)),k.readyState!==k.DONE&&k.abort()}})}}return W.\u0275fac=function($){return new($||W)(y.LFG(i.JF))},W.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac}),W})();const Xt=new y.OlP("XSRF_COOKIE_NAME"),tn=new y.OlP("XSRF_HEADER_NAME");class rn{}let wt=(()=>{class W{constructor($,U,k){this.doc=$,this.platform=U,this.cookieName=k,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const $=this.doc.cookie||"";return $!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,i.Mx)($,this.cookieName),this.lastCookieString=$),this.lastToken}}return W.\u0275fac=function($){return new($||W)(y.LFG(i.K0),y.LFG(y.Lbi),y.LFG(Xt))},W.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac}),W})(),Wt=(()=>{class W{constructor($,U){this.tokenService=$,this.headerName=U}intercept($,U){const k=$.url.toLowerCase();if("GET"===$.method||"HEAD"===$.method||k.startsWith("http://")||k.startsWith("https://"))return U.handle($);const q=this.tokenService.getToken();return null!==q&&!$.headers.has(this.headerName)&&($=$.clone({headers:$.headers.set(this.headerName,q)})),U.handle($)}}return W.\u0275fac=function($){return new($||W)(y.LFG(rn),y.LFG(tn))},W.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac}),W})(),_t=(()=>{class W{constructor($,U){this.backend=$,this.injector=U,this.chain=null}handle($){if(null===this.chain){const U=this.injector.get(tt,[]);this.chain=U.reduceRight((k,q)=>new ze(k,q),this.backend)}return this.chain.handle($)}}return W.\u0275fac=function($){return new($||W)(y.LFG(w),y.LFG(y.zs3))},W.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac}),W})(),Z=(()=>{class W{static disable(){return{ngModule:W,providers:[{provide:Wt,useClass:Ct}]}}static withOptions($={}){return{ngModule:W,providers:[$.cookieName?{provide:Xt,useValue:$.cookieName}:[],$.headerName?{provide:tn,useValue:$.headerName}:[]]}}}return W.\u0275fac=function($){return new($||W)},W.\u0275mod=y.oAB({type:W}),W.\u0275inj=y.cJS({providers:[Wt,{provide:tt,useExisting:Wt,multi:!0},{provide:rn,useClass:wt},{provide:Xt,useValue:"XSRF-TOKEN"},{provide:tn,useValue:"X-XSRF-TOKEN"}]}),W})(),ue=(()=>{class W{}return W.\u0275fac=function($){return new($||W)},W.\u0275mod=y.oAB({type:W}),W.\u0275inj=y.cJS({providers:[Ge,{provide:T,useClass:_t},bn,{provide:w,useExisting:bn}],imports:[Z.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),W})()},8256:(Tt,Me,E)=>{"use strict";E.d(Me,{QbO:()=>GT,tb:()=>jg,AFp:()=>Vg,ip1:()=>Bg,CZH:()=>Eu,hGG:()=>Av,z2F:()=>Su,sBO:()=>uv,Sil:()=>HT,_Vd:()=>na,EJc:()=>BT,Xts:()=>Yu,SBq:()=>ra,lqb:()=>$o,qLn:()=>sa,vpe:()=>Gs,XFs:()=>H,OlP:()=>un,zs3:()=>Wo,ZZ4:()=>Ll,aQg:()=>bl,soG:()=>mu,YKP:()=>Kp,h0i:()=>ki,PXZ:()=>nv,R0b:()=>rs,FiY:()=>qi,Lbi:()=>xT,g9A:()=>Kg,Qsj:()=>Om,FYo:()=>Nd,JOm:()=>bs,q3G:()=>xn,tp0:()=>Qi,Rgc:()=>_a,dDg:()=>ZT,eoX:()=>Zg,GfV:()=>Md,s_b:()=>hu,ifc:()=>Ve,MMx:()=>ul,Lck:()=>Uy,eFA:()=>tE,G48:()=>av,Gpc:()=>Ie,f3M:()=>Ql,_c5:()=>vv,c2e:()=>kT,zSh:()=>Hu,wAp:()=>Lt,vHH:()=>pe,lri:()=>qg,rWj:()=>Qg,EiD:()=>gd,mCW:()=>Fa,qzn:()=>Si,JVY:()=>JE,pB0:()=>QE,eBb:()=>zE,L6k:()=>WE,LAX:()=>qE,D6c:()=>Iv,cg1:()=>el,kL8:()=>gp,dqk:()=>we,Z0I:()=>Wt,sIi:()=>la,CqO:()=>Sh,QGY:()=>Jc,QP$:()=>vt,F4k:()=>mh,RDi:()=>GE,AaK:()=>l,z3N:()=>zs,qOj:()=>Yc,TTD:()=>vs,_Bn:()=>Hp,jDz:()=>$p,xp6:()=>pf,uIk:()=>Hc,Tol:()=>Vh,Gre:()=>sp,ekj:()=>qc,Suo:()=>mg,Xpm:()=>Un,lG2:()=>be,Yz7:()=>Xt,cJS:()=>rn,oAB:()=>Dr,Yjl:()=>Re,Y36:()=>Ai,_UZ:()=>$c,BQk:()=>su,ynx:()=>ru,qZA:()=>nu,TgZ:()=>tu,EpF:()=>Eh,n5z:()=>Yo,LFG:()=>Bn,$8M:()=>$i,$Z:()=>Df,NdJ:()=>Wc,CRH:()=>Sg,kcU:()=>Te,O4$:()=>K,oxw:()=>vh,ALo:()=>ag,lcZ:()=>ug,xi3:()=>cg,Hsn:()=>Ih,F$t:()=>Ah,Q6J:()=>Kc,MGl:()=>ou,DdM:()=>Xp,VKq:()=>eg,WLB:()=>tg,iGM:()=>gg,MAs:()=>ph,KtG:()=>fo,Jf7:()=>Vd,CHM:()=>Pr,oJD:()=>Ed,LSH:()=>ku,Akn:()=>ms,Udp:()=>zc,d8E:()=>Xc,YNc:()=>hh,W1O:()=>Tg,_uU:()=>zh,Oqu:()=>Zc,hij:()=>au,Gf:()=>Eg});var i=E(8189),y=E(8421),p=E(515),v=E(7669),C=E(2076),S=E(7579),T=E(727),w=E(9751),_=E(2961),I=E(4482);function x(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new _.Hp({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function B(e){for(let t in e)if(e[t]===B)return t;throw Error("Could not find renamed property on target object.")}function F(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function l(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(l).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ee(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const X=B({__forward_ref__:B});function Ie(e){return e.__forward_ref__=Ie,e.toString=function(){return l(this())},e}function te(e){return ae(e)?e():e}function ae(e){return"function"==typeof e&&e.hasOwnProperty(X)&&e.__forward_ref__===Ie}class pe extends Error{constructor(t,n){super(function Oe(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function Q(e){return"string"==typeof e?e:null==e?"":String(e)}function le(e,t){throw new pe(-201,!1)}function at(e,t){null==e&&function lt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Xt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function rn(e){return{providers:e.providers||[],imports:e.imports||[]}}function wt(e){return _t(e,ue)||_t(e,ce)}function Wt(e){return null!==wt(e)}function _t(e,t){return e.hasOwnProperty(t)?e[t]:null}function Z(e){return e&&(e.hasOwnProperty(re)||e.hasOwnProperty(W))?e[re]:null}const ue=B({\u0275prov:B}),re=B({\u0275inj:B}),ce=B({ngInjectableDef:B}),W=B({ngInjectorDef:B});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let $;function k(e){const t=$;return $=e,t}function q(e,t,n){const r=wt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==t?t:void le(l(e))}function Ce(e){return{toString:e}.toString()}var he=(()=>((he=he||{})[he.OnPush=0]="OnPush",he[he.Default=1]="Default",he))(),Ve=(()=>{return(e=Ve||(Ve={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ve;var e})();const we=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ut={},ot=[],gt=B({\u0275cmp:B}),ft=B({\u0275dir:B}),Qt=B({\u0275pipe:B}),hn=B({\u0275mod:B}),zt=B({\u0275fac:B}),Mn=B({__NG_ELEMENT_ID__:B});let Sn=0;function Un(e){return Ce(()=>{const n=!0===e.standalone,r={},s={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===he.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||ot,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ve.Emulated,id:"c"+Sn++,styles:e.styles||ot,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.dependencies,c=e.features;return s.inputs=zn(e.inputs,r),s.outputs=zn(e.outputs),c&&c.forEach(m=>m(s)),s.directiveDefs=o?()=>("function"==typeof o?o():o).map(Tn).filter(Wn):null,s.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ke).filter(Wn):null,s})}function Tn(e){return fe(e)||Ne(e)}function Wn(e){return null!==e}function Dr(e){return Ce(()=>({type:e.type,bootstrap:e.bootstrap||ot,declarations:e.declarations||ot,imports:e.imports||ot,exports:e.exports||ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function zn(e,t){if(null==e)return ut;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],o=s;Array.isArray(s)&&(o=s[1],s=s[0]),n[s]=r,t&&(t[s]=o)}return n}const be=Un;function Re(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function fe(e){return e[gt]||null}function Ne(e){return e[ft]||null}function Ke(e){return e[Qt]||null}function vt(e){const t=fe(e)||Ne(e)||Ke(e);return null!==t&&t.standalone}function Ot(e,t){const n=e[hn]||null;if(!n&&!0===t)throw new Error(`Type ${l(e)} does not have '\u0275mod' property.`);return n}function Nn(e){return Array.isArray(e)&&"object"==typeof e[1]}function vn(e){return Array.isArray(e)&&!0===e[1]}function $r(e){return 0!=(8&e.flags)}function gn(e){return 2==(2&e.flags)}function Gr(e){return 1==(1&e.flags)}function Zn(e){return null!==e.template}function Do(e){return 0!=(256&e[2])}function qr(e,t){return e.hasOwnProperty(zt)?e[zt]:null}class os{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function vs(){return is}function is(e){return e.type.prototype.ngOnChanges&&(e.setInput=Is),As}function As(){const e=wo(this),t=e?.current;if(t){const n=e.previous;if(n===ut)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Is(e,t,n,r){const s=wo(e)||function Rs(e,t){return e[ao]=t}(e,{previous:ut,current:null}),o=s.current||(s.current={}),c=s.previous,m=this.declaredInputs[n],R=c[m];o[m]=new os(R&&R.currentValue,t,c===ut),e[r]=t}vs.ngInherit=!0;const ao="__ngSimpleChanges__";function wo(e){return e[ao]||null}function Bt(e){for(;Array.isArray(e);)e=e[0];return e}function $s(e,t){return Bt(t[e])}function Xn(e,t){return Bt(t[e.index])}function cs(e,t){return e.data[t]}function Os(e,t){return e[t]}function fn(e,t){const n=t[e];return Nn(n)?n:n[0]}function Yr(e){return 64==(64&e[2])}function wr(e,t){return null==t?null:e[t]}function ds(e){e[18]=0}function fs(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Nt={lFrame:qe(null),bindingsEnabled:!0};function ws(){return Nt.bindingsEnabled}function Ze(){return Nt.lFrame.lView}function Vt(){return Nt.lFrame.tView}function Pr(e){return Nt.lFrame.contextLView=e,e[8]}function fo(e){return Nt.lFrame.contextLView=null,e}function yn(){let e=ir();for(;null!==e&&64===e.type;)e=e.parent;return e}function ir(){return Nt.lFrame.currentTNode}function ar(e,t){const n=Nt.lFrame;n.currentTNode=e,n.isParent=t}function Zr(){return Nt.lFrame.isParent}function ho(){Nt.lFrame.isParent=!1}function Yn(){const e=Nt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function cr(){return Nt.lFrame.bindingIndex++}function yr(e){const t=Nt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ci(e,t){const n=Nt.lFrame;n.bindingIndex=n.bindingRootIndex=e,go(t)}function go(e){Nt.lFrame.currentDirectiveIndex=e}function Eo(e){const t=Nt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function D(){return Nt.lFrame.currentQueryIndex}function V(e){Nt.lFrame.currentQueryIndex=e}function M(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function z(e,t,n){if(n&H.SkipSelf){let s=t,o=e;for(;!(s=s.parent,null!==s||n&H.Host||(s=M(o),null===s||(o=o[15],10&s.type))););if(null===s)return!1;t=s,e=o}const r=Nt.lFrame=Be();return r.currentTNode=t,r.lView=e,!0}function ye(e){const t=Be(),n=e[1];Nt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Be(){const e=Nt.lFrame,t=null===e?null:e.child;return null===t?qe(e):t}function qe(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ht(){const e=Nt.lFrame;return Nt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const en=ht;function Zt(){const e=ht();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function a(){return Nt.lFrame.selectedIndex}function d(e){Nt.lFrame.selectedIndex=e}function N(){const e=Nt.lFrame;return cs(e.tView,e.selectedIndex)}function K(){Nt.lFrame.currentNamespace="svg"}function Te(){!function ve(){Nt.lFrame.currentNamespace=null}()}function dt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:m,ngAfterViewInit:R,ngAfterViewChecked:G,ngOnDestroy:J}=o;c&&(e.contentHooks||(e.contentHooks=[])).push(-n,c),m&&((e.contentHooks||(e.contentHooks=[])).push(n,m),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,m)),R&&(e.viewHooks||(e.viewHooks=[])).push(-n,R),G&&((e.viewHooks||(e.viewHooks=[])).push(n,G),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,G)),null!=J&&(e.destroyHooks||(e.destroyHooks=[])).push(n,J)}}function mt(e,t,n){It(e,t,3,n)}function Ht(e,t,n,r){(3&e[2])===n&&It(e,t,n,r)}function Gt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function It(e,t,n,r){const o=r??-1,c=t.length-1;let m=0;for(let R=void 0!==r?65535&e[18]:0;R<c;R++)if("number"==typeof t[R+1]){if(m=t[R],null!=r&&m>=r)break}else t[R]<0&&(e[18]+=65536),(m<o||-1==o)&&(xt(e,n,t,R),e[18]=(4294901760&e[18])+R+2),R++}function xt(e,t,n,r){const s=n[r]<0,o=n[r+1],m=e[s?-n[r]:n[r]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(m)}finally{}}}else try{o.call(m)}finally{}}class sn{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function lr(e,t,n){let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],c=n[r++],m=n[r++];e.setAttribute(t,c,m,o)}else{const o=s,c=n[++r];hs(o)?e.setProperty(t,o,c):e.setAttribute(t,o,c),r++}}return r}function mo(e){return 3===e||4===e||6===e}function hs(e){return 64===e.charCodeAt(0)}function br(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||Fo(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function Fo(e,t,n,r,s){let o=0,c=e.length;if(-1===t)c=-1;else for(;o<e.length;){const m=e[o++];if("number"==typeof m){if(m===t){c=-1;break}if(m>t){c=o-1;break}}}for(;o<e.length;){const m=e[o];if("number"==typeof m)break;if(m===n){if(null===r)return void(null!==s&&(e[o+1]=s));if(r===e[o+1])return void(e[o+2]=s)}o++,null!==r&&o++,null!==s&&o++}-1!==c&&(e.splice(c,0,t),o=c+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==s&&e.splice(o++,0,s)}function xo(e){return-1!==e}function St(e){return 32767&e}function Rt(e,t){let n=function Dt(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Jt=!0;function En(e){const t=Jt;return Jt=e,t}let mn=0;const vr={};function In(e,t){const n=$n(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,gr(r.data,e),gr(t,null),gr(r.blueprint,null));const s=Hr(e,t),o=e.injectorIndex;if(xo(s)){const c=St(s),m=Rt(s,t),R=m[1].data;for(let G=0;G<8;G++)t[o+G]=m[c+G]|R[c+G]}return t[o+8]=s,o}function gr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $n(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Hr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){if(r=ji(s),null===r)return-1;if(n++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ts(e,t,n){!function Hi(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mn)&&(r=n[Mn]),null==r&&(r=n[Mn]=mn++);const s=255&r;t.data[e+(s>>5)]|=1<<s}(e,t,n)}function Ta(e,t,n){if(n&H.Optional||void 0!==e)return e;le()}function Go(e,t,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){const s=e[9],o=k(void 0);try{return s?s.get(t,r,n&H.Optional):q(t,r,n&H.Optional)}finally{k(o)}}return Ta(r,0,n)}function va(e,t,n,r=H.Default,s){if(null!==e){if(1024&t[2]){const c=function Au(e,t,n,r,s){let o=e,c=t;for(;null!==o&&null!==c&&1024&c[2]&&!(256&c[2]);){const m=Aa(o,c,n,r|H.Self,vr);if(m!==vr)return m;let R=o.parent;if(!R){const G=c[21];if(G){const J=G.get(n,vr,r);if(J!==vr)return J}R=ji(c),c=c[15]}o=R}return s}(e,t,n,r,vr);if(c!==vr)return c}const o=Aa(e,t,n,r,vr);if(o!==vr)return o}return Go(t,n,r,s)}function Aa(e,t,n,r,s){const o=function Ia(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Mn)?e[Mn]:void 0;return"number"==typeof t?t>=0?255&t:fi:t}(n);if("function"==typeof o){if(!z(t,e,r))return r&H.Host?Ta(s,0,r):Go(t,n,r,s);try{const c=o(r);if(null!=c||r&H.Optional)return c;le()}finally{en()}}else if("number"==typeof o){let c=null,m=$n(e,t),R=-1,G=r&H.Host?t[16][6]:null;for((-1===m||r&H.SkipSelf)&&(R=-1===m?Hr(e,t):t[m+8],-1!==R&&Ra(r,!1)?(c=t[1],m=St(R),t=Rt(R,t)):m=-1);-1!==m;){const J=t[1];if(Fn(o,m,J.data)){const de=vu(m,t,n,c,r,G);if(de!==vr)return de}R=t[m+8],-1!==R&&Ra(r,t[1].data[m+8]===G)&&Fn(o,m,t)?(c=J,m=St(R),t=Rt(R,t)):m=-1}}return s}function vu(e,t,n,r,s,o){const c=t[1],m=c.data[e+8],J=di(m,c,n,null==r?gn(m)&&Jt:r!=c&&0!=(3&m.type),s&H.Host&&o===m);return null!==J?ko(t,c,J,m):vr}function di(e,t,n,r,s){const o=e.providerIndexes,c=t.data,m=1048575&o,R=e.directiveStart,J=o>>20,Ae=s?m+J:e.directiveEnd;for(let Ue=r?m:m+J;Ue<Ae;Ue++){const Je=c[Ue];if(Ue<R&&n===Je||Ue>=R&&Je.type===n)return Ue}if(s){const Ue=c[R];if(Ue&&Zn(Ue)&&Ue.type===n)return R}return null}function ko(e,t,n,r){let s=e[n];const o=t.data;if(function Pn(e){return e instanceof sn}(s)){const c=s;c.resolving&&function He(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new pe(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Ee(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Q(e)}(o[n]));const m=En(c.canSeeViewProviders);c.resolving=!0;const R=c.injectImpl?k(c.injectImpl):null;z(e,r,H.Default);try{s=e[n]=c.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function $e(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:o}=t.type.prototype;if(r){const c=is(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,s),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==R&&k(R),En(m),c.resolving=!1,en()}}return s}function Fn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ra(e,t){return!(e&H.Self||e&H.Host&&t)}class Ws{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return va(this._tNode,this._lView,t,r,n)}}function fi(){return new Ws(yn(),Ze())}function Yo(e){return Ce(()=>{const t=e.prototype.constructor,n=t[zt]||Ki(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const o=s[zt]||Ki(s);if(o&&o!==n)return o;s=Object.getPrototypeOf(s)}return o=>new o})}function Ki(e){return ae(e)?()=>{const t=Ki(te(e));return t&&t()}:qr(e)}function ji(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}function $i(e){return function Tu(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let s=0;for(;s<r;){const o=n[s];if(mo(o))break;if(0===o)s+=2;else if("number"==typeof o)for(s++;s<r&&"string"==typeof n[s];)s++;else{if(o===t)return n[s+1];s+=2}}}return null}(yn(),e)}const So="__parameters__";function Vo(e,t,n){return Ce(()=>{const r=function Co(e){return function(...n){if(e){const r=e(...n);for(const s in r)this[s]=r[s]}}}(t);function s(...o){if(this instanceof s)return r.apply(this,o),this;const c=new s(...o);return m.annotation=c,m;function m(R,G,J){const de=R.hasOwnProperty(So)?R[So]:Object.defineProperty(R,So,{value:[]})[So];for(;de.length<=J;)de.push(null);return(de[J]=de[J]||[]).push(c),R}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class un{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Xt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ar(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Ar(r,t)):t!==e&&t.push(r)}return t}function ps(e,t){e.forEach(n=>Array.isArray(n)?ps(n,t):t(n))}function Na(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function hi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ho(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function u(e,t,n){let r=b(e,t);return r>=0?e[1|r]=n:(r=~r,function Nu(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function A(e,t){const n=b(e,t);if(n>=0)return e[1|n]}function b(e,t){return function ge(e,t,n){let r=0,s=e.length>>n;for(;s!==r;){const o=r+(s-r>>1),c=e[o<<n];if(t===c)return o<<n;c>t?s=o:r=o+1}return~(s<<n)}(e,t,1)}const dr={},pi="__NG_DI_FLAG__",Ls="ngTempTokenPath",vE=/\n/gm,zl="__source";let Wi;function gi(e){const t=Wi;return Wi=e,t}function IE(e,t=H.Default){if(void 0===Wi)throw new pe(-203,!1);return null===Wi?q(e,void 0,t):Wi.get(e,t&H.Optional?null:void 0,t)}function Bn(e,t=H.Default){return(function U(){return $}()||IE)(te(e),t)}function Ql(e,t=H.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),Bn(e,t)}function wu(e){const t=[];for(let n=0;n<e.length;n++){const r=te(e[n]);if(Array.isArray(r)){if(0===r.length)throw new pe(900,!1);let s,o=H.Default;for(let c=0;c<r.length;c++){const m=r[c],R=RE(m);"number"==typeof R?-1===R?s=m.token:o|=R:s=m}t.push(Bn(s,o))}else t.push(Bn(r))}return t}function zi(e,t){return e[pi]=t,e.prototype[pi]=t,e}function RE(e){return e[pi]}const qi=zi(Vo("Optional"),8),Qi=zi(Vo("SkipSelf"),4);let Lu,ba,Ua;function GE(e){Lu=e}function mi(e){return function bu(){if(void 0===ba&&(ba=null,we.trustedTypes))try{ba=we.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ba}()?.createHTML(e)||e}function id(e){return function Uu(){if(void 0===Ua&&(Ua=null,we.trustedTypes))try{Ua=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ua}()?.createHTML(e)||e}class Ko{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class BE extends Ko{getTypeName(){return"HTML"}}class VE extends Ko{getTypeName(){return"Style"}}class HE extends Ko{getTypeName(){return"Script"}}class KE extends Ko{getTypeName(){return"URL"}}class jE extends Ko{getTypeName(){return"ResourceURL"}}function zs(e){return e instanceof Ko?e.changingThisBreaksApplicationSecurity:e}function Si(e,t){const n=function $E(e){return e instanceof Ko&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function JE(e){return new BE(e)}function WE(e){return new VE(e)}function zE(e){return new HE(e)}function qE(e){return new KE(e)}function QE(e){return new jE(e)}class ZE{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(mi(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class XE{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=mi(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=mi(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let s=n.length-1;0<s;s--){const c=n.item(s).name;("xmlns:ns1"===c||0===c.indexOf("ns1:"))&&t.removeAttribute(c)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const tm=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Fa(e){return(e=String(e)).match(tm)?e:"unsafe:"+e}function qs(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ea(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const ld=qs("area,br,col,hr,img,wbr"),dd=qs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fd=qs("rp,rt"),Fu=ea(ld,ea(dd,qs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ea(fd,qs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ea(fd,dd)),xu=qs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hd=ea(xu,qs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nm=qs("script,style,template");class rm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=this.checkClobberedElement(n,n.nextSibling);if(s){n=s;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Fu.hasOwnProperty(n))return this.sanitizedSomething=!0,!nm.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let s=0;s<r.length;s++){const o=r.item(s),c=o.name,m=c.toLowerCase();if(!hd.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let R=o.value;xu[m]&&(R=Fa(R)),this.buf.push(" ",c,'="',pd(R),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Fu.hasOwnProperty(n)&&!ld.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(pd(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const sm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,om=/([^\#-~ |!])/g;function pd(e){return e.replace(/&/g,"&amp;").replace(sm,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(om,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xa;function gd(e,t){let n=null;try{xa=xa||function cd(e){const t=new XE(e);return function em(){try{return!!(new window.DOMParser).parseFromString(mi(""),"text/html")}catch{return!1}}()?new ZE(t):t}(e);let r=t?String(t):"";n=xa.getInertBodyElement(r);let s=5,o=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=o,o=n.innerHTML,n=xa.getInertBodyElement(r)}while(r!==o);return mi((new rm).sanitizeChildren(Gu(n)||n))}finally{if(n){const r=Gu(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Gu(e){return"content"in e&&function im(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var xn=(()=>((xn=xn||{})[xn.NONE=0]="NONE",xn[xn.HTML=1]="HTML",xn[xn.STYLE=2]="STYLE",xn[xn.SCRIPT=3]="SCRIPT",xn[xn.URL=4]="URL",xn[xn.RESOURCE_URL=5]="RESOURCE_URL",xn))();function Ed(e){const t=ta();return t?id(t.sanitize(xn.HTML,e)||""):Si(e,"HTML")?id(zs(e)):gd(function od(){return void 0!==Lu?Lu:typeof document<"u"?document:void 0}(),Q(e))}function ku(e){const t=ta();return t?t.sanitize(xn.URL,e)||"":Si(e,"URL")?zs(e):Fa(Q(e))}function ta(){const e=Ze();return e&&e[12]}const Yu=new un("ENVIRONMENT_INITIALIZER"),Sd=new un("INJECTOR",-1),Cd=new un("INJECTOR_DEF_TYPES");class _d{get(t,n=dr){if(n===dr){const r=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw r.name="NullInjectorError",r}return n}}function hm(...e){return{\u0275providers:yd(0,e)}}function yd(e,...t){const n=[],r=new Set;let s;return ps(t,o=>{const c=o;Bu(c,n,[],r)&&(s||(s=[]),s.push(c))}),void 0!==s&&Td(s,n),n}function Td(e,t){for(let n=0;n<e.length;n++){const{providers:s}=e[n];ps(s,o=>{t.push(o)})}}function Bu(e,t,n,r){if(!(e=te(e)))return!1;let s=null,o=Z(e);const c=!o&&fe(e);if(o||c){if(c&&!c.standalone)return!1;s=e}else{const R=e.ngModule;if(o=Z(R),!o)return!1;s=R}const m=r.has(s);if(c){if(m)return!1;if(r.add(s),c.dependencies){const R="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const G of R)Bu(G,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!m){let G;r.add(s);try{ps(o.imports,J=>{Bu(J,t,n,r)&&(G||(G=[]),G.push(J))})}finally{}void 0!==G&&Td(G,t)}if(!m){const G=qr(s)||(()=>new s);t.push({provide:s,useFactory:G,deps:ot},{provide:Cd,useValue:s,multi:!0},{provide:Yu,useValue:()=>Bn(s),multi:!0})}const R=o.providers;null==R||m||ps(R,J=>{t.push(J)})}}return s!==e&&void 0!==e.providers}const pm=B({provide:String,useValue:B});function Vu(e){return null!==e&&"object"==typeof e&&pm in e}function jo(e){return"function"==typeof e}const Hu=new un("Set Injector scope."),Ga={},Em={};let Ku;function ka(){return void 0===Ku&&(Ku=new _d),Ku}class $o{}class Id extends $o{constructor(t,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$u(t,c=>this.processProvider(c)),this.records.set(Sd,Ci(void 0,this)),s.has("environment")&&this.records.set($o,Ci(void 0,this));const o=this.records.get(Hu);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cd.multi,ot,H.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=gi(this),r=k(void 0);try{return t()}finally{gi(n),k(r)}}get(t,n=dr,r=H.Default){this.assertNotDestroyed();const s=gi(this),o=k(void 0);try{if(!(r&H.SkipSelf)){let m=this.records.get(t);if(void 0===m){const R=function ym(e){return"function"==typeof e||"object"==typeof e&&e instanceof un}(t)&&wt(t);m=R&&this.injectableDefInScope(R)?Ci(ju(t),Ga):null,this.records.set(t,m)}if(null!=m)return this.hydrate(t,m)}return(r&H.Self?ka():this.parent).get(t,n=r&H.Optional&&n===dr?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[Ls]=c[Ls]||[]).unshift(l(t)),s)throw c;return function DE(e,t,n,r){const s=e[Ls];throw t[zl]&&s.unshift(t[zl]),e.message=function OE(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=l(t);if(Array.isArray(t))s=t.map(l).join(" -> ");else if("object"==typeof t){let o=[];for(let c in t)if(t.hasOwnProperty(c)){let m=t[c];o.push(c+":"+("string"==typeof m?JSON.stringify(m):l(m)))}s=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(vE,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[Ls]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{k(o),gi(s)}}resolveInjectorInitializers(){const t=gi(this),n=k(void 0);try{const r=this.get(Yu.multi,ot,H.Self);for(const s of r)s()}finally{gi(t),k(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(l(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(t){let n=jo(t=te(t))?t:te(t&&t.provide);const r=function Sm(e){return Vu(e)?Ci(void 0,e.useValue):Ci(Rd(e),Ga)}(t);if(jo(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=Ci(void 0,Ga,!0),s.factory=()=>wu(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Ga&&(n.value=Em,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _m(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=te(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function ju(e){const t=wt(e),n=null!==t?t.factory:qr(e);if(null!==n)return n;if(e instanceof un)throw new pe(204,!1);if(e instanceof Function)return function mm(e){const t=e.length;if(t>0)throw Ho(t,"?"),new pe(204,!1);const n=function O(e){const t=e&&(e[ue]||e[ce]);if(t){const n=function L(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new pe(204,!1)}function Rd(e,t,n){let r;if(jo(e)){const s=te(e);return qr(s)||ju(s)}if(Vu(e))r=()=>te(e.useValue);else if(function Ad(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...wu(e.deps||[]));else if(function vd(e){return!(!e||!e.useExisting)}(e))r=()=>Bn(te(e.useExisting));else{const s=te(e&&(e.useClass||e.provide));if(!function Cm(e){return!!e.deps}(e))return qr(s)||ju(s);r=()=>new s(...wu(e.deps))}return r}function Ci(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Tm(e){return!!e.\u0275providers}function $u(e,t){for(const n of e)Array.isArray(n)?$u(n,t):Tm(n)?$u(n.\u0275providers,t):t(n)}class Dd{}class Im{resolveComponentFactory(t){throw function Am(e){const t=Error(`No component factory found for ${l(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let na=(()=>{class e{}return e.NULL=new Im,e})();function Rm(){return _i(yn(),Ze())}function _i(e,t){return new ra(Xn(e,t))}let ra=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Rm,e})();function Dm(e){return e instanceof ra?e.nativeElement:e}class Nd{}let Om=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Nm(){const e=Ze(),n=fn(yn().index,e);return(Nn(n)?n:e)[11]}(),e})(),Mm=(()=>{class e{}return e.\u0275prov=Xt({token:e,providedIn:"root",factory:()=>null}),e})();class Md{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const wm=new Md("14.2.8"),Ju={};function Zu(e){return e.ngOriginalError}class sa{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Zu(t);for(;n&&Zu(n);)n=Zu(n);return n||null}}const Xu=new Map;let Hm=0;const tc="__ngContext__";function Er(e,t){Nn(t)?(e[tc]=t[20],function jm(e){Xu.set(e[20],e)}(t)):e[tc]=t}function Vd(e){return e.ownerDocument.defaultView}function Qs(e){return e instanceof Function?e():e}var bs=(()=>((bs=bs||{})[bs.Important=1]="Important",bs[bs.DashCase=2]="DashCase",bs))();function rc(e,t){return undefined(e,t)}function ia(e){const t=e[3];return vn(t)?t[3]:t}function sc(e){return jd(e[13])}function oc(e){return jd(e[4])}function jd(e){for(;null!==e&&!vn(e);)e=e[4];return e}function Ti(e,t,n,r,s){if(null!=r){let o,c=!1;vn(r)?o=r:Nn(r)&&(c=!0,r=r[0]);const m=Bt(r);0===e&&null!==n?null==s?Qd(t,n,m):Jo(t,n,m,s||null,!0):1===e&&null!==n?Jo(t,n,m,s||null,!0):2===e?function sf(e,t,n){const r=Ya(e,t);r&&function mS(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,m,c):3===e&&t.destroyNode(m),null!=o&&function _S(e,t,n,r,s){const o=n[7];o!==Bt(n)&&Ti(t,e,r,o,s);for(let m=10;m<n.length;m++){const R=n[m];aa(R[1],R,e,t,r,o)}}(t,e,o,n,s)}}function ac(e,t,n){return e.createElement(t,n)}function Jd(e,t){const n=e[9],r=n.indexOf(t),s=t[3];512&t[2]&&(t[2]&=-513,fs(s,-1)),n.splice(r,1)}function uc(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Jd(s,r),t>0&&(e[n-1][4]=r[4]);const o=hi(e,10+t);!function cS(e,t){aa(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const c=o[19];null!==c&&c.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Wd(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&aa(e,t,n,3,null,null),function fS(e){let t=e[13];if(!t)return cc(e[1],e);for(;t;){let n=null;if(Nn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Nn(t)&&cc(t[1],t),t=t[3];null===t&&(t=e),Nn(t)&&cc(t[1],t),n=t&&t[4]}t=n}}(t)}}function cc(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function ES(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof sn)){const o=n[r+1];if(Array.isArray(o))for(let c=0;c<o.length;c+=2){const m=s[o[c]],R=o[c+1];try{R.call(m)}finally{}}else try{o.call(s)}finally{}}}}(e,t),function gS(e,t){const n=e.cleanup,r=t[7];let s=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const c=n[o+1],m="function"==typeof c?c(t):Bt(t[c]),R=r[s=n[o+2]],G=n[o+3];"boolean"==typeof G?m.removeEventListener(n[o],R,G):G>=0?r[s=G]():r[s=-G].unsubscribe(),o+=2}else{const c=r[s=n[o+1]];n[o].call(c)}if(null!==r){for(let o=s+1;o<r.length;o++)(0,r[o])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&vn(t[3])){n!==t[3]&&Jd(n,t);const r=t[19];null!==r&&r.detachView(e)}!function $m(e){Xu.delete(e[20])}(t)}}function zd(e,t,n){return function qd(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const s=e.data[r.directiveStart].encapsulation;if(s===Ve.None||s===Ve.Emulated)return null}return Xn(r,n)}(e,t.parent,n)}function Jo(e,t,n,r,s){e.insertBefore(t,n,r,s)}function Qd(e,t,n){e.appendChild(t,n)}function Zd(e,t,n,r,s){null!==r?Jo(e,t,n,r,s):Qd(e,t,n)}function Ya(e,t){return e.parentNode(t)}function Xd(e,t,n){return tf(e,t,n)}let tf=function ef(e,t,n){return 40&e.type?Xn(e,n):null};function Ba(e,t,n,r){const s=zd(e,r,t),o=t[11],m=Xd(r.parent||t[6],r,t);if(null!=s)if(Array.isArray(n))for(let R=0;R<n.length;R++)Zd(o,s,n[R],m,!1);else Zd(o,s,n,m,!1)}function Va(e,t){if(null!==t){const n=t.type;if(3&n)return Xn(t,e);if(4&n)return dc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Va(e,r);{const s=e[t.index];return vn(s)?dc(-1,s):Bt(s)}}if(32&n)return rc(t,e)()||Bt(e[t.index]);{const r=rf(e,t);return null!==r?Array.isArray(r)?r[0]:Va(ia(e[16]),r):Va(e,t.next)}}return null}function rf(e,t){return null!==t?e[16][6].projection[t.projection]:null}function dc(e,t){const n=10+e+1;if(n<t.length){const r=t[n],s=r[1].firstChild;if(null!==s)return Va(r,s)}return t[7]}function fc(e,t,n,r,s,o,c){for(;null!=n;){const m=r[n.index],R=n.type;if(c&&0===t&&(m&&Er(Bt(m),r),n.flags|=4),64!=(64&n.flags))if(8&R)fc(e,t,n.child,r,s,o,!1),Ti(t,e,s,m,o);else if(32&R){const G=rc(n,r);let J;for(;J=G();)Ti(t,e,s,J,o);Ti(t,e,s,m,o)}else 16&R?af(e,t,r,n,s,o):Ti(t,e,s,m,o);n=c?n.projectionNext:n.next}}function aa(e,t,n,r,s,o){fc(n,r,e.firstChild,t,s,o,!1)}function af(e,t,n,r,s,o){const c=n[16],R=c[6].projection[r.projection];if(Array.isArray(R))for(let G=0;G<R.length;G++)Ti(t,e,s,R[G],o);else fc(e,t,R,c[3],s,o,!0)}function uf(e,t,n){e.setAttribute(t,"style",n)}function hc(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function cf(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const o=t.length;if(s+o===r||e.charCodeAt(s+o)<=32)return s}n=s+1}}const lf="ng-template";function TS(e,t,n){let r=0;for(;r<e.length;){let s=e[r++];if(n&&"class"===s){if(s=e[r],-1!==cf(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function df(e){return 4===e.type&&e.value!==lf}function vS(e,t,n){return t===(4!==e.type||n?e.value:lf)}function AS(e,t,n){let r=4;const s=e.attrs||[],o=function DS(e){for(let t=0;t<e.length;t++)if(mo(e[t]))return t;return e.length}(s);let c=!1;for(let m=0;m<t.length;m++){const R=t[m];if("number"!=typeof R){if(!c)if(4&r){if(r=2|1&r,""!==R&&!vS(e,R,n)||""===R&&1===t.length){if(gs(r))return!1;c=!0}}else{const G=8&r?R:t[++m];if(8&r&&null!==e.attrs){if(!TS(e.attrs,G,n)){if(gs(r))return!1;c=!0}continue}const de=IS(8&r?"class":R,s,df(e),n);if(-1===de){if(gs(r))return!1;c=!0;continue}if(""!==G){let Ae;Ae=de>o?"":s[de+1].toLowerCase();const Ue=8&r?Ae:null;if(Ue&&-1!==cf(Ue,G,0)||2&r&&G!==Ae){if(gs(r))return!1;c=!0}}}}else{if(!c&&!gs(r)&&!gs(R))return!1;if(c&&gs(R))continue;c=!1,r=R|1&r}}return gs(r)||c}function gs(e){return 0==(1&e)}function IS(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let o=!1;for(;s<t.length;){const c=t[s];if(c===e)return s;if(3===c||6===c)o=!0;else{if(1===c||2===c){let m=t[++s];for(;"string"==typeof m;)m=t[++s];continue}if(4===c)break;if(0===c){s+=4;continue}}s+=o?1:2}return-1}return function OS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ff(e,t,n=!1){for(let r=0;r<t.length;r++)if(AS(e,t[r],n))return!0;return!1}function NS(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let s=0;s<e.length;s++)if(e[s]!==r[s])continue e;return!0}}return!1}function hf(e,t){return e?":not("+t.trim()+")":t}function MS(e){let t=e[0],n=1,r=2,s="",o=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const m=e[++n];s+="["+c+(m.length>0?'="'+m+'"':"")+"]"}else 8&r?s+="."+c:4&r&&(s+=" "+c);else""!==s&&!gs(c)&&(t+=hf(o,s),s=""),r=c,o=o||!gs(r);n++}return""!==s&&(t+=hf(o,s)),t}const Kt={};function pf(e){gf(Vt(),Ze(),a()+e,!1)}function gf(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&mt(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Ht(t,o,0,n)}d(n)}function Cf(e,t=null,n=null,r){const s=_f(e,t,n,r);return s.resolveInjectorInitializers(),s}function _f(e,t=null,n=null,r,s=new Set){const o=[n||ot,hm(e)];return r=r||("object"==typeof e?void 0:l(e)),new Id(o,t||ka(),r||null,s)}let Wo=(()=>{class e{static create(n,r){if(Array.isArray(n))return Cf({name:""},r,n,"");{const s=n.name??"";return Cf({name:s},n.parent,n.providers,s)}}}return e.THROW_IF_NOT_FOUND=dr,e.NULL=new _d,e.\u0275prov=Xt({token:e,providedIn:"any",factory:()=>Bn(Sd)}),e.__NG_ELEMENT_ID__=-1,e})();function Ai(e,t=H.Default){const n=Ze();return null===n?Bn(e,t):va(yn(),n,te(e),t)}function Df(){throw new Error("invalid")}function Ka(e,t){return e<<17|t<<2}function Es(e){return e>>17&32767}function Sc(e){return 2|e}function Zs(e){return(131068&e)>>2}function Cc(e,t){return-131069&e|t<<2}function _c(e){return 1|e}function Gf(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r],o=n[r+1];if(-1!==o){const c=e.data[o];V(s),c.contentQueries(2,t[o],o)}}}function Ja(e,t,n,r,s,o,c,m,R,G,J){const de=t.blueprint.slice();return de[0]=s,de[2]=76|r,(null!==J||e&&1024&e[2])&&(de[2]|=1024),ds(de),de[3]=de[15]=e,de[8]=n,de[10]=c||e&&e[10],de[11]=m||e&&e[11],de[12]=R||e&&e[12]||null,de[9]=G||e&&e[9]||null,de[6]=o,de[20]=function Km(){return Hm++}(),de[21]=J,de[16]=2==t.type?e[16]:de,de}function Ii(e,t,n,r,s){let o=e.data[t];if(null===o)o=function Oc(e,t,n,r,s){const o=ir(),c=Zr(),R=e.data[t]=function fC(e,t,n,r,s,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?o:o&&o.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=R),null!==o&&(c?null==o.child&&null!==R.parent&&(o.child=R):null===o.next&&(o.next=R)),R}(e,t,n,r,s),function po(){return Nt.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=s;const c=function Vn(){const e=Nt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===c?-1:c.injectorIndex}return ar(o,!0),o}function Ri(e,t,n,r){if(0===n)return-1;const s=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function Nc(e,t,n){ye(t);try{const r=e.viewQuery;null!==r&&xc(1,r,n);const s=e.template;null!==s&&kf(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Gf(e,t),e.staticViewQueries&&xc(2,e.viewQuery,n);const o=e.components;null!==o&&function cC(e,t){for(let n=0;n<t.length;n++)OC(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Zt()}}function Wa(e,t,n,r){const s=t[2];if(128!=(128&s)){ye(t);try{ds(t),function Lr(e){return Nt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&kf(e,t,n,2,r);const c=3==(3&s);if(c){const G=e.preOrderCheckHooks;null!==G&&mt(t,G,null)}else{const G=e.preOrderHooks;null!==G&&Ht(t,G,0,null),Gt(t,0)}if(function RC(e){for(let t=sc(e);null!==t;t=oc(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const s=n[r],o=s[3];0==(512&s[2])&&fs(o,1),s[2]|=512}}}(t),function IC(e){for(let t=sc(e);null!==t;t=oc(t))for(let n=10;n<t.length;n++){const r=t[n],s=r[1];Yr(r)&&Wa(s,r,s.template,r[8])}}(t),null!==e.contentQueries&&Gf(e,t),c){const G=e.contentCheckHooks;null!==G&&mt(t,G)}else{const G=e.contentHooks;null!==G&&Ht(t,G,1),Gt(t,1)}!function aC(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const s=n[r];if(s<0)d(~s);else{const o=s,c=n[++r],m=n[++r];ci(c,o),m(2,t[o])}}}finally{d(-1)}}(e,t);const m=e.components;null!==m&&function uC(e,t){for(let n=0;n<t.length;n++)DC(e,t[n])}(t,m);const R=e.viewQuery;if(null!==R&&xc(2,R,r),c){const G=e.viewCheckHooks;null!==G&&mt(t,G)}else{const G=e.viewHooks;null!==G&&Ht(t,G,2),Gt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,fs(t[3],-1))}finally{Zt()}}}function kf(e,t,n,r,s){const o=a(),c=2&r;try{d(-1),c&&t.length>22&&gf(e,t,22,!1),n(r,s)}finally{d(o)}}function Yf(e,t,n){if($r(t)){const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const c=e.data[o];c.contentQueries&&c.contentQueries(1,n[o],o)}}}function Mc(e,t,n){!ws()||(function mC(e,t,n,r){const s=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||In(n,t),Er(r,t);const c=n.initialInputs;for(let m=s;m<o;m++){const R=e.data[m],G=Zn(R);G&&TC(t,n,R);const J=ko(t,e,m,n);Er(J,t),null!==c&&vC(0,m-s,J,R,0,c),G&&(fn(n.index,t)[8]=J)}}(e,t,n,Xn(n,t)),128==(128&n.flags)&&function SC(e,t,n){const r=n.directiveStart,s=n.directiveEnd,o=n.index,c=function li(){return Nt.lFrame.currentDirectiveIndex}();try{d(o);for(let m=r;m<s;m++){const R=e.data[m],G=t[m];go(m),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Jf(R,G)}}finally{d(-1),go(c)}}(e,t,n))}function wc(e,t,n=Xn){const r=t.localNames;if(null!==r){let s=t.index+1;for(let o=0;o<r.length;o+=2){const c=r[o+1],m=-1===c?n(t,e):e[c];e[s++]=m}}}function Bf(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Pc(e,t,n,r,s,o,c,m,R,G){const J=22+r,de=J+s,Ae=function lC(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Kt);return n}(J,de),Ue="function"==typeof G?G():G;return Ae[1]={type:e,blueprint:Ae,template:n,queries:null,viewQuery:m,declTNode:t,data:Ae.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:R,consts:Ue,incompleteFirstPass:!1}}function Vf(e,t,n,r){const s=Zf(t);null===n?s.push(r):(s.push(n),e.firstCreatePass&&Xf(e).push(r,s.length-1))}function Hf(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const s=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,s):n[r]=[t,s]}return n}function Kf(e,t){const r=t.directiveEnd,s=e.data,o=t.attrs,c=[];let m=null,R=null;for(let G=t.directiveStart;G<r;G++){const J=s[G],de=J.inputs,Ae=null===o||df(t)?null:AC(de,o);c.push(Ae),m=Hf(de,G,m),R=Hf(J.outputs,G,R)}null!==m&&(m.hasOwnProperty("class")&&(t.flags|=16),m.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=c,t.inputs=m,t.outputs=R}function Kr(e,t,n,r,s,o,c,m){const R=Xn(t,n);let J,G=t.inputs;!m&&null!=G&&(J=G[r])?(Gc(e,n,J,r,s),gn(t)&&jf(n,t.index)):3&t.type&&(r=function hC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=c?c(s,t.value||"",r):s,o.setProperty(R,r,s))}function jf(e,t){const n=fn(t,e);16&n[2]||(n[2]|=32)}function Lc(e,t,n,r){let s=!1;if(ws()){const o=function CC(e,t,n){const r=e.directiveRegistry;let s=null;if(r)for(let o=0;o<r.length;o++){const c=r[o];ff(n,c.selectors,!1)&&(s||(s=[]),ts(In(n,t),e,c.type),Zn(c)?(Wf(e,n),s.unshift(c)):s.push(c))}return s}(e,t,n),c=null===r?null:{"":-1};if(null!==o){s=!0,zf(n,e.data.length,o.length);for(let J=0;J<o.length;J++){const de=o[J];de.providersResolver&&de.providersResolver(de)}let m=!1,R=!1,G=Ri(e,t,o.length,null);for(let J=0;J<o.length;J++){const de=o[J];n.mergedAttrs=br(n.mergedAttrs,de.hostAttrs),qf(e,n,t,G,de),yC(G,de,c),null!==de.contentQueries&&(n.flags|=8),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(n.flags|=128);const Ae=de.type.prototype;!m&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),m=!0),!R&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),R=!0),G++}Kf(e,n)}c&&function _C(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const o=n[t[s+1]];if(null==o)throw new pe(-301,!1);r.push(t[s],o)}}}(n,r,c)}return n.mergedAttrs=br(n.mergedAttrs,n.attrs),s}function $f(e,t,n,r,s,o){const c=o.hostBindings;if(c){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const R=~t.index;(function EC(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(m)!=R&&m.push(R),m.push(r,s,c)}}function Jf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Wf(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function yC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Zn(t)&&(n[""]=e)}}function zf(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function qf(e,t,n,r,s){e.data[r]=s;const o=s.factory||(s.factory=qr(s.type)),c=new sn(o,Zn(s),Ai);e.blueprint[r]=c,n[r]=c,$f(e,t,0,r,Ri(e,n,s.hostVars,Kt),s)}function TC(e,t,n){const r=Xn(t,e),s=Bf(n),o=e[10],c=za(e,Ja(e,s,null,n.onPush?32:16,r,t,o,o.createRenderer(r,n),null,null,null));e[t.index]=c}function Us(e,t,n,r,s,o){const c=Xn(e,t);!function bc(e,t,n,r,s,o,c){if(null==o)e.removeAttribute(t,s,n);else{const m=null==c?Q(o):c(o,r||"",s);e.setAttribute(t,s,m,n)}}(t[11],c,o,e.value,n,r,s)}function vC(e,t,n,r,s,o){const c=o[t];if(null!==c){const m=r.setInput;for(let R=0;R<c.length;){const G=c[R++],J=c[R++],de=c[R++];null!==m?r.setInput(n,de,G,J):n[J]=de}}}function AC(e,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,e[s],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Qf(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function DC(e,t){const n=fn(t,e);if(Yr(n)){const r=n[1];48&n[2]?Wa(r,n,r.template,n[8]):n[5]>0&&Uc(n)}}function Uc(e){for(let r=sc(e);null!==r;r=oc(r))for(let s=10;s<r.length;s++){const o=r[s];if(Yr(o))if(512&o[2]){const c=o[1];Wa(c,o,c.template,o[8])}else o[5]>0&&Uc(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const s=fn(n[r],e);Yr(s)&&s[5]>0&&Uc(s)}}function OC(e,t){const n=fn(t,e),r=n[1];(function NC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Nc(r,n,n[8])}function za(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Fc(e){for(;e;){e[2]|=32;const t=ia(e);if(Do(e)&&!t)return e;e=t}return null}function qa(e,t,n,r=!0){const s=t[10];s.begin&&s.begin();try{Wa(e,t,e.template,n)}catch(c){throw r&&th(t,c),c}finally{s.end&&s.end()}}function xc(e,t,n){V(0),t(e,n)}function Zf(e){return e[7]||(e[7]=[])}function Xf(e){return e.cleanup||(e.cleanup=[])}function th(e,t){const n=e[9],r=n?n.get(sa,null):null;r&&r.handleError(t)}function Gc(e,t,n,r,s){for(let o=0;o<n.length;){const c=n[o++],m=n[o++],R=t[c],G=e.data[c];null!==G.setInput?G.setInput(R,s,r,m):R[m]=s}}function Qa(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,o=0;if(null!==t)for(let c=0;c<t.length;c++){const m=t[c];"number"==typeof m?o=m:1==o?s=ee(s,m):2==o&&(r=ee(r,m+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function Za(e,t,n,r,s=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(Bt(o)),vn(o))for(let m=10;m<o.length;m++){const R=o[m],G=R[1].firstChild;null!==G&&Za(R[1],R,G,r)}const c=n.type;if(8&c)Za(e,t,n.child,r);else if(32&c){const m=rc(n,t);let R;for(;R=m();)r.push(R)}else if(16&c){const m=rf(t,n);if(Array.isArray(m))r.push(...m);else{const R=ia(t[16]);Za(R[1],R,m,r,!0)}}n=s?n.projectionNext:n.next}return r}class ua{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Za(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(vn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(uc(t,r),hi(n,r))}this._attachedToViewContainer=!1}Wd(this._lView[1],this._lView)}onDestroy(t){Vf(this._lView[1],this._lView,null,t)}markForCheck(){Fc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){qa(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dS(e,t){aa(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=t}}class MC extends ua{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;qa(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class kc extends na{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=fe(t);return new ca(n,this.ngModule)}}function nh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class PC{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const s=this.injector.get(t,Ju,r);return s!==Ju||n===Ju?s:this.parentInjector.get(t,n,r)}}class ca extends Dd{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function wS(e){return e.map(MS).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return nh(this.componentDef.inputs)}get outputs(){return nh(this.componentDef.outputs)}create(t,n,r,s){let o=(s=s||this.ngModule)instanceof $o?s:s?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const c=o?new PC(t,o):t,m=c.get(Nd,null);if(null===m)throw new pe(407,!1);const R=c.get(Mm,null),G=m.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",de=r?function dC(e,t,n){return e.selectRootElement(t,n===Ve.ShadowDom)}(G,r,this.componentDef.encapsulation):ac(m.createRenderer(null,this.componentDef),J,function wC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(J)),Ae=this.componentDef.onPush?288:272,Ue=Pc(0,null,null,1,0,null,null,null,null,null),Je=Ja(null,Ue,null,Ae,null,null,m,G,R,c,null);let st,ct;ye(Je);try{const yt=function UC(e,t,n,r,s,o){const c=n[1];n[22]=e;const R=Ii(c,22,2,"#host",null),G=R.mergedAttrs=t.hostAttrs;null!==G&&(Qa(R,G,!0),null!==e&&(lr(s,e,G),null!==R.classes&&hc(s,e,R.classes),null!==R.styles&&uf(s,e,R.styles)));const J=r.createRenderer(e,t),de=Ja(n,Bf(t),null,t.onPush?32:16,n[22],R,r,J,o||null,null,null);return c.firstCreatePass&&(ts(In(R,n),c,t.type),Wf(c,R),zf(R,n.length,1)),za(n,de),n[22]=de}(de,this.componentDef,Je,m,G);if(de)if(r)lr(G,de,["ng-version",wm.full]);else{const{attrs:At,classes:Xe}=function PS(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===s?""!==o&&t.push(o,e[++r]):8===s&&n.push(o);else{if(!gs(s))break;s=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);At&&lr(G,de,At),Xe&&Xe.length>0&&hc(G,de,Xe.join(" "))}if(ct=cs(Ue,22),void 0!==n){const At=ct.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const Ft=n[Xe];At.push(null!=Ft?Array.from(Ft):null)}}st=function FC(e,t,n,r){const s=n[1],o=function gC(e,t,n){const r=yn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qf(e,r,t,Ri(e,t,1,null),n),Kf(e,r));const s=ko(t,e,r.directiveStart,r);Er(s,t);const o=Xn(r,t);return o&&Er(o,t),s}(s,n,t);if(e[8]=n[8]=o,null!==r)for(const m of r)m(o,t);if(t.contentQueries){const m=yn();t.contentQueries(1,o,m.directiveStart)}const c=yn();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(d(c.index),$f(n[1],c,0,c.directiveStart,c.directiveEnd,t),Jf(t,o)),o}(yt,this.componentDef,Je,[xC]),Nc(Ue,Je,null)}finally{Zt()}return new bC(this.componentType,st,_i(ct,Je),Je,ct)}}class bC extends class vm{}{constructor(t,n,r,s,o){super(),this.location=r,this._rootLView=s,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new MC(s),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let s;if(null!==r&&(s=r[t])){const o=this._rootLView;Gc(o[1],o,s,t,n),jf(o,this._tNode.index)}}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function xC(){const e=yn();dt(Ze()[1],e)}function Yc(e){let t=function rh(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let s;if(Zn(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new pe(903,!1);s=t.\u0275dir}if(s){if(n){r.push(s);const c=e;c.inputs=Bc(e.inputs),c.declaredInputs=Bc(e.declaredInputs),c.outputs=Bc(e.outputs);const m=s.hostBindings;m&&BC(e,m);const R=s.viewQuery,G=s.contentQueries;if(R&&kC(e,R),G&&YC(e,G),F(e.inputs,s.inputs),F(e.declaredInputs,s.declaredInputs),F(e.outputs,s.outputs),Zn(s)&&s.data.animation){const J=e.data;J.animation=(J.animation||[]).concat(s.data.animation)}}const o=s.features;if(o)for(let c=0;c<o.length;c++){const m=o[c];m&&m.ngInherit&&m(e),m===Yc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function GC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=br(s.hostAttrs,n=br(n,s.hostAttrs))}}(r)}function Bc(e){return e===ut?{}:e===ot?[]:e}function kC(e,t){const n=e.viewQuery;e.viewQuery=n?(r,s)=>{t(r,s),n(r,s)}:t}function YC(e,t){const n=e.contentQueries;e.contentQueries=n?(r,s,o)=>{t(r,s,o),n(r,s,o)}:t}function BC(e,t){const n=e.hostBindings;e.hostBindings=n?(r,s)=>{t(r,s),n(r,s)}:t}let Xa=null;function zo(){if(!Xa){const e=we.Symbol;if(e&&e.iterator)Xa=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Xa=r)}}}return Xa}function la(e){return!!Vc(e)&&(Array.isArray(e)||!(e instanceof Map)&&zo()in e)}function Vc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Fs(e,t,n){return e[t]=n}function mr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Hc(e,t,n,r){const s=Ze();return mr(s,cr(),t)&&(Vt(),Us(N(),s,e,t,n,r)),Hc}function Oi(e,t,n,r){return mr(e,cr(),n)?t+Q(n)+r:Kt}function hh(e,t,n,r,s,o,c,m){const R=Ze(),G=Vt(),J=e+22,de=G.firstCreatePass?function zC(e,t,n,r,s,o,c,m,R){const G=t.consts,J=Ii(t,e,4,c||null,wr(G,m));Lc(t,n,J,wr(G,R)),dt(t,J);const de=J.tViews=Pc(2,J,r,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,G);return null!==t.queries&&(t.queries.template(t,J),de.queries=t.queries.embeddedTView(J)),J}(J,G,R,t,n,r,s,o,c):G.data[J];ar(de,!1);const Ae=R[11].createComment("");Ba(G,R,Ae,de),Er(Ae,R),za(R,R[J]=Qf(Ae,R,Ae,de)),Gr(de)&&Mc(G,R,de),null!=c&&wc(R,de,m)}function ph(e){return Os(function ai(){return Nt.lFrame.contextLView}(),22+e)}function Kc(e,t,n){const r=Ze();return mr(r,cr(),t)&&Kr(Vt(),N(),r,e,t,r[11],n,!1),Kc}function jc(e,t,n,r,s){const c=s?"class":"style";Gc(e,n,t.inputs[c],c,r)}function tu(e,t,n,r){const s=Ze(),o=Vt(),c=22+e,m=s[11],R=s[c]=ac(m,t,function xe(){return Nt.lFrame.currentNamespace}()),G=o.firstCreatePass?function QC(e,t,n,r,s,o,c){const m=t.consts,G=Ii(t,e,2,s,wr(m,o));return Lc(t,n,G,wr(m,c)),null!==G.attrs&&Qa(G,G.attrs,!1),null!==G.mergedAttrs&&Qa(G,G.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,G),G}(c,o,s,0,t,n,r):o.data[c];ar(G,!0);const J=G.mergedAttrs;null!==J&&lr(m,R,J);const de=G.classes;null!==de&&hc(m,R,de);const Ae=G.styles;return null!==Ae&&uf(m,R,Ae),64!=(64&G.flags)&&Ba(o,s,R,G),0===function Ms(){return Nt.lFrame.elementDepthCount}()&&Er(R,s),function lo(){Nt.lFrame.elementDepthCount++}(),Gr(G)&&(Mc(o,s,G),Yf(o,G,s)),null!==r&&wc(s,G),tu}function nu(){let e=yn();Zr()?ho():(e=e.parent,ar(e,!1));const t=e;!function bo(){Nt.lFrame.elementDepthCount--}();const n=Vt();return n.firstCreatePass&&(dt(n,e),$r(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Tr(e){return 0!=(16&e.flags)}(t)&&jc(n,t,Ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Kn(e){return 0!=(32&e.flags)}(t)&&jc(n,t,Ze(),t.stylesWithoutHost,!1),nu}function $c(e,t,n,r){return tu(e,t,n,r),nu(),$c}function ru(e,t,n){const r=Ze(),s=Vt(),o=e+22,c=s.firstCreatePass?function ZC(e,t,n,r,s){const o=t.consts,c=wr(o,r),m=Ii(t,e,8,"ng-container",c);return null!==c&&Qa(m,c,!0),Lc(t,n,m,wr(o,s)),null!==t.queries&&t.queries.elementStart(t,m),m}(o,s,r,t,n):s.data[o];ar(c,!0);const m=r[o]=r[11].createComment("");return Ba(s,r,m,c),Er(m,r),Gr(c)&&(Mc(s,r,c),Yf(s,c,r)),null!=n&&wc(r,c),ru}function su(){let e=yn();const t=Vt();return Zr()?ho():(e=e.parent,ar(e,!1)),t.firstCreatePass&&(dt(t,e),$r(e)&&t.queries.elementEnd(e)),su}function Eh(){return Ze()}function Jc(e){return!!e&&"function"==typeof e.then}function mh(e){return!!e&&"function"==typeof e.subscribe}const Sh=mh;function Wc(e,t,n,r){const s=Ze(),o=Vt(),c=yn();return function _h(e,t,n,r,s,o,c,m){const R=Gr(r),J=e.firstCreatePass&&Xf(e),de=t[8],Ae=Zf(t);let Ue=!0;if(3&r.type||m){const ct=Xn(r,t),yt=m?m(ct):ct,At=Ae.length,Xe=m?ln=>m(Bt(ln[r.index])):r.index;let Ft=null;if(!m&&R&&(Ft=function XC(e,t,n,r){const s=e.cleanup;if(null!=s)for(let o=0;o<s.length-1;o+=2){const c=s[o];if(c===n&&s[o+1]===r){const m=t[7],R=s[o+2];return m.length>R?m[R]:null}"string"==typeof c&&(o+=2)}return null}(e,t,s,r.index)),null!==Ft)(Ft.__ngLastListenerFn__||Ft).__ngNextListenerFn__=o,Ft.__ngLastListenerFn__=o,Ue=!1;else{o=Th(r,t,de,o,!1);const ln=n.listen(yt,s,o);Ae.push(o,ln),J&&J.push(s,Xe,At,At+1)}}else o=Th(r,t,de,o,!1);const Je=r.outputs;let st;if(Ue&&null!==Je&&(st=Je[s])){const ct=st.length;if(ct)for(let yt=0;yt<ct;yt+=2){const Dn=t[st[yt]][st[yt+1]].subscribe(o),Xo=Ae.length;Ae.push(o,Dn),J&&J.push(s,r.index,Xo,-(Xo+1))}}}(o,s,s[11],c,e,t,0,r),Wc}function yh(e,t,n,r){try{return!1!==n(r)}catch(s){return th(e,s),!1}}function Th(e,t,n,r,s){return function o(c){if(c===Function)return r;Fc(2&e.flags?fn(e.index,t):t);let R=yh(t,0,r,c),G=o.__ngNextListenerFn__;for(;G;)R=yh(t,0,G,c)&&R,G=G.__ngNextListenerFn__;return s&&!1===R&&(c.preventDefault(),c.returnValue=!1),R}}function vh(e=1){return function nn(e){return(Nt.lFrame.contextLView=function Y(e,t){for(;e>0;)t=t[15],e--;return t}(e,Nt.lFrame.contextLView))[8]}(e)}function e_(e,t){let n=null;const r=function RS(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let s=0;s<t.length;s++){const o=t[s];if("*"!==o){if(null===r?ff(e,o,!0):NS(r,o))return s}else n=s}return n}function Ah(e){const t=Ze()[16][6];if(!t.projection){const r=t.projection=Ho(e?e.length:1,null),s=r.slice();let o=t.child;for(;null!==o;){const c=e?e_(o,e):0;null!==c&&(s[c]?s[c].projectionNext=o:r[c]=o,s[c]=o),o=o.next}}}function Ih(e,t=0,n){const r=Ze(),s=Vt(),o=Ii(s,22+e,16,null,n||null);null===o.projection&&(o.projection=t),ho(),64!=(64&o.flags)&&function CS(e,t,n){af(t[11],0,t,n,zd(e,n,t),Xd(n.parent||t[6],n,t))}(s,r,o)}function ou(e,t,n,r,s){const o=Ze(),c=Oi(o,t,n,r);return c!==Kt&&Kr(Vt(),N(),o,e,c,o[11],s,!1),ou}function Uh(e,t,n,r,s){const o=e[n+1],c=null===t;let m=r?Es(o):Zs(o),R=!1;for(;0!==m&&(!1===R||c);){const J=e[m+1];r_(e[m],t)&&(R=!0,e[m+1]=r?_c(J):Sc(J)),m=r?Es(J):Zs(J)}R&&(e[n+1]=r?Sc(o):_c(o))}function r_(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&b(e,t)>=0}const Jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fh(e){return e.substring(Jn.key,Jn.keyEnd)}function s_(e){return e.substring(Jn.value,Jn.valueEnd)}function xh(e,t){const n=Jn.textEnd;return n===t?-1:(t=Jn.keyEnd=function a_(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Jn.key=t,n),Fi(e,t,n))}function Gh(e,t){const n=Jn.textEnd;let r=Jn.key=Fi(e,t,n);return n===r?-1:(r=Jn.keyEnd=function u_(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Yh(e,r,n),r=Jn.value=Fi(e,r,n),r=Jn.valueEnd=function c_(e,t,n){let r=-1,s=-1,o=-1,c=t,m=c;for(;c<n;){const R=e.charCodeAt(c++);if(59===R)return m;34===R||39===R?m=c=Bh(e,R,c,n):t===c-4&&85===o&&82===s&&76===r&&40===R?m=c=Bh(e,41,c,n):R>32&&(m=c),o=s,s=r,r=-33&R}return m}(e,r,n),Yh(e,r,n))}function kh(e){Jn.key=0,Jn.keyEnd=0,Jn.value=0,Jn.valueEnd=0,Jn.textEnd=e.length}function Fi(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Yh(e,t,n,r){return(t=Fi(e,t,n))<n&&t++,t}function Bh(e,t,n,r){let s=-1,o=n;for(;o<r;){const c=e.charCodeAt(o++);if(c==t&&92!==s)return o;s=92==c&&92===s?0:c}throw new Error}function zc(e,t,n){return Ss(e,t,n,!1),zc}function qc(e,t){return Ss(e,t,null,!0),qc}function ms(e){Cs(jh,l_,e,!1)}function l_(e,t){for(let n=function i_(e){return kh(e),Gh(e,Fi(e,0,Jn.textEnd))}(t);n>=0;n=Gh(t,n))jh(e,Fh(t),s_(t))}function Vh(e){Cs(u,xs,e,!0)}function xs(e,t){for(let n=function o_(e){return kh(e),xh(e,Fi(e,0,Jn.textEnd))}(t);n>=0;n=xh(t,n))u(e,Fh(t),!0)}function Ss(e,t,n,r){const s=Ze(),o=Vt(),c=yr(2);o.firstUpdatePass&&Kh(o,e,c,r),t!==Kt&&mr(s,c,t)&&$h(o,o.data[a()],s,s[11],e,s[c+1]=function m_(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=l(zs(e)))),e}(t,n),r,c)}function Cs(e,t,n,r){const s=Vt(),o=yr(2);s.firstUpdatePass&&Kh(s,null,o,r);const c=Ze();if(n!==Kt&&mr(c,o,n)){const m=s.data[a()];if(Wh(m,r)&&!Hh(s,o)){let R=r?m.classesWithoutHost:m.stylesWithoutHost;null!==R&&(n=ee(R,n||"")),jc(s,m,c,n,r)}else!function E_(e,t,n,r,s,o,c,m){s===Kt&&(s=ot);let R=0,G=0,J=0<s.length?s[0]:null,de=0<o.length?o[0]:null;for(;null!==J||null!==de;){const Ae=R<s.length?s[R+1]:void 0,Ue=G<o.length?o[G+1]:void 0;let st,Je=null;J===de?(R+=2,G+=2,Ae!==Ue&&(Je=de,st=Ue)):null===de||null!==J&&J<de?(R+=2,Je=J):(G+=2,Je=de,st=Ue),null!==Je&&$h(e,t,n,r,Je,st,c,m),J=R<s.length?s[R]:null,de=G<o.length?o[G]:null}}(s,m,c,c[11],c[o+1],c[o+1]=function g_(e,t,n){if(null==n||""===n)return ot;const r=[],s=zs(n);if(Array.isArray(s))for(let o=0;o<s.length;o++)e(r,s[o],!0);else if("object"==typeof s)for(const o in s)s.hasOwnProperty(o)&&e(r,o,s[o]);else"string"==typeof s&&t(r,s);return r}(e,t,n),r,o)}}function Hh(e,t){return t>=e.expandoStartIndex}function Kh(e,t,n,r){const s=e.data;if(null===s[n+1]){const o=s[a()],c=Hh(e,n);Wh(o,r)&&null===t&&!c&&(t=!1),t=function d_(e,t,n,r){const s=Eo(e);let o=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(n=fa(n=Qc(null,e,t,n,r),t.attrs,r),o=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==s)if(n=Qc(s,e,t,n,r),null===o){let R=function f_(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Zs(r))return e[Es(r)]}(e,t,r);void 0!==R&&Array.isArray(R)&&(R=Qc(null,e,t,R[1],r),R=fa(R,t.attrs,r),function h_(e,t,n,r){e[Es(n?t.classBindings:t.styleBindings)]=r}(e,t,r,R))}else o=function p_(e,t,n){let r;const s=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<s;o++)r=fa(r,e[o].hostAttrs,n);return fa(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(s,o,t,r),function t_(e,t,n,r,s,o){let c=o?t.classBindings:t.styleBindings,m=Es(c),R=Zs(c);e[r]=n;let J,G=!1;if(Array.isArray(n)){const de=n;J=de[1],(null===J||b(de,J)>0)&&(G=!0)}else J=n;if(s)if(0!==R){const Ae=Es(e[m+1]);e[r+1]=Ka(Ae,m),0!==Ae&&(e[Ae+1]=Cc(e[Ae+1],r)),e[m+1]=function QS(e,t){return 131071&e|t<<17}(e[m+1],r)}else e[r+1]=Ka(m,0),0!==m&&(e[m+1]=Cc(e[m+1],r)),m=r;else e[r+1]=Ka(R,0),0===m?m=r:e[R+1]=Cc(e[R+1],r),R=r;G&&(e[r+1]=Sc(e[r+1])),Uh(e,J,r,!0),Uh(e,J,r,!1),function n_(e,t,n,r,s){const o=s?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&b(o,t)>=0&&(n[r+1]=_c(n[r+1]))}(t,J,e,r,o),c=Ka(m,R),o?t.classBindings=c:t.styleBindings=c}(s,o,t,n,c,r)}}function Qc(e,t,n,r,s){let o=null;const c=n.directiveEnd;let m=n.directiveStylingLast;for(-1===m?m=n.directiveStart:m++;m<c&&(o=t[m],r=fa(r,o.hostAttrs,s),o!==e);)m++;return null!==e&&(n.directiveStylingLast=m),r}function fa(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let o=0;o<t.length;o++){const c=t[o];"number"==typeof c?s=c:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),u(e,c,!!n||t[++o]))}return void 0===e?null:e}function jh(e,t,n){u(e,t,zs(n))}function $h(e,t,n,r,s,o,c,m){if(!(3&t.type))return;const R=e.data,G=R[m+1];iu(function Mf(e){return 1==(1&e)}(G)?Jh(R,t,n,s,Zs(G),c):void 0)||(iu(o)||function Nf(e){return 2==(2&e)}(G)&&(o=Jh(R,null,n,s,m,c)),function yS(e,t,n,r,s){if(t)s?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:bs.DashCase;null==s?e.removeStyle(n,r,o):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),o|=bs.Important),e.setStyle(n,r,s,o))}}(r,c,$s(a(),n),s,o))}function Jh(e,t,n,r,s,o){const c=null===t;let m;for(;s>0;){const R=e[s],G=Array.isArray(R),J=G?R[1]:R,de=null===J;let Ae=n[s+1];Ae===Kt&&(Ae=de?ot:void 0);let Ue=de?A(Ae,r):J===r?Ae:void 0;if(G&&!iu(Ue)&&(Ue=A(R,r)),iu(Ue)&&(m=Ue,c))return m;const Je=e[s+1];s=c?Es(Je):Zs(Je)}if(null!==t){let R=o?t.residualClasses:t.residualStyles;null!=R&&(m=A(R,r))}return m}function iu(e){return void 0!==e}function Wh(e,t){return 0!=(e.flags&(t?16:32))}function zh(e,t=""){const n=Ze(),r=Vt(),s=e+22,o=r.firstCreatePass?Ii(r,s,1,t,null):r.data[s],c=n[s]=function ic(e,t){return e.createText(t)}(n[11],t);Ba(r,n,c,o),ar(o,!1)}function Zc(e){return au("",e,""),Zc}function au(e,t,n){const r=Ze(),s=Oi(r,e,t,n);return s!==Kt&&function Xs(e,t,n){const r=$s(t,e);!function $d(e,t,n){e.setValue(t,n)}(e[11],r,n)}(r,a(),s),au}function sp(e,t,n){Cs(u,xs,Oi(Ze(),e,t,n),!0)}function Xc(e,t,n){const r=Ze();if(mr(r,cr(),t)){const o=Vt(),c=N();Kr(o,c,r,e,t,function eh(e,t,n){return(null===e||Zn(e))&&(n=function us(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}(Eo(o.data),c,r),n,!0)}return Xc}const Qo=void 0;var F_=["en",[["a","p"],["AM","PM"],Qo],[["AM","PM"],Qo,Qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qo,"{1} 'at' {0}",Qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function U_(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let xi={};function el(e){const t=function x_(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Ep(t);if(n)return n;const r=t.split("-")[0];if(n=Ep(r),n)return n;if("en"===r)return F_;throw new pe(701,!1)}function gp(e){return el(e)[Lt.PluralCase]}function Ep(e){return e in xi||(xi[e]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[e]),xi[e]}var Lt=(()=>((Lt=Lt||{})[Lt.LocaleId=0]="LocaleId",Lt[Lt.DayPeriodsFormat=1]="DayPeriodsFormat",Lt[Lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lt[Lt.DaysFormat=3]="DaysFormat",Lt[Lt.DaysStandalone=4]="DaysStandalone",Lt[Lt.MonthsFormat=5]="MonthsFormat",Lt[Lt.MonthsStandalone=6]="MonthsStandalone",Lt[Lt.Eras=7]="Eras",Lt[Lt.FirstDayOfWeek=8]="FirstDayOfWeek",Lt[Lt.WeekendRange=9]="WeekendRange",Lt[Lt.DateFormat=10]="DateFormat",Lt[Lt.TimeFormat=11]="TimeFormat",Lt[Lt.DateTimeFormat=12]="DateTimeFormat",Lt[Lt.NumberSymbols=13]="NumberSymbols",Lt[Lt.NumberFormats=14]="NumberFormats",Lt[Lt.CurrencyCode=15]="CurrencyCode",Lt[Lt.CurrencySymbol=16]="CurrencySymbol",Lt[Lt.CurrencyName=17]="CurrencyName",Lt[Lt.Currencies=18]="Currencies",Lt[Lt.Directionality=19]="Directionality",Lt[Lt.PluralCase=20]="PluralCase",Lt[Lt.ExtraData=21]="ExtraData",Lt))();const Gi="en-US";let mp=Gi;function rl(e,t,n,r,s){if(e=te(e),Array.isArray(e))for(let o=0;o<e.length;o++)rl(e[o],t,n,r,s);else{const o=Vt(),c=Ze();let m=jo(e)?e:te(e.provide),R=Rd(e);const G=yn(),J=1048575&G.providerIndexes,de=G.directiveStart,Ae=G.providerIndexes>>20;if(jo(e)||!e.multi){const Ue=new sn(R,s,Ai),Je=ol(m,t,s?J:J+Ae,de);-1===Je?(ts(In(G,c),o,m),sl(o,e,t.length),t.push(m),G.directiveStart++,G.directiveEnd++,s&&(G.providerIndexes+=1048576),n.push(Ue),c.push(Ue)):(n[Je]=Ue,c[Je]=Ue)}else{const Ue=ol(m,t,J+Ae,de),Je=ol(m,t,J,J+Ae),st=Ue>=0&&n[Ue],ct=Je>=0&&n[Je];if(s&&!ct||!s&&!st){ts(In(G,c),o,m);const yt=function by(e,t,n,r,s){const o=new sn(e,n,Ai);return o.multi=[],o.index=t,o.componentProviders=0,Vp(o,s,r&&!n),o}(s?Ly:Py,n.length,s,r,R);!s&&ct&&(n[Je].providerFactory=yt),sl(o,e,t.length,0),t.push(m),G.directiveStart++,G.directiveEnd++,s&&(G.providerIndexes+=1048576),n.push(yt),c.push(yt)}else sl(o,e,Ue>-1?Ue:Je,Vp(n[s?Je:Ue],R,!s&&r));!s&&r&&ct&&n[Je].componentProviders++}}}function sl(e,t,n,r){const s=jo(t),o=function gm(e){return!!e.useClass}(t);if(s||o){const R=(o?te(t.useClass):t).prototype.ngOnDestroy;if(R){const G=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const J=G.indexOf(n);-1===J?G.push(n,[r,R]):G[J+1].push(r,R)}else G.push(n,R)}}}function Vp(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ol(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function Py(e,t,n,r){return il(this.multi,[])}function Ly(e,t,n,r){const s=this.multi;let o;if(this.providerFactory){const c=this.providerFactory.componentProviders,m=ko(n,n[1],this.providerFactory.index,r);o=m.slice(0,c),il(s,o);for(let R=c;R<m.length;R++)o.push(m[R])}else o=[],il(s,o);return o}function il(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Hp(e,t=[]){return n=>{n.providersResolver=(r,s)=>function wy(e,t,n){const r=Vt();if(r.firstCreatePass){const s=Zn(e);rl(n,r.data,r.blueprint,s,!0),rl(t,r.data,r.blueprint,s,!1)}}(r,s?s(e):e,t)}}class ki{}class Kp{}function Uy(e,t){return new jp(e,t??null)}class jp extends ki{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kc(this);const r=Ot(t);this._bootstrapComponents=Qs(r.bootstrap),this._r3Injector=_f(t,n,[{provide:ki,useValue:this},{provide:na,useValue:this.componentFactoryResolver}],l(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class al extends Kp{constructor(t){super(),this.moduleType=t}create(t){return new jp(this.moduleType,t)}}class Fy extends ki{constructor(t,n,r){super(),this.componentFactoryResolver=new kc(this),this.instance=null;const s=new Id([...t,{provide:ki,useValue:this},{provide:na,useValue:this.componentFactoryResolver}],n||ka(),r,new Set(["environment"]));this.injector=s,s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ul(e,t,n=null){return new Fy(e,t,n).injector}let xy=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=yd(0,n.type),s=r.length>0?ul([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,s)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Xt({token:e,providedIn:"environment",factory:()=>new e(Bn($o))}),e})();function $p(e){e.getStandaloneInjector=t=>t.get(xy).getOrCreateStandaloneInjector(e)}function Xp(e,t,n){const r=Yn()+e,s=Ze();return s[r]===Kt?Fs(s,r,n?t.call(n):t()):function da(e,t){return e[t]}(s,r)}function eg(e,t,n,r){return ng(Ze(),Yn(),e,t,n,r)}function tg(e,t,n,r,s){return rg(Ze(),Yn(),e,t,n,r,s)}function Sa(e,t){const n=e[t];return n===Kt?void 0:n}function ng(e,t,n,r,s,o){const c=t+n;return mr(e,c,s)?Fs(e,c+1,o?r.call(o,s):r(s)):Sa(e,c+1)}function rg(e,t,n,r,s,o,c){const m=t+n;return function qo(e,t,n,r){const s=mr(e,t,n);return mr(e,t+1,r)||s}(e,m,s,o)?Fs(e,m+2,c?r.call(c,s,o):r(s,o)):Sa(e,m+2)}function ag(e,t){const n=Vt();let r;const s=e+22;n.firstCreatePass?(r=function Xy(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(s,r.onDestroy)):r=n.data[s];const o=r.factory||(r.factory=qr(r.type)),c=k(Ai);try{const m=En(!1),R=o();return En(m),function qC(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Ze(),s,R),R}finally{k(c)}}function ug(e,t,n){const r=e+22,s=Ze(),o=Os(s,r);return Ca(s,r)?ng(s,Yn(),t,o.transform,n,o):o.transform(n)}function cg(e,t,n,r){const s=e+22,o=Ze(),c=Os(o,s);return Ca(o,s)?rg(o,Yn(),t,c.transform,n,r,c):c.transform(n,r)}function Ca(e,t){return e[1].data[t].pure}function ll(e){return t=>{setTimeout(e,void 0,t)}}const Gs=class rT extends S.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let s=t,o=n||(()=>null),c=r;if(t&&"object"==typeof t){const R=t;s=R.next?.bind(R),o=R.error?.bind(R),c=R.complete?.bind(R)}this.__isAsync&&(o=ll(o),s&&(s=ll(s)),c&&(c=ll(c)));const m=super.subscribe({next:s,error:o,complete:c});return t instanceof T.w0&&t.add(m),m}};function sT(){return this._results[zo()]()}class dl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=zo(),r=dl.prototype;r[n]||(r[n]=sT)}get changes(){return this._changes||(this._changes=new Gs)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const s=Ar(t);(this._changesDetected=!function Ou(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],o=t[r];if(n&&(s=n(s),o=n(o)),o!==s)return!1}return!0}(r._results,s,n))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _a=(()=>{class e{}return e.__NG_ELEMENT_ID__=aT,e})();const oT=_a,iT=class extends oT{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,s=Ja(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);s[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(s[19]=c.createEmbeddedView(r)),Nc(r,s,t),new ua(s)}};function aT(){return fu(yn(),Ze())}function fu(e,t){return 4&e.type?new iT(t,e,_i(e,t)):null}let hu=(()=>{class e{}return e.__NG_ELEMENT_ID__=uT,e})();function uT(){return fg(yn(),Ze())}const cT=hu,lg=class extends cT{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return _i(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const t=Hr(this._hostTNode,this._hostLView);if(xo(t)){const n=Rt(t,this._hostLView),r=St(t);return new Ws(n[1].data[r+8],n)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=dg(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let s,o;"number"==typeof r?s=r:null!=r&&(s=r.index,o=r.injector);const c=t.createEmbeddedView(n||{},o);return this.insert(c,s),c}createComponent(t,n,r,s,o){const c=t&&!function To(e){return"function"==typeof e}(t);let m;if(c)m=n;else{const de=n||{};m=de.index,r=de.injector,s=de.projectableNodes,o=de.environmentInjector||de.ngModuleRef}const R=c?t:new ca(fe(t)),G=r||this.parentInjector;if(!o&&null==R.ngModule){const Ae=(c?G:this.parentInjector).get($o,null);Ae&&(o=Ae)}const J=R.create(G,s,void 0,o);return this.insert(J.hostView,m),J}insert(t,n){const r=t._lView,s=r[1];if(function ls(e){return vn(e[3])}(r)){const J=this.indexOf(t);if(-1!==J)this.detach(J);else{const de=r[3],Ae=new lg(de,de[6],de[3]);Ae.detach(Ae.indexOf(t))}}const o=this._adjustIndex(n),c=this._lContainer;!function hS(e,t,n,r){const s=10+r,o=n.length;r>0&&(n[s-1][4]=t),r<o-10?(t[4]=n[s],Na(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const c=t[17];null!==c&&n!==c&&function pS(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(c,t);const m=t[19];null!==m&&m.insertView(e),t[2]|=64}(s,r,c,o);const m=dc(o,c),R=r[11],G=Ya(R,c[7]);return null!==G&&function lS(e,t,n,r,s,o){r[0]=s,r[6]=t,aa(e,r,n,1,s,o)}(s,c[6],R,r,G,m),t.attachToViewContainerRef(),Na(fl(c),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=dg(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=uc(this._lContainer,n);r&&(hi(fl(this._lContainer),n),Wd(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=uc(this._lContainer,n);return r&&null!=hi(fl(this._lContainer),n)?new ua(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function dg(e){return e[8]}function fl(e){return e[8]||(e[8]=[])}function fg(e,t){let n;const r=t[e.index];if(vn(r))n=r;else{let s;if(8&e.type)s=Bt(r);else{const o=t[11];s=o.createComment("");const c=Xn(e,t);Jo(o,Ya(o,c),s,function SS(e,t){return e.nextSibling(t)}(o,c),!1)}t[e.index]=n=Qf(r,t,s,e),za(t,n)}return new lg(n,e,t)}class hl{constructor(t){this.queryList=t,this.matches=null}clone(){return new hl(this.queryList)}setDirty(){this.queryList.setDirty()}}class pl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let o=0;o<r;o++){const c=n.getByIndex(o);s.push(this.queries[c.indexInDeclarationView].clone())}return new pl(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==yg(t,n).matches&&this.queries[n].setDirty()}}class hg{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class gl{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const s=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,s);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new gl(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class El{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new El(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const o=r[s];this.matchTNodeWithReadOption(t,n,fT(n,o)),this.matchTNodeWithReadOption(t,n,di(n,t,o,!1,!1))}else r===_a?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,di(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===ra||s===hu||s===_a&&4&n.type)this.addMatch(n.index,-2);else{const o=di(n,t,s,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function fT(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function pT(e,t,n,r){return-1===n?function hT(e,t){return 11&e.type?_i(e,t):4&e.type?fu(e,t):null}(t,e):-2===n?function gT(e,t,n){return n===ra?_i(t,e):n===_a?fu(t,e):n===hu?fg(t,e):void 0}(e,t,r):ko(e,e[1],n,t)}function pg(e,t,n,r){const s=t[19].queries[r];if(null===s.matches){const o=e.data,c=n.matches,m=[];for(let R=0;R<c.length;R+=2){const G=c[R];m.push(G<0?null:pT(t,o[G],c[R+1],n.metadata.read))}s.matches=m}return s.matches}function ml(e,t,n,r){const s=e.queries.getByIndex(n),o=s.matches;if(null!==o){const c=pg(e,t,s,n);for(let m=0;m<o.length;m+=2){const R=o[m];if(R>0)r.push(c[m/2]);else{const G=o[m+1],J=t[-R];for(let de=10;de<J.length;de++){const Ae=J[de];Ae[17]===Ae[3]&&ml(Ae[1],Ae,G,r)}if(null!==J[9]){const de=J[9];for(let Ae=0;Ae<de.length;Ae++){const Ue=de[Ae];ml(Ue[1],Ue,G,r)}}}}}return r}function gg(e){const t=Ze(),n=Vt(),r=D();V(r+1);const s=yg(n,r);if(e.dirty&&function Lo(e){return 4==(4&e[2])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const o=s.crossesNgTemplate?ml(n,t,r,[]):pg(n,t,s,r);e.reset(o,Dm),e.notifyOnChanges()}return!0}return!1}function Eg(e,t,n){const r=Vt();r.firstCreatePass&&(_g(r,new hg(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Cg(r,Ze(),t)}function mg(e,t,n,r){const s=Vt();if(s.firstCreatePass){const o=yn();_g(s,new hg(t,n,r),o.index),function mT(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}Cg(s,Ze(),n)}function Sg(){return function ET(e,t){return e[19].queries[t].queryList}(Ze(),D())}function Cg(e,t,n){const r=new dl(4==(4&n));Vf(e,t,r,r.destroy),null===t[19]&&(t[19]=new pl),t[19].queries.push(new hl(r))}function _g(e,t,n){null===e.queries&&(e.queries=new gl),e.queries.track(new El(t,n))}function yg(e,t){return e.queries.getByIndex(t)}function Tg(e,t){return fu(e,t)}function gu(...e){}const Bg=new un("Application Initializer");let Eu=(()=>{class e{constructor(n){this.appInits=n,this.resolve=gu,this.reject=gu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const o=this.appInits[s]();if(Jc(o))n.push(o);else if(Sh(o)){const c=new Promise((m,R)=>{o.subscribe({complete:m,error:R})});n.push(c)}}Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Bn(Bg,8))},e.\u0275prov=Xt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Vg=new un("AppId",{providedIn:"root",factory:function Hg(){return`${Tl()}${Tl()}${Tl()}`}});function Tl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Kg=new un("Platform Initializer"),xT=new un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jg=new un("appBootstrapListener"),GT=new un("AnimationModuleType");let kT=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Xt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const mu=new un("LocaleId",{providedIn:"root",factory:()=>Ql(mu,H.Optional|H.SkipSelf)||function YT(){return typeof $localize<"u"&&$localize.locale||Gi}()}),BT=new un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class VT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let HT=(()=>{class e{compileModuleSync(n){return new al(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Qs(Ot(n).declarations).reduce((c,m)=>{const R=fe(m);return R&&c.push(new ca(R)),c},[]);return new VT(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Xt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const $T=(()=>Promise.resolve(0))();function vl(e){typeof Zone>"u"?$T.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class rs{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gs(!1),this.onMicrotaskEmpty=new Gs(!1),this.onStable=new Gs(!1),this.onError=new Gs(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const s=this;if(s._nesting=0,s._outer=s._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;s._inner=s._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function JT(){let e=we.requestAnimationFrame,t=we.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function qT(e){const t=()=>{!function zT(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(we,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Il(e),e.isCheckStableRunning=!0,Al(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Il(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,o,c,m)=>{try{return Wg(e),n.invokeTask(s,o,c,m)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),zg(e)}},onInvoke:(n,r,s,o,c,m,R)=>{try{return Wg(e),n.invoke(s,o,c,m,R)}finally{e.shouldCoalesceRunChangeDetection&&t(),zg(e)}},onHasTask:(n,r,s,o)=>{n.hasTask(s,o),r===s&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Il(e),Al(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,s,o)=>(n.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rs.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(rs.isInAngularZone())throw new pe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const o=this._inner,c=o.scheduleEventTask("NgZoneEvent: "+s,t,WT,gu,gu);try{return o.runTask(c,n,r)}finally{o.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const WT={};function Al(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Il(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Wg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zg(e){e._nesting--,Al(e)}class QT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gs,this.onMicrotaskEmpty=new Gs,this.onStable=new Gs,this.onError=new Gs}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,s){return t.apply(n,r)}}const qg=new un(""),Qg=new un("");let Rl,ZT=(()=>{class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rl||(function XT(e){Rl=e}(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rs.assertNotInAngularZone(),vl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vl(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}}return e.\u0275fac=function(n){return new(n||e)(Bn(rs),Bn(Zg),Bn(Qg))},e.\u0275prov=Xt({token:e,factory:e.\u0275fac}),e})(),Zg=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Rl?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Xt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Ro=null;const Xg=new un("AllowMultipleToken"),Dl=new un("PlatformDestroyListeners");class nv{constructor(t,n){this.name=t,this.token=n}}function tE(e,t,n=[]){const r=`Platform: ${t}`,s=new un(r);return(o=[])=>{let c=Ol();if(!c||c.injector.get(Xg,!1)){const m=[...n,...o,{provide:s,useValue:!0}];e?e(m):function rv(e){if(Ro&&!Ro.get(Xg,!1))throw new pe(400,!1);Ro=e;const t=e.get(rE);(function eE(e){const t=e.get(Kg,null);t&&t.forEach(n=>n())})(e)}(function nE(e=[],t){return Wo.create({name:t,providers:[{provide:Hu,useValue:"platform"},{provide:Dl,useValue:new Set([()=>Ro=null])},...e]})}(m,r))}return function ov(e){const t=Ol();if(!t)throw new pe(401,!1);return t}()}}function Ol(){return Ro?.get(rE)??null}let rE=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const s=function oE(e,t){let n;return n="noop"===e?new QT:("zone.js"===e?void 0:e)||new rs(t),n}(r?.ngZone,function sE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:rs,useValue:s}];return s.run(()=>{const c=Wo.create({providers:o,parent:this.injector,name:n.moduleType.name}),m=n.create(c),R=m.injector.get(sa,null);if(!R)throw new pe(402,!1);return s.runOutsideAngular(()=>{const G=s.onError.subscribe({next:J=>{R.handleError(J)}});m.onDestroy(()=>{Cu(this._modules,m),G.unsubscribe()})}),function iE(e,t,n){try{const r=n();return Jc(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(R,s,()=>{const G=m.injector.get(Eu);return G.runInitializers(),G.donePromise.then(()=>(function Sp(e){at(e,"Expected localeId to be defined"),"string"==typeof e&&(mp=e.toLowerCase().replace(/_/g,"-"))}(m.injector.get(mu,Gi)||Gi),this._moduleDoBootstrap(m),m))})})}bootstrapModule(n,r=[]){const s=aE({},r);return function ev(e,t,n){const r=new al(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(n){const r=n.injector.get(Su);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new pe(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Dl,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Bn(Wo))},e.\u0275prov=Xt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function aE(e,t){return Array.isArray(t)?t.reduce(aE,e):{...e,...t}}let Su=(()=>{class e{constructor(n,r,s){this._zone=n,this._injector=r,this._exceptionHandler=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w.y(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),c=new w.y(m=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{rs.assertNotInAngularZone(),vl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{R.unsubscribe(),G.unsubscribe()}});this.isStable=function h(...e){const t=(0,v.yG)(e),n=(0,v._6)(e,1/0),r=e;return r.length?1===r.length?(0,y.Xf)(r[0]):(0,i.J)(n)((0,C.D)(r,t)):p.E}(o,c.pipe(function P(e={}){const{connector:t=(()=>new S.x),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return o=>{let c,m,R,G=0,J=!1,de=!1;const Ae=()=>{m?.unsubscribe(),m=void 0},Ue=()=>{Ae(),c=R=void 0,J=de=!1},Je=()=>{const st=c;Ue(),st?.unsubscribe()};return(0,I.e)((st,ct)=>{G++,!de&&!J&&Ae();const yt=R=R??t();ct.add(()=>{G--,0===G&&!de&&!J&&(m=x(Je,s))}),yt.subscribe(ct),!c&&G>0&&(c=new _.Hp({next:At=>yt.next(At),error:At=>{de=!0,Ae(),m=x(Ue,n,At),yt.error(At)},complete:()=>{J=!0,Ae(),m=x(Ue,r),yt.complete()}}),(0,y.Xf)(st).subscribe(c))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const s=n instanceof Dd;if(!this._injector.get(Eu).done)throw!s&&vt(n),new pe(405,false);let c;c=s?n:this._injector.get(na).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const m=function tv(e){return e.isBoundToModule}(c)?void 0:this._injector.get(ki),G=c.create(Wo.NULL,[],r||c.selector,m),J=G.location.nativeElement,de=G.injector.get(qg,null);return de?.registerApplication(J),G.onDestroy(()=>{this.detachView(G.hostView),Cu(this.components,G),de?.unregisterApplication(J)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Cu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(jg,[]).concat(this._bootstrapListeners).forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Cu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new pe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Bn(rs),Bn($o),Bn(sa))},e.\u0275prov=Xt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Cu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let cE=!0;function av(){cE=!1}let uv=(()=>{class e{}return e.__NG_ELEMENT_ID__=cv,e})();function cv(e){return function lv(e,t,n){if(gn(e)&&!n){const r=fn(e.index,t);return new ua(r,r)}return 47&e.type?new ua(t[16],t):null}(yn(),Ze(),16==(16&e))}class pE{constructor(){}supports(t){return la(t)}create(t){return new Ev(t)}}const gv=(e,t)=>t;class Ev{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gv}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,o=null;for(;n||r;){const c=!r||n&&n.currentIndex<EE(r,s,o)?n:r,m=EE(c,s,o),R=c.currentIndex;if(c===r)s--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)s++;else{o||(o=[]);const G=m-s,J=R-s;if(G!=J){for(let Ae=0;Ae<G;Ae++){const Ue=Ae<o.length?o[Ae]:o[Ae]=0,Je=Ue+Ae;J<=Je&&Je<G&&(o[Ae]=Ue+1)}o[c.previousIndex]=J-G}}m!==R&&t(c,m,R)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!la(t))throw new pe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,o,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let m=0;m<this.length;m++)o=t[m],c=this._trackByFn(m,o),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,o,c,m)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,c,m),r=!0),n=n._next}else s=0,function $C(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[zo()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,m=>{c=this._trackByFn(s,m),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,m,c,s)),Object.is(n.item,m)||this._addIdentityChange(n,m)):(n=this._mismatch(n,m,c,s),r=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,s)):t=this._addAfter(new mv(n,r),o,s),t}_verifyReinsertion(t,n,r,s){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,o=t._nextRemoved;return null===s?this._removalsHead=o:s._nextRemoved=o,null===o?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const s=null===n?this._itHead:n._next;return t._next=s,t._prev=n,null===s?this._itTail=t:s._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new gE),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class mv{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sv{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class gE{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new Sv,this.map.set(n,r)),r.add(t)}get(t,n){const s=this.map.get(t);return s?s.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EE(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class mE{constructor(){}supports(t){return t instanceof Map||Vc(t)}create(){return new Cv}}class Cv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Vc(t)))throw new pe(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(s,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,n);const o=s._prev,c=s._next;return o&&(o._next=c),c&&(c._prev=o),s._next=null,s._prev=null,s}const r=new _v(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class _v{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SE(){return new Ll([new pE])}let Ll=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||SE()),deps:[[e,new Qi,new qi]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(null!=r)return r;throw new pe(901,!1)}}return e.\u0275prov=Xt({token:e,providedIn:"root",factory:SE}),e})();function CE(){return new bl([new mE])}let bl=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||CE()),deps:[[e,new Qi,new qi]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new pe(901,!1)}}return e.\u0275prov=Xt({token:e,providedIn:"root",factory:CE}),e})();const vv=tE(null,"core",[]);let Av=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Bn(Su))},e.\u0275mod=Dr({type:e}),e.\u0275inj=rn({}),e})();function Iv(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},1481:(Tt,Me,E)=>{"use strict";E.d(Me,{Dx:()=>W,H7:()=>Wn,b2:()=>L,q6:()=>wt,se:()=>ne});var i=E(6895),y=E(8256);class p extends i.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class v extends p{static makeCurrent(){(0,i.HT)(new v)}onAndCancel(Re,fe,Ne){return Re.addEventListener(fe,Ne,!1),()=>{Re.removeEventListener(fe,Ne,!1)}}dispatchEvent(Re,fe){Re.dispatchEvent(fe)}remove(Re){Re.parentNode&&Re.parentNode.removeChild(Re)}createElement(Re,fe){return(fe=fe||this.getDefaultDocument()).createElement(Re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Re){return Re.nodeType===Node.ELEMENT_NODE}isShadowRoot(Re){return Re instanceof DocumentFragment}getGlobalEventTarget(Re,fe){return"window"===fe?window:"document"===fe?Re:"body"===fe?Re.body:null}getBaseHref(Re){const fe=function h(){return C=C||document.querySelector("base"),C?C.getAttribute("href"):null}();return null==fe?null:function T(be){S=S||document.createElement("a"),S.setAttribute("href",be);const Re=S.pathname;return"/"===Re.charAt(0)?Re:`/${Re}`}(fe)}resetBaseElement(){C=null}getUserAgent(){return window.navigator.userAgent}getCookie(Re){return(0,i.Mx)(document.cookie,Re)}}let S,C=null;const w=new y.OlP("TRANSITION_ID"),I=[{provide:y.ip1,useFactory:function _(be,Re,fe){return()=>{fe.get(y.CZH).donePromise.then(()=>{const Ne=(0,i.q)(),Ke=Re.querySelectorAll(`style[ng-transition="${be}"]`);for(let vt=0;vt<Ke.length;vt++)Ne.remove(Ke[vt])})}},deps:[w,i.K0,y.zs3],multi:!0}];let x=(()=>{class be{build(){return new XMLHttpRequest}}return be.\u0275fac=function(fe){return new(fe||be)},be.\u0275prov=y.Yz7({token:be,factory:be.\u0275fac}),be})();const B=new y.OlP("EventManagerPlugins");let F=(()=>{class be{constructor(fe,Ne){this._zone=Ne,this._eventNameToPlugin=new Map,fe.forEach(Ke=>Ke.manager=this),this._plugins=fe.slice().reverse()}addEventListener(fe,Ne,Ke){return this._findPluginFor(Ne).addEventListener(fe,Ne,Ke)}addGlobalEventListener(fe,Ne,Ke){return this._findPluginFor(Ne).addGlobalEventListener(fe,Ne,Ke)}getZone(){return this._zone}_findPluginFor(fe){const Ne=this._eventNameToPlugin.get(fe);if(Ne)return Ne;const Ke=this._plugins;for(let vt=0;vt<Ke.length;vt++){const Ot=Ke[vt];if(Ot.supports(fe))return this._eventNameToPlugin.set(fe,Ot),Ot}throw new Error(`No event manager plugin found for event ${fe}`)}}return be.\u0275fac=function(fe){return new(fe||be)(y.LFG(B),y.LFG(y.R0b))},be.\u0275prov=y.Yz7({token:be,factory:be.\u0275fac}),be})();class l{constructor(Re){this._doc=Re}addGlobalEventListener(Re,fe,Ne){const Ke=(0,i.q)().getGlobalEventTarget(this._doc,Re);if(!Ke)throw new Error(`Unsupported event target ${Ke} for event ${fe}`);return this.addEventListener(Ke,fe,Ne)}}let ee=(()=>{class be{constructor(){this._stylesSet=new Set}addStyles(fe){const Ne=new Set;fe.forEach(Ke=>{this._stylesSet.has(Ke)||(this._stylesSet.add(Ke),Ne.add(Ke))}),this.onStylesAdded(Ne)}onStylesAdded(fe){}getAllStyles(){return Array.from(this._stylesSet)}}return be.\u0275fac=function(fe){return new(fe||be)},be.\u0275prov=y.Yz7({token:be,factory:be.\u0275fac}),be})(),X=(()=>{class be extends ee{constructor(fe){super(),this._doc=fe,this._hostNodes=new Map,this._hostNodes.set(fe.head,[])}_addStylesToHost(fe,Ne,Ke){fe.forEach(vt=>{const Ot=this._doc.createElement("style");Ot.textContent=vt,Ke.push(Ne.appendChild(Ot))})}addHost(fe){const Ne=[];this._addStylesToHost(this._stylesSet,fe,Ne),this._hostNodes.set(fe,Ne)}removeHost(fe){const Ne=this._hostNodes.get(fe);Ne&&Ne.forEach(Ie),this._hostNodes.delete(fe)}onStylesAdded(fe){this._hostNodes.forEach((Ne,Ke)=>{this._addStylesToHost(fe,Ke,Ne)})}ngOnDestroy(){this._hostNodes.forEach(fe=>fe.forEach(Ie))}}return be.\u0275fac=function(fe){return new(fe||be)(y.LFG(i.K0))},be.\u0275prov=y.Yz7({token:be,factory:be.\u0275fac}),be})();function Ie(be){(0,i.q)().remove(be)}const te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ae=/%COMP%/g;function Se(be,Re,fe){for(let Ne=0;Ne<Re.length;Ne++){let Ke=Re[Ne];Array.isArray(Ke)?Se(be,Ke,fe):(Ke=Ke.replace(ae,be),fe.push(Ke))}return fe}function se(be){return Re=>{if("__ngUnwrap__"===Re)return be;!1===be(Re)&&(Re.preventDefault(),Re.returnValue=!1)}}let ne=(()=>{class be{constructor(fe,Ne,Ke){this.eventManager=fe,this.sharedStylesHost=Ne,this.appId=Ke,this.rendererByCompId=new Map,this.defaultRenderer=new Fe(fe)}createRenderer(fe,Ne){if(!fe||!Ne)return this.defaultRenderer;switch(Ne.encapsulation){case y.ifc.Emulated:{let Ke=this.rendererByCompId.get(Ne.id);return Ke||(Ke=new Ct(this.eventManager,this.sharedStylesHost,Ne,this.appId),this.rendererByCompId.set(Ne.id,Ke)),Ke.applyToHost(fe),Ke}case 1:case y.ifc.ShadowDom:return new nt(this.eventManager,this.sharedStylesHost,fe,Ne);default:if(!this.rendererByCompId.has(Ne.id)){const Ke=Se(Ne.id,Ne.styles,[]);this.sharedStylesHost.addStyles(Ke),this.rendererByCompId.set(Ne.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return be.\u0275fac=function(fe){return new(fe||be)(y.LFG(F),y.LFG(X),y.LFG(y.AFp))},be.\u0275prov=y.Yz7({token:be,factory:be.\u0275fac}),be})();class Fe{constructor(Re){this.eventManager=Re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Re,fe){return fe?document.createElementNS(te[fe]||fe,Re):document.createElement(Re)}createComment(Re){return document.createComment(Re)}createText(Re){return document.createTextNode(Re)}appendChild(Re,fe){(tt(Re)?Re.content:Re).appendChild(fe)}insertBefore(Re,fe,Ne){Re&&(tt(Re)?Re.content:Re).insertBefore(fe,Ne)}removeChild(Re,fe){Re&&Re.removeChild(fe)}selectRootElement(Re,fe){let Ne="string"==typeof Re?document.querySelector(Re):Re;if(!Ne)throw new Error(`The selector "${Re}" did not match any elements`);return fe||(Ne.textContent=""),Ne}parentNode(Re){return Re.parentNode}nextSibling(Re){return Re.nextSibling}setAttribute(Re,fe,Ne,Ke){if(Ke){fe=Ke+":"+fe;const vt=te[Ke];vt?Re.setAttributeNS(vt,fe,Ne):Re.setAttribute(fe,Ne)}else Re.setAttribute(fe,Ne)}removeAttribute(Re,fe,Ne){if(Ne){const Ke=te[Ne];Ke?Re.removeAttributeNS(Ke,fe):Re.removeAttribute(`${Ne}:${fe}`)}else Re.removeAttribute(fe)}addClass(Re,fe){Re.classList.add(fe)}removeClass(Re,fe){Re.classList.remove(fe)}setStyle(Re,fe,Ne,Ke){Ke&(y.JOm.DashCase|y.JOm.Important)?Re.style.setProperty(fe,Ne,Ke&y.JOm.Important?"important":""):Re.style[fe]=Ne}removeStyle(Re,fe,Ne){Ne&y.JOm.DashCase?Re.style.removeProperty(fe):Re.style[fe]=""}setProperty(Re,fe,Ne){Re[fe]=Ne}setValue(Re,fe){Re.nodeValue=fe}listen(Re,fe,Ne){return"string"==typeof Re?this.eventManager.addGlobalEventListener(Re,fe,se(Ne)):this.eventManager.addEventListener(Re,fe,se(Ne))}}function tt(be){return"TEMPLATE"===be.tagName&&void 0!==be.content}class Ct extends Fe{constructor(Re,fe,Ne,Ke){super(Re),this.component=Ne;const vt=Se(Ke+"-"+Ne.id,Ne.styles,[]);fe.addStyles(vt),this.contentAttr=function Ee(be){return"_ngcontent-%COMP%".replace(ae,be)}(Ke+"-"+Ne.id),this.hostAttr=function He(be){return"_nghost-%COMP%".replace(ae,be)}(Ke+"-"+Ne.id)}applyToHost(Re){super.setAttribute(Re,this.hostAttr,"")}createElement(Re,fe){const Ne=super.createElement(Re,fe);return super.setAttribute(Ne,this.contentAttr,""),Ne}}class nt extends Fe{constructor(Re,fe,Ne,Ke){super(Re),this.sharedStylesHost=fe,this.hostEl=Ne,this.shadowRoot=Ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const vt=Se(Ke.id,Ke.styles,[]);for(let Ot=0;Ot<vt.length;Ot++){const kt=document.createElement("style");kt.textContent=vt[Ot],this.shadowRoot.appendChild(kt)}}nodeOrShadowRoot(Re){return Re===this.hostEl?this.shadowRoot:Re}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Re,fe){return super.appendChild(this.nodeOrShadowRoot(Re),fe)}insertBefore(Re,fe,Ne){return super.insertBefore(this.nodeOrShadowRoot(Re),fe,Ne)}removeChild(Re,fe){return super.removeChild(this.nodeOrShadowRoot(Re),fe)}parentNode(Re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Re)))}}let Et=(()=>{class be extends l{constructor(fe){super(fe)}supports(fe){return!0}addEventListener(fe,Ne,Ke){return fe.addEventListener(Ne,Ke,!1),()=>this.removeEventListener(fe,Ne,Ke)}removeEventListener(fe,Ne,Ke){return fe.removeEventListener(Ne,Ke)}}return be.\u0275fac=function(fe){return new(fe||be)(y.LFG(i.K0))},be.\u0275prov=y.Yz7({token:be,factory:be.\u0275fac}),be})();const Mt=["alt","control","meta","shift"],je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qe={alt:be=>be.altKey,control:be=>be.ctrlKey,meta:be=>be.metaKey,shift:be=>be.shiftKey};let Pe=(()=>{class be extends l{constructor(fe){super(fe)}supports(fe){return null!=be.parseEventName(fe)}addEventListener(fe,Ne,Ke){const vt=be.parseEventName(Ne),Ot=be.eventCallback(vt.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,i.q)().onAndCancel(fe,vt.domEventName,Ot))}static parseEventName(fe){const Ne=fe.toLowerCase().split("."),Ke=Ne.shift();if(0===Ne.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const vt=be._normalizeKey(Ne.pop());let Ot="",kt=Ne.indexOf("code");if(kt>-1&&(Ne.splice(kt,1),Ot="code."),Mt.forEach(Pt=>{const jt=Ne.indexOf(Pt);jt>-1&&(Ne.splice(jt,1),Ot+=Pt+".")}),Ot+=vt,0!=Ne.length||0===vt.length)return null;const it={};return it.domEventName=Ke,it.fullKey=Ot,it}static matchEventFullKeyCode(fe,Ne){let Ke=je[fe.key]||fe.key,vt="";return Ne.indexOf("code.")>-1&&(Ke=fe.code,vt="code."),!(null==Ke||!Ke)&&(Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),Mt.forEach(Ot=>{Ot!==Ke&&(0,Qe[Ot])(fe)&&(vt+=Ot+".")}),vt+=Ke,vt===Ne)}static eventCallback(fe,Ne,Ke){return vt=>{be.matchEventFullKeyCode(vt,fe)&&Ke.runGuarded(()=>Ne(vt))}}static _normalizeKey(fe){return"esc"===fe?"escape":fe}}return be.\u0275fac=function(fe){return new(fe||be)(y.LFG(i.K0))},be.\u0275prov=y.Yz7({token:be,factory:be.\u0275fac}),be})();const wt=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:i.bD},{provide:y.g9A,useValue:function bn(){v.makeCurrent()},multi:!0},{provide:i.K0,useFactory:function tn(){return(0,y.RDi)(document),document},deps:[]}]),Wt=new y.OlP(""),_t=[{provide:y.rWj,useClass:class P{addToWindow(Re){y.dqk.getAngularTestability=(Ne,Ke=!0)=>{const vt=Re.findTestabilityInTree(Ne,Ke);if(null==vt)throw new Error("Could not find testability for element.");return vt},y.dqk.getAllAngularTestabilities=()=>Re.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>Re.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(Ne=>{const Ke=y.dqk.getAllAngularTestabilities();let vt=Ke.length,Ot=!1;const kt=function(it){Ot=Ot||it,vt--,0==vt&&Ne(Ot)};Ke.forEach(function(it){it.whenStable(kt)})})}findTestabilityInTree(Re,fe,Ne){return null==fe?null:Re.getTestability(fe)??(Ne?(0,i.q)().isShadowRoot(fe)?this.findTestabilityInTree(Re,fe.host,!0):this.findTestabilityInTree(Re,fe.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],O=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function Xt(){return new y.qLn},deps:[]},{provide:B,useClass:Et,multi:!0,deps:[i.K0,y.R0b,y.Lbi]},{provide:B,useClass:Pe,multi:!0,deps:[i.K0]},{provide:ne,useClass:ne,deps:[F,X,y.AFp]},{provide:y.FYo,useExisting:ne},{provide:ee,useExisting:X},{provide:X,useClass:X,deps:[i.K0]},{provide:F,useClass:F,deps:[B,y.R0b]},{provide:i.JF,useClass:x,deps:[]},[]];let L=(()=>{class be{constructor(fe){}static withServerTransition(fe){return{ngModule:be,providers:[{provide:y.AFp,useValue:fe.appId},{provide:w,useExisting:y.AFp},I]}}}return be.\u0275fac=function(fe){return new(fe||be)(y.LFG(Wt,12))},be.\u0275mod=y.oAB({type:be}),be.\u0275inj=y.cJS({providers:[...O,..._t],imports:[i.ez,y.hGG]}),be})(),W=(()=>{class be{constructor(fe){this._doc=fe}getTitle(){return this._doc.title}setTitle(fe){this._doc.title=fe||""}}return be.\u0275fac=function(fe){return new(fe||be)(y.LFG(i.K0))},be.\u0275prov=y.Yz7({token:be,factory:function(fe){let Ne=null;return Ne=fe?new fe:function ce(){return new W((0,y.LFG)(i.K0))}(),Ne},providedIn:"root"}),be})();typeof window<"u"&&window;let Wn=(()=>{class be{}return be.\u0275fac=function(fe){return new(fe||be)},be.\u0275prov=y.Yz7({token:be,factory:function(fe){let Ne=null;return Ne=fe?new(fe||be):y.LFG(Cr),Ne},providedIn:"root"}),be})(),Cr=(()=>{class be extends Wn{constructor(fe){super(),this._doc=fe}sanitize(fe,Ne){if(null==Ne)return null;switch(fe){case y.q3G.NONE:return Ne;case y.q3G.HTML:return(0,y.qzn)(Ne,"HTML")?(0,y.z3N)(Ne):(0,y.EiD)(this._doc,String(Ne)).toString();case y.q3G.STYLE:return(0,y.qzn)(Ne,"Style")?(0,y.z3N)(Ne):Ne;case y.q3G.SCRIPT:if((0,y.qzn)(Ne,"Script"))return(0,y.z3N)(Ne);throw new Error("unsafe value used in a script context");case y.q3G.URL:return(0,y.qzn)(Ne,"URL")?(0,y.z3N)(Ne):(0,y.mCW)(String(Ne));case y.q3G.RESOURCE_URL:if((0,y.qzn)(Ne,"ResourceURL"))return(0,y.z3N)(Ne);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${fe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(fe){return(0,y.JVY)(fe)}bypassSecurityTrustStyle(fe){return(0,y.L6k)(fe)}bypassSecurityTrustScript(fe){return(0,y.eBb)(fe)}bypassSecurityTrustUrl(fe){return(0,y.LAX)(fe)}bypassSecurityTrustResourceUrl(fe){return(0,y.pB0)(fe)}}return be.\u0275fac=function(fe){return new(fe||be)(y.LFG(i.K0))},be.\u0275prov=y.Yz7({token:be,factory:function(fe){let Ne=null;return Ne=fe?new fe:function Dr(be){return new Cr(be.get(i.K0))}(y.LFG(y.zs3)),Ne},providedIn:"root"}),be})()},4564:(Tt,Me,E)=>{"use strict";E.d(Me,{gz:()=>zr,wm:()=>$i,F0:()=>Fn,rH:()=>fi,yS:()=>Yo,Bz:()=>Ar,lC:()=>Ds});var i=E(8256);const p=(0,E(3888).d)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"});var v=E(9751),C=E(4742),h=E(2076),S=E(4671),T=E(3268),w=E(7669),_=E(1810),I=E(5403),P=E(9672);function x(...f){const g=(0,w.yG)(f),u=(0,w.jO)(f),{args:A,keys:b}=(0,C.D)(f);if(0===A.length)return(0,h.D)([],g);const j=new v.y(function B(f,g,u=S.y){return A=>{F(g,()=>{const{length:b}=f,j=new Array(b);let ge=b,me=b;for(let ke=0;ke<b;ke++)F(g,()=>{const rt=(0,h.D)(f[ke],g);let bt=!1;rt.subscribe((0,I.x)(A,pt=>{j[ke]=pt,bt||(bt=!0,me--),me||A.next(u(j.slice()))},()=>{--ge||A.complete()}))},A)},A)}}(A,g,b?ge=>(0,_.n)(b,ge):S.y));return u?j.pipe((0,T.Z)(u)):j}function F(f,g,u){f?(0,P.f)(u,f,g):g()}var l=E(8189);function X(...f){return function ee(){return(0,l.J)(1)}()((0,h.D)(f,(0,w.yG)(f)))}var Ie=E(8421);function te(f){return new v.y(g=>{(0,Ie.Xf)(f()).subscribe(g)})}var ae=E(727),ie=E(4482);function pe(){return(0,ie.e)((f,g)=>{let u=null;f._refCount++;const A=(0,I.x)(g,void 0,void 0,void 0,()=>{if(!f||f._refCount<=0||0<--f._refCount)return void(u=null);const b=f._connection,j=u;u=null,b&&(!j||b===j)&&b.unsubscribe(),g.unsubscribe()});f.subscribe(A),A.closed||(u=f.connect())})}class Oe extends v.y{constructor(g,u){super(),this.source=g,this.subjectFactory=u,this._subject=null,this._refCount=0,this._connection=null,(0,ie.A)(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new ae.w0;const u=this.getSubject();g.add(this.source.subscribe((0,I.x)(u,void 0,()=>{this._teardown(),u.complete()},A=>{this._teardown(),u.error(A)},()=>this._teardown()))),g.closed&&(this._connection=null,g=ae.w0.EMPTY)}return g}refCount(){return pe()(this)}}var Q=E(9646),Ee=E(1135),He=E(9635),Se=E(2843),se=E(515),le=E(7579),ne=E(6895);function Fe(f,g){return(0,ie.e)((u,A)=>{let b=null,j=0,ge=!1;const me=()=>ge&&!b&&A.complete();u.subscribe((0,I.x)(A,ke=>{b?.unsubscribe();let rt=0;const bt=j++;(0,Ie.Xf)(f(ke,bt)).subscribe(b=(0,I.x)(A,pt=>A.next(g?g(ke,pt,bt,rt++):pt),()=>{b=null,me()}))},()=>{ge=!0,me()}))})}var ze=E(9300),tt=E(5698);function Ct(f){return(0,ie.e)((g,u)=>{let A=!1;g.subscribe((0,I.x)(u,b=>{A=!0,u.next(b)},()=>{A||u.next(f),u.complete()}))})}function nt(f=Et){return(0,ie.e)((g,u)=>{let A=!1;g.subscribe((0,I.x)(u,b=>{A=!0,u.next(b)},()=>A?u.complete():u.error(f())))})}function Et(){return new p}function Mt(f,g){const u=arguments.length>=2;return A=>A.pipe(f?(0,ze.h)((b,j)=>f(b,j,A)):S.y,(0,tt.q)(1),u?Ct(g):nt(()=>new p))}var je=E(576);function Qe(f,g,u){const A=(0,je.m)(f)||g||u?{next:f,error:g,complete:u}:f;return A?(0,ie.e)((b,j)=>{var ge;null===(ge=A.subscribe)||void 0===ge||ge.call(A);let me=!0;b.subscribe((0,I.x)(j,ke=>{var rt;null===(rt=A.next)||void 0===rt||rt.call(A,ke),j.next(ke)},()=>{var ke;me=!1,null===(ke=A.complete)||void 0===ke||ke.call(A),j.complete()},ke=>{var rt;me=!1,null===(rt=A.error)||void 0===rt||rt.call(A,ke),j.error(ke)},()=>{var ke,rt;me&&(null===(ke=A.unsubscribe)||void 0===ke||ke.call(A)),null===(rt=A.finalize)||void 0===rt||rt.call(A)}))}):S.y}function Pe(f,g,u,A,b){return(j,ge)=>{let me=u,ke=g,rt=0;j.subscribe((0,I.x)(ge,bt=>{const pt=rt++;ke=me?f(ke,bt,pt):(me=!0,bt),A&&ge.next(ke)},b&&(()=>{me&&ge.next(ke),ge.complete()})))}}function Ye(f,g){return(0,ie.e)(Pe(f,g,arguments.length>=2,!0))}function at(f){return f<=0?()=>se.E:(0,ie.e)((g,u)=>{let A=[];g.subscribe((0,I.x)(u,b=>{A.push(b),f<A.length&&A.shift()},()=>{for(const b of A)u.next(b);u.complete()},void 0,()=>{A=null}))})}function lt(f,g){const u=arguments.length>=2;return A=>A.pipe(f?(0,ze.h)((b,j)=>f(b,j,A)):S.y,at(1),u?Ct(g):nt(()=>new p))}var Ut=E(4004);function Xt(f){return(0,ie.e)((g,u)=>{try{g.subscribe(u)}finally{u.add(f)}})}var tn=E(5577),rn=E(4351),wt=E(262),Wt=E(1481);const _t="primary",O=Symbol("RouteTitle");class L{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const u=this.params[g];return Array.isArray(u)?u[0]:u}return null}getAll(g){if(this.has(g)){const u=this.params[g];return Array.isArray(u)?u:[u]}return[]}get keys(){return Object.keys(this.params)}}function Z(f){return new L(f)}function ue(f,g,u){const A=u.path.split("/");if(A.length>f.length||"full"===u.pathMatch&&(g.hasChildren()||A.length<f.length))return null;const b={};for(let j=0;j<A.length;j++){const ge=A[j],me=f[j];if(ge.startsWith(":"))b[ge.substring(1)]=me;else if(ge!==me.path)return null}return{consumed:f.slice(0,A.length),posParams:b}}function ce(f,g){const u=f?Object.keys(f):void 0,A=g?Object.keys(g):void 0;if(!u||!A||u.length!=A.length)return!1;let b;for(let j=0;j<u.length;j++)if(b=u[j],!W(f[b],g[b]))return!1;return!0}function W(f,g){if(Array.isArray(f)&&Array.isArray(g)){if(f.length!==g.length)return!1;const u=[...f].sort(),A=[...g].sort();return u.every((b,j)=>A[j]===b)}return f===g}function H(f){return Array.prototype.concat.apply([],f)}function $(f){return f.length>0?f[f.length-1]:null}function k(f,g){for(const u in f)f.hasOwnProperty(u)&&g(f[u],u)}function q(f){return(0,i.CqO)(f)?f:(0,i.QGY)(f)?(0,h.D)(Promise.resolve(f)):(0,Q.of)(f)}const he={exact:function we(f,g,u){if(!zt(f.segments,g.segments)||!ot(f.segments,g.segments,u)||f.numberOfChildren!==g.numberOfChildren)return!1;for(const A in g.children)if(!f.children[A]||!we(f.children[A],g.children[A],u))return!1;return!0},subset:et},De={exact:function Ve(f,g){return ce(f,g)},subset:function We(f,g){return Object.keys(g).length<=Object.keys(f).length&&Object.keys(g).every(u=>W(f[u],g[u]))},ignored:()=>!0};function Le(f,g,u){return he[u.paths](f.root,g.root,u.matrixParams)&&De[u.queryParams](f.queryParams,g.queryParams)&&!("exact"===u.fragment&&f.fragment!==g.fragment)}function et(f,g,u){return ut(f,g,g.segments,u)}function ut(f,g,u,A){if(f.segments.length>u.length){const b=f.segments.slice(0,u.length);return!(!zt(b,u)||g.hasChildren()||!ot(b,u,A))}if(f.segments.length===u.length){if(!zt(f.segments,u)||!ot(f.segments,u,A))return!1;for(const b in g.children)if(!f.children[b]||!et(f.children[b],g.children[b],A))return!1;return!0}{const b=u.slice(0,f.segments.length),j=u.slice(f.segments.length);return!!(zt(f.segments,b)&&ot(f.segments,b,A)&&f.children[_t])&&ut(f.children[_t],g,j,A)}}function ot(f,g,u){return g.every((A,b)=>De[u](f[b].parameters,A.parameters))}class gt{constructor(g,u,A){this.root=g,this.queryParams=u,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Z(this.queryParams)),this._queryParamMap}toString(){return Sr.serialize(this)}}class ft{constructor(g,u){this.segments=g,this.children=u,this.parent=null,k(u,(A,b)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tn(this)}}class Qt{constructor(g,u){this.path=g,this.parameters=u}get parameterMap(){return this._parameterMap||(this._parameterMap=Z(this.parameters)),this._parameterMap}toString(){return Ne(this)}}function zt(f,g){return f.length===g.length&&f.every((u,A)=>u.path===g[A].path)}let Sn=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275prov=i.Yz7({token:f,factory:function(){return new Un},providedIn:"root"}),f})();class Un{parse(g){const u=new nr(g);return new gt(u.parseRootSegment(),u.parseQueryParams(),u.parseFragment())}serialize(g){const u=`/${Wn(g.root,!0)}`,A=function vt(f){const g=Object.keys(f).map(u=>{const A=f[u];return Array.isArray(A)?A.map(b=>`${Cr(u)}=${Cr(b)}`).join("&"):`${Cr(u)}=${Cr(A)}`}).filter(u=>!!u);return g.length?`?${g.join("&")}`:""}(g.queryParams);return`${u}${A}${"string"==typeof g.fragment?`#${function zn(f){return encodeURI(f)}(g.fragment)}`:""}`}}const Sr=new Un;function Tn(f){return f.segments.map(g=>Ne(g)).join("/")}function Wn(f,g){if(!f.hasChildren())return Tn(f);if(g){const u=f.children[_t]?Wn(f.children[_t],!1):"",A=[];return k(f.children,(b,j)=>{j!==_t&&A.push(`${j}:${Wn(b,!1)}`)}),A.length>0?`${u}(${A.join("//")})`:u}{const u=function Mn(f,g){let u=[];return k(f.children,(A,b)=>{b===_t&&(u=u.concat(g(A,b)))}),k(f.children,(A,b)=>{b!==_t&&(u=u.concat(g(A,b)))}),u}(f,(A,b)=>b===_t?[Wn(f.children[_t],!1)]:[`${b}:${Wn(A,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[_t]?`${Tn(f)}/${u[0]}`:`${Tn(f)}/(${u.join("//")})`}}function Dr(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cr(f){return Dr(f).replace(/%3B/gi,";")}function be(f){return Dr(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Re(f){return decodeURIComponent(f)}function fe(f){return Re(f.replace(/\+/g,"%20"))}function Ne(f){return`${be(f.path)}${function Ke(f){return Object.keys(f).map(g=>`;${be(g)}=${be(f[g])}`).join("")}(f.parameters)}`}const Ot=/^[^\/()?;=#]+/;function kt(f){const g=f.match(Ot);return g?g[0]:""}const it=/^[^=?&#]+/,jt=/^[^&#]+/;class nr{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ft([],{}):new ft([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let u={};this.peekStartsWith("/(")&&(this.capture("/"),u=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(g.length>0||Object.keys(u).length>0)&&(A[_t]=new ft(g,u)),A}parseSegment(){const g=kt(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new i.vHH(4009,!1);return this.capture(g),new Qt(Re(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const u=kt(this.remaining);if(!u)return;this.capture(u);let A="";if(this.consumeOptional("=")){const b=kt(this.remaining);b&&(A=b,this.capture(A))}g[Re(u)]=Re(A)}parseQueryParam(g){const u=function Pt(f){const g=f.match(it);return g?g[0]:""}(this.remaining);if(!u)return;this.capture(u);let A="";if(this.consumeOptional("=")){const ge=function pn(f){const g=f.match(jt);return g?g[0]:""}(this.remaining);ge&&(A=ge,this.capture(A))}const b=fe(u),j=fe(A);if(g.hasOwnProperty(b)){let ge=g[b];Array.isArray(ge)||(ge=[ge],g[b]=ge),ge.push(j)}else g[b]=j}parseParens(g){const u={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=kt(this.remaining),b=this.remaining[A.length];if("/"!==b&&")"!==b&&";"!==b)throw new i.vHH(4010,!1);let j;A.indexOf(":")>-1?(j=A.slice(0,A.indexOf(":")),this.capture(j),this.capture(":")):g&&(j=_t);const ge=this.parseChildren();u[j]=1===Object.keys(ge).length?ge[_t]:new ft([],ge),this.consumeOptional("//")}return u}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new i.vHH(4011,!1)}}function Cn(f){return f.segments.length>0?new ft([],{[_t]:f}):f}function qn(f){const g={};for(const A of Object.keys(f.children)){const j=qn(f.children[A]);(j.segments.length>0||j.hasChildren())&&(g[A]=j)}return function an(f){if(1===f.numberOfChildren&&f.children[_t]){const g=f.children[_t];return new ft(f.segments.concat(g.segments),g.children)}return f}(new ft(f.segments,g))}function On(f){return f instanceof gt}function ys(f,g,u,A,b){if(0===u.length)return Qn(g.root,g.root,g.root,A,b);const j=function Or(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new wn(!0,0,f);let g=0,u=!1;const A=f.reduce((b,j,ge)=>{if("object"==typeof j&&null!=j){if(j.outlets){const me={};return k(j.outlets,(ke,rt)=>{me[rt]="string"==typeof ke?ke.split("/"):ke}),[...b,{outlets:me}]}if(j.segmentPath)return[...b,j.segmentPath]}return"string"!=typeof j?[...b,j]:0===ge?(j.split("/").forEach((me,ke)=>{0==ke&&"."===me||(0==ke&&""===me?u=!0:".."===me?g++:""!=me&&b.push(me))}),b):[...b,j]},[]);return new wn(u,g,A)}(u);return j.toRoot()?Qn(g.root,g.root,new ft([],{}),A,b):function ge(ke){const rt=function ei(f,g,u,A){if(f.isAbsolute)return new xr(g.root,!0,0);if(-1===A)return new xr(u,u===g.root,0);return function to(f,g,u){let A=f,b=g,j=u;for(;j>b;){if(j-=b,A=A.parent,!A)throw new i.vHH(4005,!1);b=A.segments.length}return new xr(A,!1,b-j)}(u,A+(sr(f.commands[0])?0:1),f.numberOfDoubleDots)}(j,g,f.snapshot?._urlSegment,ke),bt=rt.processChildren?hr(rt.segmentGroup,rt.index,j.commands):Nr(rt.segmentGroup,rt.index,j.commands);return Qn(g.root,rt.segmentGroup,bt,A,b)}(f.snapshot?._lastPathIndex)}function sr(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function qt(f){return"object"==typeof f&&null!=f&&f.outlets}function Qn(f,g,u,A,b){let ge,j={};A&&k(A,(ke,rt)=>{j[rt]=Array.isArray(ke)?ke.map(bt=>`${bt}`):`${ke}`}),ge=f===g?u:fr(f,g,u);const me=Cn(qn(ge));return new gt(me,j,b)}function fr(f,g,u){const A={};return k(f.children,(b,j)=>{A[j]=b===g?u:fr(b,g,u)}),new ft(f.segments,A)}class wn{constructor(g,u,A){if(this.isAbsolute=g,this.numberOfDoubleDots=u,this.commands=A,g&&A.length>0&&sr(A[0]))throw new i.vHH(4003,!1);const b=A.find(qt);if(b&&b!==$(A))throw new i.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xr{constructor(g,u,A){this.segmentGroup=g,this.processChildren=u,this.index=A}}function Nr(f,g,u){if(f||(f=new ft([],{})),0===f.segments.length&&f.hasChildren())return hr(f,g,u);const A=function Ts(f,g,u){let A=0,b=g;const j={match:!1,pathIndex:0,commandIndex:0};for(;b<f.segments.length;){if(A>=u.length)return j;const ge=f.segments[b],me=u[A];if(qt(me))break;const ke=`${me}`,rt=A<u.length-1?u[A+1]:null;if(b>0&&void 0===ke)break;if(ke&&rt&&"object"==typeof rt&&void 0===rt.outlets){if(!Nn(ke,rt,ge))return j;A+=2}else{if(!Nn(ke,{},ge))return j;A++}b++}return{match:!0,pathIndex:b,commandIndex:A}}(f,g,u),b=u.slice(A.commandIndex);if(A.match&&A.pathIndex<f.segments.length){const j=new ft(f.segments.slice(0,A.pathIndex),{});return j.children[_t]=new ft(f.segments.slice(A.pathIndex),f.children),hr(j,0,b)}return A.match&&0===b.length?new ft(f.segments,{}):A.match&&!f.hasChildren()?or(f,g,u):A.match?hr(f,0,b):or(f,g,u)}function hr(f,g,u){if(0===u.length)return new ft(f.segments,{});{const A=function _r(f){return qt(f[0])?f[0].outlets:{[_t]:f}}(u),b={};return k(A,(j,ge)=>{"string"==typeof j&&(j=[j]),null!==j&&(b[ge]=Nr(f.children[ge],g,j))}),k(f.children,(j,ge)=>{void 0===A[ge]&&(b[ge]=j)}),new ft(f.segments,b)}}function or(f,g,u){const A=f.segments.slice(0,g);let b=0;for(;b<u.length;){const j=u[b];if(qt(j)){const ke=_n(j.outlets);return new ft(A,ke)}if(0===b&&sr(u[0])){A.push(new Qt(f.segments[g].path,ks(u[0]))),b++;continue}const ge=qt(j)?j.outlets[_t]:`${j}`,me=b<u.length-1?u[b+1]:null;ge&&me&&sr(me)?(A.push(new Qt(ge,ks(me))),b+=2):(A.push(new Qt(ge,{})),b++)}return new ft(A,{})}function _n(f){const g={};return k(f,(u,A)=>{"string"==typeof u&&(u=[u]),null!==u&&(g[A]=or(new ft([],{}),0,u))}),g}function ks(f){const g={};return k(f,(u,A)=>g[A]=`${u}`),g}function Nn(f,g,u){return f==u.path&&ce(g,u.parameters)}class vn{constructor(g,u){this.id=g,this.url=u}}class $r extends vn{constructor(g,u,A="imperative",b=null){super(g,u),this.type=0,this.navigationTrigger=A,this.restoredState=b}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gn extends vn{constructor(g,u,A){super(g,u),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gr extends vn{constructor(g,u,A,b){super(g,u),this.reason=A,this.code=b,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zn extends vn{constructor(g,u,A,b){super(g,u),this.error=A,this.target=b,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Do extends vn{constructor(g,u,A,b){super(g,u),this.urlAfterRedirects=A,this.state=b,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends vn{constructor(g,u,A,b){super(g,u),this.urlAfterRedirects=A,this.state=b,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends vn{constructor(g,u,A,b,j){super(g,u),this.urlAfterRedirects=A,this.state=b,this.shouldActivate=j,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oo extends vn{constructor(g,u,A,b){super(g,u),this.urlAfterRedirects=A,this.state=b,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr extends vn{constructor(g,u,A,b){super(g,u),this.urlAfterRedirects=A,this.state=b,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ys{constructor(g){this.route=g,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ro{constructor(g){this.route=g,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bs{constructor(g){this.snapshot=g,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(g){this.snapshot=g,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ni{constructor(g){this.snapshot=g,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(g){this.snapshot=g,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mo{constructor(g,u,A){this.routerEvent=g,this.position=u,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vs{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const u=this.pathFromRoot(g);return u.length>1?u[u.length-2]:null}children(g){const u=so(g,this._root);return u?u.children.map(A=>A.value):[]}firstChild(g){const u=so(g,this._root);return u&&u.children.length>0?u.children[0].value:null}siblings(g){const u=Wr(g,this._root);return u.length<2?[]:u[u.length-2].children.map(b=>b.value).filter(b=>b!==g)}pathFromRoot(g){return Wr(g,this._root).map(u=>u.value)}}function so(f,g){if(f===g.value)return g;for(const u of g.children){const A=so(f,u);if(A)return A}return null}function Wr(f,g){if(f===g.value)return[g];for(const u of g.children){const A=Wr(f,u);if(A.length)return A.unshift(g),A}return[]}class pr{constructor(g,u){this.value=g,this.children=u}toString(){return`TreeNode(${this.value})`}}function Mr(f){const g={};return f&&f.children.forEach(u=>g[u.value.outlet]=u),g}class Hs extends Vs{constructor(g,u){super(g),this.snapshot=u,is(this,g)}toString(){return this.snapshot.toString()}}function kr(f,g){const u=function oo(f,g){const ge=new os([],{},{},"",{},_t,g,null,f.root,-1,{});return new vs("",new pr(ge,[]))}(f,g),A=new Ee.X([new Qt("",{})]),b=new Ee.X({}),j=new Ee.X({}),ge=new Ee.X({}),me=new Ee.X(""),ke=new zr(A,b,ge,me,j,_t,g,u.root);return ke.snapshot=u.root,new Hs(new pr(ke,[]),u)}class zr{constructor(g,u,A,b,j,ge,me,ke){this.url=g,this.params=u,this.queryParams=A,this.fragment=b,this.data=j,this.outlet=ge,this.component=me,this.title=this.data?.pipe((0,Ut.U)(rt=>rt[O]))??(0,Q.of)(void 0),this._futureSnapshot=ke}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ut.U)(g=>Z(g)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ut.U)(g=>Z(g)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function io(f,g="emptyOnly"){const u=f.pathFromRoot;let A=0;if("always"!==g)for(A=u.length-1;A>=1;){const b=u[A],j=u[A-1];if(b.routeConfig&&""===b.routeConfig.path)A--;else{if(j.component)break;A--}}return function qr(f){return f.reduce((g,u)=>({params:{...g.params,...u.params},data:{...g.data,...u.data},resolve:{...u.data,...g.resolve,...u.routeConfig?.data,...u._resolvedData}}),{params:{},data:{},resolve:{}})}(u.slice(A))}class os{constructor(g,u,A,b,j,ge,me,ke,rt,bt,pt,cn){this.url=g,this.params=u,this.queryParams=A,this.fragment=b,this.data=j,this.outlet=ge,this.component=me,this.title=this.data?.[O],this.routeConfig=ke,this._urlSegment=rt,this._lastPathIndex=bt,this._correctedLastPathIndex=cn??bt,this._resolve=pt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Z(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Z(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vs extends Vs{constructor(g,u){super(u),this.url=g,is(this,u)}toString(){return As(this._root)}}function is(f,g){g.value._routerState=f,g.children.forEach(u=>is(f,u))}function As(f){const g=f.children.length>0?` { ${f.children.map(As).join(", ")} } `:"";return`${f.value}${g}`}function Is(f){if(f.snapshot){const g=f.snapshot,u=f._futureSnapshot;f.snapshot=u,ce(g.queryParams,u.queryParams)||f.queryParams.next(u.queryParams),g.fragment!==u.fragment&&f.fragment.next(u.fragment),ce(g.params,u.params)||f.params.next(u.params),function re(f,g){if(f.length!==g.length)return!1;for(let u=0;u<f.length;++u)if(!ce(f[u],g[u]))return!1;return!0}(g.url,u.url)||f.url.next(u.url),ce(g.data,u.data)||f.data.next(u.data)}else f.snapshot=f._futureSnapshot,f.data.next(f._futureSnapshot.data)}function ao(f,g){const u=ce(f.params,g.params)&&function hn(f,g){return zt(f,g)&&f.every((u,A)=>ce(u.parameters,g[A].parameters))}(f.url,g.url);return u&&!(!f.parent!=!g.parent)&&(!f.parent||ao(f.parent,g.parent))}function Rs(f,g,u){if(u&&f.shouldReuseRoute(g.value,u.value.snapshot)){const A=u.value;A._futureSnapshot=g.value;const b=function uo(f,g,u){return g.children.map(A=>{for(const b of u.children)if(f.shouldReuseRoute(A.value,b.value.snapshot))return Rs(f,A,b);return Rs(f,A)})}(f,g,u);return new pr(A,b)}{if(f.shouldAttach(g.value)){const j=f.retrieve(g.value);if(null!==j){const ge=j.route;return ge.value._futureSnapshot=g.value,ge.children=g.children.map(me=>Rs(f,me)),ge}}const A=function Po(f){return new zr(new Ee.X(f.url),new Ee.X(f.params),new Ee.X(f.queryParams),new Ee.X(f.fragment),new Ee.X(f.data),f.outlet,f.component,f)}(g.value),b=g.children.map(j=>Rs(f,j));return new pr(A,b)}}const Gn="ngNavigationCancelingError";function as(f,g){const{redirectTo:u,navigationBehaviorOptions:A}=On(g)?{redirectTo:g,navigationBehaviorOptions:void 0}:g,b=Ks(!1,0,g);return b.url=u,b.navigationBehaviorOptions=A,b}function Ks(f,g,u){const A=new Error("NavigationCancelingError: "+(f||""));return A[Gn]=!0,A.cancellationCode=g,u&&(A.url=u),A}function js(f){return co(f)&&On(f.url)}function co(f){return f&&f[Gn]}class oi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Bt,this.attachRef=null}}let Bt=(()=>{class f{constructor(){this.contexts=new Map}onChildOutletCreated(u,A){const b=this.getOrCreateContext(u);b.outlet=A,this.contexts.set(u,b)}onChildOutletDestroyed(u){const A=this.getContext(u);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const u=this.contexts;return this.contexts=new Map,u}onOutletReAttached(u){this.contexts=u}getOrCreateContext(u){let A=this.getContext(u);return A||(A=new oi,this.contexts.set(u,A)),A}getContext(u){return this.contexts.get(u)||null}}return f.\u0275fac=function(u){return new(u||f)},f.\u0275prov=i.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const us=!1;let Ds=(()=>{class f{constructor(u,A,b,j,ge){this.parentContexts=u,this.location=A,this.changeDetector=j,this.environmentInjector=ge,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.name=b||_t,u.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const u=this.parentContexts.getContext(this.name);u&&u.route&&(u.attachRef?this.attach(u.attachRef,u.route):this.activateWith(u.route,u.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.vHH(4012,us);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.vHH(4012,us);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.vHH(4012,us);this.location.detach();const u=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(u.instance),u}attach(u,A){this.activated=u,this._activatedRoute=A,this.location.insert(u.hostView),this.attachEvents.emit(u.instance)}deactivate(){if(this.activated){const u=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(u)}}activateWith(u,A){if(this.isActivated)throw new i.vHH(4013,us);this._activatedRoute=u;const b=this.location,ge=u._futureSnapshot.component,me=this.parentContexts.getOrCreateContext(this.name).children,ke=new $s(u,me,b.injector);if(A&&function Xn(f){return!!f.resolveComponentFactory}(A)){const rt=A.resolveComponentFactory(ge);this.activated=b.createComponent(rt,b.length,ke)}else this.activated=b.createComponent(ge,{index:b.length,injector:ke,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return f.\u0275fac=function(u){return new(u||f)(i.Y36(Bt),i.Y36(i.s_b),i.$8M("name"),i.Y36(i.sBO),i.Y36(i.lqb))},f.\u0275dir=i.lG2({type:f,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),f})();class $s{constructor(g,u,A){this.route=g,this.childContexts=u,this.parent=A}get(g,u){return g===zr?this.route:g===Bt?this.childContexts:this.parent.get(g,u)}}let Js=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275cmp=i.Xpm({type:f,selectors:[["ng-component"]],standalone:!0,features:[i.jDz],decls:1,vars:0,template:function(u,A){1&u&&i._UZ(0,"router-outlet")},dependencies:[Ds],encapsulation:2}),f})();function cs(f,g){return f.providers&&!f._injector&&(f._injector=(0,i.MMx)(f.providers,g,`Route: ${f.path}`)),f._injector??g}function Nt(f){const g=f.children&&f.children.map(Nt),u=g?{...f,children:g}:{...f};return!u.component&&!u.loadComponent&&(g||u.loadChildren)&&u.outlet&&u.outlet!==_t&&(u.component=Js),u}function er(f){return f.outlet||_t}function Ns(f,g){const u=f.filter(A=>er(A)===g);return u.push(...f.filter(A=>er(A)!==g)),u}function Ms(f){if(!f)return null;if(f.routeConfig?._injector)return f.routeConfig._injector;for(let g=f.parent;g;g=g.parent){const u=g.routeConfig;if(u?._loadedInjector)return u._loadedInjector;if(u?._injector)return u._injector}return null}class bo{constructor(g,u,A,b){this.routeReuseStrategy=g,this.futureState=u,this.currState=A,this.forwardEvent=b}activate(g){const u=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(u,A,g),Is(this.futureState.root),this.activateChildRoutes(u,A,g)}deactivateChildRoutes(g,u,A){const b=Mr(u);g.children.forEach(j=>{const ge=j.value.outlet;this.deactivateRoutes(j,b[ge],A),delete b[ge]}),k(b,(j,ge)=>{this.deactivateRouteAndItsChildren(j,A)})}deactivateRoutes(g,u,A){const b=g.value,j=u?u.value:null;if(b===j)if(b.component){const ge=A.getContext(b.outlet);ge&&this.deactivateChildRoutes(g,u,ge.children)}else this.deactivateChildRoutes(g,u,A);else j&&this.deactivateRouteAndItsChildren(u,A)}deactivateRouteAndItsChildren(g,u){g.value.component&&this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,u):this.deactivateRouteAndOutlet(g,u)}detachAndStoreRouteSubtree(g,u){const A=u.getContext(g.value.outlet),b=A&&g.value.component?A.children:u,j=Mr(g);for(const ge of Object.keys(j))this.deactivateRouteAndItsChildren(j[ge],b);if(A&&A.outlet){const ge=A.outlet.detach(),me=A.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:ge,route:g,contexts:me})}}deactivateRouteAndOutlet(g,u){const A=u.getContext(g.value.outlet),b=A&&g.value.component?A.children:u,j=Mr(g);for(const ge of Object.keys(j))this.deactivateRouteAndItsChildren(j[ge],b);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(g,u,A){const b=Mr(u);g.children.forEach(j=>{this.activateRoutes(j,b[j.value.outlet],A),this.forwardEvent(new ri(j.value.snapshot))}),g.children.length&&this.forwardEvent(new No(g.value.snapshot))}activateRoutes(g,u,A){const b=g.value,j=u?u.value:null;if(Is(b),b===j)if(b.component){const ge=A.getOrCreateContext(b.outlet);this.activateChildRoutes(g,u,ge.children)}else this.activateChildRoutes(g,u,A);else if(b.component){const ge=A.getOrCreateContext(b.outlet);if(this.routeReuseStrategy.shouldAttach(b.snapshot)){const me=this.routeReuseStrategy.retrieve(b.snapshot);this.routeReuseStrategy.store(b.snapshot,null),ge.children.onOutletReAttached(me.contexts),ge.attachRef=me.componentRef,ge.route=me.route.value,ge.outlet&&ge.outlet.attach(me.componentRef,me.route.value),Is(me.route.value),this.activateChildRoutes(g,null,ge.children)}else{const me=Ms(b.snapshot),ke=me?.get(i._Vd)??null;ge.attachRef=null,ge.route=b,ge.resolver=ke,ge.injector=me,ge.outlet&&ge.outlet.activateWith(b,ge.injector),this.activateChildRoutes(g,null,ge.children)}}else this.activateChildRoutes(g,null,A)}}class ws{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class kn{constructor(g,u){this.component=g,this.route=u}}function Qr(f,g,u){const A=f._root;return Pr(A,g?g._root:null,u,[A.value])}function Vt(f,g){const u=Symbol(),A=g.get(f,u);return A===u?"function"!=typeof f||(0,i.Z0I)(f)?g.get(f):f:A}function Pr(f,g,u,A,b={canDeactivateChecks:[],canActivateChecks:[]}){const j=Mr(g);return f.children.forEach(ge=>{(function fo(f,g,u,A,b={canDeactivateChecks:[],canActivateChecks:[]}){const j=f.value,ge=g?g.value:null,me=u?u.getContext(f.value.outlet):null;if(ge&&j.routeConfig===ge.routeConfig){const ke=function yn(f,g,u){if("function"==typeof u)return u(f,g);switch(u){case"pathParamsChange":return!zt(f.url,g.url);case"pathParamsOrQueryParamsChange":return!zt(f.url,g.url)||!ce(f.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ao(f,g)||!ce(f.queryParams,g.queryParams);default:return!ao(f,g)}}(ge,j,j.routeConfig.runGuardsAndResolvers);ke?b.canActivateChecks.push(new ws(A)):(j.data=ge.data,j._resolvedData=ge._resolvedData),Pr(f,g,j.component?me?me.children:null:u,A,b),ke&&me&&me.outlet&&me.outlet.isActivated&&b.canDeactivateChecks.push(new kn(me.outlet.component,ge))}else ge&&ir(g,me,b),b.canActivateChecks.push(new ws(A)),Pr(f,null,j.component?me?me.children:null:u,A,b)})(ge,j[ge.value.outlet],u,A.concat([ge.value]),b),delete j[ge.value.outlet]}),k(j,(ge,me)=>ir(ge,u.getContext(me),b)),b}function ir(f,g,u){const A=Mr(f),b=f.value;k(A,(j,ge)=>{ir(j,b.component?g?g.children.getContext(ge):null:g,u)}),u.canDeactivateChecks.push(new kn(b.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,b))}function Vn(f){return"function"==typeof f}function ur(f){return f instanceof p||"EmptyError"===f?.name}const Lr=Symbol("INITIAL_VALUE");function cr(){return Fe(f=>x(f.map(g=>g.pipe((0,tt.q)(1),function Ge(...f){const g=(0,w.yG)(f);return(0,ie.e)((u,A)=>{(g?X(f,u,g):X(f,u)).subscribe(A)})}(Lr)))).pipe((0,Ut.U)(g=>{for(const u of g)if(!0!==u){if(u===Lr)return Lr;if(!1===u||u instanceof gt)return u}return!0}),(0,ze.h)(g=>g!==Lr),(0,tt.q)(1)))}function M(f){return(0,He.z)(Qe(g=>{if(On(g))throw as(0,g)}),(0,Ut.U)(g=>!0===g))}const ye={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Be(f,g,u,A,b){const j=qe(f,g,u);return j.matched?function z(f,g,u,A){const b=g.canMatch;if(!b||0===b.length)return(0,Q.of)(!0);const j=b.map(ge=>{const me=Vt(ge,f);return q(function Vi(f){return f&&Vn(f.canMatch)}(me)?me.canMatch(g,u):f.runInContext(()=>me(g,u)))});return(0,Q.of)(j).pipe(cr(),M())}(A=cs(g,A),g,u).pipe((0,Ut.U)(ge=>!0===ge?j:{...ye})):(0,Q.of)(j)}function qe(f,g,u){if(""===g.path)return"full"===g.pathMatch&&(f.hasChildren()||u.length>0)?{...ye}:{matched:!0,consumedSegments:[],remainingSegments:u,parameters:{},positionalParamSegments:{}};const b=(g.matcher||ue)(u,f,g);if(!b)return{...ye};const j={};k(b.posParams,(me,ke)=>{j[ke]=me.path});const ge=b.consumed.length>0?{...j,...b.consumed[b.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:b.consumed,remainingSegments:u.slice(b.consumed.length),parameters:ge,positionalParamSegments:b.posParams??{}}}function ht(f,g,u,A,b="corrected"){if(u.length>0&&function nn(f,g,u){return u.some(A=>a(f,g,A)&&er(A)!==_t)}(f,u,A)){const ge=new ft(g,function Zt(f,g,u,A){const b={};b[_t]=A,A._sourceSegment=f,A._segmentIndexShift=g.length;for(const j of u)if(""===j.path&&er(j)!==_t){const ge=new ft([],{});ge._sourceSegment=f,ge._segmentIndexShift=g.length,b[er(j)]=ge}return b}(f,g,A,new ft(u,f.children)));return ge._sourceSegment=f,ge._segmentIndexShift=g.length,{segmentGroup:ge,slicedSegments:[]}}if(0===u.length&&function Y(f,g,u){return u.some(A=>a(f,g,A))}(f,u,A)){const ge=new ft(f.segments,function en(f,g,u,A,b,j){const ge={};for(const me of A)if(a(f,u,me)&&!b[er(me)]){const ke=new ft([],{});ke._sourceSegment=f,ke._segmentIndexShift="legacy"===j?f.segments.length:g.length,ge[er(me)]=ke}return{...b,...ge}}(f,g,u,A,f.children,b));return ge._sourceSegment=f,ge._segmentIndexShift=g.length,{segmentGroup:ge,slicedSegments:u}}const j=new ft(f.segments,f.children);return j._sourceSegment=f,j._segmentIndexShift=g.length,{segmentGroup:j,slicedSegments:u}}function a(f,g,u){return(!(f.hasChildren()||g.length>0)||"full"!==u.pathMatch)&&""===u.path}function d(f,g,u,A){return!!(er(f)===A||A!==_t&&a(g,u,f))&&("**"===f.path||qe(g,f,u).matched)}function N(f,g,u){return 0===g.length&&!f.children[u]}const K=!1;class oe{constructor(g){this.segmentGroup=g||null}}class Te{constructor(g){this.urlTree=g}}function ve(f){return(0,Se._)(new oe(f))}function xe(f){return(0,Se._)(new Te(f))}class Ht{constructor(g,u,A,b,j){this.injector=g,this.configLoader=u,this.urlSerializer=A,this.urlTree=b,this.config=j,this.allowRedirects=!0}apply(){const g=ht(this.urlTree.root,[],[],this.config).segmentGroup,u=new ft(g.segments,g.children);return this.expandSegmentGroup(this.injector,this.config,u,_t).pipe((0,Ut.U)(j=>this.createUrlTree(qn(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,wt.K)(j=>{if(j instanceof Te)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof oe?this.noMatchError(j):j}))}match(g){return this.expandSegmentGroup(this.injector,this.config,g.root,_t).pipe((0,Ut.U)(b=>this.createUrlTree(qn(b),g.queryParams,g.fragment))).pipe((0,wt.K)(b=>{throw b instanceof oe?this.noMatchError(b):b}))}noMatchError(g){return new i.vHH(4002,K)}createUrlTree(g,u,A){const b=Cn(g);return new gt(b,u,A)}expandSegmentGroup(g,u,A,b){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(g,u,A).pipe((0,Ut.U)(j=>new ft([],j))):this.expandSegment(g,A,u,A.segments,b,!0)}expandChildren(g,u,A){const b=[];for(const j of Object.keys(A.children))"primary"===j?b.unshift(j):b.push(j);return(0,h.D)(b).pipe((0,rn.b)(j=>{const ge=A.children[j],me=Ns(u,j);return this.expandSegmentGroup(g,me,ge,j).pipe((0,Ut.U)(ke=>({segment:ke,outlet:j})))}),Ye((j,ge)=>(j[ge.outlet]=ge.segment,j),{}),lt())}expandSegment(g,u,A,b,j,ge){return(0,h.D)(A).pipe((0,rn.b)(me=>this.expandSegmentAgainstRoute(g,u,A,me,b,j,ge).pipe((0,wt.K)(rt=>{if(rt instanceof oe)return(0,Q.of)(null);throw rt}))),Mt(me=>!!me),(0,wt.K)((me,ke)=>{if(ur(me))return N(u,b,j)?(0,Q.of)(new ft([],{})):ve(u);throw me}))}expandSegmentAgainstRoute(g,u,A,b,j,ge,me){return d(b,u,j,ge)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(g,u,b,j,ge):me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(g,u,A,b,j,ge):ve(u):ve(u)}expandSegmentAgainstRouteUsingRedirect(g,u,A,b,j,ge){return"**"===b.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(g,A,b,ge):this.expandRegularSegmentAgainstRouteUsingRedirect(g,u,A,b,j,ge)}expandWildCardWithParamsAgainstRouteUsingRedirect(g,u,A,b){const j=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?xe(j):this.lineralizeSegments(A,j).pipe((0,tn.z)(ge=>{const me=new ft(ge,{});return this.expandSegment(g,me,u,ge,b,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(g,u,A,b,j,ge){const{matched:me,consumedSegments:ke,remainingSegments:rt,positionalParamSegments:bt}=qe(u,b,j);if(!me)return ve(u);const pt=this.applyRedirectCommands(ke,b.redirectTo,bt);return b.redirectTo.startsWith("/")?xe(pt):this.lineralizeSegments(b,pt).pipe((0,tn.z)(cn=>this.expandSegment(g,u,A,cn.concat(rt),ge,!1)))}matchSegmentAgainstRoute(g,u,A,b,j){return"**"===A.path?(g=cs(A,g),A.loadChildren?(A._loadedRoutes?(0,Q.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(g,A)).pipe((0,Ut.U)(me=>(A._loadedRoutes=me.routes,A._loadedInjector=me.injector,new ft(b,{})))):(0,Q.of)(new ft(b,{}))):Be(u,A,b,g).pipe(Fe(({matched:ge,consumedSegments:me,remainingSegments:ke})=>ge?this.getChildConfig(g=A._injector??g,A,b).pipe((0,tn.z)(bt=>{const pt=bt.injector??g,cn=bt.routes,{segmentGroup:tr,slicedSegments:Fr}=ht(u,me,ke,cn),vo=new ft(tr.segments,tr.children);if(0===Fr.length&&vo.hasChildren())return this.expandChildren(pt,cn,vo).pipe((0,Ut.U)(Mu=>new ft(me,Mu)));if(0===cn.length&&0===Fr.length)return(0,Q.of)(new ft(me,{}));const dr=er(A)===j;return this.expandSegment(pt,vo,cn,Fr,dr?_t:j,!0).pipe((0,Ut.U)(Ls=>new ft(me.concat(Ls.segments),Ls.children)))})):ve(u)))}getChildConfig(g,u,A){return u.children?(0,Q.of)({routes:u.children,injector:g}):u.loadChildren?void 0!==u._loadedRoutes?(0,Q.of)({routes:u._loadedRoutes,injector:u._loadedInjector}):function V(f,g,u,A){const b=g.canLoad;if(void 0===b||0===b.length)return(0,Q.of)(!0);const j=b.map(ge=>{const me=Vt(ge,f);return q(function Zr(f){return f&&Vn(f.canLoad)}(me)?me.canLoad(g,u):f.runInContext(()=>me(g,u)))});return(0,Q.of)(j).pipe(cr(),M())}(g,u,A).pipe((0,tn.z)(b=>b?this.configLoader.loadChildren(g,u).pipe(Qe(j=>{u._loadedRoutes=j.routes,u._loadedInjector=j.injector})):function dt(f){return(0,Se._)(Ks(K,3))}())):(0,Q.of)({routes:[],injector:g})}lineralizeSegments(g,u){let A=[],b=u.root;for(;;){if(A=A.concat(b.segments),0===b.numberOfChildren)return(0,Q.of)(A);if(b.numberOfChildren>1||!b.children[_t])return(0,Se._)(new i.vHH(4e3,K));b=b.children[_t]}}applyRedirectCommands(g,u,A){return this.applyRedirectCreateUrlTree(u,this.urlSerializer.parse(u),g,A)}applyRedirectCreateUrlTree(g,u,A,b){const j=this.createSegmentGroup(g,u.root,A,b);return new gt(j,this.createQueryParams(u.queryParams,this.urlTree.queryParams),u.fragment)}createQueryParams(g,u){const A={};return k(g,(b,j)=>{if("string"==typeof b&&b.startsWith(":")){const me=b.substring(1);A[j]=u[me]}else A[j]=b}),A}createSegmentGroup(g,u,A,b){const j=this.createSegments(g,u.segments,A,b);let ge={};return k(u.children,(me,ke)=>{ge[ke]=this.createSegmentGroup(g,me,A,b)}),new ft(j,ge)}createSegments(g,u,A,b){return u.map(j=>j.path.startsWith(":")?this.findPosParam(g,j,b):this.findOrReturn(j,A))}findPosParam(g,u,A){const b=A[u.path.substring(1)];if(!b)throw new i.vHH(4001,K);return b}findOrReturn(g,u){let A=0;for(const b of u){if(b.path===g.path)return u.splice(A),b;A++}return g}}class xt{}class Pn{constructor(g,u,A,b,j,ge,me,ke){this.injector=g,this.rootComponentType=u,this.config=A,this.urlTree=b,this.url=j,this.paramsInheritanceStrategy=ge,this.relativeLinkResolution=me,this.urlSerializer=ke}recognize(){const g=ht(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,g,_t).pipe((0,Ut.U)(u=>{if(null===u)return null;const A=new os([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),b=new pr(A,u),j=new vs(this.url,b);return this.inheritParamsAndData(j._root),j}))}inheritParamsAndData(g){const u=g.value,A=io(u,this.paramsInheritanceStrategy);u.params=Object.freeze(A.params),u.data=Object.freeze(A.data),g.children.forEach(b=>this.inheritParamsAndData(b))}processSegmentGroup(g,u,A,b){return 0===A.segments.length&&A.hasChildren()?this.processChildren(g,u,A):this.processSegment(g,u,A,A.segments,b)}processChildren(g,u,A){return(0,h.D)(Object.keys(A.children)).pipe((0,rn.b)(b=>{const j=A.children[b],ge=Ns(u,b);return this.processSegmentGroup(g,ge,j,b)}),Ye((b,j)=>b&&j?(b.push(...j),b):null),function dn(f,g=!1){return(0,ie.e)((u,A)=>{let b=0;u.subscribe((0,I.x)(A,j=>{const ge=f(j,b++);(ge||g)&&A.next(j),!ge&&A.complete()}))})}(b=>null!==b),Ct(null),lt(),(0,Ut.U)(b=>{if(null===b)return null;const j=Tr(b);return function Hn(f){f.sort((g,u)=>g.value.outlet===_t?-1:u.value.outlet===_t?1:g.value.outlet.localeCompare(u.value.outlet))}(j),j}))}processSegment(g,u,A,b,j){return(0,h.D)(u).pipe((0,rn.b)(ge=>this.processSegmentAgainstRoute(ge._injector??g,ge,A,b,j)),Mt(ge=>!!ge),(0,wt.K)(ge=>{if(ur(ge))return N(A,b,j)?(0,Q.of)([]):(0,Q.of)(null);throw ge}))}processSegmentAgainstRoute(g,u,A,b,j){if(u.redirectTo||!d(u,A,b,j))return(0,Q.of)(null);let ge;if("**"===u.path){const me=b.length>0?$(b).parameters:{},ke=Vr(A)+b.length,rt=new os(b,me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mo(u),er(u),u.component??u._loadedComponent??null,u,Br(A),ke,hs(u),ke);ge=(0,Q.of)({snapshot:rt,consumedSegments:[],remainingSegments:[]})}else ge=Be(A,u,b,g).pipe((0,Ut.U)(({matched:me,consumedSegments:ke,remainingSegments:rt,parameters:bt})=>{if(!me)return null;const pt=Vr(A)+ke.length;return{snapshot:new os(ke,bt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mo(u),er(u),u.component??u._loadedComponent??null,u,Br(A),pt,hs(u),pt),consumedSegments:ke,remainingSegments:rt}}));return ge.pipe(Fe(me=>{if(null===me)return(0,Q.of)(null);const{snapshot:ke,consumedSegments:rt,remainingSegments:bt}=me;g=u._injector??g;const pt=u._loadedInjector??g,cn=function An(f){return f.children?f.children:f.loadChildren?f._loadedRoutes:[]}(u),{segmentGroup:tr,slicedSegments:Fr}=ht(A,rt,bt,cn.filter(dr=>void 0===dr.redirectTo),this.relativeLinkResolution);if(0===Fr.length&&tr.hasChildren())return this.processChildren(pt,cn,tr).pipe((0,Ut.U)(dr=>null===dr?null:[new pr(ke,dr)]));if(0===cn.length&&0===Fr.length)return(0,Q.of)([new pr(ke,[])]);const vo=er(u)===j;return this.processSegment(pt,cn,tr,Fr,vo?_t:j).pipe((0,Ut.U)(dr=>null===dr?null:[new pr(ke,dr)]))}))}}function Xr(f){const g=f.value.routeConfig;return g&&""===g.path&&void 0===g.redirectTo}function Tr(f){const g=[],u=new Set;for(const A of f){if(!Xr(A)){g.push(A);continue}const b=g.find(j=>A.value.routeConfig===j.value.routeConfig);void 0!==b?(b.children.push(...A.children),u.add(b)):g.push(A)}for(const A of u){const b=Tr(A.children);g.push(new pr(A.value,b))}return g.filter(A=>!u.has(A))}function Br(f){let g=f;for(;g._sourceSegment;)g=g._sourceSegment;return g}function Vr(f){let g=f,u=g._segmentIndexShift??0;for(;g._sourceSegment;)g=g._sourceSegment,u+=g._segmentIndexShift??0;return u-1}function mo(f){return f.data||{}}function hs(f){return f.resolve||{}}function Jt(f){return"string"==typeof f.title||null===f.title}function En(f){return Fe(g=>{const u=f(g);return u?(0,h.D)(u).pipe((0,Ut.U)(()=>g)):(0,Q.of)(g)})}let Ur=(()=>{class f{buildTitle(u){let A,b=u.root;for(;void 0!==b;)A=this.getResolvedTitleForRoute(b)??A,b=b.children.find(j=>j.outlet===_t);return A}getResolvedTitleForRoute(u){return u.data[O]}}return f.\u0275fac=function(u){return new(u||f)},f.\u0275prov=i.Yz7({token:f,factory:function(){return(0,i.f3M)(jn)},providedIn:"root"}),f})(),jn=(()=>{class f extends Ur{constructor(u){super(),this.title=u}updateTitle(u){const A=this.buildTitle(u);void 0!==A&&this.title.setTitle(A)}}return f.\u0275fac=function(u){return new(u||f)(i.LFG(Wt.Dx))},f.\u0275prov=i.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class mn{}class Hi extends class vr{shouldDetach(g){return!1}store(g,u){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,u){return g.routeConfig===u.routeConfig}}{}const gr=new i.OlP("",{providedIn:"root",factory:()=>({})}),Hr=new i.OlP("ROUTES");let ts=(()=>{class f{constructor(u,A){this.injector=u,this.compiler=A,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(u){if(this.componentLoaders.get(u))return this.componentLoaders.get(u);if(u._loadedComponent)return(0,Q.of)(u._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(u);const A=q(u.loadComponent()).pipe(Qe(j=>{this.onLoadEndListener&&this.onLoadEndListener(u),u._loadedComponent=j}),Xt(()=>{this.componentLoaders.delete(u)})),b=new Oe(A,()=>new le.x).pipe(pe());return this.componentLoaders.set(u,b),b}loadChildren(u,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,Q.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const j=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,Ut.U)(me=>{this.onLoadEndListener&&this.onLoadEndListener(A);let ke,rt,bt=!1;Array.isArray(me)?rt=me:(ke=me.create(u).injector,rt=H(ke.get(Hr,[],i.XFs.Self|i.XFs.Optional)));return{routes:rt.map(Nt),injector:ke}}),Xt(()=>{this.childrenLoaders.delete(A)})),ge=new Oe(j,()=>new le.x).pipe(pe());return this.childrenLoaders.set(A,ge),ge}loadModuleFactoryOrRoutes(u){return q(u()).pipe((0,tn.z)(A=>A instanceof i.YKP||Array.isArray(A)?(0,Q.of)(A):(0,h.D)(this.compiler.compileModuleAsync(A))))}}return f.\u0275fac=function(u){return new(u||f)(i.LFG(i.zs3),i.LFG(i.Sil))},f.\u0275prov=i.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class Tu{}class Ta{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,u){return g}}function va(f){throw f}function Aa(f,g,u){return g.parse("/")}const vu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},di={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ia(){const f=(0,i.f3M)(Sn),g=(0,i.f3M)(Bt),u=(0,i.f3M)(ne.Ye),A=(0,i.f3M)(i.zs3),b=(0,i.f3M)(i.Sil),j=(0,i.f3M)(Hr,{optional:!0})??[],ge=(0,i.f3M)(gr,{optional:!0})??{},me=(0,i.f3M)(jn),ke=(0,i.f3M)(Ur,{optional:!0}),rt=(0,i.f3M)(Tu,{optional:!0}),bt=(0,i.f3M)(mn,{optional:!0}),pt=new Fn(null,f,g,u,A,b,H(j));return rt&&(pt.urlHandlingStrategy=rt),bt&&(pt.routeReuseStrategy=bt),pt.titleStrategy=ke??me,function ko(f,g){f.errorHandler&&(g.errorHandler=f.errorHandler),f.malformedUriErrorHandler&&(g.malformedUriErrorHandler=f.malformedUriErrorHandler),f.onSameUrlNavigation&&(g.onSameUrlNavigation=f.onSameUrlNavigation),f.paramsInheritanceStrategy&&(g.paramsInheritanceStrategy=f.paramsInheritanceStrategy),f.relativeLinkResolution&&(g.relativeLinkResolution=f.relativeLinkResolution),f.urlUpdateStrategy&&(g.urlUpdateStrategy=f.urlUpdateStrategy),f.canceledNavigationResolution&&(g.canceledNavigationResolution=f.canceledNavigationResolution)}(ge,pt),pt}let Fn=(()=>{class f{constructor(u,A,b,j,ge,me,ke){this.rootComponentType=u,this.urlSerializer=A,this.rootContexts=b,this.location=j,this.config=ke,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new le.x,this.errorHandler=va,this.malformedUriErrorHandler=Aa,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Q.of)(void 0),this.urlHandlingStrategy=new Ta,this.routeReuseStrategy=new Hi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ge.get(ts),this.configLoader.onLoadEndListener=cn=>this.triggerEvent(new ro(cn)),this.configLoader.onLoadStartListener=cn=>this.triggerEvent(new Ys(cn)),this.ngModule=ge.get(i.h0i),this.console=ge.get(i.c2e);const pt=ge.get(i.R0b);this.isNgZoneEnabled=pt instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(ke),this.currentUrlTree=function Ce(){return new gt(new ft([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kr(this.currentUrlTree,this.rootComponentType),this.transitions=new Ee.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(u){const A=this.events;return u.pipe((0,ze.h)(b=>0!==b.id),(0,Ut.U)(b=>({...b,extractedUrl:this.urlHandlingStrategy.extract(b.rawUrl)})),Fe(b=>{let j=!1,ge=!1;return(0,Q.of)(b).pipe(Qe(me=>{this.currentNavigation={id:me.id,initialUrl:me.rawUrl,extractedUrl:me.extractedUrl,trigger:me.source,extras:me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fe(me=>{const ke=this.browserUrlTree.toString(),rt=!this.navigated||me.extractedUrl.toString()!==ke||ke!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||rt)&&this.urlHandlingStrategy.shouldProcessUrl(me.rawUrl))return Ws(me.source)&&(this.browserUrlTree=me.extractedUrl),(0,Q.of)(me).pipe(Fe(pt=>{const cn=this.transitions.getValue();return A.next(new $r(pt.id,this.serializeUrl(pt.extractedUrl),pt.source,pt.restoredState)),cn!==this.transitions.getValue()?se.E:Promise.resolve(pt)}),function Gt(f,g,u,A){return Fe(b=>function mt(f,g,u,A,b){return new Ht(f,g,u,A,b).apply()}(f,g,u,b.extractedUrl,A).pipe((0,Ut.U)(j=>({...b,urlAfterRedirects:j}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Qe(pt=>{this.currentNavigation={...this.currentNavigation,finalUrl:pt.urlAfterRedirects},b.urlAfterRedirects=pt.urlAfterRedirects}),function br(f,g,u,A,b,j){return(0,tn.z)(ge=>function sn(f,g,u,A,b,j,ge="emptyOnly",me="legacy"){return new Pn(f,g,u,A,b,ge,me,j).recognize().pipe(Fe(ke=>null===ke?function $t(f){return new v.y(g=>g.error(f))}(new xt):(0,Q.of)(ke)))}(f,g,u,ge.urlAfterRedirects,A.serialize(ge.urlAfterRedirects),A,b,j).pipe((0,Ut.U)(me=>({...ge,targetSnapshot:me}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Qe(pt=>{if(b.targetSnapshot=pt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!pt.extras.skipLocationChange){const tr=this.urlHandlingStrategy.merge(pt.urlAfterRedirects,pt.rawUrl);this.setBrowserUrl(tr,pt)}this.browserUrlTree=pt.urlAfterRedirects}const cn=new Do(pt.id,this.serializeUrl(pt.extractedUrl),this.serializeUrl(pt.urlAfterRedirects),pt.targetSnapshot);A.next(cn)}));if(rt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:cn,extractedUrl:tr,source:Fr,restoredState:vo,extras:dr}=me,pi=new $r(cn,this.serializeUrl(tr),Fr,vo);A.next(pi);const Ls=kr(tr,this.rootComponentType).snapshot;return b={...me,targetSnapshot:Ls,urlAfterRedirects:tr,extras:{...dr,skipLocationChange:!1,replaceUrl:!1}},(0,Q.of)(b)}return this.rawUrlTree=me.rawUrl,me.resolve(null),se.E}),Qe(me=>{const ke=new ti(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot);this.triggerEvent(ke)}),(0,Ut.U)(me=>b={...me,guards:Qr(me.targetSnapshot,me.currentSnapshot,this.rootContexts)}),function yr(f,g){return(0,tn.z)(u=>{const{targetSnapshot:A,currentSnapshot:b,guards:{canActivateChecks:j,canDeactivateChecks:ge}}=u;return 0===ge.length&&0===j.length?(0,Q.of)({...u,guardsResult:!0}):function po(f,g,u,A){return(0,h.D)(f).pipe((0,tn.z)(b=>function D(f,g,u,A,b){const j=g&&g.routeConfig?g.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,Q.of)(!0);const ge=j.map(me=>{const ke=Ms(g)??b,rt=Vt(me,ke);return q(function ai(f){return f&&Vn(f.canDeactivate)}(rt)?rt.canDeactivate(f,g,u,A):ke.runInContext(()=>rt(f,g,u,A))).pipe(Mt())});return(0,Q.of)(ge).pipe(cr())}(b.component,b.route,u,g,A)),Mt(b=>!0!==b,!0))}(ge,A,b,f).pipe((0,tn.z)(me=>me&&function ar(f){return"boolean"==typeof f}(me)?function Uo(f,g,u,A){return(0,h.D)(g).pipe((0,rn.b)(b=>X(function li(f,g){return null!==f&&g&&g(new Bs(f)),(0,Q.of)(!0)}(b.route.parent,A),function ci(f,g){return null!==f&&g&&g(new ni(f)),(0,Q.of)(!0)}(b.route,A),function Eo(f,g,u){const A=g[g.length-1],j=g.slice(0,g.length-1).reverse().map(ge=>function Ze(f){const g=f.routeConfig?f.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:f,guards:g}:null}(ge)).filter(ge=>null!==ge).map(ge=>te(()=>{const me=ge.guards.map(ke=>{const rt=Ms(ge.node)??u,bt=Vt(ke,rt);return q(function ii(f){return f&&Vn(f.canActivateChild)}(bt)?bt.canActivateChild(A,f):rt.runInContext(()=>bt(A,f))).pipe(Mt())});return(0,Q.of)(me).pipe(cr())}));return(0,Q.of)(j).pipe(cr())}(f,b.path,u),function go(f,g,u){const A=g.routeConfig?g.routeConfig.canActivate:null;if(!A||0===A.length)return(0,Q.of)(!0);const b=A.map(j=>te(()=>{const ge=Ms(g)??u,me=Vt(j,ge);return q(function ho(f){return f&&Vn(f.canActivate)}(me)?me.canActivate(g,f):ge.runInContext(()=>me(g,f))).pipe(Mt())}));return(0,Q.of)(b).pipe(cr())}(f,b.route,u))),Mt(b=>!0!==b,!0))}(A,j,f,g):(0,Q.of)(me)),(0,Ut.U)(me=>({...u,guardsResult:me})))})}(this.ngModule.injector,me=>this.triggerEvent(me)),Qe(me=>{if(b.guardsResult=me.guardsResult,On(me.guardsResult))throw as(0,me.guardsResult);const ke=new no(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot,!!me.guardsResult);this.triggerEvent(ke)}),(0,ze.h)(me=>!!me.guardsResult||(this.restoreHistory(me),this.cancelNavigationTransition(me,"",3),!1)),En(me=>{if(me.guards.canActivateChecks.length)return(0,Q.of)(me).pipe(Qe(ke=>{const rt=new Oo(ke.id,this.serializeUrl(ke.extractedUrl),this.serializeUrl(ke.urlAfterRedirects),ke.targetSnapshot);this.triggerEvent(rt)}),Fe(ke=>{let rt=!1;return(0,Q.of)(ke).pipe(function Fo(f,g){return(0,tn.z)(u=>{const{targetSnapshot:A,guards:{canActivateChecks:b}}=u;if(!b.length)return(0,Q.of)(u);let j=0;return(0,h.D)(b).pipe((0,rn.b)(ge=>function xo(f,g,u,A){const b=f.routeConfig,j=f._resolve;return void 0!==b?.title&&!Jt(b)&&(j[O]=b.title),function St(f,g,u,A){const b=function Dt(f){return[...Object.keys(f),...Object.getOwnPropertySymbols(f)]}(f);if(0===b.length)return(0,Q.of)({});const j={};return(0,h.D)(b).pipe((0,tn.z)(ge=>function Rt(f,g,u,A){const b=Ms(g)??A,j=Vt(f,b);return q(j.resolve?j.resolve(g,u):b.runInContext(()=>j(g,u)))}(f[ge],g,u,A).pipe(Mt(),Qe(me=>{j[ge]=me}))),at(1),function bn(f){return(0,Ut.U)(()=>f)}(j),(0,wt.K)(ge=>ur(ge)?se.E:(0,Se._)(ge)))}(j,f,g,A).pipe((0,Ut.U)(ge=>(f._resolvedData=ge,f.data=io(f,u).resolve,b&&Jt(b)&&(f.data[O]=b.title),null)))}(ge.route,A,f,g)),Qe(()=>j++),at(1),(0,tn.z)(ge=>j===b.length?(0,Q.of)(u):se.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Qe({next:()=>rt=!0,complete:()=>{rt||(this.restoreHistory(ke),this.cancelNavigationTransition(ke,"",2))}}))}),Qe(ke=>{const rt=new Jr(ke.id,this.serializeUrl(ke.extractedUrl),this.serializeUrl(ke.urlAfterRedirects),ke.targetSnapshot);this.triggerEvent(rt)}))}),En(me=>{const ke=rt=>{const bt=[];rt.routeConfig?.loadComponent&&!rt.routeConfig._loadedComponent&&bt.push(this.configLoader.loadComponent(rt.routeConfig).pipe(Qe(pt=>{rt.component=pt}),(0,Ut.U)(()=>{})));for(const pt of rt.children)bt.push(...ke(pt));return bt};return x(ke(me.targetSnapshot.root)).pipe(Ct(),(0,tt.q)(1))}),En(()=>this.afterPreactivation()),(0,Ut.U)(me=>{const ke=function wo(f,g,u){const A=Rs(f,g._root,u?u._root:void 0);return new Hs(A,g)}(this.routeReuseStrategy,me.targetSnapshot,me.currentRouterState);return b={...me,targetRouterState:ke}}),Qe(me=>{this.currentUrlTree=me.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(me.urlAfterRedirects,me.rawUrl),this.routerState=me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,me),this.browserUrlTree=me.urlAfterRedirects)}),((f,g,u)=>(0,Ut.U)(A=>(new bo(g,A.targetRouterState,A.currentRouterState,u).activate(f),A)))(this.rootContexts,this.routeReuseStrategy,me=>this.triggerEvent(me)),Qe({next(){j=!0},complete(){j=!0}}),Xt(()=>{j||ge||this.cancelNavigationTransition(b,"",1),this.currentNavigation?.id===b.id&&(this.currentNavigation=null)}),(0,wt.K)(me=>{if(ge=!0,co(me)){js(me)||(this.navigated=!0,this.restoreHistory(b,!0));const ke=new Gr(b.id,this.serializeUrl(b.extractedUrl),me.message,me.cancellationCode);if(A.next(ke),js(me)){const rt=this.urlHandlingStrategy.merge(me.url,this.rawUrlTree),bt={skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ws(b.source)};this.scheduleNavigation(rt,"imperative",null,bt,{resolve:b.resolve,reject:b.reject,promise:b.promise})}else b.resolve(!1)}else{this.restoreHistory(b,!0);const ke=new Zn(b.id,this.serializeUrl(b.extractedUrl),me,b.targetSnapshot??void 0);A.next(ke);try{b.resolve(this.errorHandler(me))}catch(rt){b.reject(rt)}}return se.E}))}))}resetRootComponentType(u){this.rootComponentType=u,this.routerState.root.component=this.rootComponentType}setTransition(u){this.transitions.next({...this.transitions.value,...u})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(u=>{const A="popstate"===u.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{const b={replaceUrl:!0},j=u.state?.navigationId?u.state:null;if(j){const me={...j};delete me.navigationId,delete me.\u0275routerPageId,0!==Object.keys(me).length&&(b.state=me)}const ge=this.parseUrl(u.url);this.scheduleNavigation(ge,A,j,b)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(u){this.events.next(u)}resetConfig(u){this.config=u.map(Nt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(u,A={}){const{relativeTo:b,queryParams:j,fragment:ge,queryParamsHandling:me,preserveFragment:ke}=A,rt=b||this.routerState.root,bt=ke?this.currentUrlTree.fragment:ge;let pt=null;switch(me){case"merge":pt={...this.currentUrlTree.queryParams,...j};break;case"preserve":pt=this.currentUrlTree.queryParams;break;default:pt=j||null}return null!==pt&&(pt=this.removeEmptyProps(pt)),ys(rt,this.currentUrlTree,u,pt,bt??null)}navigateByUrl(u,A={skipLocationChange:!1}){const b=On(u)?u:this.parseUrl(u),j=this.urlHandlingStrategy.merge(b,this.rawUrlTree);return this.scheduleNavigation(j,"imperative",null,A)}navigate(u,A={skipLocationChange:!1}){return function Ra(f){for(let g=0;g<f.length;g++){if(null==f[g])throw new i.vHH(4008,false)}}(u),this.navigateByUrl(this.createUrlTree(u,A),A)}serializeUrl(u){return this.urlSerializer.serialize(u)}parseUrl(u){let A;try{A=this.urlSerializer.parse(u)}catch(b){A=this.malformedUriErrorHandler(b,this.urlSerializer,u)}return A}isActive(u,A){let b;if(b=!0===A?{...vu}:!1===A?{...di}:A,On(u))return Le(this.currentUrlTree,u,b);const j=this.parseUrl(u);return Le(this.currentUrlTree,j,b)}removeEmptyProps(u){return Object.keys(u).reduce((A,b)=>{const j=u[b];return null!=j&&(A[b]=j),A},{})}processNavigations(){this.navigations.subscribe(u=>{this.navigated=!0,this.lastSuccessfulId=u.id,this.currentPageId=u.targetPageId,this.events.next(new gn(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),u.resolve(!0)},u=>{this.console.warn(`Unhandled Navigation Error: ${u}`)})}scheduleNavigation(u,A,b,j,ge){if(this.disposed)return Promise.resolve(!1);let me,ke,rt;ge?(me=ge.resolve,ke=ge.reject,rt=ge.promise):rt=new Promise((cn,tr)=>{me=cn,ke=tr});const bt=++this.navigationId;let pt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(b=this.location.getState()),pt=b&&b.\u0275routerPageId?b.\u0275routerPageId:j.replaceUrl||j.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):pt=0,this.setTransition({id:bt,targetPageId:pt,source:A,restoredState:b,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:u,extras:j,resolve:me,reject:ke,promise:rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rt.catch(cn=>Promise.reject(cn))}setBrowserUrl(u,A){const b=this.urlSerializer.serialize(u),j={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.isCurrentPathEqualTo(b)||A.extras.replaceUrl?this.location.replaceState(b,"",j):this.location.go(b,"",j)}restoreHistory(u,A=!1){if("computed"===this.canceledNavigationResolution){const b=this.currentPageId-u.targetPageId;"popstate"!==u.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===b?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===b&&(this.resetState(u),this.browserUrlTree=u.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(b)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(u),this.resetUrlToCurrentUrlTree())}resetState(u){this.routerState=u.currentRouterState,this.currentUrlTree=u.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,u.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(u,A,b){const j=new Gr(u.id,this.serializeUrl(u.extractedUrl),A,b);this.triggerEvent(j),u.resolve(!1)}generateNgRouterState(u,A){return"computed"===this.canceledNavigationResolution?{navigationId:u,\u0275routerPageId:A}:{navigationId:u}}}return f.\u0275fac=function(u){i.$Z()},f.\u0275prov=i.Yz7({token:f,factory:function(){return Ia()},providedIn:"root"}),f})();function Ws(f){return"imperative"!==f}let fi=(()=>{class f{constructor(u,A,b,j,ge){this.router=u,this.route=A,this.tabIndexAttribute=b,this.renderer=j,this.el=ge,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new le.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(u){this._preserveFragment=(0,i.D6c)(u)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(u){this._skipLocationChange=(0,i.D6c)(u)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(u){this._replaceUrl=(0,i.D6c)(u)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(u){if(null!=this.tabIndexAttribute)return;const A=this.renderer,b=this.el.nativeElement;null!==u?A.setAttribute(b,"tabindex",u):A.removeAttribute(b,"tabindex")}ngOnChanges(u){this.onChanges.next(this)}set routerLink(u){null!=u?(this.commands=Array.isArray(u)?u:[u],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return f.\u0275fac=function(u){return new(u||f)(i.Y36(Fn),i.Y36(zr),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},f.\u0275dir=i.lG2({type:f,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(u,A){1&u&&i.NdJ("click",function(){return A.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),f})(),Yo=(()=>{class f{constructor(u,A,b){this.router=u,this.route=A,this.locationStrategy=b,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new le.x,this.subscription=u.events.subscribe(j=>{j instanceof gn&&this.updateTargetUrlAndHref()})}set preserveFragment(u){this._preserveFragment=(0,i.D6c)(u)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(u){this._skipLocationChange=(0,i.D6c)(u)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(u){this._replaceUrl=(0,i.D6c)(u)}get replaceUrl(){return this._replaceUrl}set routerLink(u){this.commands=null!=u?Array.isArray(u)?u:[u]:null}ngOnChanges(u){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(u,A,b,j,ge){return!!(0!==u||A||b||j||ge||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return f.\u0275fac=function(u){return new(u||f)(i.Y36(Fn),i.Y36(zr),i.Y36(ne.S$))},f.\u0275dir=i.lG2({type:f,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(u,A){1&u&&i.NdJ("click",function(j){return A.onClick(j.button,j.ctrlKey,j.shiftKey,j.altKey,j.metaKey)}),2&u&&i.uIk("target",A.target)("href",A.href,i.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),f})();class ji{}let $i=(()=>{class f{preload(u,A){return A().pipe((0,wt.K)(()=>(0,Q.of)(null)))}}return f.\u0275fac=function(u){return new(u||f)},f.\u0275prov=i.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),So=(()=>{class f{constructor(u,A,b,j,ge){this.router=u,this.injector=b,this.preloadingStrategy=j,this.loader=ge}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.h)(u=>u instanceof gn),(0,rn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(u,A){const b=[];for(const j of A){j.providers&&!j._injector&&(j._injector=(0,i.MMx)(j.providers,u,`Route: ${j.path}`));const ge=j._injector??u,me=j._loadedInjector??ge;j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent?b.push(this.preloadConfig(ge,j)):(j.children||j._loadedRoutes)&&b.push(this.processRoutes(me,j.children??j._loadedRoutes))}return(0,h.D)(b).pipe((0,l.J)())}preloadConfig(u,A){return this.preloadingStrategy.preload(A,()=>{let b;b=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(u,A):(0,Q.of)(null);const j=b.pipe((0,tn.z)(ge=>null===ge?(0,Q.of)(void 0):(A._loadedRoutes=ge.routes,A._loadedInjector=ge.injector,this.processRoutes(ge.injector??u,ge.routes))));if(A.loadComponent&&!A._loadedComponent){const ge=this.loader.loadComponent(A);return(0,h.D)([j,ge]).pipe((0,l.J)())}return j})}}return f.\u0275fac=function(u){return new(u||f)(i.LFG(Fn),i.LFG(i.Sil),i.LFG(i.lqb),i.LFG(ji),i.LFG(ts))},f.\u0275prov=i.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Ps=new i.OlP("");let Ji=(()=>{class f{constructor(u,A,b={}){this.router=u,this.viewportScroller=A,this.options=b,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},b.scrollPositionRestoration=b.scrollPositionRestoration||"disabled",b.anchorScrolling=b.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(u=>{u instanceof $r?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=u.navigationTrigger,this.restoredId=u.restoredState?u.restoredState.navigationId:0):u instanceof gn&&(this.lastId=u.id,this.scheduleScrollEvent(u,this.router.parseUrl(u.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(u=>{u instanceof Mo&&(u.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(u.position):u.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(u.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(u,A){this.router.triggerEvent(new Mo(u,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return f.\u0275fac=function(u){i.$Z()},f.\u0275prov=i.Yz7({token:f,factory:f.\u0275fac}),f})();function _o(f,g){return{\u0275kind:f,\u0275providers:g}}function un(f){return[{provide:Hr,multi:!0,useValue:f}]}function Ru(){const f=(0,i.f3M)(i.zs3);return g=>{const u=f.get(i.z2F);if(g!==u.components[0])return;const A=f.get(Fn),b=f.get(Du);1===f.get(Da)&&A.initialNavigation(),f.get(yo,null,i.XFs.Optional)?.setUpPreloading(),f.get(Ps,null,i.XFs.Optional)?.init(),A.resetRootComponentType(u.componentTypes[0]),b.next(),b.complete()}}const Du=new i.OlP("",{factory:()=>new le.x}),Da=new i.OlP("",{providedIn:"root",factory:()=>1});const yo=new i.OlP("");function Jl(f){return _o(0,[{provide:yo,useExisting:So},{provide:ji,useExisting:f}])}const To=new i.OlP("ROUTER_FORROOT_GUARD"),Wl=[ne.Ye,{provide:Sn,useClass:Un},{provide:Fn,useFactory:Ia},Bt,{provide:zr,useFactory:function Iu(f){return f.routerState.root},deps:[Fn]},ts];function Ou(){return new i.PXZ("Router",Fn)}let Ar=(()=>{class f{constructor(u){}static forRoot(u,A){return{ngModule:f,providers:[Wl,[],un(u),{provide:To,useFactory:Ho,deps:[[Fn,new i.FiY,new i.tp0]]},{provide:gr,useValue:A||{}},A?.useHash?{provide:ne.S$,useClass:ne.Do}:{provide:ne.S$,useClass:ne.b0},{provide:Ps,useFactory:()=>{const f=(0,i.f3M)(Fn),g=(0,i.f3M)(ne.EM),u=(0,i.f3M)(gr);return u.scrollOffset&&g.setOffset(u.scrollOffset),new Ji(f,g,u)}},A?.preloadingStrategy?Jl(A.preloadingStrategy).\u0275providers:[],{provide:i.PXZ,multi:!0,useFactory:Ou},A?.initialNavigation?Ma(A):[],[{provide:wa,useFactory:Ru},{provide:i.tb,multi:!0,useExisting:wa}]]}}static forChild(u){return{ngModule:f,providers:[un(u)]}}}return f.\u0275fac=function(u){return new(u||f)(i.LFG(To,8))},f.\u0275mod=i.oAB({type:f}),f.\u0275inj=i.cJS({imports:[Js]}),f})();function Ho(f){return"guarded"}function Ma(f){return["disabled"===f.initialNavigation?_o(3,[{provide:i.ip1,multi:!0,useFactory:()=>{const g=(0,i.f3M)(Fn);return()=>{g.setUpLocationChangeListener()}}},{provide:Da,useValue:2}]).\u0275providers:[],"enabledBlocking"===f.initialNavigation?_o(2,[{provide:Da,useValue:0},{provide:i.ip1,multi:!0,deps:[i.zs3],useFactory:g=>{const u=g.get(ne.V_,Promise.resolve());let A=!1;return()=>u.then(()=>new Promise(j=>{const ge=g.get(Fn),me=g.get(Du);(function b(j){g.get(Fn).events.pipe((0,ze.h)(me=>me instanceof gn||me instanceof Gr||me instanceof Zn),(0,Ut.U)(me=>me instanceof gn||me instanceof Gr&&(0===me.code||1===me.code)&&null),(0,ze.h)(me=>null!==me),(0,tt.q)(1)).subscribe(()=>{j()})})(()=>{j(!0),A=!0}),ge.afterPreactivation=()=>(j(!0),A||me.closed?(0,Q.of)(void 0):me),ge.initialNavigation()}))}}]).\u0275providers:[]]}const wa=new i.OlP("")},7185:(Tt,Me,E)=>{"use strict";E.d(Me,{Rh:()=>tt,_W:()=>Fe});var i=E(8256),y=E(7340),p=E(7579),v=E(6895),C=E(1481);const h=["toast-component",""];function S(je,Qe){if(1&je){const Pe=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){i.CHM(Pe);const at=i.oxw();return i.KtG(at.remove())}),i.TgZ(1,"span",6),i._uU(2,"\xd7"),i.qZA()()}}function T(je,Qe){if(1&je&&(i.ynx(0),i._uU(1),i.BQk()),2&je){const Pe=i.oxw(2);i.xp6(1),i.hij("[",Pe.duplicatesCount+1,"]")}}function w(je,Qe){if(1&je&&(i.TgZ(0,"div"),i._uU(1),i.YNc(2,T,2,1,"ng-container",4),i.qZA()),2&je){const Pe=i.oxw();i.Tol(Pe.options.titleClass),i.uIk("aria-label",Pe.title),i.xp6(1),i.hij(" ",Pe.title," "),i.xp6(1),i.Q6J("ngIf",Pe.duplicatesCount)}}function _(je,Qe){if(1&je&&i._UZ(0,"div",7),2&je){const Pe=i.oxw();i.Tol(Pe.options.messageClass),i.Q6J("innerHTML",Pe.message,i.oJD)}}function I(je,Qe){if(1&je&&(i.TgZ(0,"div",8),i._uU(1),i.qZA()),2&je){const Pe=i.oxw();i.Tol(Pe.options.messageClass),i.uIk("aria-label",Pe.message),i.xp6(1),i.hij(" ",Pe.message," ")}}function P(je,Qe){if(1&je&&(i.TgZ(0,"div"),i._UZ(1,"div",9),i.qZA()),2&je){const Pe=i.oxw();i.xp6(1),i.Udp("width",Pe.width+"%")}}class ae{constructor(Qe,Pe){this.component=Qe,this.injector=Pe}attach(Qe,Pe){return this._attachedHost=Qe,Qe.attach(this,Pe)}detach(){const Qe=this._attachedHost;if(Qe)return this._attachedHost=void 0,Qe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Qe){this._attachedHost=Qe}}class pe{constructor(Qe,Pe,Ye,at,lt,dn){this.toastId=Qe,this.config=Pe,this.message=Ye,this.title=at,this.toastType=lt,this.toastRef=dn,this._onTap=new p.x,this._onAction=new p.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Qe){this._onAction.next(Qe)}onAction(){return this._onAction.asObservable()}}const Q=new i.OlP("ToastConfig");class Ee{constructor(Qe){this._overlayRef=Qe,this.duplicatesCount=0,this._afterClosed=new p.x,this._activate=new p.x,this._manualClose=new p.x,this._resetTimeout=new p.x,this._countDuplicate=new p.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Qe,Pe){Qe&&this._resetTimeout.next(),Pe&&this._countDuplicate.next(++this.duplicatesCount)}}class He{constructor(Qe,Pe){this._toastPackage=Qe,this._parentInjector=Pe}get(Qe,Pe,Ye){return Qe===pe?this._toastPackage:this._parentInjector.get(Qe,Pe,Ye)}}class Se extends class ie{attach(Qe,Pe){return this._attachedPortal=Qe,this.attachComponentPortal(Qe,Pe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Qe){this._disposeFn=Qe}}{constructor(Qe,Pe,Ye){super(),this._hostDomElement=Qe,this._componentFactoryResolver=Pe,this._appRef=Ye}attachComponentPortal(Qe,Pe){const Ye=this._componentFactoryResolver.resolveComponentFactory(Qe.component);let at;return at=Ye.create(Qe.injector),this._appRef.attachView(at.hostView),this.setDisposeFn(()=>{this._appRef.detachView(at.hostView),at.destroy()}),Pe?this._hostDomElement.insertBefore(this._getComponentRootNode(at),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(at)),at}_getComponentRootNode(Qe){return Qe.hostView.rootNodes[0]}}class se{constructor(Qe){this._portalHost=Qe}attach(Qe,Pe=!0){return this._portalHost.attach(Qe,Pe)}detach(){return this._portalHost.detach()}}let le=(()=>{class je{constructor(Pe){this._document=Pe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Pe=this._document.createElement("div");Pe.classList.add("overlay-container"),Pe.setAttribute("aria-live","polite"),this._document.body.appendChild(Pe),this._containerElement=Pe}}return je.\u0275fac=function(Pe){return new(Pe||je)(i.LFG(v.K0))},je.\u0275prov=i.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),ne=(()=>{class je{constructor(Pe,Ye,at,lt){this._overlayContainer=Pe,this._componentFactoryResolver=Ye,this._appRef=at,this._document=lt,this._paneElements=new Map}create(Pe,Ye){return this._createOverlayRef(this.getPaneElement(Pe,Ye))}getPaneElement(Pe="",Ye){return this._paneElements.get(Ye)||this._paneElements.set(Ye,{}),this._paneElements.get(Ye)[Pe]||(this._paneElements.get(Ye)[Pe]=this._createPaneElement(Pe,Ye)),this._paneElements.get(Ye)[Pe]}_createPaneElement(Pe,Ye){const at=this._document.createElement("div");return at.id="toast-container",at.classList.add(Pe),at.classList.add("toast-container"),Ye?Ye.getContainerElement().appendChild(at):this._overlayContainer.getContainerElement().appendChild(at),at}_createPortalHost(Pe){return new Se(Pe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Pe){return new se(this._createPortalHost(Pe))}}return je.\u0275fac=function(Pe){return new(Pe||je)(i.LFG(le),i.LFG(i._Vd),i.LFG(i.z2F),i.LFG(v.K0))},je.\u0275prov=i.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),Fe=(()=>{class je{constructor(Pe,Ye,at,lt,dn){this.overlay=Ye,this._injector=at,this.sanitizer=lt,this.ngZone=dn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Pe.default,...Pe.config},Pe.config.iconClasses&&(this.toastrConfig.iconClasses={...Pe.default.iconClasses,...Pe.config.iconClasses})}show(Pe,Ye,at={},lt=""){return this._preBuildNotification(lt,Pe,Ye,this.applyConfig(at))}success(Pe,Ye,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Pe,Ye,this.applyConfig(at))}error(Pe,Ye,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Pe,Ye,this.applyConfig(at))}info(Pe,Ye,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Pe,Ye,this.applyConfig(at))}warning(Pe,Ye,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Pe,Ye,this.applyConfig(at))}clear(Pe){for(const Ye of this.toasts)if(void 0!==Pe){if(Ye.toastId===Pe)return void Ye.toastRef.manualClose()}else Ye.toastRef.manualClose()}remove(Pe){const Ye=this._findToast(Pe);if(!Ye||(Ye.activeToast.toastRef.close(),this.toasts.splice(Ye.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const at=this.toasts[this.currentlyActive].toastRef;at.isInactive()||(this.currentlyActive=this.currentlyActive+1,at.activate())}return!0}findDuplicate(Pe="",Ye="",at,lt){const{includeTitleDuplicates:dn}=this.toastrConfig;for(const Ut of this.toasts){const bn=dn&&Ut.title===Pe;if((!dn||bn)&&Ut.message===Ye)return Ut.toastRef.onDuplicate(at,lt),Ut}return null}applyConfig(Pe={}){return{...this.toastrConfig,...Pe}}_findToast(Pe){for(let Ye=0;Ye<this.toasts.length;Ye++)if(this.toasts[Ye].toastId===Pe)return{index:Ye,activeToast:this.toasts[Ye]};return null}_preBuildNotification(Pe,Ye,at,lt){return lt.onActivateTick?this.ngZone.run(()=>this._buildNotification(Pe,Ye,at,lt)):this._buildNotification(Pe,Ye,at,lt)}_buildNotification(Pe,Ye,at,lt){if(!lt.toastComponent)throw new Error("toastComponent required");const dn=this.findDuplicate(at,Ye,this.toastrConfig.resetTimeoutOnDuplicate&&lt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&at||Ye)&&this.toastrConfig.preventDuplicates&&null!==dn)return dn;this.previousToastMessage=Ye;let Ut=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Ut=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const bn=this.overlay.create(lt.positionClass,this.overlayContainer);this.index=this.index+1;let Xt=Ye;Ye&&lt.enableHtml&&(Xt=this.sanitizer.sanitize(i.q3G.HTML,Ye));const tn=new Ee(bn),rn=new pe(this.index,lt,Xt,at,Pe,tn),wt=new He(rn,this._injector),Wt=new ae(lt.toastComponent,wt),_t=bn.attach(Wt,this.toastrConfig.newestOnTop);tn.componentInstance=_t.instance;const O={toastId:this.index,title:at||"",message:Ye||"",toastRef:tn,onShown:tn.afterActivate(),onHidden:tn.afterClosed(),onTap:rn.onTap(),onAction:rn.onAction(),portal:_t};return Ut||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{O.toastRef.activate()})),this.toasts.push(O),O}}return je.\u0275fac=function(Pe){return new(Pe||je)(i.LFG(Q),i.LFG(ne),i.LFG(i.zs3),i.LFG(C.H7),i.LFG(i.R0b))},je.\u0275prov=i.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();const ze={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class je{constructor(Pe,Ye,at){this.toastrService=Pe,this.toastPackage=Ye,this.ngZone=at,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ye.message,this.title=Ye.title,this.options=Ye.config,this.originalTimeout=Ye.config.timeOut,this.toastClasses=`${Ye.toastType} ${Ye.config.toastClass}`,this.sub=Ye.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ye.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ye.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ye.toastRef.countDuplicate().subscribe(lt=>{this.duplicatesCount=lt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Pe=(new Date).getTime();this.width=(this.hideTime-Pe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Pe,Ye){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Pe),Ye)):this.timeout=setTimeout(()=>Pe(),Ye)}outsideInterval(Pe,Ye){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Pe),Ye)):this.intervalId=setInterval(()=>Pe(),Ye)}runInsideAngular(Pe){this.ngZone?this.ngZone.run(()=>Pe()):Pe()}}return je.\u0275fac=function(Pe){return new(Pe||je)(i.Y36(Fe),i.Y36(pe),i.Y36(i.R0b))},je.\u0275cmp=i.Xpm({type:je,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Pe,Ye){1&Pe&&i.NdJ("click",function(){return Ye.tapToast()})("mouseenter",function(){return Ye.stickAround()})("mouseleave",function(){return Ye.delayedHideToast()}),2&Pe&&(i.d8E("@flyInOut",Ye.state),i.Tol(Ye.toastClasses),i.Udp("display",Ye.displayStyle))},attrs:h,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Pe,Ye){1&Pe&&(i.YNc(0,S,3,0,"button",0),i.YNc(1,w,3,5,"div",1),i.YNc(2,_,1,3,"div",2),i.YNc(3,I,2,4,"div",3),i.YNc(4,P,2,2,"div",4)),2&Pe&&(i.Q6J("ngIf",Ye.options.closeButton),i.xp6(1),i.Q6J("ngIf",Ye.title),i.xp6(1),i.Q6J("ngIf",Ye.message&&Ye.options.enableHtml),i.xp6(1),i.Q6J("ngIf",Ye.message&&!Ye.options.enableHtml),i.xp6(1),i.Q6J("ngIf",Ye.options.progressBar))},dependencies:[v.O5],encapsulation:2,data:{animation:[(0,y.X$)("flyInOut",[(0,y.SB)("inactive",(0,y.oB)({opacity:0})),(0,y.SB)("active",(0,y.oB)({opacity:1})),(0,y.SB)("removed",(0,y.oB)({opacity:0})),(0,y.eR)("inactive => active",(0,y.jt)("{{ easeTime }}ms {{ easing }}")),(0,y.eR)("active => removed",(0,y.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),je})()};let tt=(()=>{class je{static forRoot(Pe={}){return{ngModule:je,providers:[{provide:Q,useValue:{default:ze,config:Pe}}]}}}return je.\u0275fac=function(Pe){return new(Pe||je)},je.\u0275mod=i.oAB({type:je}),je.\u0275inj=i.cJS({imports:[v.ez]}),je})()}},Tt=>{Tt(Tt.s=1250)}]);