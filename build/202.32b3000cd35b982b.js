"use strict";(self.webpackChunkvetsched=self.webpackChunkvetsched||[]).push([[202],{3202:(w,g,a)=>{a.r(g),a.d(g,{SignUpModule:()=>q});var d=a(6895),p=a(4564),o=a(433),u=a(9177),f=a(2340),e=a(8256),h=a(3825);const m=function(){return["/login"]};function _(n,s){1&n&&(e.TgZ(0,"a",23),e.O4$(),e.TgZ(1,"svg",24),e._UZ(2,"use",25),e.qZA()()),2&n&&e.Q6J("routerLink",e.DdM(1,m))}const l=function(n){return{redBorder:n}};function U(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"h3"),e._uU(3,"Sign up"),e.qZA(),e.TgZ(4,"div",28)(5,"label",29),e._uU(6,"Select Type"),e.qZA(),e.TgZ(7,"select",30)(8,"option",31),e._uU(9,"Select Type"),e.qZA(),e.TgZ(10,"option",32),e._uU(11,"Service Provider"),e.qZA(),e.TgZ(12,"option",33),e._uU(13,"Pet Lover"),e.qZA()()(),e.TgZ(14,"div",34)(15,"label",29),e._uU(16,"Name"),e.qZA(),e._UZ(17,"input",35),e.qZA(),e.TgZ(18,"div",34)(19,"label",29),e._uU(20,"Email"),e.qZA(),e._UZ(21,"input",36),e.qZA(),e.TgZ(22,"div",34)(23,"label",29),e._uU(24,"Address"),e.qZA(),e._UZ(25,"input",37),e.qZA(),e.TgZ(26,"div",34)(27,"label",29),e._uU(28,"Phone #"),e.qZA(),e._UZ(29,"input",38),e.qZA(),e.TgZ(30,"div",34)(31,"label",29),e._uU(32,"Password"),e.qZA(),e._UZ(33,"input",39),e.TgZ(34,"i",40),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.hide=!r.hide)}),e.qZA()(),e.TgZ(35,"div",34)(36,"label",29),e._uU(37,"Confirm Password"),e.qZA(),e._UZ(38,"input",41),e.TgZ(39,"i",40),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.hideCnf=!r.hideCnf)}),e.qZA()(),e._UZ(40,"br"),e.TgZ(41,"div",42)(42,"a",43),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.signup())}),e._uU(43,"Sign up"),e.qZA(),e.TgZ(44,"p"),e._uU(45," Already have an account? "),e.TgZ(46,"a",6),e._uU(47,"Sign in"),e.qZA()()()()()}if(2&n){const i=e.oxw();e.xp6(1),e.Q6J("formGroup",i.signUpForm),e.xp6(6),e.Q6J("ngClass",e.VKq(12,l,i.signUpForm.controls.profileType.invalid&&(i.signUpForm.controls.profileType.dirty||i.signUpForm.controls.profileType.touched))),e.xp6(10),e.Q6J("ngClass",e.VKq(14,l,i.signUpForm.controls.name.invalid&&(i.signUpForm.controls.name.dirty||i.signUpForm.controls.name.touched))),e.xp6(4),e.Q6J("ngClass",e.VKq(16,l,i.signUpForm.controls.email.invalid&&(i.signUpForm.controls.email.dirty||i.signUpForm.controls.email.touched))),e.xp6(8),e.Q6J("ngClass",e.VKq(18,l,i.signUpForm.controls.phone.invalid&&(i.signUpForm.controls.phone.dirty||i.signUpForm.controls.phone.touched))),e.xp6(4),e.Q6J("type",i.hide?"password":"text")("ngClass",e.VKq(20,l,i.signUpForm.controls.password.invalid&&(i.signUpForm.controls.password.dirty||i.signUpForm.controls.password.touched))),e.xp6(1),e.Q6J("ngClass",i.hide?"fa-eye-slash":"fa-eye"),e.xp6(4),e.Q6J("type",i.hideCnf?"password":"text")("ngClass",e.VKq(22,l,i.signUpForm.controls.confirmPassword.invalid&&(i.signUpForm.controls.confirmPassword.dirty||i.signUpForm.controls.confirmPassword.touched))),e.xp6(1),e.Q6J("ngClass",i.hideCnf?"fa-eye-slash":"fa-eye"),e.xp6(7),e.Q6J("routerLink",e.DdM(24,m))}}function Z(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",44)(1,"div")(2,"div",42)(3,"h3"),e._uU(4,"Email Verification"),e.qZA(),e.TgZ(5,"p"),e._uU(6," Send verification link and code on your Email address, click on link or enter a code. "),e.qZA()(),e._UZ(7,"br")(8,"br"),e.TgZ(9,"div",28)(10,"label",29),e._uU(11,"Code"),e.qZA(),e.TgZ(12,"input",45),e.NdJ("ngModelChange",function(r){e.CHM(i);const c=e.oxw();return e.KtG(c.emailVerificationCode=r)}),e.qZA()(),e._UZ(13,"br"),e.TgZ(14,"div",42)(15,"a",46),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.verifyEmail())}),e._uU(16,"Next"),e.qZA()()()()}if(2&n){const i=e.oxw();e.xp6(12),e.Q6J("ngModel",i.emailVerificationCode)}}function C(n,s){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const i=s.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function T(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div")(1,"div",42)(2,"h3"),e._uU(3,"Chose Services"),e.qZA()(),e._UZ(4,"br")(5,"br"),e.TgZ(6,"div",28)(7,"label",29),e._uU(8,"Services"),e.qZA(),e.TgZ(9,"select",48),e.NdJ("ngModelChange",function(r){e.CHM(i);const c=e.oxw(2);return e.KtG(c.providerServices=r)}),e.YNc(10,C,2,2,"option",49),e.qZA()(),e._UZ(11,"br"),e.TgZ(12,"div",42)(13,"a",50),e.NdJ("click",function(){e.CHM(i);const r=e.oxw(2);return e.KtG(r.saveProviderServices())}),e._uU(14,"Next"),e.qZA()()()}if(2&n){const i=e.oxw(2);e.xp6(9),e.Q6J("ngModel",i.providerServices),e.xp6(1),e.Q6J("ngForOf",i.services)}}function x(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div")(1,"div",42)(2,"h3"),e._uU(3,"No of Pets"),e.qZA()(),e._UZ(4,"br")(5,"br"),e.TgZ(6,"div",28)(7,"label",29),e._uU(8,"How many pets"),e.qZA(),e.TgZ(9,"input",52),e.NdJ("ngModelChange",function(r){e.CHM(i);const c=e.oxw(2);return e.KtG(c.noOfPets=r)}),e.qZA()(),e._UZ(10,"br"),e.TgZ(11,"div",42)(12,"a",53),e.NdJ("click",function(){e.CHM(i);const r=e.oxw(2);return e.KtG(r.saveNoOfPets())}),e._uU(13,"Next"),e.qZA()()()}if(2&n){const i=e.oxw(2);e.xp6(9),e.Q6J("ngModel",i.noOfPets)}}function y(n,s){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,T,15,2,"div",47),e.YNc(2,x,14,1,"div",47),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.currentUser&&2===i.currentUser.profileType),e.xp6(1),e.Q6J("ngIf",i.currentUser&&1===i.currentUser.profileType)}}const S=function(){return["/"]},v=function(n){return{active:n}},A=[{path:"",component:(()=>{class n{constructor(i,t,r){this.fb=i,this.service=t,this.router=r,this.currentTab="signup",this.services=[],this.emailVerificationCode="",this.currentUser={},this.providerServices=[],this.noOfPets=0,this.hide=!0,this.hideCnf=!0,this.signUpForm=this.fb.group({name:["",o.kI.required],profileType:["",o.kI.required],address:[""],email:["",[o.kI.required,o.kI.email]],password:["",[o.kI.required,o.kI.minLength(5)]],confirmPassword:["",[o.kI.required,o.kI.minLength(5)]],phone:["",o.kI.required]}),this.signUpForm.controls.confirmPassword.addValidators(this.createCompareValidator(this.signUpForm.get("password"),this.signUpForm.get("confirmPassword")))}ngOnInit(){this.loadServices(),this.service.currentUser.subscribe(i=>{null!==i.token&&(this.currentUser=i)})}loadServices(){this.service.getServices().subscribe(i=>{this.services=i})}validateEmail(i){return i.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}signup(){if(this.signUpForm.controls.email.invalid||!this.validateEmail(this.signUpForm.controls.email.value))return void this.service.addToast("error","Please enter a valid email!","");if(this.signUpForm.invalid)return void this.service.addToast("error","Please fill out all the fields!","");const i=document.getElementById("signupBtn");i.disabled=!0;const t={...this.signUpForm.value,profileType:parseInt(this.signUpForm.value.profileType)};this.service.signup({...t}).subscribe(r=>{null!==r.token?(this.signUpWithCometChat(r.data),this.currentTab="service",this.service.setAuth({...r.data,token:r.token})):(i.disabled=!1,this.service.addToast("error",r.statusMessage||"Something went wrong, please try again",""))})}signUpWithCometChat(i){const t=f.N.AUTH_KEY,r=new u.CometChat.User(i.id);r.setName(i.name),u.CometChat.createUser(r,t)}verifyEmail(){this.currentTab="service"}saveNoOfPets(){if(this.noOfPets>0){const i=document.getElementById("noOfPets");i.disabled=!0,this.service.saveNoOfPets(this.noOfPets,this.currentUser.profileId).subscribe(t=>{!0===t?(this.service.addToast("success","Please verify your email address",""),this.service.purgeAuth(),this.router.navigateByUrl("/login")):(i.disabled=!1,this.service.addToast("error",t.statusMessage||"Something went wrong, please try again",""))})}}saveProviderServices(){if(this.providerServices&&this.providerServices.length>0){const i=document.getElementById("providerServices");i.disabled=!0,this.service.saveProviderServices(this.providerServices,this.currentUser.profileId).subscribe(t=>{!0===t?(this.service.addToast("success","Please verify your email address",""),this.service.purgeAuth(),this.router.navigateByUrl("/login")):(i.disabled=!1,this.service.addToast("error",t.statusMessage||"Something went wrong, please try again",""))})}}createCompareValidator(i,t){return()=>i.value!==t.value?{match_error:"Value does not match"}:null}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(o.qu),e.Y36(h.KD),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sign-up"]],decls:35,vars:12,consts:[[1,"authSection"],[1,"row"],[1,"col-12","col-sm-6","hideSm"],["src","assets/images/signupFrame.png","alt","",1,"loginBg"],[1,"loginHeader"],[1,"col-12","col-md-6"],[3,"routerLink"],["src","assets/images/logo.png","alt",""],[1,"authSideWrapper"],[1,"innerWrapper"],[1,"col-12","col-sm-6"],[1,"tabWarpper","mt-3"],["class","myBtn square mt-3",3,"routerLink",4,"ngIf"],[1,"tabOuter"],["role","tablist",1,"nav","WizardTabs","nav-justified"],[1,"nav-item"],["data-toggle","tab",1,"active"],[3,"ngClass"],["class","formDesing",4,"ngIf"],["class","formDesing mt-5",4,"ngIf"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"icon-definitions",2,"display","none"],["id","backArrow","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M4.2097 12.6129L4.29289 12.7071L9.29289 17.7071C9.68342 18.0976 10.3166 18.0976 10.7071 17.7071C11.0676 17.3466 11.0953 16.7794 10.7903 16.3871L10.7071 16.2929L7.415 13L19 13C19.5523 13 20 12.5523 20 12C20 11.4872 19.614 11.0645 19.1166 11.0067L19 11L7.415 11L10.7071 7.70711C11.0676 7.34662 11.0953 6.77939 10.7903 6.3871L10.7071 6.29289C10.3466 5.93241 9.77939 5.90468 9.3871 6.2097L9.29289 6.29289L4.29289 11.2929C3.93241 11.6534 3.90468 12.2206 4.2097 12.6129Z","fill","currentColor"],[1,"myBtn","square","mt-3",3,"routerLink"],["viewBox","0 0 28 28"],[0,"xlink","href","#backArrow"],[1,"formDesing"],[3,"formGroup"],[1,"form-group"],["for",""],["formControlName","profileType",1,"form-control",3,"ngClass"],["value",""],["value","2"],["value","1"],[1,"form-group","formIcon"],["type","text","placeholder","Enter Name","formControlName","name",1,"form-control",3,"ngClass"],["type","email","placeholder","Enter Email","formControlName","email",1,"form-control",3,"ngClass"],["type","text","placeholder","Enter Address","formControlName","address",1,"form-control"],["type","tel","placeholder","Enter Phone #","formControlName","phone",1,"form-control",3,"ngClass"],["placeholder","Enter Password","formControlName","password",1,"form-control",3,"type","ngClass"],[1,"fa",2,"display","block","float","right","margin","-29px 10px",3,"ngClass","click"],["placeholder","Enter Password","formControlName","confirmPassword",1,"form-control",3,"type","ngClass"],[1,"text-center"],["id","signupBtn",1,"myBtn",3,"click"],[1,"formDesing","mt-5"],["type","text","placeholder","Enter Code",1,"form-control",3,"ngModel","ngModelChange"],["id","verifyEmailBtn",1,"myBtn",3,"click"],[4,"ngIf"],["multiple","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","providerServices",1,"myBtn",3,"click"],[3,"value"],["type","number","placeholder","No of Pets","min","1","max","100",1,"form-control",3,"ngModel","ngModelChange"],["id","noOfPets",1,"myBtn",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.TgZ(4,"div",4)(5,"div",1)(6,"div",5)(7,"a",6),e._UZ(8,"img",7),e.qZA()(),e.TgZ(9,"div",5)(10,"h2"),e._uU(11,"Your Pet is Part of Our Family"),e.qZA()()()(),e.TgZ(12,"div",8),e._UZ(13,"div",9),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11),e.YNc(16,_,3,2,"a",12),e.TgZ(17,"div",13)(18,"ul",14)(19,"li",15)(20,"a",16),e._uU(21,"Step 1"),e.qZA()(),e.TgZ(22,"li",15)(23,"a",17),e._uU(24,"Step 2"),e.qZA()(),e.TgZ(25,"li",15)(26,"a",17),e._uU(27,"Step 3"),e.qZA()()()()(),e.YNc(28,U,48,25,"div",18),e.YNc(29,Z,17,1,"div",19),e.YNc(30,y,3,2,"div",19),e.qZA()()(),e.O4$(),e.TgZ(31,"svg",20)(32,"defs")(33,"symbol",21),e._UZ(34,"path",22),e.qZA()()()),2&i&&(e.xp6(7),e.Q6J("routerLink",e.DdM(7,S)),e.xp6(9),e.Q6J("ngIf","signup"===t.currentTab),e.xp6(7),e.Q6J("ngClass",e.VKq(8,v,"email"===t.currentTab||"service"===t.currentTab)),e.xp6(3),e.Q6J("ngClass",e.VKq(10,v,"service"===t.currentTab)),e.xp6(2),e.Q6J("ngIf","signup"===t.currentTab),e.xp6(1),e.Q6J("ngIf","email"===t.currentTab),e.xp6(1),e.Q6J("ngIf","service"===t.currentTab))},dependencies:[d.mk,d.sg,d.O5,p.yS,o.YN,o.Kr,o.Fj,o.wV,o.EJ,o.K7,o.JJ,o.JL,o.qQ,o.Fd,o.On,o.sg,o.u]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(A),p.Bz]}),n})(),q=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,b,o.u5,o.UX]}),n})()}}]);